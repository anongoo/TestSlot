{
  "total": 40,
  "passed": 37,
  "failed": 3,
  "success_rate": 92.5,
  "results": [
    {
      "test": "GET /api/videos - Basic Retrieval",
      "success": true,
      "message": "Retrieved 5 videos successfully",
      "timestamp": "2025-07-26T09:27:38.102497",
      "details": {
        "total_count": 5,
        "returned_count": 5
      }
    },
    {
      "test": "Sample Data Validation",
      "success": true,
      "message": "All 5 sample videos have valid structure",
      "timestamp": "2025-07-26T09:27:38.102798",
      "details": {
        "video_count": 5
      }
    },
    {
      "test": "Video Filter - level",
      "success": true,
      "message": "Filter returned 1 videos",
      "timestamp": "2025-07-26T09:27:38.128317",
      "details": {
        "filter": {
          "level": "Beginner"
        },
        "count": 1
      }
    },
    {
      "test": "Video Filter - category",
      "success": true,
      "message": "Filter returned 1 videos",
      "timestamp": "2025-07-26T09:27:38.155073",
      "details": {
        "filter": {
          "category": "Grammar"
        },
        "count": 1
      }
    },
    {
      "test": "Video Filter - accent",
      "success": true,
      "message": "Filter returned 2 videos",
      "timestamp": "2025-07-26T09:27:38.182415",
      "details": {
        "filter": {
          "accent": "American"
        },
        "count": 2
      }
    },
    {
      "test": "Video Filter - guide",
      "success": true,
      "message": "Filter returned 2 videos",
      "timestamp": "2025-07-26T09:27:38.210941",
      "details": {
        "filter": {
          "guide": "Native Speaker"
        },
        "count": 2
      }
    },
    {
      "test": "Video Filter - country",
      "success": true,
      "message": "Filter returned 2 videos",
      "timestamp": "2025-07-26T09:27:38.238494",
      "details": {
        "filter": {
          "country": "United States"
        },
        "count": 2
      }
    },
    {
      "test": "Video Filter - is_premium",
      "success": true,
      "message": "Filter returned 4 videos",
      "timestamp": "2025-07-26T09:27:38.261935",
      "details": {
        "filter": {
          "is_premium": false
        },
        "count": 4
      }
    },
    {
      "test": "Video Filter - is_premium",
      "success": true,
      "message": "Filter returned 1 videos",
      "timestamp": "2025-07-26T09:27:38.284577",
      "details": {
        "filter": {
          "is_premium": true
        },
        "count": 1
      }
    },
    {
      "test": "Video Filter - search",
      "success": true,
      "message": "Filter returned 4 videos",
      "timestamp": "2025-07-26T09:27:38.311101",
      "details": {
        "filter": {
          "search": "English"
        },
        "count": 4
      }
    },
    {
      "test": "Video Filter - max_duration",
      "success": true,
      "message": "Filter returned 1 videos",
      "timestamp": "2025-07-26T09:27:38.335539",
      "details": {
        "filter": {
          "max_duration": 10
        },
        "count": 1
      }
    },
    {
      "test": "Video Filter - sort_by",
      "success": true,
      "message": "Filter returned 5 videos",
      "timestamp": "2025-07-26T09:27:38.356102",
      "details": {
        "filter": {
          "sort_by": "shortest"
        },
        "count": 5
      }
    },
    {
      "test": "Video Filter - sort_by",
      "success": true,
      "message": "Filter returned 5 videos",
      "timestamp": "2025-07-26T09:27:38.379611",
      "details": {
        "filter": {
          "sort_by": "longest"
        },
        "count": 5
      }
    },
    {
      "test": "GET /api/videos/{video_id}",
      "success": true,
      "message": "Retrieved video 'Basic English Greetings' successfully",
      "timestamp": "2025-07-26T09:27:38.399448",
      "details": {
        "video_id": "08d17401-8b09-4b35-a3a9-732339b382c5",
        "title": "Basic English Greetings"
      }
    },
    {
      "test": "GET /api/videos/{invalid_id} - Error Handling",
      "success": true,
      "message": "Correctly returned 404 for invalid video ID",
      "timestamp": "2025-07-26T09:27:38.422351",
      "details": {
        "invalid_id": "invalid-video-id-123"
      }
    },
    {
      "test": "GET /api/filters/options",
      "success": true,
      "message": "Retrieved all filter options successfully",
      "timestamp": "2025-07-26T09:27:38.439687",
      "details": {
        "levels_count": 4,
        "categories_count": 6,
        "accents_count": 4,
        "guides_count": 3,
        "countries_count": 4
      }
    },
    {
      "test": "POST /api/videos/{video_id}/watch",
      "success": true,
      "message": "Successfully recorded 5 minutes of watch progress",
      "timestamp": "2025-07-26T09:27:38.490976",
      "details": {
        "video_id": "08d17401-8b09-4b35-a3a9-732339b382c5",
        "session_id": "bc22f43e-4878-465e-842e-a69f061186f9",
        "watched_minutes": 5
      }
    },
    {
      "test": "POST /api/videos/{invalid_id}/watch - Error Handling",
      "success": true,
      "message": "Correctly returned 404 for invalid video ID",
      "timestamp": "2025-07-26T09:27:38.511447",
      "details": {
        "invalid_id": "invalid-video-id-123"
      }
    },
    {
      "test": "Multiple Watch Sessions",
      "success": false,
      "message": "Only 2/3 sessions recorded successfully",
      "timestamp": "2025-07-26T09:27:40.095271",
      "details": {
        "sessions": [
          {
            "video_idx": 0,
            "minutes": 8
          },
          {
            "video_idx": 1,
            "minutes": 10
          },
          {
            "video_idx": 2,
            "minutes": 15
          }
        ],
        "session_id": "bc22f43e-4878-465e-842e-a69f061186f9"
      }
    },
    {
      "test": "GET /api/progress/{session_id}",
      "success": true,
      "message": "Retrieved progress stats: 23 minutes watched",
      "timestamp": "2025-07-26T09:27:40.121397",
      "details": {
        "total_minutes": 23,
        "current_streak": 1,
        "total_videos": 2,
        "milestones": []
      }
    },
    {
      "test": "GET /api/progress/{invalid_session} - Error Handling",
      "success": true,
      "message": "Correctly returned empty stats for invalid session",
      "timestamp": "2025-07-26T09:27:40.142223",
      "details": {
        "invalid_session": "invalid-session-id-123",
        "stats": {
          "total_minutes_watched": 0,
          "current_streak": 0,
          "longest_streak": 0,
          "personal_best_day": 0,
          "level_progress": {},
          "milestones_achieved": []
        }
      }
    },
    {
      "test": "POST /api/email/subscribe - Valid Email with Name",
      "success": false,
      "message": "Unexpected status: existing",
      "timestamp": "2025-07-26T09:27:40.212064",
      "details": {
        "response": {
          "message": "Email already subscribed",
          "status": "existing"
        }
      }
    },
    {
      "test": "POST /api/email/subscribe - Email Only",
      "success": false,
      "message": "Unexpected status: existing",
      "timestamp": "2025-07-26T09:27:40.231674",
      "details": {
        "response": {
          "message": "Email already subscribed",
          "status": "existing"
        }
      }
    },
    {
      "test": "POST /api/email/subscribe - Invalid Email Format",
      "success": true,
      "message": "Correctly rejected invalid email format with 422",
      "timestamp": "2025-07-26T09:27:40.290446",
      "details": {
        "invalid_email": "not-a-valid-email"
      }
    },
    {
      "test": "POST /api/email/subscribe - Duplicate Email",
      "success": true,
      "message": "Correctly handled duplicate email: Email already subscribed",
      "timestamp": "2025-07-26T09:27:40.312260",
      "details": {
        "email": "sarah.johnson@example.com",
        "status": "existing"
      }
    },
    {
      "test": "GET /api/email/subscriptions/{email} - Subscribed Email",
      "success": true,
      "message": "Correctly identified sarah.johnson@example.com as subscribed",
      "timestamp": "2025-07-26T09:27:40.336027",
      "details": {
        "email": "sarah.johnson@example.com",
        "subscribed": true
      }
    },
    {
      "test": "GET /api/email/subscriptions/{email} - Non-subscribed Email",
      "success": true,
      "message": "Correctly identified never.subscribed@example.com as not subscribed",
      "timestamp": "2025-07-26T09:27:40.355350",
      "details": {
        "email": "never.subscribed@example.com",
        "subscribed": false
      }
    },
    {
      "test": "GET /api/email/subscriptions/{email} - Invalid Email",
      "success": true,
      "message": "Handled invalid email format gracefully",
      "timestamp": "2025-07-26T09:27:40.415847",
      "details": {
        "invalid_email": "not-a-valid-email",
        "response": {
          "subscribed": false
        }
      }
    },
    {
      "test": "POST /api/auth/session - Mock Session (Service Unavailable)",
      "success": true,
      "message": "Authentication service unavailable (expected in test environment)",
      "timestamp": "2025-07-26T09:27:40.526465",
      "details": {
        "mock_session_id": "mock_emergent_session_123"
      }
    },
    {
      "test": "GET /api/auth/profile - No Auth Token",
      "success": true,
      "message": "Correctly rejected request without authentication token",
      "timestamp": "2025-07-26T09:27:40.543905",
      "details": {
        "expected_status": 401
      }
    },
    {
      "test": "GET /api/auth/profile - Invalid Token",
      "success": true,
      "message": "Correctly rejected invalid authentication token",
      "timestamp": "2025-07-26T09:27:40.561881",
      "details": {
        "invalid_token": "invalid_token_123"
      }
    },
    {
      "test": "POST /api/auth/logout - No Auth Token",
      "success": true,
      "message": "Correctly rejected logout request without authentication token",
      "timestamp": "2025-07-26T09:27:40.620603",
      "details": {
        "expected_status": 401
      }
    },
    {
      "test": "GET /api/admin/users - No Auth",
      "success": true,
      "message": "Correctly rejected admin request without authentication",
      "timestamp": "2025-07-26T09:27:40.637556",
      "details": {
        "expected_status": 401
      }
    },
    {
      "test": "GET /api/admin/users - Invalid Token",
      "success": true,
      "message": "Correctly rejected admin request with invalid token",
      "timestamp": "2025-07-26T09:27:40.656885",
      "details": {
        "invalid_token": "invalid_admin_token_123"
      }
    },
    {
      "test": "POST /api/admin/users/role - No Auth",
      "success": true,
      "message": "Correctly rejected role update without authentication",
      "timestamp": "2025-07-26T09:27:40.673907",
      "details": {
        "expected_status": 401
      }
    },
    {
      "test": "Premium Video Access - Guest User",
      "success": true,
      "message": "Correctly blocked guest access to premium content",
      "timestamp": "2025-07-26T09:27:40.695844",
      "details": {
        "video_id": "4b799c33-1532-4465-bba1-c208a9775606",
        "video_title": "Business Meeting Vocabulary"
      }
    },
    {
      "test": "Free Video Access - Guest User",
      "success": true,
      "message": "Successfully allowed guest access to free content",
      "timestamp": "2025-07-26T09:27:40.764572",
      "details": {
        "video_id": "08d17401-8b09-4b35-a3a9-732339b382c5",
        "video_title": "Basic English Greetings"
      }
    },
    {
      "test": "Role Hierarchy Validation",
      "success": true,
      "message": "Role hierarchy defined: guest < student < instructor < admin",
      "timestamp": "2025-07-26T09:27:40.764868",
      "details": {
        "hierarchy": [
          "guest",
          "student",
          "instructor",
          "admin"
        ],
        "premium_access_roles": [
          "student",
          "instructor",
          "admin"
        ]
      }
    },
    {
      "test": "Session Token Format Validation",
      "success": true,
      "message": "All 5 invalid token formats correctly rejected",
      "timestamp": "2025-07-26T09:27:40.901659",
      "details": {
        "tested_formats": 5
      }
    },
    {
      "test": "Authentication Endpoints Structure",
      "success": true,
      "message": "All 5 authentication endpoints exist and respond appropriately",
      "timestamp": "2025-07-26T09:27:40.993297",
      "details": {
        "endpoints_tested": 5
      }
    }
  ]
}