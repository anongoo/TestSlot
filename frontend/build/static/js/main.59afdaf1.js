/*! For license information please see main.59afdaf1.js.LICENSE.txt */
(()=>{var e={244:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=244,e.exports=t},450:(e,t)=>{"use strict";t.A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?i(e[0],e[1])||null:e.slice(1).reduce((function(e,t){return i(e,t)}),e[0])||null};var n=new WeakMap;function i(e,t){if(e&&t){var i=n.get(e)||new WeakMap;n.set(e,i);var r=i.get(t)||function(n){o(e,n),o(t,n)};return i.set(t,r),r}return e||t}function o(e,t){"function"===typeof e?e(t):e.current=t}},628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var i=e.name||"",o=(e.type||"").toLowerCase(),r=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?i.toLowerCase().endsWith(t):t.endsWith("/*")?r===t.replace(/\/.*$/,""):o===t}))}return!0}},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},756:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,o,r;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(o=i;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(o=i;0!==o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=i;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=i;0!==o--;){var s=r[o];if(("_owner"!==s||!t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},497:(e,t,n)=>{"use strict";var i=n(218);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4:(e,t,n)=>{"use strict";var i=n(853),o=n(43),r=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var D,j,A=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||"",j=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+D+e+j}var F=!1;function O(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var i=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],a=r[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(i===l.length||o===c.length)for(i=l.length-1,o=c.length-1;1<=i&&0<=o&&l[i]!==c[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==c[o]){if(1!==i||1!==o)do{if(i--,0>--o||l[i]!==c[o]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?M(n):""}function R(e){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=R(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function I(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function V(e){if(I(e)!==e)throw Error(s(188))}function $(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=$(e)))return t;e=e.sibling}return null}var z=Array.isArray,B=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},U=[],W=-1;function q(e){return{current:e}}function K(e){0>W||(e.current=U[W],U[W]=null,W--)}function Y(e,t){W++,U[W]=e.current,e.current=t}var J=q(null),Q=q(null),G=q(null),X=q(null);function Z(e,t){switch(Y(G,t),Y(Q,e),Y(J,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Qu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Gu(e=Qu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(J),Y(J,t)}function ee(){K(J),K(Q),K(G)}function te(e){null!==e.memoizedState&&Y(X,e);var t=J.current,n=Gu(t,e.type);t!==n&&(Y(Q,e),Y(J,n))}function ne(e){Q.current===e&&(K(J),K(Q)),X.current===e&&(K(X),Ld._currentValue=H)}var ie=Object.prototype.hasOwnProperty,oe=i.unstable_scheduleCallback,re=i.unstable_cancelCallback,se=i.unstable_shouldYield,ae=i.unstable_requestPaint,le=i.unstable_now,ce=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,he=i.unstable_NormalPriority,pe=i.unstable_LowPriority,me=i.unstable_IdlePriority,fe=i.log,ge=i.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof fe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=128,Ce=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,r=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~o)?i=Te(n):0!==(r&=a)?i=Te(r):e||0!==(s=a&~s)&&(i=Te(s)):0!==(a=n&~o)?i=Te(a):0!==r?i=Te(r):e||0!==(s=n&~s)&&(i=Te(s)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(s=t&-t)||32===o&&0!==(4194176&s))?t:i}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function De(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Ae(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194218&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Gd(e.type)}var Ie=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ie,Ve="__reactProps$"+Ie,$e="__reactContainer$"+Ie,ze="__reactEvents$"+Ie,Be="__reactListeners$"+Ie,He="__reactHandles$"+Ie,Ue="__reactResources$"+Ie,We="__reactMarker$"+Ie;function qe(e){delete e[_e],delete e[Ve],delete e[ze],delete e[Be],delete e[He]}function Ke(e){var t=e[_e];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$e]||n[_e]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[_e])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[_e]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Qe(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[We]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},rt={};function st(e,t,n){if(o=t,ie.call(rt,o)||!ie.call(ot,o)&&(it.test(o)?rt[o]=!0:(ot[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,i,o,r,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=i&&e.removeAttribute("value"),null==o&&null!=r&&(e.defaultChecked=!!r),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,i,o,r,s,a){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:o)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(z(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Ct(e,o,i)}else for(var r in t)t.hasOwnProperty(r)&&Ct(e,r,t[r])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Ft=null;function Ot(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Ve]||null;if(!o)throw Error(s(90));gt(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Lt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Mt||null!==Ft)&&(_c(),Mt&&(t=Mt,e=Ft,Ft=Mt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function It(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Ve]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _t=!1;if(nt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){_t=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(wh){_t=!1}var $t=null,zt=null,Bt=null;function Ht(){if(Bt)return Bt;var e,t,n=zt,i=n.length,o="value"in $t?$t.value:$t.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);return Bt=o.slice(e,1<t?1-t:void 0)}function Ut(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function qt(){return!1}function Kt(e){function t(t,n,i,o,r){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:qt,this.isPropagationStopped=qt,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Yt,Jt,Qt,Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Kt(Gt),Zt=P({},Gt,{view:0,detail:0}),en=Kt(Zt),tn=P({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Yt=e.screenX-Qt.screenX,Jt=e.screenY-Qt.screenY):Jt=Yt=0,Qt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),nn=Kt(tn),on=Kt(P({},tn,{dataTransfer:0})),rn=Kt(P({},Zt,{relatedTarget:0})),sn=Kt(P({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Kt(P({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(P({},Gt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return hn}var mn=Kt(P({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ut(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ut(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ut(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fn=Kt(P({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(P({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Kt(P({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(P({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(P({},Gt,{newState:0,oldState:0})),xn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,Cn=nt&&(!wn||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),En=!1;function Nn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Mn(e,t,n,i){Mt?Ft?Ft.push(i):Ft=[i]:Mt=i,0<(t=Lu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Fn=null,On=null;function Rn(e){Du(e,0)}function Ln(e){if(ht(Je(e)))return e}function In(e,t){if("change"===e)return t}var _n=!1;if(nt){var Vn;if(nt){var $n="oninput"in document;if(!$n){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),$n="function"===typeof zn.oninput}Vn=$n}else Vn=!1;_n=Vn&&(!document.documentMode||9<document.documentMode)}function Bn(){Fn&&(Fn.detachEvent("onpropertychange",Hn),On=Fn=null)}function Hn(e){if("value"===e.propertyName&&Ln(On)){var t=[];Mn(t,On,e,Pt(e)),Lt(Rn,t)}}function Un(e,t,n){"focusin"===e?(Bn(),On=n,(Fn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Bn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(On)}function qn(e,t){if("click"===e)return Ln(t)}function Kn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ie.call(t,o)||!Yn(e[o],t[o]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gn(e,t){var n,i=Qn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qn(i)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ti(e,t){var n=Zn(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==i&&ei(t))if(e=i.start,void 0===(n=i.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,r=Math.min(i.start,o);i=void 0===i.end?r:Math.min(i.end,o),!n.extend&&r>i&&(o=i,i=r,r=o),o=Gn(t,r);var s=Gn(t,i);o&&s&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ni=nt&&"documentMode"in document&&11>=document.documentMode,ii=null,oi=null,ri=null,si=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ei(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&Jn(ri,i)||(ri=i,0<(i=Lu(oi,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},di={};function hi(e){if(ui[e])return ui[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ui[e]=n[t];return e}nt&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=hi("animationend"),mi=hi("animationiteration"),fi=hi("animationstart"),gi=hi("transitionrun"),vi=hi("transitionstart"),yi=hi("transitioncancel"),bi=hi("transitionend"),xi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ki(e,t){xi.set(e,t),et(t,[e])}var Si=[],Ci=0,Ti=0;function Ei(){for(var e=Ci,t=Ti=Ci=0;t<e;){var n=Si[t];Si[t++]=null;var i=Si[t];Si[t++]=null;var o=Si[t];Si[t++]=null;var r=Si[t];if(Si[t++]=null,null!==i&&null!==o){var s=i.pending;null===s?o.next=o:(o.next=s.next,s.next=o),i.pending=o}0!==r&&Ai(n,o,r)}}function Ni(e,t,n,i){Si[Ci++]=e,Si[Ci++]=t,Si[Ci++]=n,Si[Ci++]=i,Ti|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Di(e,t,n,i){return Ni(e,t,n,i),Pi(e)}function ji(e,t){return Ni(e,null,null,t),Pi(e)}function Ai(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var o=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(i=r.alternate)&&(i.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(o=!0)),e=r,r=r.return;o&&null!==t&&3===e.tag&&(r=e.stateNode,o=31-xe(n),null===(e=(r=r.hiddenUpdates)[o])?r[o]=[t]:e.push(t),t.lane=536870912|n)}function Pi(e){if(50<Dc)throw Dc=0,jc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mi={},Fi=new WeakMap;function Oi(e,t){if("object"===typeof e&&null!==e){var n=Fi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},Fi.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Ri=[],Li=0,Ii=null,_i=0,Vi=[],$i=0,zi=null,Bi=1,Hi="";function Ui(e,t){Ri[Li++]=_i,Ri[Li++]=Ii,Ii=e,_i=t}function Wi(e,t,n){Vi[$i++]=Bi,Vi[$i++]=Hi,Vi[$i++]=zi,zi=e;var i=Bi;e=Hi;var o=32-xe(i)-1;i&=~(1<<o),n+=1;var r=32-xe(t)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Bi=1<<32-xe(t)+o|n<<o|i,Hi=r+e}else Bi=1<<r|n<<o|i,Hi=e}function qi(e){null!==e.return&&(Ui(e,1),Wi(e,1,0))}function Ki(e){for(;e===Ii;)Ii=Ri[--Li],Ri[Li]=null,_i=Ri[--Li],Ri[Li]=null;for(;e===zi;)zi=Vi[--$i],Vi[$i]=null,Hi=Vi[--$i],Vi[$i]=null,Bi=Vi[--$i],Vi[$i]=null}var Yi=null,Ji=null,Qi=!1,Gi=null,Xi=!1,Zi=Error(s(519));function eo(e){throw ro(Oi(Error(s(418,"")),e)),Zi}function to(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[_e]=e,t[Ve]=i,n){case"dialog":ju("cancel",t),ju("close",t);break;case"iframe":case"object":case"embed":ju("load",t);break;case"video":case"audio":for(n=0;n<Eu.length;n++)ju(Eu[n],t);break;case"source":ju("error",t);break;case"img":case"image":case"link":ju("error",t),ju("load",t);break;case"details":ju("toggle",t);break;case"input":ju("invalid",t),vt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":ju("invalid",t);break;case"textarea":ju("invalid",t),wt(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Bu(t.textContent,n)?(null!=i.popover&&(ju("beforetoggle",t),ju("toggle",t)),null!=i.onScroll&&ju("scroll",t),null!=i.onScrollEnd&&ju("scrollend",t),null!=i.onClick&&(t.onclick=Hu),t=!0):t=!1,t||eo(e)}function no(e){for(Yi=e.return;Yi;)switch(Yi.tag){case 3:case 27:return void(Xi=!0);case 5:case 13:return void(Xi=!1);default:Yi=Yi.return}}function io(e){if(e!==Yi)return!1;if(!Qi)return no(e),Qi=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Ji&&eo(e),no(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Ji=ad(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Ji=null}}else Ji=Yi?ad(e.stateNode.nextSibling):null;return!0}function oo(){Ji=Yi=null,Qi=!1}function ro(e){null===Gi?Gi=[e]:Gi.push(e)}var so=Error(s(460)),ao=Error(s(474)),lo={then:function(){}};function co(e){return"fulfilled"===(e=e.status)||"rejected"===e}function uo(){}function ho(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(uo,uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===so)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(uo,uo);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===so)throw Error(s(483));throw e}throw po=t,so}}var po=null;function mo(){if(null===po)throw Error(s(459));var e=po;return po=null,e}var fo=null,go=0;function vo(e){var t=go;return go+=1,null===fo&&(fo=[]),ho(fo,e,t)}function yo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bo(e,t){if(t.$$typeof===l)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=33554434,n):i:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Bl(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n,i){var r=n.type;return r===d?m(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===w&&xo(r)===t.type)?(yo(t=o(t,n.props),n),t.return=e,t):(yo(t=Vl(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function p(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function m(e,t,n,i,r){return null===t||7!==t.tag?((t=$l(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return yo(n=Vl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hl(t,e.mode,n)).return=e,t;case w:return f(e,t=(0,t._init)(t._payload),n)}if(z(t)||T(t))return(t=$l(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,vo(t),n);if(t.$$typeof===g)return f(e,Ea(e,t),n);bo(e,t)}return null}function v(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?h(e,t,n,i):null;case u:return n.key===o?p(e,t,n,i):null;case w:return v(e,t,n=(o=n._init)(n._payload),i)}if(z(n)||T(n))return null!==o?null:m(e,t,n,i,null);if("function"===typeof n.then)return v(e,t,vo(n),i);if(n.$$typeof===g)return v(e,t,Ea(e,n),i);bo(e,n)}return null}function y(e,t,n,i,o){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case c:return h(t,e=e.get(null===i.key?n:i.key)||null,i,o);case u:return p(t,e=e.get(null===i.key?n:i.key)||null,i,o);case w:return y(e,t,n,i=(0,i._init)(i._payload),o)}if(z(i)||T(i))return m(t,e=e.get(n)||null,i,o,null);if("function"===typeof i.then)return y(e,t,n,vo(i),o);if(i.$$typeof===g)return y(e,t,n,Ea(t,i),o);bo(t,i)}return null}function b(l,h,p,m){if("object"===typeof p&&null!==p&&p.type===d&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:e:{for(var x=p.key;null!==h;){if(h.key===x){if((x=p.type)===d){if(7===h.tag){n(l,h.sibling),(m=o(h,p.props.children)).return=l,l=m;break e}}else if(h.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===w&&xo(x)===h.type){n(l,h.sibling),yo(m=o(h,p.props),p),m.return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}p.type===d?((m=$l(p.props.children,l.mode,m,p.key)).return=l,l=m):(yo(m=Vl(p.type,p.key,p.props,null,l.mode,m),p),m.return=l,l=m)}return a(l);case u:e:{for(x=p.key;null!==h;){if(h.key===x){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(l,h.sibling),(m=o(h,p.children||[])).return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}(m=Hl(p,l.mode,m)).return=l,l=m}return a(l);case w:return b(l,h,p=(x=p._init)(p._payload),m)}if(z(p))return function(o,s,a,l){for(var c=null,u=null,d=s,h=s=0,p=null;null!==d&&h<a.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var m=v(o,d,a[h],l);if(null===m){null===d&&(d=p);break}e&&d&&null===m.alternate&&t(o,d),s=r(m,s,h),null===u?c=m:u.sibling=m,u=m,d=p}if(h===a.length)return n(o,d),Qi&&Ui(o,h),c;if(null===d){for(;h<a.length;h++)null!==(d=f(o,a[h],l))&&(s=r(d,s,h),null===u?c=d:u.sibling=d,u=d);return Qi&&Ui(o,h),c}for(d=i(d);h<a.length;h++)null!==(p=y(d,o,h,a[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),s=r(p,s,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(o,e)})),Qi&&Ui(o,h),c}(l,h,p,m);if(T(p)){if("function"!==typeof(x=T(p)))throw Error(s(150));return function(o,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,h=a,p=a=0,m=null,g=l.next();null!==h&&!g.done;p++,g=l.next()){h.index>p?(m=h,h=null):m=h.sibling;var b=v(o,h,g.value,c);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&t(o,h),a=r(b,a,p),null===d?u=b:d.sibling=b,d=b,h=m}if(g.done)return n(o,h),Qi&&Ui(o,p),u;if(null===h){for(;!g.done;p++,g=l.next())null!==(g=f(o,g.value,c))&&(a=r(g,a,p),null===d?u=g:d.sibling=g,d=g);return Qi&&Ui(o,p),u}for(h=i(h);!g.done;p++,g=l.next())null!==(g=y(h,o,p,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=r(g,a,p),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(o,e)})),Qi&&Ui(o,p),u}(l,h,p=x.call(p),m)}if("function"===typeof p.then)return b(l,h,vo(p),m);if(p.$$typeof===g)return b(l,h,Ea(l,p),m);bo(l,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==h&&6===h.tag?(n(l,h.sibling),(m=o(h,p)).return=l,l=m):(n(l,h),(m=Bl(p,l.mode,m)).return=l,l=m),a(l)):n(l,h)}return function(e,t,n,i){try{go=0;var o=b(e,t,n,i);return fo=null,o}catch(s){if(s===so)throw s;var r=Rl(29,s,null,e.mode);return r.lanes=i,r.return=e,r}}}var ko=wo(!0),So=wo(!1),Co=q(null),To=q(0);function Eo(e,t){Y(To,e=cc),Y(Co,t),cc=e|t.baseLanes}function No(){Y(To,cc),Y(Co,Co.current)}function Do(){cc=To.current,K(Co),K(To)}var jo=q(null),Ao=null;function Po(e){var t=e.alternate;Y(Ro,1&Ro.current),Y(jo,e),null===Ao&&(null===t||null!==Co.current||null!==t.memoizedState)&&(Ao=e)}function Mo(e){if(22===e.tag){if(Y(Ro,Ro.current),Y(jo,e),null===Ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ao=e)}}else Fo()}function Fo(){Y(Ro,Ro.current),Y(jo,jo.current)}function Oo(e){K(jo),Ao===e&&(Ao=null),K(Ro)}var Ro=q(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Io="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},_o=i.unstable_scheduleCallback,Vo=i.unstable_NormalPriority,$o={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zo(){return{controller:new Io,data:new Map,refCount:0}}function Bo(e){e.refCount--,0===e.refCount&&_o(Vo,(function(){e.controller.abort()}))}var Ho=null,Uo=0,Wo=0,qo=null;function Ko(){if(0===--Uo&&null!==Ho){null!==qo&&(qo.status="fulfilled");var e=Ho;Ho=null,Wo=0,qo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yo=A.S;A.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ho){var n=Ho=[];Uo=0,Wo=wu(),qo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Uo++,t.then(Ko,Ko)}(0,t),null!==Yo&&Yo(e,t)};var Jo=q(null);function Qo(){var e=Jo.current;return null!==e?e:tc.pooledCache}function Go(e,t){Y(Jo,null===t?Jo.current:t.pool)}function Xo(){var e=Qo();return null===e?null:{parent:$o._currentValue,pool:e}}var Zo=0,er=null,tr=null,nr=null,ir=!1,or=!1,rr=!1,sr=0,ar=0,lr=null,cr=0;function ur(){throw Error(s(321))}function dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function hr(e,t,n,i,o,r){return Zo=r,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Es:Ns,rr=!1,r=n(i,o),rr=!1,or&&(r=mr(t,n,i,o)),pr(e),r}function pr(e){A.H=Ts;var t=null!==tr&&null!==tr.next;if(Zo=0,nr=tr=er=null,ir=!1,ar=0,lr=null,t)throw Error(s(300));null===e||Us||null!==(e=e.dependencies)&&Sa(e)&&(Us=!0)}function mr(e,t,n,i){er=e;var o=0;do{if(or&&(lr=null),ar=0,or=!1,25<=o)throw Error(s(301));if(o+=1,nr=tr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}A.H=Ds,r=t(n,i)}while(or);return r}function fr(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?wr(t):t,e=e.useState()[0],(null!==tr?tr.memoizedState:null)!==e&&(er.flags|=1024),t}function gr(){var e=0!==sr;return sr=0,e}function vr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yr(e){if(ir){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ir=!1}Zo=0,nr=tr=er=null,or=!1,ar=sr=0,lr=null}function br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===nr?er.memoizedState=nr=e:nr=nr.next=e,nr}function xr(){if(null===tr){var e=er.alternate;e=null!==e?e.memoizedState:null}else e=tr.next;var t=null===nr?er.memoizedState:nr.next;if(null!==t)nr=t,tr=e;else{if(null===e){if(null===er.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(tr=e).memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},null===nr?er.memoizedState=nr=e:nr=nr.next=e}return nr}function wr(e){var t=ar;return ar+=1,null===lr&&(lr=[]),e=ho(lr,e,t),t=er,null===(null===nr?t.memoizedState:nr.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Es:Ns),e}function kr(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wr(e);if(e.$$typeof===g)return Ta(e)}throw Error(s(438,String(e)))}function Sr(e){var t=null,n=er.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=er.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},er.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=S;return t.index++,n}function Cr(e,t){return"function"===typeof t?t(e):t}function Tr(e){return Er(xr(),tr,e)}function Er(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var o=e.baseQueue,r=i.pending;if(null!==r){if(null!==o){var a=o.next;o.next=r.next,r.next=a}t.baseQueue=o=r,i.pending=null}if(r=e.baseState,null===o)e.memoizedState=r;else{var l=a=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(Zo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wo&&(d=!0);else{if((Zo&p)===p){u=u.next,p===Wo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=r):c=c.next=h,er.lanes|=p,dc|=p}h=u.action,rr&&n(r,h),r=u.hasEagerState?u.eagerState:n(r,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=r):c=c.next=p,er.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=r:c.next=l,!Yn(r,e.memoizedState)&&(Us=!0,d&&null!==(n=qo)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=c,i.lastRenderedState=r}return null===o&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Nr(e){var t=xr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{r=e(r,a.action),a=a.next}while(a!==o);Yn(r,t.memoizedState)||(Us=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Dr(e,t,n){var i=er,o=xr(),r=Qi;if(r){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Yn((tr||o).memoizedState,n);if(a&&(o.memoizedState=n,Us=!0),o=o.queue,Zr(Pr.bind(null,i,o,e),[e]),o.getSnapshot!==t||a||null!==nr&&1&nr.memoizedState.tag){if(i.flags|=2048,Yr(9,Ar.bind(null,i,o,n,t),{destroy:void 0},null),null===tc)throw Error(s(349));r||0!==(60&Zo)||jr(i,t,n)}return n}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=er.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},er.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ar(e,t,n,i){t.value=n,t.getSnapshot=i,Mr(t)&&Fr(e)}function Pr(e,t,n){return n((function(){Mr(t)&&Fr(e)}))}function Mr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(i){return!0}}function Fr(e){var t=ji(e,2);null!==t&&Mc(t,e,2)}function Or(e){var t=br();if("function"===typeof e){var n=e;if(e=n(),rr){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},t}function Rr(e,t,n,i){return e.baseState=n,Er(e,tr,"function"===typeof i?i:Cr)}function Lr(e,t,n,i,o){if(ks(e))throw Error(s(485));if(null!==(e=t.action)){var r={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==A.T?n(!0):r.isTransition=!1,i(r),null===(n=t.pending)?(r.next=t.pending=r,Ir(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Ir(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var r=A.T,s={};A.T=s;try{var a=n(o,i),l=A.S;null!==l&&l(s,a),_r(e,t,a)}catch(c){$r(e,t,c)}finally{A.T=r}}else try{_r(e,t,r=n(o,i))}catch(u){$r(e,t,u)}}function _r(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Vr(e,t,n)}),(function(n){return $r(e,t,n)})):Vr(e,t,n)}function Vr(e,t,n){t.status="fulfilled",t.value=n,zr(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ir(e,n)))}function $r(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,zr(t),t=t.next}while(t!==i)}e.action=null}function zr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Br(e,t){return t}function Hr(e,t){if(Qi){var n=tc.formState;if(null!==n){e:{var i=er;if(Qi){if(Ji){t:{for(var o=Ji,r=Xi;8!==o.nodeType;){if(!r){o=null;break t}if(null===(o=ad(o.nextSibling))){o=null;break t}}o="F!"===(r=o.data)||"F"===r?o:null}if(o){Ji=ad(o.nextSibling),i="F!"===o.data;break e}}eo(i)}i=!1}i&&(t=n[0])}}return(n=br()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:t},n.queue=i,n=bs.bind(null,er,i),i.dispatch=n,i=Or(!1),r=ws.bind(null,er,!1,i.queue),o={state:t,dispatch:null,action:e,pending:null},(i=br()).queue=o,n=Lr.bind(null,er,o,r,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ur(e){return Wr(xr(),tr,e)}function Wr(e,t,n){t=Er(e,t,Br)[0],e=Tr(Cr)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wr(t):t;var i=xr(),o=i.queue,r=o.dispatch;return n!==i.memoizedState&&(er.flags|=2048,Yr(9,qr.bind(null,o,n),{destroy:void 0},null)),[t,r,e]}function qr(e,t){e.action=t}function Kr(e){var t=xr(),n=tr;if(null!==n)return Wr(t,n,e);xr(),t=t.memoizedState;var i=(n=xr()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Yr(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},null===(t=er.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},er.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Jr(){return xr().memoizedState}function Qr(e,t,n,i){var o=br();er.flags|=e,o.memoizedState=Yr(1|t,n,{destroy:void 0},void 0===i?null:i)}function Gr(e,t,n,i){var o=xr();i=void 0===i?null:i;var r=o.memoizedState.inst;null!==tr&&null!==i&&dr(i,tr.memoizedState.deps)?o.memoizedState=Yr(t,n,r,i):(er.flags|=e,o.memoizedState=Yr(1|t,n,r,i))}function Xr(e,t){Qr(8390656,8,e,t)}function Zr(e,t){Gr(2048,8,e,t)}function es(e,t){return Gr(4,2,e,t)}function ts(e,t){return Gr(4,4,e,t)}function ns(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function is(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Gr(4,4,ns.bind(null,t,e),n)}function os(){}function rs(e,t){var n=xr();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&dr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ss(e,t){var n=xr();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&dr(t,i[1]))return i[0];if(i=e(),rr){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[i,t],i}function as(e,t,n){return void 0===n||0!==(1073741824&Zo)?e.memoizedState=t:(e.memoizedState=n,e=Pc(),er.lanes|=e,dc|=e,n)}function ls(e,t,n,i){return Yn(n,t)?n:null!==Co.current?(e=as(e,n,i),Yn(e,t)||(Us=!0),e):0===(42&Zo)?(Us=!0,e.memoizedState=n):(e=Pc(),er.lanes|=e,dc|=e,t)}function cs(e,t,n,i,o){var r=B.p;B.p=0!==r&&8>r?r:8;var s=A.T,a={};A.T=a,ws(e,!1,t,n);try{var l=o(),c=A.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)xs(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),i}(l,i),Ac());else xs(e,t,i,Ac())}catch(u){xs(e,t,{then:function(){},status:"rejected",reason:u},Ac())}finally{B.p=r,A.T=s}}function us(){}function ds(e,t,n,i){if(5!==e.tag)throw Error(s(476));var o=hs(e).queue;cs(e,o,t,H,null===n?us:function(){return ps(e),n(i)})}function hs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ps(e){xs(e,hs(e).next.queue,{},Ac())}function ms(){return Ta(Ld)}function fs(){return xr().memoizedState}function gs(){return xr().memoizedState}function vs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),i=Ma(t,e=Pa(n),n);return null!==i&&(Mc(i,t,n),Fa(i,t,n)),t={cache:zo()},void(e.payload=t)}t=t.return}}function ys(e,t,n){var i=Ac();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ks(e)?Ss(t,n):null!==(n=Di(e,t,n,i))&&(Mc(n,e,i),Cs(n,t,i))}function bs(e,t,n){xs(e,t,n,Ac())}function xs(e,t,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ks(e))Ss(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,Yn(a,s))return Ni(e,t,o,0),null===tc&&Ei(),!1}catch(l){}if(null!==(n=Di(e,t,o,i)))return Mc(n,e,i),Cs(n,t,i),!0}return!1}function ws(e,t,n,i){if(i={lane:2,revertLane:wu(),action:i,hasEagerState:!1,eagerState:null,next:null},ks(e)){if(t)throw Error(s(479))}else null!==(t=Di(e,n,i,2))&&Mc(t,e,2)}function ks(e){var t=e.alternate;return e===er||null!==t&&t===er}function Ss(e,t){or=ir=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cs(e,t,n){if(0!==(4194176&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var Ts={readContext:Ta,use:kr,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur};Ts.useCacheRefresh=ur,Ts.useMemoCache=ur,Ts.useHostTransitionStatus=ur,Ts.useFormState=ur,Ts.useActionState=ur,Ts.useOptimistic=ur;var Es={readContext:Ta,use:kr,useCallback:function(e,t){return br().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Xr,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qr(4194308,4,ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){Qr(4,2,e,t)},useMemo:function(e,t){var n=br();t=void 0===t?null:t;var i=e();if(rr){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=br();if(void 0!==n){var o=n(t);if(rr){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=ys.bind(null,er,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},br().memoizedState=e},useState:function(e){var t=(e=Or(e)).queue,n=bs.bind(null,er,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:os,useDeferredValue:function(e,t){return as(br(),e,t)},useTransition:function(){var e=Or(!1);return e=cs.bind(null,er,e.queue,!0,!1),br().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=er,o=br();if(Qi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===tc)throw Error(s(349));0!==(60&ic)||jr(i,t,n)}o.memoizedState=n;var r={value:n,getSnapshot:t};return o.queue=r,Xr(Pr.bind(null,i,r,e),[e]),i.flags|=2048,Yr(9,Ar.bind(null,i,r,n,t),{destroy:void 0},null),n},useId:function(){var e=br(),t=tc.identifierPrefix;if(Qi){var n=Hi;t=":"+t+"R"+(n=(Bi&~(1<<32-xe(Bi)-1)).toString(32)+n),0<(n=sr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=cr++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return br().memoizedState=vs.bind(null,er)}};Es.useMemoCache=Sr,Es.useHostTransitionStatus=ms,Es.useFormState=Hr,Es.useActionState=Hr,Es.useOptimistic=function(e){var t=br();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ws.bind(null,er,!0,n),n.dispatch=t,[e,t]};var Ns={readContext:Ta,use:kr,useCallback:rs,useContext:Ta,useEffect:Zr,useImperativeHandle:is,useInsertionEffect:es,useLayoutEffect:ts,useMemo:ss,useReducer:Tr,useRef:Jr,useState:function(){return Tr(Cr)},useDebugValue:os,useDeferredValue:function(e,t){return ls(xr(),tr.memoizedState,e,t)},useTransition:function(){var e=Tr(Cr)[0],t=xr().memoizedState;return["boolean"===typeof e?e:wr(e),t]},useSyncExternalStore:Dr,useId:fs};Ns.useCacheRefresh=gs,Ns.useMemoCache=Sr,Ns.useHostTransitionStatus=ms,Ns.useFormState=Ur,Ns.useActionState=Ur,Ns.useOptimistic=function(e,t){return Rr(xr(),0,e,t)};var Ds={readContext:Ta,use:kr,useCallback:rs,useContext:Ta,useEffect:Zr,useImperativeHandle:is,useInsertionEffect:es,useLayoutEffect:ts,useMemo:ss,useReducer:Nr,useRef:Jr,useState:function(){return Nr(Cr)},useDebugValue:os,useDeferredValue:function(e,t){var n=xr();return null===tr?as(n,e,t):ls(n,tr.memoizedState,e,t)},useTransition:function(){var e=Nr(Cr)[0],t=xr().memoizedState;return["boolean"===typeof e?e:wr(e),t]},useSyncExternalStore:Dr,useId:fs};function js(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ds.useCacheRefresh=gs,Ds.useMemoCache=Sr,Ds.useHostTransitionStatus=ms,Ds.useFormState=Kr,Ds.useActionState=Kr,Ds.useOptimistic=function(e,t){var n=xr();return null!==tr?Rr(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var As={isMounted:function(e){return!!(e=e._reactInternals)&&I(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ac(),o=Pa(i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ma(e,o,i))&&(Mc(t,e,i),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ac(),o=Pa(i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ma(e,o,i))&&(Mc(t,e,i),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),i=Pa(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ma(e,i,n))&&(Mc(t,e,n),Fa(t,e,n))}};function Ps(e,t,n,i,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,i)||!Jn(o,r))}function Ms(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&As.enqueueReplaceState(t,t.state,null)}function Fs(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var o in n===t&&(n=P({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Os="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Rs(e){Os(e)}function Ls(e){console.error(e)}function Is(e){Os(e)}function _s(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Vs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function $s(e,t,n){return(n=Pa(n)).tag=3,n.payload={element:null},n.callback=function(){_s(e,t)},n}function zs(e){return(e=Pa(e)).tag=3,e}function Bs(e,t,n,i){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var r=i.value;e.payload=function(){return o(r)},e.callback=function(){Vs(t,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Vs(t,n,i),"function"!==typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Hs=Error(s(461)),Us=!1;function Ws(e,t,n,i){t.child=null===e?So(t,null,n,i):ko(t,e.child,n,i)}function qs(e,t,n,i,o){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Ca(t),i=hr(e,t,n,s,r,o),a=gr(),null===e||Us?(Qi&&a&&qi(t),t.flags|=1,Ws(e,t,i,o),t.child):(vr(e,t,o),ha(e,t,o))}function Ks(e,t,n,i,o){if(null===e){var r=n.type;return"function"!==typeof r||Ll(r)||void 0!==r.defaultProps||null!==n.compare?((e=Vl(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ys(e,t,r,i,o))}if(r=e.child,!pa(e,o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(s,i)&&e.ref===t.ref)return ha(e,t,o)}return t.flags|=1,(e=Il(r,i)).ref=t.ref,e.return=t,t.child=e}function Ys(e,t,n,i,o){if(null!==e){var r=e.memoizedProps;if(Jn(r,i)&&e.ref===t.ref){if(Us=!1,t.pendingProps=i=r,!pa(e,o))return t.lanes=e.lanes,ha(e,t,o);0!==(131072&e.flags)&&(Us=!0)}}return Xs(e,t,n,i,o)}function Js(e,t,n){var i=t.pendingProps,o=i.children,r=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Gs(e,t),"hidden"===i.mode||r){if(0!==(128&t.flags)){if(i=null!==s?s.baseLanes|n:n,null!==e){for(o=t.child=e.child,r=0;null!==o;)r=r|o.lanes|o.childLanes,o=o.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Qs(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qs(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Go(0,null!==s?s.cachePool:null),null!==s?Eo(t,s):No(),Mo(t)}else null!==s?(Go(0,s.cachePool),Eo(t,s),Fo(),t.memoizedState=null):(null!==e&&Go(0,null),No(),Fo());return Ws(e,t,o,n),t.child}function Qs(e,t,n,i){var o=Qo();return o=null===o?null:{parent:$o._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Go(0,null),No(),Mo(t),null!==e&&ka(e,t,i,!0),null}function Gs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xs(e,t,n,i,o){return Ca(t),n=hr(e,t,n,i,void 0,o),i=gr(),null===e||Us?(Qi&&i&&qi(t),t.flags|=1,Ws(e,t,n,o),t.child):(vr(e,t,o),ha(e,t,o))}function Zs(e,t,n,i,o,r){return Ca(t),t.updateQueue=null,n=mr(t,i,n,o),pr(e),i=gr(),null===e||Us?(Qi&&i&&qi(t),t.flags|=1,Ws(e,t,n,r),t.child):(vr(e,t,r),ha(e,t,r))}function ea(e,t,n,i,o){if(Ca(t),null===t.stateNode){var r=Mi,s=n.contextType;"object"===typeof s&&null!==s&&(r=Ta(s)),r=new n(i,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=As,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=i,r.state=t.memoizedState,r.refs={},ja(t),s=n.contextType,r.context="object"===typeof s&&null!==s?Ta(s):Mi,r.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(js(t,n,s,i),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(s=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),s!==r.state&&As.enqueueReplaceState(r,r.state,null),Ia(t,i,r,o),La(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){r=t.stateNode;var a=t.memoizedProps,l=Fs(n,a);r.props=l;var c=r.context,u=n.contextType;s=Mi,"object"===typeof u&&null!==u&&(s=Ta(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a||c!==s)&&Ms(t,r,i,s),Da=!1;var h=t.memoizedState;r.state=h,Ia(t,i,r,o),La(),c=t.memoizedState,a||h!==c||Da?("function"===typeof d&&(js(t,n,d,i),c=t.memoizedState),(l=Da||Ps(t,n,l,i,h,c,s))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=s,i=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Aa(e,t),u=Fs(n,s=t.memoizedProps),r.props=u,d=t.pendingProps,h=r.context,c=n.contextType,l=Mi,"object"===typeof c&&null!==c&&(l=Ta(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==d||h!==l)&&Ms(t,r,i,l),Da=!1,h=t.memoizedState,r.state=h,Ia(t,i,r,o),La();var p=t.memoizedState;s!==d||h!==p||Da||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof a&&(js(t,n,a,i),p=t.memoizedState),(u=Da||Ps(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,p,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),r.props=i,r.state=p,r.context=l,i=u):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Gs(e,t),i=0!==(128&t.flags),r||i?(r=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,n,o)):Ws(e,t,n,o),t.memoizedState=r.state,e=t.child):e=ha(e,t,o),e}function ta(e,t,n,i){return oo(),t.flags|=256,Ws(e,t,n,i),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ia(e){return{baseLanes:e,cachePool:Xo()}}function oa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function ra(e,t,n){var i,o=t.pendingProps,r=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&Ro.current)),i&&(r=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(Qi){if(r?Po(t):Fo(),Qi){var l,c=Ji;if(l=c){e:{for(l=c,c=Xi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ad(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zi?{id:Bi,overflow:Hi}:null,retryLane:536870912},(l=Rl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Yi=t,Ji=null,l=!0):l=!1}l||eo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Oo(t)}return c=o.children,o=o.fallback,r?(Fo(),c=aa({mode:"hidden",children:c},r=t.mode),o=$l(o,r,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(r=t.child).memoizedState=ia(n),r.childLanes=oa(e,i,n),t.memoizedState=na,o):(Po(t),sa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Po(t),t.flags&=-257,t=la(e,t,n)):null!==t.memoizedState?(Fo(),t.child=e.child,t.flags|=128,t=null):(Fo(),r=o.fallback,c=t.mode,o=aa({mode:"visible",children:o.children},c),(r=$l(r,c,n,null)).flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,ko(t,e.child,null,n),(o=t.child).memoizedState=ia(n),o.childLanes=oa(e,i,n),t.memoizedState=na,t=r);else if(Po(t),"$!"===c.data){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(o=Error(s(419))).stack="",o.digest=i,ro({value:o,source:null,stack:null}),t=la(e,t,n)}else if(Us||ka(e,t,n,!1),i=0!==(n&e.childLanes),Us||i){if(null!==(i=tc)){if(0!==(42&(o=n&-n)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(i.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,ji(e,o),Mc(i,e,o),Hs}"$?"===c.data||Uc(),t=la(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=au.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Ji=ad(c.nextSibling),Yi=t,Qi=!0,Gi=null,Xi=!1,null!==e&&(Vi[$i++]=Bi,Vi[$i++]=Hi,Vi[$i++]=zi,Bi=e.id,Hi=e.overflow,zi=t),(t=sa(t,o.children)).flags|=4096);return t}return r?(Fo(),r=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Il(l,{mode:"hidden",children:o.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?r=Il(u,r):(r=$l(r,c,n,null)).flags|=2,r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,null===(c=e.child.memoizedState)?c=ia(n):(null!==(l=c.cachePool)?(u=$o._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xo(),c={baseLanes:c.baseLanes|n,cachePool:l}),r.memoizedState=c,r.childLanes=oa(e,i,n),t.memoizedState=na,o):(Po(t),e=(n=e.child).sibling,(n=Il(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function sa(e,t){return(t=aa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aa(e,t){return zl(e,t,0,null)}function la(e,t,n){return ko(t,e.child,null,n),(e=sa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ca(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),xa(e.return,t,n)}function ua(e,t,n,i,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function da(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Ws(e,t,i.children,n),0!==(2&(i=Ro.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ca(e,n,t);else if(19===e.tag)ca(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Y(Ro,i),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ua(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Lo(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ua(t,!0,n,null,r);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ka(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Il(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Il(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function pa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function ma(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Us=!0;else{if(!pa(e,n)&&0===(128&t.flags))return Us=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ya(t,$o,e.memoizedState.cache),oo();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Po(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ra(e,t,n):(Po(t),null!==(e=ha(e,t,n))?e.sibling:null);Po(t);break;case 19:var o=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(ka(e,t,n,!1),i=0!==(n&t.childLanes)),o){if(i)return da(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(Ro,Ro.current),i)break;return null;case 22:case 23:return t.lanes=0,Js(e,t,n);case 24:ya(t,$o,e.memoizedState.cache)}return ha(e,t,n)}(e,t,n);Us=0!==(131072&e.flags)}else Us=!1,Qi&&0!==(1048576&t.flags)&&Wi(t,_i,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((o=i.$$typeof)===v){t.tag=11,t=qs(null,t,i,e,n);break e}if(o===x){t.tag=14,t=Ks(null,t,i,e,n);break e}}throw t=N(i)||i,Error(s(306,t,""))}Ll(i)?(e=Fs(i,e),t.tag=1,t=ea(null,t,i,e,n)):(t.tag=0,t=Xs(null,t,i,e,n))}return t;case 0:return Xs(e,t,t.type,t.pendingProps,n);case 1:return ea(e,t,i=t.type,o=Fs(i,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var r=t.pendingProps;i=(o=t.memoizedState).element,Aa(e,t),Ia(t,r,null,n);var a=t.memoizedState;if(r=a.cache,ya(t,$o,r),r!==o.cache&&wa(t,[$o],n,!0),La(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ta(e,t,r,n);break e}if(r!==i){ro(i=Oi(Error(s(424)),t)),t=ta(e,t,r,n);break e}for(Ji=ad(t.stateNode.containerInfo.firstChild),Yi=t,Qi=!0,Gi=null,Xi=!0,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oo(),r===i){t=ha(e,t,n);break e}Ws(e,t,r,n)}t=t.child}return t;case 26:return Gs(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Qi||(n=t.type,e=t.pendingProps,(i=Ju(G.current).createElement(n))[_e]=t,i[Ve]=e,qu(i,n,e),Ge(i),t.stateNode=i):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Qi&&(i=t.stateNode=cd(t.type,t.pendingProps,G.current),Yi=t,Xi=!0,Ji=ad(i.firstChild)),i=t.pendingProps.children,null!==e||Qi?Ws(e,t,i,n):t.child=ko(t,null,i,n),Gs(e,t),t.child;case 5:return null===e&&Qi&&((o=i=Ji)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==o.rel||e.getAttribute("href")!==(null==o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===r)return e}if(null===(e=ad(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,Xi))?(t.stateNode=i,Yi=t,Ji=ad(i.firstChild),Xi=!1,o=!0):o=!1),o||eo(t)),te(t),o=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,i=r.children,Xu(o,r)?i=null:null!==a&&Xu(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=hr(e,t,fr,null,null,n),Ld._currentValue=o),Gs(e,t),Ws(e,t,i,n),t.child;case 6:return null===e&&Qi&&((e=n=Ji)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ad(e.nextSibling)))return null}return e}(n,t.pendingProps,Xi))?(t.stateNode=n,Yi=t,Ji=null,e=!0):e=!1),e||eo(t)),null;case 13:return ra(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ko(t,null,i,n):Ws(e,t,i,n),t.child;case 11:return qs(e,t,t.type,t.pendingProps,n);case 7:return Ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ws(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ya(t,t.type,i.value),Ws(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Ca(t),i=i(o=Ta(o)),t.flags|=1,Ws(e,t,i,n),t.child;case 14:return Ks(e,t,t.type,t.pendingProps,n);case 15:return Ys(e,t,t.type,t.pendingProps,n);case 19:return da(e,t,n);case 22:return Js(e,t,n);case 24:return Ca(t),i=Ta($o),null===e?(null===(o=Qo())&&(o=tc,r=zo(),o.pooledCache=r,r.refCount++,null!==r&&(o.pooledCacheLanes|=n),o=r),t.memoizedState={parent:i,cache:o},ja(t),ya(t,$o,o)):(0!==(e.lanes&n)&&(Aa(e,t),Ia(t,null,null,n),La()),o=e.memoizedState,r=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),ya(t,$o,i)):(i=r.cache,ya(t,$o,i),i!==o.cache&&wa(t,[$o],n,!0))),Ws(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var fa=q(null),ga=null,va=null;function ya(e,t,n){Y(fa,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=fa.current,K(fa)}function xa(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wa(e,t,n,i){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var r=o.dependencies;if(null!==r){var a=o.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),xa(r.return,n,e),i||(a=null);break e}r=l.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(r=a.alternate)&&(r.lanes|=n),xa(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function ka(e,t,n,i){e=null;for(var o=t,r=!1;null!==o;){if(!r)if(0!==(524288&o.flags))r=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=o.type;Yn(o.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(o===X.current){if(null===(a=o.alternate))throw Error(s(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Ld):e=[Ld])}o=o.return}null!==e&&wa(t,e,n,i),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){ga=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ta(e){return Na(ga,e)}function Ea(e,t){return null===ga&&Ca(e),Na(e,t)}function Na(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Da=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&ec)){var o=i.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Pi(e),Ai(e,null,n),t}return Ni(e,i,t,n),Pi(e)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function Oa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ra=!1;function La(){if(Ra){if(null!==qo)throw qo}}function Ia(e,t,n,i){Ra=!1;var o=e.updateQueue;Da=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==r){var d=o.baseState;for(s=0,u=c=l=null,a=r;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(ic&h)===h:(i&h)===h){0!==h&&h===Wo&&(Ra=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,f=a;h=t;var g=n;switch(f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(g,d,h):m)||void 0===h)break e;d=P({},d,h);break e;case 2:Da=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(p=a).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===r&&(o.shared.lanes=0),dc|=s,e.lanes=s,e.memoizedState=d}}function _a(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Va(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_a(n[e],t)}function $a(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==o)}}catch(a){iu(t,t.return,a)}}function za(e,t,n){try{var i=t.updateQueue,o=null!==i?i.lastEffect:null;if(null!==o){var r=o.next;i=r;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n;try{a()}catch(c){iu(o,l,c)}}}i=i.next}while(i!==r)}}catch(c){iu(t,t.return,c)}}function Ba(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Va(t,n)}catch(i){iu(e,e.return,i)}}}function Ha(e,t,n){n.props=Fs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){iu(e,t,i)}}function Ua(e,t){try{var n=e.ref;if(null!==n){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=i;break;default:o=i}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(r){iu(e,t,r)}}function Wa(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(o){iu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){iu(e,t,r)}else n.current=null}function qa(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){iu(e,e.return,o)}}function Ka(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,r=null,a=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||Uu(e,t,m,null,i,h)}}for(var p in i){var m=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":r=m;break;case"name":o=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==h&&Uu(e,t,p,m,i,h)}}return void gt(e,a,l,c,u,d,r,o);case"select":for(r in m=a=l=p=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(r)||Uu(e,t,r,null,i,c)}for(o in i)if(r=i[o],c=n[o],i.hasOwnProperty(o)&&(null!=r||null!=c))switch(o){case"value":p=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==c&&Uu(e,t,o,r,i,c)}return t=l,n=a,i=m,void(null!=p?bt(e,!!n,p,!1):!!i!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Uu(e,t,l,null,i,o)}for(a in i)if(o=i[a],r=n[a],i.hasOwnProperty(a)&&(null!=o||null!=r))switch(a){case"value":p=o;break;case"defaultValue":m=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:o!==r&&Uu(e,t,a,o,i,r)}return void xt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Uu(e,t,f,null,i,p);for(c in i)if(p=i[c],m=n[c],i.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Uu(e,t,c,p,i,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&Uu(e,t,g,null,i,p);for(u in i)if(p=i[u],m=n[u],i.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Uu(e,t,u,p,i,m)}return;default:if(Et(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&Wu(e,t,v,void 0,i,p);for(d in i)p=i[d],m=n[d],!i.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||Wu(e,t,d,p,i,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&Uu(e,t,y,null,i,p);for(h in i)p=i[h],m=n[h],!i.hasOwnProperty(h)||p===m||null==p&&null==m||Uu(e,t,h,p,i,m)}(i,e.type,n,t),i[Ve]=t}catch(o){iu(e,e.return,o)}}function Ya(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ja(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Qa(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==i&&27!==i&&null!==(e=e.child))for(Qa(e,t,n),e=e.sibling;null!==e;)Qa(e,t,n),e=e.sibling}function Ga(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&27!==i&&null!==(e=e.child))for(Ga(e,t,n),e=e.sibling;null!==e;)Ga(e,t,n),e=e.sibling}var Xa=!1,Za=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,il=!1;function ol(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&i&&$a(5,n);break;case 1:if(vl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){iu(n,n.return,a)}else{var o=Fs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){iu(n,n.return,l)}}64&i&&Ba(n),512&i&&Ua(n,n.return);break;case 3:if(vl(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Va(i,e)}catch(a){iu(n,n.return,a)}}break;case 26:vl(e,n),512&i&&Ua(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&i&&qa(n),512&i&&Ua(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&i&&ul(e,n);break;case 22:if(!(o=null!==n.memoizedState||Xa)){t=null!==t&&null!==t.memoizedState||Za;var r=Xa,s=Za;Xa=o,(Za=t)&&!s?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Xa=r,Za=s}512&i&&("manual"===n.memoizedProps.mode?Ua(n,n.return):Wa(n,n.return))}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,al=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Za||Wa(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Za||Wa(n,t);var i=sl,o=al;for(sl=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);qe(n),sl=i,al=o;break;case 5:Za||Wa(n,t);case 6:o=sl;var r=al;if(sl=null,ll(e,t,n),al=r,null!==(sl=o))if(al)try{e=sl,i=n.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)}catch(a){iu(n,t,a)}else try{sl.removeChild(n.stateNode)}catch(a){iu(n,t,a)}break;case 18:null!==sl&&(al?(t=sl,n=n.stateNode,8===t.nodeType?rd(t.parentNode,n):1===t.nodeType&&rd(t,n),fh(t)):rd(sl,n.stateNode));break;case 4:i=sl,o=al,sl=n.stateNode.containerInfo,al=!0,ll(e,t,n),sl=i,al=o;break;case 0:case 11:case 14:case 15:Za||za(2,n,t),Za||za(4,n,t),ll(e,t,n);break;case 1:Za||(Wa(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&Ha(n,t,i)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Za||Wa(n,t),Za=(i=Za)||null!==n.memoizedState,ll(e,t,n),Za=i;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{fh(e)}catch(n){iu(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var i=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i],r=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,al=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,al=!0;break e}l=l.return}if(null===sl)throw Error(s(160));cl(r,a,o),sl=null,al=!1,null!==(r=o.alternate)&&(r.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var pl=null;function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),fl(e),4&i&&(za(3,e,e.return),$a(3,e),za(5,e,e.return));break;case 1:hl(t,e),fl(e),512&i&&(Za||null===n||Wa(n,n.return)),64&i&&Xa&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var o=pl;if(hl(t,e),fl(e),512&i&&(Za||null===n||Wa(n,n.return)),4&i){var r=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":(!(r=o.getElementsByTagName("title")[0])||r[We]||r[_e]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=o.createElement(i),o.head.insertBefore(r,o.querySelector("head > title"))),qu(r,i,n),r[_e]=e,Ge(r),i=r;break e;case"link":var a=Nd("link","href",o).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((r=a[l]).getAttribute("href")===(null==n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}qu(r=o.createElement(i),i,n),o.head.appendChild(r);break;case"meta":if(a=Nd("meta","content",o).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((r=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}qu(r=o.createElement(i),i,n),o.head.appendChild(r);break;default:throw Error(s(468,i))}r[_e]=e,Ge(r),i=r}e.stateNode=i}else Dd(o,e.type,e.stateNode);else e.stateNode=kd(o,i,e.memoizedProps);else r!==i?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===i?Dd(o,e.type,e.stateNode):kd(o,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Ka(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&i&&null===e.alternate){o=e.stateNode,r=e.memoizedProps;try{for(var c=o.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||o.removeChild(c),c=u}for(var h=e.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);qu(o,h,r),o[_e]=e,o[Ve]=r}catch(f){iu(e,e.return,f)}}case 5:if(hl(t,e),fl(e),512&i&&(Za||null===n||Wa(n,n.return)),32&e.flags){o=e.stateNode;try{kt(o,"")}catch(f){iu(e,e.return,f)}}4&i&&null!=e.stateNode&&Ka(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&i&&(el=!0);break;case 6:if(hl(t,e),fl(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){iu(e,e.return,f)}}break;case 3:if(Ed=null,o=pl,pl=hd(t.containerInfo),hl(t,e),pl=o,fl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{fh(t.containerInfo)}catch(f){iu(e,e.return,f)}el&&(el=!1,gl(e));break;case 4:i=pl,pl=hd(e.stateNode.containerInfo),hl(t,e),fl(e),pl=i;break;case 12:hl(t,e),fl(e);break;case 13:hl(t,e),fl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,dl(e,i)));break;case 22:if(512&i&&(Za||null===n||Wa(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Xa=(d=Xa)||c,Za=(h=Za)||u,hl(t,e),Za=h,Xa=d,fl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xa||Za,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,c)"function"===typeof(r=o.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{a=u.stateNode;var m=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;a.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){iu(u,u.return,f)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(f){iu(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),fl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,dl(e,i)));break;case 21:break;default:hl(t,e),fl(e)}}function fl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ya(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 27:var o=i.stateNode;Ga(e,Ja(e),o);break;case 5:var r=i.stateNode;32&i.flags&&(kt(r,""),i.flags&=-33),Ga(e,Ja(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;Qa(e,Ja(e),a);break;default:throw Error(s(161))}}}catch(l){iu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),yl(t);break;case 1:Wa(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ha(t,t.return,n),yl(t);break;case 26:case 27:case 5:Wa(t,t.return),yl(t);break;case 22:Wa(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,o=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:bl(o,r,n),$a(4,r);break;case 1:if(bl(o,r,n),"function"===typeof(o=(i=r).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){iu(i,i.return,c)}if(null!==(o=(i=r).updateQueue)){var a=i.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)_a(l[o],a)}catch(c){iu(i,i.return,c)}}n&&64&s&&Ba(r),Ua(r,r.return);break;case 26:case 27:case 5:bl(o,r,n),n&&null===i&&4&s&&qa(r),Ua(r,r.return);break;case 12:default:bl(o,r,n);break;case 13:bl(o,r,n),n&&4&s&&ul(o,r);break;case 22:null===r.memoizedState&&bl(o,r,n),Ua(r,r.return)}t=t.sibling}}function xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bo(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e))}function kl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,i),t=t.sibling}function Sl(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,i),2048&o&&$a(9,t);break;case 3:kl(e,t,n,i),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e)));break;case 12:if(2048&o){kl(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,a=r.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){iu(t,t.return,l)}}else kl(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,null!==t.memoizedState?4&r._visibility?kl(e,t,n,i):Tl(e,t):4&r._visibility?kl(e,t,n,i):(r._visibility|=4,Cl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&o&&xl(t.alternate,t);break;case 24:kl(e,t,n,i),2048&o&&wl(t.alternate,t);break;default:kl(e,t,n,i)}}function Cl(e,t,n,i,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,s=t,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Cl(r,s,a,l,o),$a(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?4&u._visibility?Cl(r,s,a,l,o):Tl(r,s):(u._visibility|=4,Cl(r,s,a,l,o)),o&&2048&c&&xl(s.alternate,s);break;case 24:Cl(r,s,a,l,o),o&&2048&c&&wl(s.alternate,s);break;default:Cl(r,s,a,l,o)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Tl(n,i),2048&o&&xl(i.alternate,i);break;case 24:Tl(n,i),2048&o&&wl(i.alternate,i);break;default:Tl(n,i)}t=t.sibling}}var El=8192;function Nl(e){if(e.subtreeFlags&El)for(e=e.child;null!==e;)Dl(e),e=e.sibling}function Dl(e){switch(e.tag){case 26:Nl(e),e.flags&El&&null!==e.memoizedState&&function(e,t,n){if(null===Ad)throw Error(s(475));var i=Ad;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=vd(n.href),r=e.querySelector(yd(o));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Md.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,void Ge(r);r=e.ownerDocument||e,n=bd(n),(o=ud.get(o))&&Cd(n,o),Ge(r=r.createElement("link"));var a=r;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),qu(r,"link",n),t.instance=r}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Md.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:Nl(e);break;case 3:case 4:var t=pl;pl=hd(e.stateNode.containerInfo),Nl(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=El,El=16777216,Nl(e),El=t):Nl(e))}}function jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];nl=i,Fl(i,e)}jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&za(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ml(e)):Al(e)}}function Ml(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];nl=i,Fl(i,e)}jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:za(8,t,t.return),Ml(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ml(t));break;default:Ml(t)}e=e.sibling}}function Fl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:za(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Bo(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,nl=i;else e:for(n=e;null!==nl;){var o=(i=nl).sibling,r=i.return;if(rl(i),i===n){nl=null;break e}if(null!==o){o.return=r,nl=o;break e}nl=r}}}function Ol(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,i){return new Ol(e,t,n,i)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _l(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,i,o,r){var a=0;if(i=e,"function"===typeof e)Ll(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return $l(n.children,o,r,t);case h:a=8,o|=24;break;case p:return(e=Rl(12,n,t,2|o)).elementType=p,e.lanes=r,e;case y:return(e=Rl(13,n,t,o)).elementType=y,e.lanes=r,e;case b:return(e=Rl(19,n,t,o)).elementType=b,e.lanes=r,e;case k:return zl(n,o,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case g:a=10;break e;case f:a=9;break e;case v:a=11;break e;case x:a=14;break e;case w:a=16,i=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=Rl(a,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function $l(e,t,n,i){return(e=Rl(7,e,i,t)).lanes=n,e}function zl(e,t,n,i){(e=Rl(22,e,i,t)).elementType=k,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(s(456));if(0===(2&o._pendingVisibility)){var t=ji(e,2);null!==t&&(o._pendingVisibility|=2,Mc(t,e,2))}},attach:function(){var e=o._current;if(null===e)throw Error(s(456));if(0!==(2&o._pendingVisibility)){var t=ji(e,2);null!==t&&(o._pendingVisibility&=-3,Mc(t,e,2))}}};return e.stateNode=o,e}function Bl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e){e.flags|=4}function Wl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!jd(t)){if(null!==(t=jo.current)&&((4194176&ic)===ic?null!==Ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==Ao))throw po=lo,ao;e.flags|=8192}}function ql(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,fc|=t)}function Kl(e,t){if(!Qi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=31457280&o.subtreeFlags,i|=31457280&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Jl(e,t,n){var i=t.pendingProps;switch(Ki(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ba($o),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(io(t)?Ul(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Gi&&(Oc(Gi),Gi=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Ul(t),null!==n?(Yl(t),Wl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ul(t),Yl(t),Wl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ul(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=G.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Ul(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}e=J.current,io(t)?to(t):(e=cd(o,i,n),t.stateNode=e,Ul(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Ul(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}if(e=J.current,io(t))to(t);else{switch(o=Ju(G.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?o.createElement(n,{is:i.is}):o.createElement(n)}}e[_e]=t,e[Ve]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(qu(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ul(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Ul(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(e=G.current,io(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(o=Yi))switch(o.tag){case 27:case 5:i=o.memoizedProps}e[_e]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Bu(e.nodeValue,n)))||eo(t)}else(e=Ju(e).createTextNode(i))[_e]=t,t.stateNode=e}return Yl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=io(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[_e]=t}else oo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),o=!1}else null!==Gi&&(Oc(Gi),Gi=null),o=!0;if(!o)return 256&t.flags?(Oo(t),t):(Oo(t),null)}if(Oo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(o=i.alternate.memoizedState.cachePool.pool);var r=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==o&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ql(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Mu(t.stateNode.containerInfo),Yl(t),null;case 10:return ba(t.type),Yl(t),null;case 19:if(K(Ro),null===(o=t.memoizedState))return Yl(t),null;if(i=0!==(128&t.flags),null===(r=o.rendering))if(i)Kl(o,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=Lo(e))){for(t.flags|=128,Kl(o,!1),e=r.updateQueue,t.updateQueue=e,ql(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)_l(n,e),n=n.sibling;return Y(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==o.tail&&le()>xc&&(t.flags|=128,i=!0,Kl(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Lo(r))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ql(t,e),Kl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!r.alternate&&!Qi)return Yl(t),null}else 2*le()-o.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,i=!0,Kl(o,!1),t.lanes=4194304);o.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=o.last)?e.sibling=r:t.child=r,o.last=r)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,e=Ro.current,Y(Ro,i?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Oo(t),Do(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&ql(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&K(Jo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba($o),Yl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Ql(e,t){switch(Ki(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba($o),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Oo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Ro),null;case 4:return ee(),null;case 10:return ba(t.type),null;case 22:case 23:return Oo(t),Do(),null!==e&&K(Jo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba($o),null;default:return null}}function Gl(e,t){switch(Ki(t),t.tag){case 3:ba($o),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Oo(t);break;case 19:K(Ro);break;case 10:ba(t.type);break;case 22:case 23:Oo(t),Do(),null!==e&&K(Jo);break;case 24:ba($o)}}var Xl={getCacheForType:function(e){var t=Ta($o),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,ic=0,oc=0,rc=null,sc=!1,ac=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,pc=0,mc=0,fc=0,gc=null,vc=null,yc=!1,bc=0,xc=1/0,wc=null,kc=null,Sc=!1,Cc=null,Tc=0,Ec=0,Nc=null,Dc=0,jc=null;function Ac(){if(0!==(2&ec)&&0!==ic)return ic&-ic;if(null!==A.T){return 0!==Wo?Wo:wu()}return Le()}function Pc(){0===mc&&(mc=0===(536870912&ic)||Qi?je():536870912);var e=jo.current;return null!==e&&(e.flags|=32),mc}function Mc(e,t,n){(e===tc&&2===oc||null!==e.cancelPendingCommit)&&($c(e,0),Ic(e,ic,mc,!1)),Me(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Ic(e,ic,mc,!1)),fu(e))}function Fc(e,t,n){if(0!==(6&ec))throw Error(s(327));for(var i=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ne(e,t),o=i?function(e,t){var n=ec;ec|=2;var i=Bc(),o=Hc();tc!==e||ic!==t?(wc=null,xc=le()+500,$c(e,t)):ac=Ne(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var r=rc;t:switch(oc){case 1:oc=0,rc=null,Qc(e,t,r,1);break;case 2:if(co(r)){oc=0,rc=null,Jc(t);break}t=function(){2===oc&&tc===e&&(oc=7),fu(e)},r.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:co(r)?(oc=0,rc=null,Jc(t)):(oc=0,rc=null,Qc(e,t,r,7));break;case 5:var a=null;switch(nc.tag){case 26:a=nc.memoizedState;case 5:case 27:var l=nc;if(!a||jd(a)){oc=0,rc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Gc(u)):nc=null}break t}}oc=0,rc=null,Qc(e,t,r,5);break;case 6:oc=0,rc=null,Qc(e,t,r,6);break;case 8:Vc(),uc=6;break e;default:throw Error(s(462))}}Kc();break}catch(d){zc(e,d)}return va=ga=null,A.H=i,A.A=o,ec=n,null!==nc?0:(tc=null,ic=0,Ei(),uc)}(e,t):Wc(e,t,!0),r=i;;){if(0===o){ac&&!i&&Ic(e,t,0,!1);break}if(6===o)Ic(e,t,0,!sc);else{if(n=e.current.alternate,r&&!Lc(n)){o=Wc(e,t,!1),r=!1;continue}if(2===o){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;o=gc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,a).flags|=256),2!==(a=Wc(l,a,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=r,hc|=r,o=4;break e}r=vc,vc=o,null!==r&&Oc(r)}o=a}if(r=!1,2!==o)continue}}if(1===o){$c(e,0),Ic(e,t,0,!0);break}e:{switch(i=e,o){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){Ic(i,t,mc,!sc);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(s(329))}if(i.finishedWork=n,i.finishedLanes=t,(62914560&t)===t&&10<(r=bc+300-le())){if(Ic(i,t,mc,!sc),0!==Ee(i,0))break e;i.timeoutHandle=ed(Rc.bind(null,i,n,vc,wc,yc,t,mc,hc,fc,sc,2,-0,0),r)}else Rc(i,n,vc,wc,yc,t,mc,hc,fc,sc,0,-0,0)}}break}fu(e)}function Oc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Rc(e,t,n,i,o,r,a,l,c,u,d,h,p){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(Ad={stylesheets:null,count:0,unsuspend:Pd},Dl(t),null!==(t=function(){if(null===Ad)throw Error(s(475));var e=Ad;return e.stylesheets&&0===e.count&&Od(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Od(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,i,o,a,l,c,1,h,p)),void Ic(e,r,a,!u);Zc(e,n,i,o,a,l,c,d,h,p)}function Lc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!Yn(r(),o))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ic(e,t,n,i){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var r=31-xe(o),s=1<<r;i[r]=-1,o&=~s}0!==n&&Fe(e,n,t)}function _c(){return 0!==(6&ec)||(gu(0,!1),!1)}function Vc(){if(null!==nc){if(0===oc)var e=nc.return;else va=ga=null,yr(e=nc),fo=null,go=0,e=nc;for(;null!==e;)Gl(e.alternate,e),e=e.return;nc=null}}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),tc=e,nc=n=Il(e.current,null),ic=t,oc=0,rc=null,sc=!1,ac=Ne(e,t),lc=!1,fc=mc=pc=hc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var o=31-xe(i),r=1<<o;t|=e[o],i&=~r}return cc=t,Ei(),n}function zc(e,t){er=null,A.H=Ts,t===so?(t=mo(),oc=3):t===ao?(t=mo(),oc=4):oc=t===Hs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,rc=t,null===nc&&(uc=1,_s(e,Oi(t,e.current)))}function Bc(){var e=A.H;return A.H=Ts,null===e?Ts:e}function Hc(){var e=A.A;return A.A=Xl,e}function Uc(){uc=4,sc||(4194176&ic)!==ic&&null!==jo.current||(ac=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Ic(tc,ic,mc,!1)}function Wc(e,t,n){var i=ec;ec|=2;var o=Bc(),r=Hc();tc===e&&ic===t||(wc=null,$c(e,t)),t=!1;var s=uc;e:for(;;)try{if(0!==oc&&null!==nc){var a=nc,l=rc;switch(oc){case 8:Vc(),s=6;break e;case 3:case 2:case 6:null===jo.current&&(t=!0);var c=oc;if(oc=0,rc=null,Qc(e,a,l,c),n&&ac){s=0;break e}break;default:c=oc,oc=0,rc=null,Qc(e,a,l,c)}}qc(),s=uc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,va=ga=null,ec=i,A.H=o,A.A=r,null===nc&&(tc=null,ic=0,Ei()),s}function qc(){for(;null!==nc;)Yc(nc)}function Kc(){for(;null!==nc&&!se();)Yc(nc)}function Yc(e){var t=ma(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Gc(e):nc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zs(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Zs(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:yr(t);default:Gl(n,t),t=ma(n,t=nc=_l(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Gc(e):nc=t}function Qc(e,t,n,i){va=ga=null,yr(t),fo=null,go=0;var o=t.return;try{if(function(e,t,n,i,o){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&ka(t,n,o,!0),null!==(n=jo.current)){switch(n.tag){case 13:return null===Ao?Uc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===lo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),ou(e,i,o)),!1;case 22:return n.flags|=65536,i===lo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),ou(e,i,o)),!1}throw Error(s(435,n.tag))}return ou(e,i,o),Uc(),!1}if(Qi)return null!==(t=jo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Zi&&ro(Oi(e=Error(s(422),{cause:i}),n))):(i!==Zi&&ro(Oi(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,i=Oi(i,n),Oa(e,o=$s(e.stateNode,i,o)),4!==uc&&(uc=2)),!1;var r=Error(s(520),{cause:i});if(r=Oi(r,n),null===gc?gc=[r]:gc.push(r),4!==uc&&(uc=2),null===t)return!0;i=Oi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Oa(n,e=$s(n.stateNode,i,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))))return n.flags|=65536,o&=-o,n.lanes|=o,Bs(o=zs(o),e,n,i),Oa(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return uc=1,_s(e,Oi(n,e.current)),void(nc=null)}catch(r){if(null!==o)throw nc=o,r;return uc=1,_s(e,Oi(n,e.current)),void(nc=null)}32768&t.flags?(Qi||1===i?e=!0:ac||0!==(536870912&ic)?e=!1:(sc=e=!0,(2===i||3===i||6===i)&&(null!==(i=jo.current)&&13===i.tag&&(i.flags|=16384))),Xc(t,e)):Gc(t)}function Gc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,sc);e=t.return;var n=Jl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var n=Ql(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,i,o,r,a,l,c,u){var d=A.T,h=B.p;try{B.p=2,A.T=null,function(e,t,n,i,o,r,a,l){do{tu()}while(null!==Cc);if(0!==(6&ec))throw Error(s(327));var c=e.finishedWork;if(i=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,i,o,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-xe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&Fe(e,i,0),0!==r&&0===o&&0!==e.tag&&(e.suspendedLanes|=r&~(s&~t))}(e,i,u|=Ti,r,a,l),e===tc&&(nc=tc=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Ec=u,Nc=n,function(e,t){oe(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=A.T,A.T=null,r=B.p,B.p=2,a=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=Ud,ei(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==r||0!==i&&3!==h.nodeType||(c=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===r&&++d===i&&(c=a),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Ud=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(r=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,o=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var f=Fs(n.type,o,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(f,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){iu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))sd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}f=il,il=!1}(e,c),ml(c,e),ti(Yu,e.containerInfo),Ud=!!Ku,Yu=Ku=null,e.current=c,ol(e,c.alternate,c),ae(),ec=a,B.p=r,A.T=n):e.current=c,Sc?(Sc=!1,Cc=e,Tc=i):eu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),fu(e),null!==t)for(o=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],o(u.value,{componentStack:u.stack});0!==(3&Tc)&&tu(),u=e.pendingLanes,0!==(4194218&i)&&0!==(42&u)?e===jc?Dc++:(Dc=0,jc=e):Dc=0,gu(0,!1)}(e,t,n,i,h,o,r,a)}finally{A.T=d,B.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bo(t)))}function tu(){if(null!==Cc){var e=Cc,t=Ec;Ec=0;var n=Re(Tc),i=A.T,o=B.p;try{if(B.p=32>n?32:n,A.T=null,null===Cc)var r=!1;else{n=Nc,Nc=null;var a=Cc,l=Tc;if(Cc=null,Tc=0,0!==(6&ec))throw Error(s(331));var c=ec;if(ec|=4,Pl(a.current),Sl(a,a.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(u){}r=!0}return r}finally{B.p=o,A.T=i,eu(e,t)}}return!1}function nu(e,t,n){t=Oi(n,t),null!==(e=Ma(e,t=$s(e.stateNode,t,2),2))&&(Me(e,2),fu(e))}function iu(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))){e=Oi(n,e),null!==(i=Ma(t,n=zs(2),2))&&(Bs(n,i,t,e),Me(i,2),fu(i));break}}t=t.return}}function ou(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new Zl;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(lc=!0,o.add(n),e=ru.bind(null,e,t,n),t.then(e,e))}function ru(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(ic&n)===n&&(4===uc||3===uc&&(62914560&ic)===ic&&300>le()-bc?0===(2&ec)&&$c(e,0):pc|=n,fc===ic&&(fc=0)),fu(e)}function su(e,t){0===t&&(t=Ae()),null!==(e=ji(e,t))&&(Me(e,t),fu(e))}function au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),su(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),su(e,n)}var cu=null,uu=null,du=!1,hu=!1,pu=!1,mu=0;function fu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,id((function(){0!==(6&ec)?oe(ue,t):t()})))}function gu(e,t){if(!pu&&hu){pu=!0;do{for(var n=!1,i=cu;null!==i;){if(!t)if(0!==e){var o=i.pendingLanes;if(0===o)var r=0;else{var s=i.suspendedLanes,a=i.pingedLanes;r=(1<<31-xe(42|e)+1)-1,r=201326677&(r&=o&~(s&~a))?201326677&r|1:r?2|r:0}0!==r&&(n=!0,xu(i,r))}else r=ic,0===(3&(r=Ee(i,i===tc?r:0)))||Ne(i,r)||(n=!0,xu(i,r));i=i.next}}while(n);pu=!1}}function vu(){hu=du=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=mu),mu=0);for(var t=le(),n=null,i=cu;null!==i;){var o=i.next,r=yu(i,t);0===r?(i.next=null,null===n?cu=o:n.next=o,null===o&&(uu=n)):(n=i,(0!==e||0!==(3&r))&&(hu=!0)),i=o}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var s=31-xe(r),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&i)||(o[s]=De(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}if(n=ic,n=Ee(e,e===(t=tc)?n:0),i=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==i&&null!==i&&re(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&re(i),Re(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=me}return i=bu.bind(null,e),n=oe(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&re(i),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var i=ic;return 0===(i=Ee(e,e===tc?i:0))?null:(Fc(e,i,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function xu(e,t){if(tu())return null;Fc(e,t,!0)}function wu(){return 0===mu&&(mu=je()),mu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Cu=0;Cu<wi.length;Cu++){var Tu=wi[Cu];ki(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}ki(pi,"onAnimationEnd"),ki(mi,"onAnimationIteration"),ki(fi,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(gi,"onTransitionRun"),ki(vi,"onTransitionStart"),ki(yi,"onTransitionCancel"),ki(bi,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function Du(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;r=a,o.currentTarget=c;try{r(o)}catch(u){Os(u)}o.currentTarget=null,r=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;r=a,o.currentTarget=c;try{r(o)}catch(u){Os(u)}o.currentTarget=null,r=l}}}}function ju(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var i=e+"__bubble";n.has(i)||(Fu(t,e,2,!1),n.add(i))}function Au(e,t,n){var i=0;t&&(i|=4),Fu(n,e,i,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[Pu]){e[Pu]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Nu.has(t)||Au(t,!1,e),Au(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pu]||(t[Pu]=!0,Au("selectionchange",!1,t))}}function Fu(e,t,n,i){switch(Gd(t)){case 2:var o=Wd;break;case 8:o=qd;break;default:o=Kd}n=o.bind(null,t,n,e),o=void 0,!_t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ou(e,t,n,i,o){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=Ke(a)))return;if(5===(l=s.tag)||6===l||26===l||27===l){i=r=s;continue e}a=a.parentNode}}i=i.return}Lt((function(){var i=r,o=Pt(n),s=[];e:{var a=xi.get(e);if(void 0!==a){var l=Xt,c=e;switch(e){case"keypress":if(0===Ut(n))break e;case"keydown":case"keyup":l=mn;break;case"focusin":c="focus",l=rn;break;case"focusout":c="blur",l=rn;break;case"beforeblur":case"afterblur":l=rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case pi:case mi:case fi:l=sn;break;case bi:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=fn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==a?a+"Capture":null:a;u=[];for(var p,m=i;null!==m;){var f=m;if(p=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===p||null===h||null!=(f=It(m,h))&&u.push(Ru(m,f,p)),d)break;m=m.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===At||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[$e])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=I(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=i),l!==c)){if(u=nn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=fn,f="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?a:Je(l),p=null==c?a:Je(c),(a=new u(f,m+"leave",l,n,o)).target=d,a.relatedTarget=p,f=null,Ke(o)===i&&((u=new u(h,m+"enter",c,n,o)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,m=0,p=u=l;p;p=Iu(p))m++;for(p=0,f=h;f;f=Iu(f))p++;for(;0<m-p;)u=Iu(u),m--;for(;0<p-m;)h=Iu(h),p--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Iu(u),h=Iu(h)}u=null}else u=null;null!==l&&_u(s,a,l,u,!1),null!==c&&null!==d&&_u(s,d,c,u,!0)}if("select"===(l=(a=i?Je(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=In;else if(Pn(a))if(_n)g=Kn;else{g=Wn;var v=Un}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Et(i.elementType)&&(g=In):g=qn;switch(g&&(g=g(e,i))?Mn(s,g,n,o):(v&&v(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&yt(a,"number",a.value)),v=i?Je(i):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(ii=v,oi=i,ri=null);break;case"focusout":ri=oi=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,ai(s,n,o);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(s,n,o)}var y;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=Ht()):(zt="value"in($t=o)?$t.value:$t.textContent,jn=!0)),0<(v=Lu(i,b)).length&&(b=new ln(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Dn(n))&&(b.data=y))),(y=Sn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(En=!0,Tn);case"textInput":return(e=t.data)===Tn&&En?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!wn&&Nn(e,t)?(e=Ht(),Bt=zt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Lu(i,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,o),s.push({event:v,listeners:b}),v.data=y)),function(e,t,n,i,o){if("submit"===t&&n&&n.stateNode===o){var r=ku((o[Ve]||null).action),s=i.submitter;s&&null!==(t=(t=s[Ve]||null)?ku(t.formAction):s.getAttribute("formAction"))&&(r=t,s=null);var a=new Xt("action","action",null,i,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==mu){var e=s?Su(o,s):new FormData(o);ds(n,{pending:!0,data:e,method:o.method,action:r},null,e)}}else"function"===typeof r&&(a.preventDefault(),e=s?Su(o,s):new FormData(o),ds(n,{pending:!0,data:e,method:o.method,action:r},r,e))},currentTarget:o}]})}}(s,e,i,n,o)}Du(s,t)}))}function Ru(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5!==(o=o.tag)&&26!==o&&27!==o||null===r||(null!=(o=It(e,n))&&i.unshift(Ru(e,o,r)),null!=(o=It(e,t))&&i.push(Ru(e,o,r))),e=e.return}return i}function Iu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function _u(e,t,n,i,o){for(var r=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,o?null!=(c=It(n,r))&&s.unshift(Ru(n,c,l)):o||null!=(c=It(n,r))&&s.push(Ru(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Vu=/\r\n?/g,$u=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace($u,"")}function Bu(e,t){return t=zu(t),zu(e)===t}function Hu(){}function Uu(e,t,n,i,o,r){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||kt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&kt(e,""+i);break;case"className":at(e,"class",i);break;case"tabIndex":at(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,i);break;case"style":Tt(e,i,r);break;case"data":if("object"!==t){at(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=jt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Uu(e,t,"name",o.name,o,null),Uu(e,t,"formEncType",o.formEncType,o,null),Uu(e,t,"formMethod",o.formMethod,o,null),Uu(e,t,"formTarget",o.formTarget,o,null)):(Uu(e,t,"encType",o.encType,o,null),Uu(e,t,"method",o.method,o,null),Uu(e,t,"target",o.target,o,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=jt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Hu);break;case"onScroll":null!=i&&ju("scroll",e);break;case"onScrollEnd":null!=i&&ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=jt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ju("beforetoggle",e),ju("toggle",e),st(e,"popover",i);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":st(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Nt.get(n)||n,i)}}function Wu(e,t,n,i,o,r){switch(n){case"style":Tt(e,i,r);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof i?kt(e,i):("number"===typeof i||"bigint"===typeof i)&&kt(e,""+i);break;case"onScroll":null!=i&&ju("scroll",e);break;case"onScrollEnd":null!=i&&ju("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Ve]||null)?r[n]:null)&&e.removeEventListener(t,r,o),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):st(e,n,i):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o)))}}function qu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ju("error",e),ju("load",e);var i,o=!1,r=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":o=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Uu(e,t,i,a,n,null)}}return r&&Uu(e,t,"srcSet",n.srcSet,n,null),void(o&&Uu(e,t,"src",n.src,n,null));case"input":ju("invalid",e);var l=i=a=r=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Uu(e,t,o,d,n,null)}}return vt(e,i,l,c,u,a,r,!1),void dt(e);case"select":for(r in ju("invalid",e),o=a=i=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":o=l;default:Uu(e,t,r,l,n,null)}return t=i,n=a,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(a in ju("invalid",e),i=r=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Uu(e,t,a,l,n,null)}return wt(e,o,r,i),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Uu(e,t,c,o,n,null);return;case"dialog":ju("cancel",e),ju("close",e);break;case"iframe":case"object":ju("load",e);break;case"video":case"audio":for(o=0;o<Eu.length;o++)ju(Eu[o],e);break;case"image":ju("error",e),ju("load",e);break;case"details":ju("toggle",e);break;case"embed":case"source":case"link":ju("error",e),ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Uu(e,t,u,o,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Wu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Uu(e,t,l,o,n,null))}var Ku=null,Yu=null;function Ju(e){return 9===e.nodeType?e:e.ownerDocument}function Qu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,id="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(od)}:ed;function od(e){setTimeout((function(){throw e}))}function rd(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===i)return e.removeChild(o),void fh(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=o}while(n);fh(t)}function sd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ad(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Ju(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=B.d;B.d={f:function(){var e=pd.f(),t=_c();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ps(t):pd.r(e)},D:function(e){pd.D(e),fd("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),fd("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var i=md;if(i&&e&&t){var o='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+ft(n.imageSizes)+'"]')):o+='[href="'+ft(e)+'"]';var r=o;switch(t){case"style":r=vd(e);break;case"script":r=xd(e)}ud.has(r)||(e=P({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(r,e),null!==i.querySelector(o)||"style"===t&&i.querySelector(yd(r))||"script"===t&&i.querySelector(wd(r))||(qu(t=i.createElement("link"),"link",e),Ge(t),i.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=md;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',r=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=xd(e)}if(!ud.has(r)&&(e=P({rel:"modulepreload",href:e},t),ud.set(r,e),null===n.querySelector(o))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(r)))return}qu(i=n.createElement("link"),"link",e),Ge(i),n.head.appendChild(i)}}},X:function(e,t){pd.X(e,t);var n=md;if(n&&e){var i=Qe(n).hoistableScripts,o=xd(e),r=i.get(o);r||((r=n.querySelector(wd(o)))||(e=P({src:e,async:!0},t),(t=ud.get(o))&&Td(e,t),Ge(r=n.createElement("script")),qu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(o,r))}},S:function(e,t,n){pd.S(e,t,n);var i=md;if(i&&e){var o=Qe(i).hoistableStyles,r=vd(e);t=t||"default";var s=o.get(r);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(yd(r)))a.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(r))&&Cd(e,n);var l=s=i.createElement("link");Ge(l),qu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Sd(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(r,s)}}},M:function(e,t){pd.M(e,t);var n=md;if(n&&e){var i=Qe(n).hoistableScripts,o=xd(e),r=i.get(o);r||((r=n.querySelector(wd(o)))||(e=P({src:e,async:!0,type:"module"},t),(t=ud.get(o))&&Td(e,t),Ge(r=n.createElement("script")),qu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(o,r))}}};var md="undefined"===typeof document?null:document;function fd(e,t,n){var i=md;if(i&&"string"===typeof t&&t){var o=ft(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),dd.has(o)||(dd.add(o),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(o)&&(qu(t=i.createElement("link"),"link",e),Ge(t),i.head.appendChild(t)))}}function gd(e,t,n,i){var o,r,a,l,c=(c=G.current)?hd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(i=(n=Qe(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(o=c,r=e,a=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=o.createElement("link"),l.preload=r,r.addEventListener("load",(function(){return l.loading|=1})),r.addEventListener("error",(function(){return l.loading|=2})),qu(r,"link",a),Ge(r),o.head.appendChild(r))))),t&&null===i)throw Error(s(528,""));return d}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=xd(n),(i=(n=Qe(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function vd(e){return'href="'+ft(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function xd(e){return'[src="'+ft(e)+'"]'}function wd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,Ge(i),i;var o=P({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(i=(e.ownerDocument||e).createElement("style")),qu(i,"style",o),Sd(i,n.precedence,e),t.instance=i;case"stylesheet":o=vd(n.href);var r=e.querySelector(yd(o));if(r)return t.state.loading|=4,t.instance=r,Ge(r),r;i=bd(n),(o=ud.get(o))&&Cd(i,o),Ge(r=(e.ownerDocument||e).createElement("link"));var a=r;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),qu(r,"link",i),t.state.loading|=4,Sd(r,n.precedence,e),t.instance=r;case"script":return r=xd(n.src),(o=e.querySelector(wd(r)))?(t.instance=o,Ge(o),o):(i=n,(o=ud.get(r))&&Td(i=P({},n),o),Ge(o=(e=e.ownerDocument||e).createElement("script")),qu(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Sd(i,n.precedence,e));return t.instance}function Sd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,r=o,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)r=a;else if(r!==o)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Cd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ed=null;function Nd(e,t,n){if(null===Ed){var i=new Map,o=Ed=new Map;o.set(n,i)}else(i=(o=Ed).get(n))||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var r=n[o];if(!(r[We]||r[_e]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var s=r.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(r):i.set(s,[r])}}return i}function Dd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ad=null;function Pd(){}function Md(){if(this.count--,0===this.count)if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Fd=null;function Od(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Fd=new Map,t.forEach(Rd,e),Fd=null,Md.call(e))}function Rd(e,t){if(!(4&t.state.loading)){var n=Fd.get(e);if(n)var i=n.get(null);else{n=new Map,Fd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<o.length;r++){var s=o[r];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(o=t.instance).getAttribute("data-precedence"),(r=n.get(s)||i)===i&&n.set(null,o),n.set(s,o),this.count++,i=Md.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),r?r.parentNode.insertBefore(o,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Ld={$$typeof:g,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Id(e,t,n,i,o,r,s,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function _d(e,t,n,i,o,r,s,a,l,c,u,d){return e=new Id(e,t,n,s,a,l,c,d),t=1,!0===r&&(t|=24),r=Rl(3,null,null,t),e.current=r,r.stateNode=e,(t=zo()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},ja(r),e}function Vd(e){return e?e=Mi:Mi}function $d(e,t,n,i,o,r){o=Vd(o),null===i.context?i.context=o:i.pendingContext=o,(i=Pa(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(i.callback=r),null!==(n=Ma(e,i,t))&&(Mc(n,0,t),Fa(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bd(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Hd(e){if(13===e.tag){var t=ji(e,67108864);null!==t&&Mc(t,0,67108864),Bd(e,67108864)}}var Ud=!0;function Wd(e,t,n,i){var o=A.T;A.T=null;var r=B.p;try{B.p=2,Kd(e,t,n,i)}finally{B.p=r,A.T=o}}function qd(e,t,n,i){var o=A.T;A.T=null;var r=B.p;try{B.p=8,Kd(e,t,n,i)}finally{B.p=r,A.T=o}}function Kd(e,t,n,i){if(Ud){var o=Yd(i);if(null===o)Ou(e,t,i,Jd,n),sh(e,i);else if(function(e,t,n,i,o){switch(t){case"focusin":return Zd=ah(Zd,e,t,n,i,o),!0;case"dragenter":return eh=ah(eh,e,t,n,i,o),!0;case"mouseover":return th=ah(th,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return nh.set(r,ah(nh.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,ih.set(r,ah(ih.get(r)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i))i.stopPropagation();else if(sh(e,i),4&t&&-1<rh.indexOf(e)){for(;null!==o;){var r=Ye(o);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var s=Te(r.pendingLanes);if(0!==s){var a=r;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-xe(s);a.entanglements[1]|=l,s&=~l}fu(r),0===(6&ec)&&(xc=le()+500,gu(0,!1))}}break;case 13:null!==(a=ji(r,2))&&Mc(a,0,2),_c(),Bd(r,2)}if(null===(r=Yd(i))&&Ou(e,t,i,Jd,n),r===o)break;o=r}null!==o&&i.stopPropagation()}else Ou(e,t,i,null,n)}}function Yd(e){return Qd(e=Pt(e))}var Jd=null;function Qd(e){if(Jd=null,null!==(e=Ke(e))){var t=I(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=_(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jd=e,null}function Gd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,eh=null,th=null,nh=new Map,ih=new Map,oh=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(t.pointerId)}}function ah(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=Ye(t))&&Hd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function lh(e){var t=Ke(e.target);if(null!==t){var n=I(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=_(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ac(),t=ji(n,e);null!==t&&Mc(t,0,e),Bd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&Hd(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);At=i,n.target.dispatchEvent(i),At=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Xd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),ih.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dh)))}var ph=null;function mh(e){ph!==e&&(ph=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if("function"!==typeof i){if(null===Qd(i||n))continue;break}var r=Ye(n);null!==r&&(e.splice(t,3),t-=3,ds(r,{pending:!0,data:o,method:n.method,action:i},i,o))}})))}function fh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),ih.forEach(t);for(var n=0;n<oh.length;n++){var i=oh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)lh(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var o=n[i],r=n[i+1],s=o[Ve]||null;if("function"===typeof r)s||mh(n);else if(s){var a=null;if(r&&r.hasAttribute("formAction")){if(o=r,s=r[Ve]||null)a=s.formAction;else if(null!==Qd(o))continue}else a=s.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),mh(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$d(t.current,Ac(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),$d(e.current,2,null,e,null,null),_c(),t[$e]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&lh(e)}};var yh=o.version;if("19.0.0"!==yh)throw Error(s(527,yh,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=I(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return V(o),e;if(r===i)return V(o),t;r=r.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=r;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?$(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ve=xh.inject(bh),ye=xh}catch(kh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,i="",o=Rs,r=Ls,l=Is;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=_d(e,1,!1,null,0,n,i,o,r,l,0,null),e[$e]=t.current,Mu(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var i=!1,o="",r=Rs,l=Ls,c=Is,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=_d(e,1,!0,t,0,i,o,r,l,c,0,u)).context=Vd(null),n=t.current,(o=Pa(i=Ac())).callback=null,Ma(n,o,i),t.current.lanes=i,Me(t,i),fu(t),e[$e]=t.current,Mu(e),new vh(t)},t.version="19.0.0"},672:(e,t,n)=>{"use strict";var i=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(o(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:r}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(e,t,i){var o=null;if(void 0!==i&&(o=""+i),void 0!==t.key&&(o=""+t.key),"key"in t)for(var r in i={},t)"key"!==r&&(i[r]=t[r]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=o,t.jsxs=o},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,f(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(e,t,i,o,r,s){return i=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:s}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(){}function j(e,t,o,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return j((u=e._init)(e._payload),t,o,r,s)}}if(u)return s=s(e),u=""===r?"."+N(e,0):r,w(s)?(o="",null!=u&&(o=u.replace(E,"$&/")+"/"),j(s,t,o,"",(function(e){return e}))):null!=s&&(T(s)&&(l=s,c=o+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=C(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,m=""===r?".":r+":";if(w(e))for(var f=0;f<e.length;f++)u+=j(r=e[f],t,o,a=m+N(r,f),s);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(r=e.next()).done;)u+=j(r=r.value,t,o,a=m+N(r,f++),s);else if("object"===a){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(D,D):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var i=[],o=0;return j(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function F(){}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=r,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=f({},e.props),o=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(i[r]=t[r]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var s=Array(r),a=0;a<r;a++)s[a]=arguments[a+2];i.children=s}return C(e.type,o,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,o={},r=null;if(null!=t)for(i in void 0!==t.key&&(r=""+t.key),t)S.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return C(e,r,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var i=e(),o=k.S;null!==o&&o(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(F,M)}catch(r){M(r)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},579:(e,t,n)=>{"use strict";e.exports=n(799)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(!(0<r(o,t)))break e;e[i]=t,e[n]=o,n=i}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>r(l,n))c<o&&0>r(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<o&&0>r(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(g=!1,x(e),!f)if(null!==i(c))f=!0,P();else{var t=i(u);null!==t&&M(w,t.startTime-e)}}var k,S=!1,C=-1,T=5,E=-1;function N(){return!(t.unstable_now()-E<T)}function D(){if(S){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,g&&(g=!1,y(C),C=-1),m=!0;var r=p;try{t:{for(x(e),h=i(c);null!==h&&!(h.expirationTime>e&&N());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===i(c)&&o(c),x(e)}else o(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&M(w,l.startTime-e),n=!1}}break e}finally{h=null,p=r,m=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof b)k=function(){b(D)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=D,k=function(){A.postMessage(null)}}else k=function(){v(D,0)};function P(){S||(S=!0,k())}function M(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,P())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,n(u,e),null===i(c)&&e===i(u)&&(g?(y(C),C=-1):g=!0,M(w,r-s))):(e.sortIndex=a,n(c,e),f||m||(f=!0,P())),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},330:(e,t,n)=>{"use strict";var i=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},r=i.useState,s=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(i){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=r({inst:{value:n,getSnapshot:t}}),o=i[0].inst,u=i[1];return a((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),s((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},717:(e,t,n)=>{"use strict";var i=n(43),o=n(461);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useSyncExternalStore,a=i.useRef,l=i.useEffect,c=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,o){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=i(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return a=t}return a=e}if(t=a,r(s,e))return t;var n=i(e);return void 0!==o&&o(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,i,o]);var p=s(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=p}),[p]),u(p),p}},461:(e,t,n)=>{"use strict";e.exports=n(330)},443:(e,t,n)=>{"use strict";e.exports=n(717)},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".f2baf1fb.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(i,o,r,s)=>{if(e[i])e[i].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+r),a.src=i),e[i]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,i)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise(((n,i)=>o=e[t]=[n,i]));i.push(o[2]=r);var s=n.p+n.u(t),a=new Error;n.l(s,(i=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var o,r,s=i[0],a=i[1],l=i[2],c=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(i);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunkfrontend=self.webpackChunkfrontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Qd,hasStandardBrowserEnv:()=>Xd,hasStandardBrowserWebWorkerEnv:()=>Zd,navigator:()=>Gd,origin:()=>eh});var t=n(43),i=n(391);function o(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const u=["sri"],d=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function v(){return C((function(e,t){let{pathname:n,search:i,hash:o}=e.location;return w("",{pathname:n,search:i,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function C(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:r=!1}=i,s=o.history,a="POP",l=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){a="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:a,location:m.location,delta:t})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:k(e);return n=n.replace(/ $/,"%20"),y(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==u&&(u=0,s.replaceState(c(c({},s.state),{},{idx:u}),""));let m={get action(){return a},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(g,h),l=e,()=>{o.removeEventListener(g,h),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let i=w(m.location,e,t);n&&n(i,e),u=d()+1;let c=x(i,u),h=m.createHref(i);try{s.pushState(c,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;o.location.assign(h)}r&&l&&l({action:a,location:m.location,delta:1})},replace:function(e,t){a="REPLACE";let i=w(m.location,e,t);n&&n(i,e),u=d();let o=x(i,u),c=m.createHref(i);s.replaceState(o,"",c),r&&l&&l({action:a,location:m.location,delta:0})},go:e=>s.go(e)};return m}new WeakMap;function T(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,i){let o=z(("string"===typeof t?S(t):t).pathname||"/",n);if(null==o)return null;let r=N(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let e=$(o);s=I(r[a],e,i)}return s}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(y(s.relativePath.startsWith(i),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(i.length));let a=q([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),N(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:L(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of D(e.path))o(e,t,i);else o(e,t)})),t}function D(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return o?[r,""]:[r];let s=D(i.join("/")),a=[];return a.push(...s.map((e=>""===e?r:[r,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var j=/^:[\w-]+$/,A=3,P=2,M=1,F=10,O=-2,R=e=>"*"===e;function L(e,t){let n=e.split("/"),i=n.length;return n.some(R)&&(i+=O),t&&(i+=P),n.filter((e=>!R(e))).reduce(((e,t)=>e+(j.test(t)?A:""===t?M:F)),i)}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,o={},r="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===r?t:t.slice(r.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:q([r,u.pathname]),pathnameBase:K(q([r,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(r=q([r,u.pathnameBase]))}return s}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=V(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:o}=t;if("*"===i){let e=a[n]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:r,pathnameBase:s,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(i.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function $(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function B(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function U(e){let t=H(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function W(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=S(e):(i=c({},e),y(!i.pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),y(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),y(!i.search||!i.search.includes("#"),B("#","search","hash",i)));let r,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)r=n;else{let e=t.length-1;if(!o&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:o=""}="string"===typeof e?S(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:Y(i),hash:J(o)}}(i,r),u=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var q=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var G=["POST","PUT","PATCH","DELETE"],X=(new Set(G),["GET",...G]);new Set(X),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var ee=t.createContext(null);ee.displayName="DataRouterState";var te=t.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=t.createContext(new Map);ne.displayName="Fetchers";var ie=t.createContext(null);ie.displayName="Await";var oe=t.createContext(null);oe.displayName="Navigation";var re=t.createContext(null);re.displayName="Location";var se=t.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var ae=t.createContext(null);ae.displayName="RouteError";function le(){return null!=t.useContext(re)}function ce(){return y(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(re).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){t.useContext(oe).static||t.useLayoutEffect(e)}function he(){let{isDataRoute:e}=t.useContext(se);return e?function(){let{router:e}=we("useNavigate"),n=Se("useNavigate"),i=t.useRef(!1);de((()=>{i.current=!0}));let o=t.useCallback((async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(i.current,ue),i.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},o)))}),[e,n]);return o}():function(){y(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:i}=t.useContext(oe),{matches:o}=t.useContext(se),{pathname:r}=ce(),s=JSON.stringify(U(o)),a=t.useRef(!1);de((()=>{a.current=!0}));let l=t.useCallback((function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ue),!a.current)return;if("number"===typeof t)return void i.go(t);let l=W(t,JSON.parse(s),r,"path"===o.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:q([n,l.pathname])),(o.replace?i.replace:i.push)(l,o.state,o)}),[n,i,s,r,e]);return l}()}t.createContext(null);function pe(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:i}=t.useContext(se),{pathname:o}=ce(),r=JSON.stringify(U(i));return t.useMemo((()=>W(e,JSON.parse(r),o,"path"===n)),[e,r,o,n])}function me(e,n,i,o){y(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=t.useContext(oe),{matches:a}=t.useContext(se),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Ee(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=ce();if(n){var g;let e="string"===typeof n?S(n):n;y("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let v=m.pathname||"/",x=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&i&&i.matches&&i.matches.length>0?i.matches:T(e,{pathname:x});b(p||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=be(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:q([h,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:q([h,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,o);return n&&k?t.createElement(re.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},k):k}function fe(){let e=Ce(),n=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:r},i):null,a)}var ge=t.createElement(fe,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(se.Provider,{value:this.props.routeContext},t.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:n,match:i,children:o}=e,r=t.useContext(Z);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(se.Provider,{value:n},o)}function be(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!i)return null;if(i.errors)e=i.matches;else{if(0!==n.length||i.initialized||!(i.matches.length>0))return null;e=i.matches}}let o=e,r=null===i||void 0===i?void 0:i.errors;if(null!=r){let e=o.findIndex((e=>e.route.id&&void 0!==(null===r||void 0===r?void 0:r[e.route.id])));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(r).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let s=!1,a=-1;if(i)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=i,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){s=!0,o=a>=0?o.slice(0,a+1):[o[0]];break}}}return o.reduceRight(((e,l,c)=>{let u,d=!1,h=null,p=null;i&&(u=r&&l.route.id?r[l.route.id]:void 0,h=l.route.errorElement||ge,s&&(a<0&&0===c?(Ee("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):a===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,c+1)),f=()=>{let n;return n=u?h:d?p:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(ye,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=i},children:n})};return i&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(ve,{location:i.location,revalidation:i.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()}),null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let n=t.useContext(Z);return y(n,xe(e)),n}function ke(e){let n=t.useContext(ee);return y(n,xe(e)),n}function Se(e){let n=function(e){let n=t.useContext(se);return y(n,xe(e)),n}(e),i=n.matches[n.matches.length-1];return y(i.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),i.route.id}function Ce(){var e;let n=t.useContext(ae),i=ke("useRouteError"),o=Se("useRouteError");return void 0!==n?n:null===(e=i.errors)||void 0===e?void 0:e[o]}var Te={};function Ee(e,t,n){t||Te[e]||(Te[e]=!0,b(!1,n))}t.memo((function(e){let{routes:t,future:n,state:i}=e;return me(t,void 0,i,n)}));function Ne(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:n="/",children:i=null,location:o,navigationType:r="POP",navigator:s,static:a=!1}=e;y(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:s,static:a,future:{}})),[l,s,a]);"string"===typeof o&&(o=S(o));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=o,f=t.useMemo((()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:r}}),[l,u,d,h,p,m,r]);return b(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:t.createElement(oe.Provider,{value:c},t.createElement(re.Provider,{children:i,value:f}))}function je(e){let{children:t,location:n}=e;return me(Ae(t),n)}t.Component;function Ae(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];return t.Children.forEach(e,((e,o)=>{if(!t.isValidElement(e))return;let r=[...n,o];if(e.type===t.Fragment)return void i.push.apply(i,Ae(e.props.children,r));y(e.type===Ne,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ae(e.props.children,r)),i.push(s)})),i}var Pe="get",Me="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Re=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Le(e){return null==e||Re.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function Ie(e,t){let n,i,o,r,s;if(Fe(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");i=s?z(s,t):null,n=e.getAttribute("method")||Pe,o=Le(e.getAttribute("enctype"))||Me,r=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(i=a?z(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Pe,o=Le(e.getAttribute("formenctype"))||Le(s.getAttribute("enctype"))||Me,r=new FormData(s,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,i)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,i=null,o=Me,s=e}var a;return r&&"text/plain"===o&&(s=r,r=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:r,body:s}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function $e(e){return null!=e&&"string"===typeof e.page}function ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Be(e,t,n,i,o,r){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===r?t.filter(((t,r)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,r)||a(t,r))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0})):[]}function He(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map((e=>{let i=t.routes[e.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o})).flat(1),[...new Set(i)];var i}function Ue(e,t){let n=new Set,i=new Set(t);return e.reduce(((e,o)=>{if(t&&!$e(o)&&"script"===o.as&&o.href&&i.has(o.href))return e;let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(o));return n.has(r)||(n.add(r),e.push({key:r,link:o})),e}),[])}function We(e){return{__html:e}}Symbol("SingleFetchRedirect");var qe=new Set([100,101,204,205]);function Ke(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===z(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}t.Component;function Ye(e){let{error:n,isOutsideRemixApp:i}=e;console.error(n);let o,r=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Q(n))return t.createElement(Je,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),r);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Je,{title:"Application Error!",isOutsideRemixApp:i},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),r)}function Je(e){var n;let{title:i,renderScripts:o,isOutsideRemixApp:r,children:s}=e,{routeModules:a}=et();return null!==a.root&&void 0!==n&&n.Layout&&!r?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,i)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,o?t.createElement(at,null):null)))}function Qe(e){return!0===e}function Ge(){let e=t.useContext(Z);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=t.useContext(ee);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=t.createContext(void 0);function et(){let e=t.useContext(Ze);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function it(e){let{page:n}=e,i=o(e,d),{router:r}=Ge(),s=t.useMemo((()=>T(r.routes,n,r.basename)),[r.routes,n,r.basename]);return s?t.createElement(rt,c({page:n,matches:s},i)):null}function ot(e){let{manifest:n,routeModules:i}=et(),[o,r]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return Ue((await Promise.all(e.map((async e=>{let i=t.routes[e.route.id];if(i){let e=await Ve(i,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ze).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"}))))}(e,n,i).then((e=>{t||r(e)})),()=>{t=!0}}),[e,n,i]),o}function rt(e){let{page:n,matches:i}=e,r=o(e,h),s=ce(),{manifest:a,routeModules:l}=et(),{basename:u}=Ge(),{loaderData:d,matches:p}=Xe(),m=t.useMemo((()=>Be(n,i,p,a,s,"data")),[n,i,p,a,s]),f=t.useMemo((()=>Be(n,i,p,a,s,"assets")),[n,i,p,a,s]),g=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(i.forEach((n=>{var i;let o=a.routes[n.route.id];o&&o.hasLoader&&(!m.some((e=>e.route.id===n.route.id))&&n.route.id in d&&null!==(i=l[n.route.id])&&void 0!==i&&i.shouldRevalidate||o.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let o=Ke(n,u);return t&&e.size>0&&o.searchParams.set("_routes",i.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[u,d,s,a,m,i,n,l]),v=t.useMemo((()=>He(f,a)),[f,a]),y=ot(f);return t.createElement(t.Fragment,null,g.map((e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},r)))),v.map((e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},r)))),y.map((e=>{let{key:n,link:i}=e;return t.createElement("link",c({key:n},i))})))}Ze.displayName="FrameworkContext";var st=!1;function at(e){let{manifest:n,serverHandoffString:i,isSpaMode:r,ssr:s,renderMeta:a}=et(),{router:l,static:d,staticContext:h}=Ge(),{matches:p}=Xe(),m=Qe(s);a&&(a.didRenderScripts=!0);let f=nt(p,null,r);t.useEffect((()=>{0}),[]);let g=t.useMemo((()=>{var r;let s=h?"window.__reactRouterContext = ".concat(i,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==n.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(f.map(((e,t)=>{let i="route".concat(t),o=n.routes[e.route.id];_e(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=o,u=[...r?[{module:r,varName:"".concat(i,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(i,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(i," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=o(e,u),r=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach((e=>{let n=T(t.routes,e,t.basename);n&&n.forEach((e=>r.add(e.route.id)))}));let l=[...r].reduce(((e,t)=>Object.assign(e,{[t]:i.routes[t]})),{});return c(c({},i),{},{routes:l,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(s),type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(a),type:"module",async:!0})))}),[]),v=st?[]:(n.entry.imports.concat(He(f,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let b="object"===typeof n.sri?n.sri:{};return st?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),v.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:b[n],suppressHydrationWarning:!0}))),g)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.5.1")}catch(MI){}function ut(e){let{basename:n,children:i,window:o}=e,r=t.useRef();null==r.current&&(r.current=v({window:o,v5Compat:!0}));let s=r.current,[a,l]=t.useState({action:s.action,location:s.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>s.listen(c)),[s,c]),t.createElement(De,{basename:n,children:i,location:a.location,navigationType:a.action,navigator:s})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=t.forwardRef((function(e,n){let i,{onClick:r,discover:s="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:h,target:m,to:f,preventScrollReset:g,viewTransition:v}=e,x=o(e,p),{basename:w}=t.useContext(oe),S="string"===typeof f&&dt.test(f),C=!1;if("string"===typeof f&&S&&(i=f,ct))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=z(t.pathname,w);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:C=!0}catch(MI){b(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let T=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=t.useContext(oe),{hash:r,pathname:s,search:a}=pe(e,{relative:n}),l=s;return"/"!==i&&(l="/"===s?i:q([i,s])),o.createHref({pathname:l,search:a,hash:r})}(f,{relative:l}),[E,N,D]=function(e,n){let i=t.useContext(Ze),[o,r]=t.useState(!1),[s,a]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(o){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[o]);let m=()=>{r(!0)},f=()=>{r(!1),a(!1)};return i?"intent"!==e?[s,p,{}]:[s,p,{onFocus:tt(l,m),onBlur:tt(c,f),onMouseEnter:tt(u,m),onMouseLeave:tt(d,f),onTouchStart:tt(h,m)}]:[!1,p,{}]}(a,x),j=function(e){let{target:n,replace:i,state:o,preventScrollReset:r,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=pe(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:k(c)===k(u);l(e,{replace:n,state:o,preventScrollReset:r,relative:s,viewTransition:a})}}),[c,l,u,i,o,n,e,r,s,a])}(f,{replace:d,state:h,target:m,preventScrollReset:g,relative:l,viewTransition:v});let A=t.createElement("a",c(c(c({},x),D),{},{href:i||T,onClick:C||u?r:function(e){r&&r(e),e.defaultPrevented||j(e)},ref:lt(n,N),target:m,"data-discover":S||"render"!==s?void 0:"true"}));return E&&!S?t.createElement(t.Fragment,null,A,t.createElement(it,{page:T})):A}));ht.displayName="Link";var pt=t.forwardRef((function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:h}=e,p=o(e,m),f=pe(u,{relative:p.relative}),g=ce(),v=t.useContext(ee),{navigator:b,basename:x}=t.useContext(oe),w=null!=v&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.useContext(te);y(null!=i,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=gt("useViewTransitionState"),r=pe(e,{relative:n.relative});if(!i.isTransitioning)return!1;let s=z(i.currentLocation.pathname,o)||i.currentLocation.pathname,a=z(i.nextLocation.pathname,o)||i.nextLocation.pathname;return null!=_(r.pathname,a)||null!=_(r.pathname,s)}(f)&&!0===d,k=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,S=g.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(S=S.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&x&&(C=z(C,x)||C);const T="/"!==k&&k.endsWith("/")?k.length-1:k.length;let E,N=S===k||!a&&S.startsWith(k)&&"/"===S.charAt(T),D=null!=C&&(C===k||!a&&C.startsWith(k)&&"/"===C.charAt(k.length)),j={isActive:N,isPending:D,isTransitioning:w},A=N?i:void 0;E="function"===typeof s?s(j):[s,N?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(j):l;return t.createElement(ht,c(c({},p),{},{"aria-current":A,className:E,ref:n,style:P,to:u,viewTransition:d}),"function"===typeof h?h(j):h)}));pt.displayName="NavLink";var mt=t.forwardRef(((e,n)=>{let{discover:i="render",fetcherKey:r,navigate:s,reloadDocument:a,replace:l,state:u,method:d=Pe,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v}=e,b=o(e,f),x=bt(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:i}=t.useContext(oe),o=t.useContext(se);y(o,"useFormAction must be used inside a RouteContext");let[r]=o.matches.slice(-1),s=c({},pe(e||".",{relative:n})),a=ce();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!r.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(s.pathname="/"===s.pathname?i:q([i,s.pathname]));return k(s)}(h,{relative:m}),S="get"===d.toLowerCase()?"get":"post",C="string"===typeof h&&dt.test(h);return t.createElement("form",c(c({ref:n,method:S,action:w,onSubmit:a?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:v})}},b),{},{"data-discover":C||"render"!==i?void 0:"true"}))}));function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let n=t.useContext(Z);return y(n,ft(e)),n}mt.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function bt(){let{router:e}=gt("useSubmit"),{basename:n}=t.useContext(oe),i=Se("useRouteId");return t.useCallback((async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:s,encType:a,formData:l,body:c}=Ie(t,n);if(!1===o.navigate){let t=o.fetcherKey||yt();await e.fetch(t,i,o.action||r,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||r,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,n,i])}new TextEncoder;const xt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wt=(()=>new Set(xt))(),kt=e=>180*e/Math.PI,St=e=>{const t=kt(Math.atan2(e[1],e[0]));return Tt(t)},Ct={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:St,rotateZ:St,skewX:e=>kt(Math.atan(e[1])),skewY:e=>kt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tt=e=>((e%=360)<0&&(e+=360),e),Et=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nt=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Dt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Et,scaleY:Nt,scale:e=>(Et(e)+Nt(e))/2,rotateX:e=>Tt(kt(Math.atan2(e[6],e[5]))),rotateY:e=>Tt(kt(Math.atan2(-e[2],e[0]))),rotateZ:St,rotate:St,skewX:e=>kt(Math.atan(e[4])),skewY:e=>kt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jt(e){return e.includes("scale")?1:0}function At(e,t){if(!e||"none"===e)return jt(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let i,o;if(n)i=Dt,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);i=Ct,o=t}if(!o)return jt(t);const r=i[t],s=o[1].split(",").map(Pt);return"function"===typeof r?r(s):s[r]}function Pt(e){return parseFloat(e.trim())}const Mt=e=>t=>"string"===typeof t&&t.startsWith(e),Ft=Mt("--"),Ot=Mt("var(--"),Rt=e=>!!Ot(e)&&Lt.test(e.split("/*")[0].trim()),Lt=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function It(e){let{top:t,left:n,right:i,bottom:o}=e;return{x:{min:n,max:i},y:{min:t,max:o}}}const _t=(e,t,n)=>e+(t-e)*n;function Vt(e){return void 0===e||1===e}function $t(e){let{scale:t,scaleX:n,scaleY:i}=e;return!Vt(t)||!Vt(n)||!Vt(i)}function zt(e){return $t(e)||Bt(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Bt(e){return Ht(e.x)||Ht(e.y)}function Ht(e){return e&&"0%"!==e}function Ut(e,t,n){return n+t*(e-n)}function Wt(e,t,n,i,o){return void 0!==o&&(e=Ut(e,o,i)),Ut(e,n,i)+t}function qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=Wt(e.min,t,n,i,o),e.max=Wt(e.max,t,n,i,o)}function Kt(e,t){let{x:n,y:i}=t;qt(e.x,n.translate,n.scale,n.originPoint),qt(e.y,i.translate,i.scale,i.originPoint)}const Yt=.999999999999,Jt=1.0000000000001;function Qt(e,t){e.min=e.min+t,e.max=e.max+t}function Gt(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;qt(e,t,n,_t(e.min,e.max,o),i)}function Xt(e,t){Gt(e.x,t.x,t.scaleX,t.scale,t.originX),Gt(e.y,t.y,t.scaleY,t.scale,t.originY)}function Zt(e,t){return It(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const en=new Set(["width","height","top","left","right","bottom",...xt]),tn=(e,t,n)=>n>t?t:n<e?e:n,nn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},on=c(c({},nn),{},{transform:e=>tn(0,1,e)}),rn=c(c({},nn),{},{default:1}),sn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),an=sn("deg"),ln=sn("%"),cn=sn("px"),un=sn("vh"),dn=sn("vw"),hn=(()=>c(c({},ln),{},{parse:e=>ln.parse(e)/100,transform:e=>ln.transform(100*e)}))(),pn=e=>t=>t.test(e),mn=[nn,cn,ln,an,dn,un,{test:e=>"auto"===e,parse:e=>e}],fn=e=>mn.find(pn(e));const gn=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),vn=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function yn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[i,o]=function(e){const t=vn.exec(e);if(!t)return[,];const[,n,i,o]=t;return["--".concat(null!==n&&void 0!==n?n:i),o]}(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const e=r.trim();return gn(e)?parseFloat(e):e}return Rt(o)?yn(o,t,n+1):o}const bn=e=>e===nn||e===cn,xn=new Set(["x","y","z"]),wn=xt.filter((e=>!xn.has(e)));const kn={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return At(n,"x")},y:(e,t)=>{let{transform:n}=t;return At(n,"y")}};kn.translateX=kn.x,kn.translateY=kn.y;const Sn=e=>e,Cn={},Tn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],En={value:null,addProjectionMetrics:null};function Nn(e,t){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,s=Tn.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,o=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{i.delete(e),s.delete(e)},process:e=>{a=e,o?r=!0:(o=!0,[n,i]=[i,n],n.forEach(c),t&&En.value&&En.value.frameloop[t].push(l),l=0,n.clear(),o=!1,r&&(r=!1,u.process(e)))}};return u}(r,t?n:void 0),e)),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:m}=s,f=()=>{const r=Cn.useManualTiming?o.timestamp:performance.now();n=!1,Cn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(r-o.timestamp,40),1)),o.timestamp=r,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),u.process(o),d.process(o),h.process(o),p.process(o),m.process(o),o.isProcessing=!1,n&&t&&(i=!1,e(f))},g=Tn.reduce(((t,r)=>{const a=s[r];return t[r]=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,o.isProcessing||e(f)),a.schedule(t,r,s)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<Tn.length;t++)s[Tn[t]].cancel(e)},state:o,steps:s}}const{schedule:Dn,cancel:jn,state:An,steps:Pn}=Nn("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Sn,!0),Mn=new Set;let Fn=!1,On=!1,Rn=!1;function Ln(){if(On){const e=Array.from(Mn).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return wn.forEach((n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{var n;let[i,o]=t;null===(n=e.getValue(i))||void 0===n||n.set(o)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}On=!1,Fn=!1,Mn.forEach((e=>e.complete(Rn))),Mn.clear()}function In(){Mn.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(On=!0)}))}class _n{constructor(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Mn.add(this),Fn||(Fn=!0,Dn.read(In),Dn.resolveKeyframes(Ln))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){const o=null===i||void 0===i?void 0:i.get(),r=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const i=n.readValue(t,r);void 0!==i&&null!==i&&(e[0]=i)}void 0===e[0]&&(e[0]=r),i&&void 0===o&&i.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mn.delete(this)}cancel(){"scheduled"===this.state&&(Mn.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Vn=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const $n=e=>Math.round(1e5*e)/1e5,zn=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Bn=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Hn=(e,t)=>n=>Boolean("string"===typeof n&&Bn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Un=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[o,r,s,a]=i.match(zn);return{[e]:parseFloat(o),[t]:parseFloat(r),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Wn=c(c({},nn),{},{transform:e=>Math.round((e=>tn(0,255,e))(e))}),qn={test:Hn("rgb","red"),parse:Un("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:o=1}=e;return"rgba("+Wn.transform(t)+", "+Wn.transform(n)+", "+Wn.transform(i)+", "+$n(on.transform(o))+")"}};const Kn={test:Hn("#"),parse:function(e){let t="",n="",i="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}},transform:qn.transform},Yn={test:Hn("hsl","hue"),parse:Un("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+ln.transform($n(n))+", "+ln.transform($n(i))+", "+$n(on.transform(o))+")"}},Jn={test:e=>qn.test(e)||Kn.test(e)||Yn.test(e),parse:e=>qn.test(e)?qn.parse(e):Yn.test(e)?Yn.parse(e):Kn.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?qn.transform(e):Yn.transform(e),getAnimatableNone:e=>{const t=Jn.parse(e);return t.alpha=0,Jn.transform(t)}},Qn=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Gn="number",Xn="color",Zn=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function ei(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},o=[];let r=0;const s=t.replace(Zn,(e=>(Jn.test(e)?(i.color.push(r),o.push(Xn),n.push(Jn.parse(e))):e.startsWith("var(")?(i.var.push(r),o.push("var"),n.push(e)):(i.number.push(r),o.push(Gn),n.push(parseFloat(e))),++r,"${}"))).split("${}");return{values:n,split:s,indexes:i,types:o}}function ti(e){return ei(e).values}function ni(e){const{split:t,types:n}=ei(e),i=t.length;return e=>{let o="";for(let r=0;r<i;r++)if(o+=t[r],void 0!==e[r]){const t=n[r];o+=t===Gn?$n(e[r]):t===Xn?Jn.transform(e[r]):e[r]}return o}}const ii=e=>"number"===typeof e?0:Jn.test(e)?Jn.getAnimatableNone(e):e;const oi={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(zn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Qn))||void 0===n?void 0:n.length)||0)>0},parse:ti,createTransformer:ni,getAnimatableNone:function(e){const t=ti(e);return ni(e)(t.map(ii))}},ri=new Set(["brightness","contrast","saturate","opacity"]);function si(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(zn)||[];if(!i)return e;const o=n.replace(i,"");let r=ri.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+o+")"}const ai=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,li=c(c({},oi),{},{getAnimatableNone:e=>{const t=e.match(ai);return t?t.map(si).join(" "):e}}),ci=c(c({},nn),{},{transform:Math.round}),ui=c(c({borderWidth:cn,borderTopWidth:cn,borderRightWidth:cn,borderBottomWidth:cn,borderLeftWidth:cn,borderRadius:cn,radius:cn,borderTopLeftRadius:cn,borderTopRightRadius:cn,borderBottomRightRadius:cn,borderBottomLeftRadius:cn,width:cn,maxWidth:cn,height:cn,maxHeight:cn,top:cn,right:cn,bottom:cn,left:cn,padding:cn,paddingTop:cn,paddingRight:cn,paddingBottom:cn,paddingLeft:cn,margin:cn,marginTop:cn,marginRight:cn,marginBottom:cn,marginLeft:cn,backgroundPositionX:cn,backgroundPositionY:cn},{rotate:an,rotateX:an,rotateY:an,rotateZ:an,scale:rn,scaleX:rn,scaleY:rn,scaleZ:rn,skew:an,skewX:an,skewY:an,distance:cn,translateX:cn,translateY:cn,translateZ:cn,x:cn,y:cn,z:cn,perspective:cn,transformPerspective:cn,opacity:on,originX:hn,originY:hn,originZ:cn}),{},{zIndex:ci,fillOpacity:on,strokeOpacity:on,numOctaves:ci}),di=c(c({},ui),{},{color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:li,WebkitFilter:li}),hi=e=>di[e];function pi(e,t){let n=hi(e);return n!==li&&(n=oi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mi=new Set(["auto","none","0"]);class fi extends _n{constructor(e,t,n,i,o){super(e,t,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Rt(n))){const i=yn(n,t.current);void 0!==i&&(e[a]=i),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!en.has(n)||2!==e.length)return;const[i,o]=e,r=fn(i),s=fn(o);if(r!==s)if(bn(r)&&bn(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else kn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let o=0;o<e.length;o++)(null===e[o]||("number"===typeof(i=e[o])?0===i:null===i||"none"===i||"0"===i||Vn(i)))&&n.push(o);var i;n.length&&function(e,t,n){let i,o=0;for(;o<e.length&&!i;){const t=e[o];"string"===typeof t&&!mi.has(t)&&ei(t).values.length&&(i=e[o]),o++}if(i&&n)for(const r of t)e[r]=pi(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,s=i[r];i[r]=kn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[n,i]=e;t.getValue(n).set(i)})),this.resolveNoneKeyframes()}}const gi=e=>Boolean(e&&e.getVelocity);let vi;function yi(){vi=void 0}const bi={now:()=>(void 0===vi&&bi.set(An.isProcessing||Cn.useManualTiming?An.timestamp:performance.now()),vi),set:e=>{vi=e,queueMicrotask(yi)}};function xi(e,t){-1===e.indexOf(t)&&e.push(t)}function wi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ki{constructor(){this.subscriptions=[]}add(e){return xi(this.subscriptions,e),()=>wi(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let o=0;o<i;o++){const i=this.subscriptions[o];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Si(e,t){return t?e*(1e3/t):0}const Ci={current:void 0};class Ti{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=bi.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=bi.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ki);const n=this.events[e].add(t);return"change"===e?()=>{n(),Dn.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ci.current&&Ci.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=bi.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Si(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ei(e,t){return new Ti(e,t)}const Ni=[...mn,Jn,oi],{schedule:Di,cancel:ji}=Nn(queueMicrotask,!1),Ai={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pi={};for(const n in Ai)Pi[n]={isEnabled:e=>Ai[n].some((t=>!!e[t]))};const Mi=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Fi="undefined"!==typeof window,Oi={current:null},Ri={current:!1};const Li=new WeakMap;function Ii(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function _i(e){return"string"===typeof e||Array.isArray(e)}const Vi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$i=["initial",...Vi];function zi(e){return Ii(e.animate)||$i.some((t=>_i(e[t])))}function Bi(e){return Boolean(zi(e)||e.variants)}function Hi(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Ui(e,t,n,i){if("function"===typeof t){const[o,r]=Hi(i);t=t(void 0!==n?n:e.custom,o,r)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,r]=Hi(i);t=t(void 0!==n?n:e.custom,o,r)}return t}const Wi=["willChange"],qi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ki{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_n,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=bi.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Dn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget=c({},u),this.initialValues=n.initial?c({},u):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=zi(n),this.isVariantNode=Bi(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:p}=h,m=o(h,Wi);for(const o in m){const e=m[o];void 0!==u[o]&&gi(e)&&e.set(u[o])}}mount(e){var t;this.current=e,Li.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Ri.current||function(){if(Ri.current=!0,Fi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Oi.current=e.matches;e.addEventListener("change",t),t()}else Oi.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Oi.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),jn(this.notifyUpdate),jn(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wt.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Dn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}));let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{i(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Pi){const t=Pi[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<qi.length;n++){const t=qi[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const o=t[i],r=n[i];if(gi(o))e.addValue(i,o);else if(gi(r))e.addValue(i,Ei(o,{owner:e}));else if(r!==o)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,Ei(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ei(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==i&&null!==i&&("string"===typeof i&&(gn(i)||Vn(i))?i=parseFloat(i):(o=i,!Ni.find(pn(o))&&oi.test(t)&&(i=pi(e,t))),this.setBaseTarget(e,gi(i)?i.get():i)),gi(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var i;const o=Ui(this.props,t,null===(i=this.presenceContext)||void 0===i?void 0:i.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||gi(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new ki),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Di.render(this.render)}}class Yi extends Ki{constructor(){super(...arguments),this.KeyframeResolver=fi}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gi(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}const Ji=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Qi={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gi=xt.length;function Xi(e,t,n){const{style:i,vars:o,transformOrigin:r}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(wt.has(l))s=!0;else if(Ft(l))o[l]=e;else{const t=Ji(e,ui[l]);l.startsWith("origin")?(a=!0,r[l]=t):i[l]=t}}if(t.transform||(s||n?i.transform=function(e,t,n){let i="",o=!0;for(let r=0;r<Gi;r++){const s=xt[r],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=Ji(a,ui[s]);l||(o=!1,i+="".concat(Qi[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return i=i.trim(),n?i=n(t,o?"":i):o&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=r;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Zi(e,t,n,i){let{style:o,vars:r}=t;const s=e.style;let a;for(a in o)s[a]=o[a];for(a in null===i||void 0===i||i.applyProjectionStyles(s,n),r)s.setProperty(a,r[a])}const eo={};function to(e,t){let{layout:n,layoutId:i}=t;return wt.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!eo[e]||"opacity"===e)}function no(e,t,n){const{style:i}=e,o={};for(const s in i){var r;(gi(i[s])||t.style&&gi(t.style[s])||to(s,e)||void 0!==(null===n||void 0===n||null===(r=n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(o[s]=i[s])}return o}class io extends Yi{constructor(){super(...arguments),this.type="html",this.renderInstance=Zi}readValueFromInstance(e,t){var n,i;if(wt.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?jt(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return At(n,t)})(e,t);{const n=(i=e,window.getComputedStyle(i)),o=(Ft(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Zt(e,n)}build(e,t,n){Xi(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return no(e,t,n)}}const oo=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ro={offset:"stroke-dashoffset",array:"stroke-dasharray"},so={offset:"strokeDashoffset",array:"strokeDasharray"};const ao=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function lo(e,t,n,i,r){let{attrX:s,attrY:a,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(Xi(e,o(t,ao),i),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;var m,f;(h.transform&&(p.transform=h.transform,delete h.transform),p.transform||h.transformOrigin)&&(p.transformOrigin=null!==(m=h.transformOrigin)&&void 0!==m?m:"50% 50%",delete h.transformOrigin);p.transform&&(p.transformBox=null!==(f=null===r||void 0===r?void 0:r.transformBox)&&void 0!==f?f:"fill-box",delete h.transformBox);void 0!==s&&(h.x=s),void 0!==a&&(h.y=a),void 0!==l&&(h.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const r=o?ro:so;e[r.offset]=cn.transform(-i);const s=cn.transform(t),a=cn.transform(n);e[r.array]="".concat(s," ").concat(a)}(h,c,u,d,!1)}const co=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),uo=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ho(e,t,n){const i=no(e,t,n);for(const o in e)if(gi(e[o])||gi(t[o])){i[-1!==xt.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return i}class po extends Yi{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wt.has(t)){const e=hi(t);return e&&e.default||0}return t=co.has(t)?t:oo(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ho(e,t,n)}build(e,t,n){lo(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){!function(e,t,n,i){Zi(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(co.has(o)?o:oo(o),t.attrs[o])}(e,t,0,i)}mount(e){this.isSVGTag=uo(e.tagName),super.mount(e)}}const mo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fo(e){return"string"===typeof e&&!e.includes("-")&&!!(mo.indexOf(e)>-1||/[A-Z]/.test(e))}const go=(e,n)=>fo(e)?new po(n):new io(n,{allowProjection:e!==t.Fragment});var vo=n(579);const yo=(0,t.createContext)({}),bo=(0,t.createContext)({strict:!1}),xo=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),wo=(0,t.createContext)({});function ko(e){const{initial:n,animate:i}=function(e,t){if(zi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||_i(t)?t:void 0,animate:_i(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(wo));return(0,t.useMemo)((()=>({initial:n,animate:i})),[So(n),So(i)])}function So(e){return Array.isArray(e)?e.join(" "):e}const Co=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function To(e,t,n){for(const i in t)gi(t[i])||to(i,n)||(e[i]=t[i])}function Eo(e,n){const i={};return To(i,e.style||{},e),Object.assign(i,function(e,n){let{transformTemplate:i}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Xi(e,n,i),Object.assign({},e.vars,e.style)}),[n])}(e,n)),i}function No(e,t){const n={},i=Eo(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const Do=()=>c(c({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function jo(e,n,i,o){const r=(0,t.useMemo)((()=>{const t=Do();return lo(t,n,uo(o),e.transformTemplate,e.style),c(c({},t.attrs),{},{style:c({},t.style)})}),[n]);if(e.style){const t={};To(t,e.style,e),r.style=c(c({},t),r.style)}return r}const Ao=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Po(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ao.has(e)}let Mo=e=>!Po(e);try{"function"===typeof(Fo=require("@emotion/is-prop-valid").default)&&(Mo=e=>e.startsWith("on")?!Po(e):Fo(e))}catch(FI){}var Fo;function Oo(e,n,i,o,r){let{latestValues:s}=o,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(fo(e)?jo:No)(n,s,r,e),u=function(e,t,n){const i={};for(const o in e)"values"===o&&"object"===typeof e.values||(Mo(o)||!0===n&&Po(o)||!t&&!Po(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}(n,"string"===typeof e,a),d=e!==t.Fragment?c(c(c({},u),l),{},{ref:i}):{},{children:h}=n,p=(0,t.useMemo)((()=>gi(h)?h.get():h),[h]);return(0,t.createElement)(e,c(c({},d),{},{children:p}))}const Ro=(0,t.createContext)(null);function Lo(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function Io(e){return gi(e)?e.get():e}const _o=["transitionEnd","transition"];function Vo(e,t,n,i){const r={},s=i(e,{});for(const o in s)r[o]=Io(s[o]);let{initial:a,animate:l}=e;const c=zi(e),u=Bi(e);t&&u&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const h=d?l:a;if(h&&"boolean"!==typeof h&&!Ii(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const i=Ui(e,t[n]);if(i){const{transitionEnd:e,transition:t}=i,n=o(i,_o);for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const $o=e=>(n,i)=>{const o=(0,t.useContext)(wo),r=(0,t.useContext)(Ro),s=()=>function(e,t,n,i){let{scrapeMotionValuesFromProps:o,createRenderState:r}=e;return{latestValues:Vo(t,n,i,o),renderState:r()}}(e,n,o,r);return i?s():Lo(s)},zo=$o({scrapeMotionValuesFromProps:no,createRenderState:Co}),Bo=$o({scrapeMotionValuesFromProps:ho,createRenderState:Do});const Ho=Symbol.for("motionComponentSymbol");function Uo(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Wo(e,n,i){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),i&&("function"===typeof i?i(t):Uo(i)&&(i.current=t))}),[n])}const qo="data-"+oo("framerAppearId"),Ko=(0,t.createContext)({}),Yo=Fi?t.useLayoutEffect:t.useEffect;function Jo(e,n,i,o,r){var s,a,l,c;const{visualElement:u}=(0,t.useContext)(wo),d=(0,t.useContext)(bo),h=(0,t.useContext)(Ro),p=(0,t.useContext)(xo).reducedMotion,m=(0,t.useRef)(null);o=o||d.renderer,!m.current&&o&&(m.current=o(e,{visualState:n,parent:u,props:i,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const f=m.current,g=(0,t.useContext)(Ko);!f||f.projection||!r||"html"!==f.type&&"svg"!==f.type||function(e,t,n,i){const{layoutId:o,layout:r,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qo(e.parent)),e.projection.setOptions({layoutId:o,layout:r,alwaysMeasureLayout:Boolean(s)||a&&Uo(a),visualElement:e,animationType:"string"===typeof r?r:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}(m.current,i,r,g);const v=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{f&&v.current&&f.update(i,h)}));const y=i[qo],b=(0,t.useRef)(Boolean(y)&&!(null!==(s=(a=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(a,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return Yo((()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())})),(0,t.useEffect)((()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)})),b.current=!1),f.enteringChildren=void 0)})),f}function Qo(e){if(e)return!1!==e.options.allowProjection?e.projection:Qo(e.parent)}function Go(e){var n,i;let{forwardMotionProps:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;r&&function(e){for(const t in e)Pi[t]=c(c({},Pi[t]),e[t])}(r);const a=fo(e)?Bo:zo;function l(n,i){let r;const l=c(c(c({},(0,t.useContext)(xo)),n),{},{layoutId:Xo(n)}),{isStatic:u}=l,d=ko(n),h=a(n,u);if(!u&&Fi){!function(){(0,t.useContext)(bo).strict;0}();const n=function(e){const{drag:t,layout:n}=Pi;if(!t&&!n)return{};const i=c(c({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);r=n.MeasureLayout,d.visualElement=Jo(e,h,l,s,n.ProjectionNode)}return(0,vo.jsxs)(wo.Provider,{value:d,children:[r&&d.visualElement?(0,vo.jsx)(r,c({visualElement:d.visualElement},l)):null,Oo(e,n,Wo(h,d.visualElement,i),h,u,o)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(i=e.displayName)&&void 0!==i?i:e.name)&&void 0!==n?n:"",")"));const u=(0,t.forwardRef)(l);return u[Ho]=e,u}function Xo(e){let{layoutId:n}=e;const i=(0,t.useContext)(yo).id;return i&&void 0!==n?i+"-"+n:n}function Zo(e,t){if("undefined"===typeof Proxy)return Go;const n=new Map,i=(n,i)=>Go(n,i,e,t);return new Proxy(((e,t)=>i(e,t)),{get:(o,r)=>"create"===r?i:(n.has(r)||n.set(r,Go(r,void 0,e,t)),n.get(r))})}function er(e,t,n){const i=e.getProps();return Ui(i,t,void 0!==n?n:i.custom,e)}function tr(e,t){var n,i;return null!==(n=null!==(i=null===e||void 0===e?void 0:e[t])&&void 0!==i?i:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const nr=e=>Array.isArray(e),ir=["transitionEnd","transition"];function or(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ei(n))}function rr(e,t){const n=e.getValue("willChange");if(i=n,Boolean(gi(i)&&i.add))return n.add(t);if(!n&&Cn.WillChange){const n=new Cn.WillChange("auto");e.addValue("willChange",n),n.add(t)}var i}function sr(e){return e.props[qo]}function ar(e){e.duration=0,e.type}const lr=(e,t)=>n=>t(e(n)),cr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(lr)},ur=e=>1e3*e,dr=e=>e/1e3,hr={layout:0,mainThread:0,waapi:0};function pr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mr(e,t){return n=>n>0?t:e}const fr=(e,t,n)=>{const i=e*e,o=n*(t*t-i)+i;return o<0?0:Math.sqrt(o)},gr=[Kn,qn,Yn];function vr(e){const t=(n=e,gr.find((e=>e.test(n))));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let i=t.parse(e);return t===Yn&&(i=function(e){let{hue:t,saturation:n,lightness:i,alpha:o}=e;t/=360,n/=100,i/=100;let r=0,s=0,a=0;if(n){const e=i<.5?i*(1+n):i+n-i*n,o=2*i-e;r=pr(o,e,t+1/3),s=pr(o,e,t),a=pr(o,e,t-1/3)}else r=s=a=i;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*a),alpha:o}}(i)),i}const yr=(e,t)=>{const n=vr(e),i=vr(t);if(!n||!i)return mr(e,t);const o=c({},n);return e=>(o.red=fr(n.red,i.red,e),o.green=fr(n.green,i.green,e),o.blue=fr(n.blue,i.blue,e),o.alpha=_t(n.alpha,i.alpha,e),qn.transform(o))},br=new Set(["none","hidden"]);function xr(e,t){return n=>_t(e,t,n)}function wr(e){return"number"===typeof e?xr:"string"===typeof e?Rt(e)?mr:Jn.test(e)?yr:Cr:Array.isArray(e)?kr:"object"===typeof e?Jn.test(e)?yr:Sr:mr}function kr(e,t){const n=[...e],i=n.length,o=e.map(((e,n)=>wr(e)(e,t[n])));return e=>{for(let t=0;t<i;t++)n[t]=o[t](e);return n}}function Sr(e,t){const n=c(c({},e),t),i={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(i[o]=wr(e[o])(e[o],t[o]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const Cr=(e,t)=>{const n=oi.createTransformer(t),i=ei(e),o=ei(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?br.has(e)&&!o.values.length||br.has(t)&&!i.values.length?function(e,t){return br.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):cr(kr(function(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){var o;const s=t.types[r],a=e.indexes[s][i[s]],l=null!==(o=e.values[a])&&void 0!==o?o:0;n[r]=l,i[s]++}return n}(i,o),o.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),mr(e,t))};function Tr(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return _t(e,t,n);return wr(e)(e,t)}const Er=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Dn.update(t,e)},stop:()=>jn(t),now:()=>An.isProcessing?An.timestamp:bi.now()}},Nr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const o=Math.max(Math.round(t/n),2);for(let r=0;r<o;r++)i+=Math.round(1e4*e(r/(o-1)))/1e4+", ";return"linear(".concat(i.substring(0,i.length-2),")")},Dr=2e4;function jr(e){let t=0;let n=e.next(t);for(;!n.done&&t<Dr;)t+=50,n=e.next(t);return t>=Dr?1/0:t}function Ar(e,t,n){const i=Math.max(t-5,0);return Si(n-e(i),t-i)}const Pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mr=.001;function Fr(e){let t,n,{duration:i=Pr.duration,bounce:o=Pr.bounce,velocity:r=Pr.velocity,mass:s=Pr.mass}=e;ur(Pr.maxDuration);let a=1-o;a=tn(Pr.minDamping,Pr.maxDamping,a),i=tn(Pr.minDuration,Pr.maxDuration,dr(i)),a<1?(t=e=>{const t=e*a,n=t*i,o=t-r,s=Rr(e,a),l=Math.exp(-n);return Mr-o/s*l},n=e=>{const n=e*a*i,o=n*r+r,s=Math.pow(a,2)*Math.pow(e,2)*i,l=Math.exp(-n),c=Rr(Math.pow(e,2),a);return(-t(e)+Mr>0?-1:1)*((o-s)*l)/c}):(t=e=>Math.exp(-e*i)*((e-r)*i+1)-.001,n=e=>Math.exp(-e*i)*(i*i*(r-e)));const l=function(e,t,n){let i=n;for(let o=1;o<Or;o++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=ur(i),isNaN(l))return{stiffness:Pr.stiffness,damping:Pr.damping,duration:i};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:i}}}const Or=12;function Rr(e,t){return e*Math.sqrt(1-t*t)}const Lr=["duration","bounce"],Ir=["stiffness","damping","mass"];function _r(e,t){return t.some((t=>void 0!==e[t]))}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=n;const r=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=function(e){let t=c({velocity:Pr.velocity,stiffness:Pr.stiffness,damping:Pr.damping,mass:Pr.mass,isResolvedFromDuration:!1},e);if(!_r(e,Ir)&&_r(e,Lr))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),o=i*i,r=2*tn(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=c(c({},t),{},{mass:Pr.mass,stiffness:o,damping:r})}else{const n=Fr(e);t=c(c(c({},t),n),{},{mass:Pr.mass}),t.isResolvedFromDuration=!0}return t}(c(c({},n),{},{velocity:-dr(n.velocity||0)})),f=p||0,g=u/(2*Math.sqrt(l*d)),v=s-r,y=dr(Math.sqrt(l/d)),b=Math.abs(v)<5;let x;if(i||(i=b?Pr.restSpeed.granular:Pr.restSpeed.default),o||(o=b?Pr.restDelta.granular:Pr.restDelta.default),g<1){const e=Rr(y,g);x=t=>{const n=Math.exp(-g*y*t);return s-n*((f+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)x=e=>s-Math.exp(-y*e)*(v+(f+y*v)*e);else{const e=y*Math.sqrt(g*g-1);x=t=>{const n=Math.exp(-g*y*t),i=Math.min(e*t,300);return s-n*((f+g*y*v)*Math.sinh(i)+e*v*Math.cosh(i))/e}}const w={calculatedDuration:m&&h||null,next:e=>{const t=x(e);if(m)a.done=e>=h;else{let n=0===e?f:0;g<1&&(n=0===e?ur(f):Ar(x,e,t));const r=Math.abs(n)<=i,l=Math.abs(s-t)<=o;a.done=r&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(jr(w),Dr),t=Nr((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function $r(e){let{keyframes:t,velocity:n=0,power:i=.8,timeConstant:o=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=i*n;const g=h+f,v=void 0===a?g:a(g);v!==g&&(f=v-h);const y=e=>-f*Math.exp(-e/o),b=e=>v+y(e),x=e=>{const t=y(e),n=b(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let w,k;const S=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=Vr({keyframes:[p.value,m(p.value)],velocity:Ar(b,e,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&x(e),p)}}}Vr.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(c(c({},e),{},{keyframes:[0,t]})),i=Math.min(jr(n),Dr);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:dr(i)}}(e,100,Vr);return e.ease=t.ease,e.duration=ur(t.duration),e.type="keyframes",e};const zr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Br(e,t,n,i){if(e===t&&n===i)return Sn;const o=t=>function(e,t,n,i,o){let r,s,a=0;do{s=t+(n-t)/2,r=zr(s,i,o)-e,r>0?n=s:t=s}while(Math.abs(r)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:zr(o(e),t,i)}const Hr=Br(.42,0,1,1),Ur=Br(0,0,.58,1),Wr=Br(.42,0,.58,1),qr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Kr=e=>t=>1-e(1-t),Yr=Br(.33,1.53,.69,.99),Jr=Kr(Yr),Qr=qr(Jr),Gr=e=>(e*=2)<1?.5*Jr(e):.5*(2-Math.pow(2,-10*(e-1))),Xr=e=>1-Math.sin(Math.acos(e)),Zr=Kr(Xr),es=qr(Xr),ts=e=>Array.isArray(e)&&"number"===typeof e[0],ns={linear:Sn,easeIn:Hr,easeInOut:Wr,easeOut:Ur,circIn:Xr,circInOut:es,circOut:Zr,backIn:Jr,backInOut:Qr,backOut:Yr,anticipate:Gr},is=e=>{if(ts(e)){e.length;const[t,n,i,o]=e;return Br(t,n,i,o)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),ns[e]):e},rs=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i};function ss(e,t){let{clamp:n=!0,ease:i,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length;if(t.length,1===r)return()=>t[0];if(2===r&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const i=[],o=n||Cn.mix||Tr,r=e.length-1;for(let s=0;s<r;s++){let n=o(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Sn:t;n=cr(e,n)}i.push(n)}return i}(t,i,o),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const o=rs(e[i],e[i+1],n);return a[i](o)};return n?t=>c(tn(e[0],e[r-1],t)):c}function as(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const o=rs(0,t,i);e.push(_t(n,1,o))}}(t,e.length-1),t}function ls(e){let{duration:t=300,keyframes:n,times:i,ease:o="easeInOut"}=e;const r=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(is):is(o),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(i&&i.length===n.length?i:as(n),t),l=ss(a,n,{ease:Array.isArray(r)?r:(c=n,u=r,c.map((()=>u||Wr)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const cs=e=>null!==e;function us(e,t,n){let{repeat:i,repeatType:o="loop"}=t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(cs),a=r<0||i&&"loop"!==o&&i%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const ds={decay:$r,inertia:$r,tween:ls,keyframes:ls,spring:Vr};function hs(e){"string"===typeof e.type&&(e.type=ds[e.type])}class ps{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const ms=e=>e/100;class fs extends ps{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==bi.now()&&this.tick(bi.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},hr.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;hs(e);const{type:t=ls,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=e;let{keyframes:s}=e;const a=t||ls;a!==ls&&"number"!==typeof s[0]&&(this.mixKeyframes=cr(ms,Tr(s[0],s[1])),s=[0,100]);const l=a(c(c({},e),{},{keyframes:s}));"mirror"===o&&(this.mirroredGenerator=a(c(c({},e),{},{keyframes:[...s].reverse(),velocity:-r}))),null===l.calculatedDuration&&(l.calculatedDuration=jr(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,i)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(b=r)),y=tn(0,1,n)*s}const x=v?{done:!1,value:c[0]}:b.next(y);o&&(x.value=o(x.value));let{done:w}=x;v||null===a||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==$r&&(x.value=us(c,this.options,f,this.speed)),m&&m(x.value),k&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return dr(this.calculatedDuration)}get time(){return dr(this.currentTime)}set time(e){var t;e=ur(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bi.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=dr(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Er,startTime:i}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==i&&void 0!==i?i:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bi.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,hr.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function gs(e){let t;return()=>(void 0===t&&(t=e()),t)}const vs=gs((()=>void 0!==window.ScrollTimeline)),ys={};function bs(e,t){const n=gs(e);return()=>{var e;return null!==(e=ys[t])&&void 0!==e?e:n()}}const xs=bs((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(MI){return!1}return!0}),"linearEasing"),ws=e=>{let[t,n,i,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(o,")")},ks={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ws([0,.65,.55,1]),circOut:ws([.55,0,1,.45]),backIn:ws([.31,.01,.66,-.59]),backOut:ws([.33,1.53,.69,.99])};function Ss(e,t){return e?"function"===typeof e?xs()?Nr(e,t):"ease-out":ts(e)?ws(e):Array.isArray(e)?e.map((e=>Ss(e,t)||ks.easeOut)):ks[e]:void 0}function Cs(e,t,n){let{delay:i=0,duration:o=300,repeat:r=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=Ss(a,o);Array.isArray(d)&&(u.easing=d),En.value&&hr.waapi++;const h={delay:i,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(u,h);return En.value&&p.finished.finally((()=>{hr.waapi--})),p}function Ts(e){return"function"===typeof e&&"applyToOptions"in e}const Es=["type"];class Ns extends ps{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=s,this.options=e,e.type;const c=function(e){let{type:t}=e,n=o(e,Es);return Ts(t)&&xs()?t.applyToOptions(n):(null!==(i=n.duration)&&void 0!==i||(n.duration=300),null!==(r=n.ease)&&void 0!==r||(n.ease="easeOut"),n);var i,r}(e);this.animation=Cs(t,n,i,c,r),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=us(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(MI){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return dr(Number(n))}get time(){return dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ur(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var i;this.allowFlatten&&(null===(i=this.animation.effect)||void 0===i||i.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&vs()?(this.animation.timeline=t,Sn):n(this)}}const Ds={anticipate:Gr,backInOut:Qr,circInOut:es};function js(e){"string"===typeof e.ease&&function(e){return e in Ds}(e.ease)&&(e.ease=Ds[e.ease])}const As=["motionValue","onUpdate","onComplete","element"];class Ps extends Ns{constructor(e){js(e),hs(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:i,onUpdate:r,onComplete:s,element:a}=n,l=o(n,As);if(!i)return;if(void 0!==e)return void i.set(e);const u=new fs(c(c({},l),{},{autoplay:!1})),d=ur(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);i.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10),u.stop()}}const Ms=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!oi.test(e)&&"0"!==e||e.startsWith("url(")));const Fs=new Set(["opacity","clipPath","filter","transform"]),Os=gs((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Rs=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Ls extends ps{constructor(e){var t;let{autoplay:n=!0,delay:i=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p}=e,m=o(e,Rs);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=bi.now();const f=c({autoplay:n,delay:i,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:p},m),g=(null===p||void 0===p?void 0:p.KeyframeResolver)||_n;this.keyframeResolver=new g(u,((e,t,n)=>this.onKeyframesResolved(e,t,f,!n)),d,h,p),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:s,delay:a,isHandoff:l,onUpdate:u}=n;this.resolvedAt=bi.now(),function(e,t,n,i){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const r=e[e.length-1],s=Ms(o,t),a=Ms(r,t);return"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(r,'". "').concat(s?r:o,'" is not an animatable value.'),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Ts(n))&&i)}(e,o,r,s)||(!Cn.instantAnimations&&a||null===u||void 0===u||u(us(e,n,t)),e[0]=e[e.length-1],ar(n),n.repeat=0);const d=c(c({startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:i,repeatDelay:o,repeatType:r,damping:s,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Os()&&i&&Fs.has(i)&&("transform"!==i||!c)&&!l&&!o&&"mirror"!==r&&0!==s&&"inertia"!==a}(d)?new Ps(c(c({},d),{},{element:d.motionValue.owner.current})):new fs(d);h.finished.then((()=>this.notifyFinished())).catch(Sn),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Rn=!0,In(),Ln(),Rn=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Is=e=>null!==e;const _s={type:"spring",stiffness:500,damping:25,restSpeed:10},Vs={type:"keyframes",duration:.8},$s={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zs=(e,t)=>{let{keyframes:n}=t;return n.length>2?Vs:wt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:_s:$s},Bs=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Hs=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const l=tr(i,e)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d-=ur(u);const h=c(c({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:r});(function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,h=o(e,Bs);return!!Object.keys(h).length})(l)||Object.assign(h,zs(e,h)),h.duration&&(h.duration=ur(h.duration)),h.repeatDelay&&(h.repeatDelay=ur(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let p=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(ar(h),0===h.delay&&(p=!0)),(Cn.instantAnimations||Cn.skipAnimations)&&(p=!0,ar(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,p&&!s&&void 0!==t.get()){const e=function(e,t,n){let{repeat:i,repeatType:o="loop"}=t;const r=e.filter(Is),s=i&&"loop"!==o&&i%2===1?0:r.length-1;return s&&void 0!==n?n:r[s]}(h.keyframes,l);if(void 0!==e)return void Dn.update((()=>{h.onUpdate(e),h.onComplete()}))}return l.isSync?new fs(h):new Ls(h)}},Us=["transition","transitionEnd"];function Ws(e,t){let{protectedKeys:n,needsAnimating:i}=e;const o=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,o}function qs(e,t){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a}=t,l=o(t,Us);i&&(s=i);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const o in l){var h;const t=e.getValue(o,null!==(h=e.latestValues[o])&&void 0!==h?h:null),i=l[o];if(void 0===i||d&&Ws(d,o))continue;const r=c({delay:n},tr(s||{},o)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(i)&&i===a&&!r.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const t=sr(e);if(t){const e=window.MotionHandoffAnimation(t,o,Dn);null!==e&&(r.startTime=e,p=!0)}}rr(e,o),t.start(Hs(o,t,i,e.shouldReduceMotion&&en.has(o)?{type:!1}:r,e,p));const m=t.animation;m&&u.push(m)}return a&&Promise.all(u).then((()=>{Dn.update((()=>{a&&function(e,t){let n=er(e,t)||{},{transitionEnd:i={},transition:r={}}=n,s=o(n,ir);s=c(c({},s),i);for(const o in s)or(e,o,(a=s[o],nr(a)?a[a.length-1]||0:a));var a}(e,a)}))})),u}function Ks(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const r=Array.from(e).sort(((e,t)=>e.sortNodePosition(t))).indexOf(t),s=e.size,a=(s-1)*i;return"function"===typeof n?n(r,s):1===o?r*i:a-r*i}function Ys(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=er(e,t,"exit"===i.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(r=i.transitionOverride);const s=o?()=>Promise.all(qs(e,o,i)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:s,staggerDirection:a}=r;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ys(l,t,c(c({},s),{},{delay:n+("function"===typeof i?0:i)+Ks(e.variantChildren,l,i,o,r)})).then((()=>l.notify("AnimationComplete",t))));return Promise.all(a)}(e,t,n,o,s,a,i)}:()=>Promise.resolve(),{when:l}=r;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(i.delay)])}function Js(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Qs=$i.length;function Gs(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Gs(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Qs;n++){const i=$i[n],o=e.props[i];(_i(o)||!1===o)&&(t[i]=o)}return t}const Xs=["transition","transitionEnd"],Zs=[...Vi].reverse(),ea=Vi.length;function ta(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:i}=t;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>Ys(e,t,i)));n=Promise.all(o)}else if("string"===typeof t)n=Ys(e,t,i);else{const o="function"===typeof t?er(e,t,i.custom):t;n=Promise.all(qs(e,o,i))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,i)})))}function na(e){let t=ta(e),n=ra(),i=!0;const r=t=>(n,i)=>{var r;const s=er(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,i=o(s,Xs);n=c(c(c({},n),i),t)}return n};function s(o){const{props:s}=e,a=Gs(e.parent)||{},l=[],u=new Set;let d={},h=1/0;for(let t=0;t<ea;t++){const p=Zs[t],m=n[p],f=void 0!==s[p]?s[p]:a[p],g=_i(f),v=p===o?m.isActive:null;!1===v&&(h=t);let y=f===a[p]&&f!==s[p]&&g;if(y&&i&&e.manuallyAnimateOnMount&&(y=!1),m.protectedKeys=c({},d),!m.isActive&&null===v||!f&&!m.prevProp||Ii(f)||"boolean"===typeof f)continue;const b=ia(m.prevProp,f);let x=b||p===o&&m.isActive&&!y&&g||t>h&&g,w=!1;const k=Array.isArray(f)?f:[f];let S=k.reduce(r(p),{});!1===v&&(S={});const{prevResolvedValues:C={}}=m,T=c(c({},C),S),E=t=>{x=!0,u.has(t)&&(w=!0,u.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in T){const t=S[e],n=C[e];if(d.hasOwnProperty(e))continue;let i=!1;i=nr(t)&&nr(n)?!Js(t,n):t!==n,i?void 0!==t&&null!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=S,m.isActive&&(d=c(c({},d),S)),i&&e.blockInitialAnimation&&(x=!1);const N=y&&b;x&&(!N||w)&&l.push(...k.map((t=>{const n={type:p};if("string"===typeof t&&i&&!N&&e.manuallyAnimateOnMount&&e.parent){const{parent:i}=e,o=er(i,t);if(i.enteringChildren&&o){const{delayChildren:t}=o.transition||{};n.delay=Ks(i.enteringChildren,e,t)}}return{animation:t,options:n}})))}if(u.size){const t={};if("boolean"!==typeof s.initial){const n=er(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach((n=>{const i=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==i&&void 0!==i?i:null})),l.push({animation:t})}let p=Boolean(l.length);return!i||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(p=!1),i=!1,p?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){var o;if(n[t].isActive===i)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)})),n[t].isActive=i;const r=s(t);for(const e in n)n[e].protectedKeys={};return r},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ra(),i=!0}}}function ia(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Js(t,e)}function oa(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ra(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}let aa=0;const la={animation:{Feature:class extends sa{constructor(e){super(e),e.animationState||(e.animationState=na(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ii(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends sa{constructor(){super(...arguments),this.id=aa++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},ca={x:!1,y:!1};function ua(){return ca.x||ca.y}function da(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const ha=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function pa(e){return{point:{x:e.pageX,y:e.pageY}}}function ma(e,t,n,i){return da(e,t,(e=>t=>ha(t)&&e(t,pa(t)))(n),i)}function fa(e){return e.max-e.min}function ga(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=_t(t.min,t.max,e.origin),e.scale=fa(n)/fa(t),e.translate=_t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function va(e,t,n,i){ga(e.x,t.x,n.x,i?i.originX:void 0),ga(e.y,t.y,n.y,i?i.originY:void 0)}function ya(e,t,n){e.min=n.min+t.min,e.max=e.min+fa(t)}function ba(e,t,n){e.min=t.min-n.min,e.max=e.min+fa(t)}function xa(e,t,n){ba(e.x,t.x,n.x),ba(e.y,t.y,n.y)}function wa(e){return[e("x"),e("y")]}const ka=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Sa=(e,t)=>Math.abs(e-t);class Ca{constructor(e,t){let{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Na(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Sa(e.x,t.x),i=Sa(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:i}=e,{timestamp:o}=An;this.history.push(c(c({},i),{},{timestamp:o}));const{onStart:r,onMove:s}=this.handlers;t||(r&&r(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ta(t,this.transformPagePoint),Dn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const r=Na("pointercancel"===e.type?this.lastMoveEventInfo:Ta(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,r),i&&i(e,r)},!ha(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=r,this.contextWindow=i||window;const s=Ta(pa(e),this.transformPagePoint),{point:a}=s,{timestamp:l}=An;this.history=[c(c({},a),{},{timestamp:l})];const{onSessionStart:u}=t;u&&u(e,Na(s,this.history)),this.removeListeners=cr(ma(this.contextWindow,"pointermove",this.handlePointerMove),ma(this.contextWindow,"pointerup",this.handlePointerUp),ma(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jn(this.updatePoint)}}function Ta(e,t){return t?{point:t(e.point)}:e}function Ea(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Na(e,t){let{point:n}=e;return{point:n,delta:Ea(n,ja(t)),offset:Ea(n,Da(t)),velocity:Aa(t,.1)}}function Da(e){return e[0]}function ja(e){return e[e.length-1]}function Aa(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const o=ja(e);for(;n>=0&&(i=e[n],!(o.timestamp-i.timestamp>ur(t)));)n--;if(!i)return{x:0,y:0};const r=dr(o.timestamp-i.timestamp);if(0===r)return{x:0,y:0};const s={x:(o.x-i.x)/r,y:(o.y-i.y)/r};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Pa(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ma(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const Fa=.35;function Oa(e,t,n){return{min:Ra(e,t),max:Ra(e,n)}}function Ra(e,t){return"number"===typeof e?e:e[t]||0}const La=new WeakMap;class Ia{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new Ca(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pa(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:o}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(r=n)||"y"===r?ca[r]?null:(ca[r]=!0,()=>{ca[r]=!1}):ca.x||ca.y?null:(ca.x=ca.y=!0,()=>{ca.x=ca.y=!1}),!this.openDragLock))return;var r;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wa((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ln.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=fa(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&Dn.postRender((()=>o(e,t))),rr(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:o,onDrag:r}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),r&&r(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>wa((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:ka(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Dn.postRender((()=>s(n,i)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!_a(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let r=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(r=function(e,t,n){let{min:i,max:o}=t;return void 0!==i&&e<i?e=n?_t(i,e,n.min):Math.max(e,i):void 0!==o&&e>o&&(e=n?_t(o,e,n.max):Math.min(e,o)),e}(r,this.constraints[e],this.elastic[e])),o.set(r)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&Uo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,t){let{top:n,left:i,bottom:o,right:r}=t;return{x:Pa(e.x,i,r),y:Pa(e.y,n,o)}}(i.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa;return!1===e?e=0:!0===e&&(e=Fa),{x:Oa(e,"left","right"),y:Oa(e,"top","bottom")}}(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wa((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Uo(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=function(e,t,n){const i=Zt(e,n),{scroll:o}=t;return o&&(Qt(i.x,o.offset.x),Qt(i.y,o.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let r=function(e,t){return{x:Ma(e.x,t.x),y:Ma(e.y,t.y)}}(i.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(r));this.hasMutatedConstraints=!!e,e&&(r=It(e))}return r}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=wa((s=>{if(!_a(s,t,this.currentDirection))return;let l=a&&a[s]||{};r&&(l={min:0,max:0});const u=i?200:1e6,d=i?40:1e7,h=c(c({type:"inertia",velocity:n?e[s]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return rr(this.visualElement,e),n.start(Hs(e,n,0,t,this.visualElement,!1))}stopAnimation(){wa((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){wa((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){wa((t=>{const{drag:n}=this.getProps();if(!_a(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:r}=i.layout.layoutBox[t];o.set(e[t]-_t(n,r,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Uo(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wa((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=fa(e),o=fa(t);return o>i?n=rs(t.min,t.max-i,e.min):i>o&&(n=rs(e.min,e.max-o,t.min)),tn(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wa((t=>{if(!_a(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:r}=this.constraints[t];n.set(_t(o,r,i[t]))}))}addListeners(){if(!this.visualElement.current)return;La.set(this.visualElement,this);const e=ma(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Uo(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Dn.read(t);const o=da(window,"resize",(()=>this.scalePositionWithinConstraints())),r=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(wa((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),i(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=Fa,dragMomentum:s=!0}=e;return c(c({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:s})}}function _a(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Va=e=>(t,n)=>{e&&Dn.postRender((()=>e(t,n)))};function $a(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Ro);if(null===n)return[!0,null];const{isPresent:i,onExitComplete:o,register:r}=n,s=(0,t.useId)();(0,t.useEffect)((()=>{if(e)return r(s)}),[e]);const a=(0,t.useCallback)((()=>e&&o&&o(s)),[s,o,e]);return!i&&o?[!1,a]:[!0]}const za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ba(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ha={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!cn.test(e))return e;e=parseFloat(e)}const n=Ba(e,t.target.x),i=Ba(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},Ua={correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t;const o=e,r=oi.parse(e);if(r.length>5)return o;const s=oi.createTransformer(e),a="number"!==typeof r[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;r[0+a]/=l,r[1+a]/=c;const u=_t(l,c,.5);return"number"===typeof r[2+a]&&(r[2+a]/=u),"number"===typeof r[3+a]&&(r[3+a]/=u),s(r)}};let Wa=!1;class qa extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;!function(e){for(const t in e)eo[t]=e[t],Ft(t)&&(eo[t].isCSSVariable=!0)}(Ya),o&&(t.group&&t.group.add(o),n&&n.register&&i&&n.register(o),Wa&&o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions(c(c({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),za.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:o}=this.props,{projection:r}=n;return r?(r.isPresent=o,Wa=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==o?r.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?r.promote():r.relegate()||Dn.postRender((()=>{const e=r.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Di.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;Wa=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ka(e){const[n,i]=$a(),o=(0,t.useContext)(yo);return(0,vo.jsx)(qa,c(c({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(Ko),isPresent:n,safeToRemove:i}))}const Ya={borderRadius:c(c({},Ha),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ha,borderTopRightRadius:Ha,borderBottomLeftRadius:Ha,borderBottomRightRadius:Ha,boxShadow:Ua};function Ja(e){return"object"===typeof e&&null!==e}function Qa(e){return Ja(e)&&"ownerSVGElement"in e}const Ga=(e,t)=>e.depth-t.depth;class Xa{constructor(){this.children=[],this.isDirty=!1}add(e){xi(this.children,e),this.isDirty=!0}remove(e){wi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ga),this.isDirty=!1,this.children.forEach(e)}}function Za(e,t){const n=bi.now(),i=o=>{let{timestamp:r}=o;const s=r-n;s>=t&&(jn(i),e(s-t))};return Dn.setup(i,!0),()=>jn(i)}const el=["TopLeft","TopRight","BottomLeft","BottomRight"],tl=el.length,nl=e=>"string"===typeof e?parseFloat(e):e,il=e=>"number"===typeof e||cn.test(e);function ol(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const rl=al(0,.5,Zr),sl=al(.5,.95,Sn);function al(e,t,n){return i=>i<e?0:i>t?1:n(rs(e,t,i))}function ll(e,t){e.min=t.min,e.max=t.max}function cl(e,t){ll(e.x,t.x),ll(e.y,t.y)}function ul(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dl(e,t,n,i,o){return e=Ut(e-=t,1/n,i),void 0!==o&&(e=Ut(e,1/o,i)),e}function hl(e,t,n,i,o){let[r,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ln.test(t)&&(t=parseFloat(t),t=_t(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=_t(r.min,r.max,i);e===r&&(a-=t),e.min=dl(e.min,t,n,a,o),e.max=dl(e.max,t,n,a,o)}(e,t[r],t[s],t[a],t.scale,i,o)}const pl=["x","scaleX","originX"],ml=["y","scaleY","originY"];function fl(e,t,n,i){hl(e.x,t,pl,n?n.x:void 0,i?i.x:void 0),hl(e.y,t,ml,n?n.y:void 0,i?i.y:void 0)}function gl(e){return 0===e.translate&&1===e.scale}function vl(e){return gl(e.x)&&gl(e.y)}function yl(e,t){return e.min===t.min&&e.max===t.max}function bl(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xl(e,t){return bl(e.x,t.x)&&bl(e.y,t.y)}function wl(e){return fa(e.x)/fa(e.y)}function kl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sl{constructor(){this.members=[]}add(e){xi(this.members,e),e.scheduleRender()}remove(e){if(wi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Cl={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Tl=["","X","Y","Z"];let El=0;function Nl(e,t,n,i){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Dl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Dn,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Dl(i)}function jl(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:o,resetTransform:r}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=El++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,En.value&&(Cl.nodes=Cl.calculatedTargetDeltas=Cl.calculatedProjections=0),this.nodes.forEach(Ml),this.nodes.forEach(Vl),this.nodes.forEach($l),this.nodes.forEach(Fl),En.addProjectionMetrics&&En.addProjectionMetrics(Cl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xa)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ki),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];t&&t.notify(...i)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Qa(e)&&!(Qa(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:i,layout:o,visualElement:r}=this.options;if(r&&!r.current&&r.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||i)&&(this.isLayoutDirty=!0),t){let n,i=0;const o=()=>this.root.updateBlockedByResize=!1;Dn.read((()=>{i=window.innerWidth})),t(e,(()=>{const e=window.innerWidth;e!==i&&(i=e,this.root.updateBlockedByResize=!0,n&&n(),n=Za(o,250),za.hasAnimatedSinceResize&&(za.hasAnimatedSinceResize=!1,this.nodes.forEach(_l)))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||r.getDefaultTransition()||ql,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=r.getProps(),u=!this.targetLayout||!xl(this.targetLayout,o),d=!n&&i;if(this.options.layoutRoot||this.resumeFrom||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=c(c({},tr(s,"layout")),{},{onPlay:a,onComplete:l});(r.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||_l(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zl),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Rl);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Ll);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Il),this.nodes.forEach(Al),this.nodes.forEach(Pl)):this.nodes.forEach(Ll),this.clearAllSnapshots();const e=bi.now();An.delta=tn(0,1e3/60,e-An.timestamp),An.timestamp=e,An.isProcessing=!0,Pn.update.process(An),Pn.preRender.process(An),Pn.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Di.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ol),this.sharedNodes.forEach(Bl)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dn.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||fa(this.snapshot.measuredBox.x)||fa(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!vl(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,o=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||zt(this.latestValues)||o)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),Jl((i=n).x),Jl(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Gl))){const{scroll:e}=this.root;e&&(Qt(n.x,e.offset.x),Qt(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(cl(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:o,options:r}=t;t!==this.root&&o&&r.layoutScroll&&(o.wasRoot&&cl(n,e),Qt(n.x,o.offset.x),Qt(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};cl(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Xt(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),zt(e.latestValues)&&Xt(n,e.latestValues)}return zt(this.latestValues)&&Xt(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};cl(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!zt(e.latestValues))continue;$t(e.latestValues)&&e.updateSnapshot();const i={x:{min:0,max:0},y:{min:0,max:0}};cl(i,e.measurePageBox()),fl(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return zt(this.latestValues)&&fl(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=c(c(c({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:r}=this.options;if(this.layout&&(o||r)){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xa(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,ya(s.x,a.x,l.x),ya(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):cl(this.target,this.layout.layoutBox),Kt(this.target,this.targetDelta)):cl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xa(this.relativeTargetOrigin,this.target,e.target),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}En.value&&Cl.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!$t(this.parent.latestValues)&&!Bt(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===An.timestamp&&(i=!1),i)return;const{layout:o,layoutId:r}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!r)return;cl(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let r,s;t.x=t.y=1;for(let a=0;a<o;a++){r=n[a],s=r.projectionDelta;const{visualElement:o}=r.options;o&&o.props.style&&"contents"===o.props.style.display||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Xt(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Kt(e,s)),i&&zt(r.latestValues)&&Xt(e,r.latestValues))}t.x<Jt&&t.x>Yt&&(t.x=1),t.y<Jt&&t.y>Yt&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(ul(this.prevProjectionDelta.x,this.projectionDelta.x),ul(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),va(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&kl(this.projectionDelta.x,this.prevProjectionDelta.x)&&kl(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),En.value&&Cl.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},o=c({},this.latestValues),r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,d=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(Wl));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,c,p,m;Hl(r.x,e.x,n),Hl(r.y,e.y,n),this.setTargetDelta(r),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xa(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,c=this.relativeTargetOrigin,p=s,m=n,Ul(l.x,c.x,p.x,m),Ul(l.y,c.y,p.y,m),h&&function(e,t){return yl(e.x,t.x)&&yl(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),cl(h,this.relativeTarget)),a&&(this.animationValues=o,function(e,t,n,i,o,r){var s,a;if(o)e.opacity=_t(0,null!==(s=n.opacity)&&void 0!==s?s:1,rl(i)),e.opacityExit=_t(null!==(a=t.opacity)&&void 0!==a?a:1,0,sl(i));else if(r){var l,c;e.opacity=_t(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,i)}for(let u=0;u<tl;u++){const o="border".concat(el[u],"Radius");let r=ol(t,o),s=ol(n,o);void 0===r&&void 0===s||(r||(r=0),s||(s=0),0===r||0===s||il(r)===il(s)?(e[o]=Math.max(_t(nl(r),nl(s),i),0),(ln.test(s)||ln.test(r))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=_t(t.rotate||0,n.rotate||0,i))}(o,i,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(jn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dn.update((()=>{za.hasAnimatedSinceResize=!0,hr.layout++,this.motionValue||(this.motionValue=Ei(0)),this.currentAnimation=function(e,t,n){const i=gi(e)?e:Ei(e);return i.start(Hs("",i,t,n)),i.animation}(this.motionValue,[0,1e3],c(c({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{hr.layout--},onComplete:()=>{hr.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:o}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&Ql(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=fa(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=fa(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}cl(t,n),Xt(t,o),va(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Sl);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&Nl("z",e,i,this.animationValues);for(let o=0;o<Tl.length;o++)Nl("rotate".concat(Tl[o]),e,i,this.animationValues),Nl("skew".concat(Tl[o]),e,i,this.animationValues);e.render();for(const o in i)e.setStaticValue(o,i[o]),this.animationValues&&(this.animationValues[o]=i[o]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Io(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Io(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!zt(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const o=i.animationValues||i.latestValues;this.applyTransformsToTarget();let r=function(e,t,n){let i="";const o=e.x.translate/t.x,r=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((o||r||s)&&(i="translate3d(".concat(o,"px, ").concat(r,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:r,skewX:s,skewY:a}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),o&&(i+="rotateX(".concat(o,"deg) ")),r&&(i+="rotateY(".concat(r,"deg) ")),s&&(i+="skewX(".concat(s,"deg) ")),a&&(i+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(i+="scale(".concat(a,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(r=n(o,r)),e.transform=r;const{x:s,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*a.origin,"% 0"),i.animationValues)?e.opacity=i===this?null!==(l=null!==(c=o.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:e.opacity=i===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in eo){if(void 0===o[u])continue;const{correct:t,applyTo:n,isCSSVariable:s}=eo[u],a="none"===r?o[u]:t(o[u],i);if(n){const t=n.length;for(let i=0;i<t;i++)e[n[i]]=a}else s?this.options.visualElement.renderState.vars[u]=a:e[u]=a}this.options.layoutId&&(e.pointerEvents=i===this?Io(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Rl),this.root.sharedNodes.clear()}}}function Al(e){e.updateLayout()}function Pl(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:o}=e.options,r=n.source!==e.layout.source;"size"===o?wa((e=>{const i=r?n.measuredBox[e]:n.layoutBox[e],o=fa(i);i.min=t[e].min,i.max=i.min+o})):Ql(o,n.layoutBox,t)&&wa((i=>{const o=r?n.measuredBox[i]:n.layoutBox[i],s=fa(t[i]);o.max=o.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};va(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};r?va(a,e.applyTransform(i,!0),n.measuredBox):va(a,t,n.layoutBox);const l=!vl(s);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:o,layout:r}=i;if(o&&r){const s={x:{min:0,max:0},y:{min:0,max:0}};xa(s,n.layoutBox,o.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};xa(a,t,r.layoutBox),xl(s,a)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ml(e){En.value&&Cl.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ol(e){e.clearSnapshot()}function Rl(e){e.clearMeasurements()}function Ll(e){e.isLayoutDirty=!1}function Il(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _l(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Vl(e){e.resolveTargetDelta()}function $l(e){e.calcProjection()}function zl(e){e.resetSkewAndRotation()}function Bl(e){e.removeLeadSnapshot()}function Hl(e,t,n){e.translate=_t(t.translate,0,n),e.scale=_t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ul(e,t,n,i){e.min=_t(t.min,n.min,i),e.max=_t(t.max,n.max,i)}function Wl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ql={duration:.45,ease:[.4,0,.1,1]},Kl=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yl=Kl("applewebkit/")&&!Kl("chrome/")?Math.round:Sn;function Jl(e){e.min=Yl(e.min),e.max=Yl(e.max)}function Ql(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=wl(t),o=wl(n),r=.2,!(Math.abs(i-o)<=r));var i,o,r}function Gl(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Xl=jl({attachResizeListener:(e,t)=>da(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zl={current:void 0},ec=jl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zl.current){const e=new Xl({});e.mount(window),e.setOptions({layoutScroll:!0}),Zl.current=e}return Zl.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),tc={pan:{Feature:class extends sa{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new Ca(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ka(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Va(e),onStart:Va(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&Dn.postRender((()=>i(e,t)))}}}mount(){this.removePointerDownListener=ma(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends sa{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new Ia(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ec,MeasureLayout:Ka}};function nc(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var i;let o=document;t&&(o=t.current);const r=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:o.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),i=new AbortController;return[n,c(c({passive:!0},t),{},{signal:i.signal}),()=>i.abort()]}function ic(e){return!("touch"===e.pointerType||ua())}function oc(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=i["onHover"+n];o&&Dn.postRender((()=>o(t,pa(t))))}function rc(e){return Ja(e)&&"offsetHeight"in e}const sc=(e,t)=>!!t&&(e===t||sc(e,t.parentElement)),ac=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const lc=new WeakSet;function cc(e){return t=>{"Enter"===t.key&&e(t)}}function uc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function dc(e){return ha(e)&&!ua()}function hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,o,r]=nc(e,n),s=e=>{const i=e.currentTarget;if(!dc(e))return;lc.add(i);const r=t(i,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),lc.has(i)&&lc.delete(i),dc(e)&&"function"===typeof r&&r(e,{success:t})},a=e=>{s(e,i===window||i===document||n.useGlobalTarget||sc(i,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,o),window.addEventListener("pointercancel",l,o)};return i.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,o),rc(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=cc((()=>{if(lc.has(n))return;uc(n,"down");const e=cc((()=>{uc(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>uc(n,"cancel")),t)}));n.addEventListener("keydown",i,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",i)),t)})(e,o))),t=e,ac.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),r}function pc(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=i["onTap"+("End"===n?"":n)];o&&Dn.postRender((()=>o(t,pa(t))))}const mc=["root"],fc=new WeakMap,gc=new WeakMap,vc=e=>{const t=fc.get(e.target);t&&t(e)},yc=e=>{e.forEach(vc)};function bc(e,t,n){const i=function(e){let{root:t}=e,n=o(e,mc);const i=t||document;gc.has(i)||gc.set(i,{});const r=gc.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(yc,c({root:t},n))),r[s]}(t);return fc.set(e,n),i.observe(e),()=>{fc.delete(e),i.unobserve(e)}}const xc={some:0,all:1};const wc={inView:{Feature:class extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:o}=e,r={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:xc[i]};return bc(this.node.current,r,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),r=t?n:i;r&&r(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=hc(e,((e,t)=>(pc(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return pc(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(MI){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cr(da(this.node.current,"focus",(()=>this.onFocus())),da(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,o,r]=nc(e,n),s=e=>{if(!ic(e))return;const{target:n}=e,i=t(n,e);if("function"!==typeof i||!n)return;const r=e=>{ic(e)&&(i(e),n.removeEventListener("pointerleave",r))};n.addEventListener("pointerleave",r,o)};return i.forEach((e=>{e.addEventListener("pointerenter",s,o)})),r}(e,((e,t)=>(oc(this.node,t,"Start"),e=>oc(this.node,e,"End")))))}unmount(){}}}},kc={layout:{ProjectionNode:ec,MeasureLayout:Ka}},Sc=Zo(c(c(c(c({},la),wc),tc),kc),go),Cc=e=>"string"===typeof e,Tc=()=>{let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return n.resolve=e,n.reject=t,n},Ec=e=>null==e?"":""+e,Nc=/###/g,Dc=e=>e&&e.indexOf("###")>-1?e.replace(Nc,"."):e,jc=e=>!e||Cc(e),Ac=(e,t,n)=>{const i=Cc(t)?t.split("."):t;let o=0;for(;o<i.length-1;){if(jc(e))return{};const t=Dc(i[o]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return jc(e)?{}:{obj:e,k:Dc(i[o])}},Pc=(e,t,n)=>{const{obj:i,k:o}=Ac(e,t,Object);if(void 0!==i||1===t.length)return void(i[o]=n);let r=t[t.length-1],s=t.slice(0,t.length-1),a=Ac(e,s,Object);for(;void 0===a.obj&&s.length;){var l;r="".concat(s[s.length-1],".").concat(r),s=s.slice(0,s.length-1),a=Ac(e,s,Object),null!==(l=a)&&void 0!==l&&l.obj&&"undefined"!==typeof a.obj["".concat(a.k,".").concat(r)]&&(a.obj=void 0)}a.obj["".concat(a.k,".").concat(r)]=n},Mc=(e,t)=>{const{obj:n,k:i}=Ac(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},Fc=(e,t,n)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?Cc(e[i])||e[i]instanceof String||Cc(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):Fc(e[i],t[i],n):e[i]=t[i]);return e},Oc=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Rc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Lc=e=>Cc(e)?e.replace(/[&<>"'\/]/g,(e=>Rc[e])):e;const Ic=[" ",",","?","!",";"],_c=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Vc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const i=t.split(n);let o=e;for(let r=0;r<i.length;){if(!o||"object"!==typeof o)return;let e,t="";for(let s=r;s<i.length;++s)if(s!==r&&(t+=n),t+=i[s],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<i.length-1)continue;r+=s-r+1;break}o=e}return o},$c=e=>null===e||void 0===e?void 0:e.replace("_","-"),zc={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,i;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(i=n.apply)||void 0===i||i.call(n,console,t)}};class Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||zc,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(Cc(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new Bc(this.logger,c(c({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Bc(this.logger,e)}}var Hc=new Bc;class Uc{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,i]=e;for(let o=0;o<i;o++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[i,o]=t;for(let r=0;r<o;r++)i.apply(i,[e,...n])}))}}}class Wc extends Uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,s=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Cc(n)&&r?a.push(...n.split(r)):a.push(n)));const l=Mc(this.data,a);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!l&&s&&Cc(n)?Vc(null===(i=this.data)||void 0===i||null===(i=i[e])||void 0===i?void 0:i[t],n,r):l}addResource(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(s=e.split("."),i=t,t=s[1]),this.addNamespaces(t),Pc(this.data,s,i),o.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in n)(Cc(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=t,t=s[1]),this.addNamespaces(t);let a=Mc(this.data,s)||{};r.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Fc(a,n,o):a=c(c({},a),n),Pc(this.data,s,a),r.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var qc={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,o){return e.forEach((e=>{var r,s;t=null!==(r=null===(s=this.processors[e])||void 0===s?void 0:s.process(t,n,i,o))&&void 0!==r?r:t})),t}};const Kc={},Yc=e=>!Cc(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Jc extends Uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Hc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const n=this.resolve(e,t);return void 0!==(null===n||void 0===n?void 0:n.res)}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const r=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const i=Ic.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===i.length)return!0;const o=_c.getRegExp("(".concat(i.map((e=>"?"===e?"\\?":e)).join("|"),")"));let r=!o.test(e);if(!r){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(r=!0)}return r})(e,n,i);if(r&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Cc(o)?[o]:o};const r=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(r[0])>-1)&&(o=r.shift()),e=r.join(i)}return{key:e,namespaces:Cc(o)?[o]:o}}translate(e,t,n){let i="object"===typeof t?c({},t):t;if("object"!==typeof i&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof options&&(i=c({},i)),i||(i={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const o=void 0!==i.returnDetails?i.returnDetails:this.options.returnDetails,r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],i),l=a[a.length-1];let u=void 0!==i.nsSeparator?i.nsSeparator:this.options.nsSeparator;void 0===u&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===d||void 0===d?void 0:d.toLowerCase()))return h?o?{res:"".concat(l).concat(u).concat(s),usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:"".concat(l).concat(u).concat(s):o?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:s;const p=this.resolve(e,i);let m=null===p||void 0===p?void 0:p.res;const f=(null===p||void 0===p?void 0:p.usedKey)||s,g=(null===p||void 0===p?void 0:p.exactUsedKey)||s,v=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==i.count&&!Cc(i.count),x=Jc.hasDefaultValue(i),w=b?this.pluralResolver.getSuffix(d,i.count,i):"",k=i.ordinal&&b?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",S=b&&!i.ordinal&&0===i.count,C=S&&i["defaultValue".concat(this.options.pluralSeparator,"zero")]||i["defaultValue".concat(w)]||i["defaultValue".concat(k)]||i.defaultValue;let T=m;y&&!m&&x&&(T=C);const E=Yc(T),N=Object.prototype.toString.apply(T);if(!(y&&T&&E&&["[object Number]","[object Function]","[object RegExp]"].indexOf(N)<0)||Cc(v)&&Array.isArray(T))if(y&&Cc(v)&&Array.isArray(m))m=m.join(v),m&&(m=this.extendTranslation(m,e,i,n));else{let t=!1,o=!1;!this.isValidLookup(m)&&x&&(t=!0,m=C),this.isValidLookup(m)||(o=!0,m=s);const a=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:m,h=x&&C!==m&&this.options.updateMissing;if(o||t||h){if(this.logger.log(h?"updateKey":"missingKey",d,l,s,h?C:m),r){const e=this.resolve(s,c(c({},i),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let i=0;i<t.length;i++)e.push(t[i]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(i.lng||this.language):e.push(i.lng||this.language);const n=(e,t,n)=>{var o;const r=x&&n!==m?n:a;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,r,h,i):null!==(o=this.backendConnector)&&void 0!==o&&o.saveMissing&&this.backendConnector.saveMissing(e,l,t,r,h,i),this.emit("missingKey",e,l,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,i);S&&i["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach((t=>{n([e],s+t,i["defaultValue".concat(t)]||C)}))})):n(e,s,C))}m=this.extendTranslation(m,e,i,p,n),o&&m===s&&this.options.appendNamespaceToMissingKey&&(m="".concat(l).concat(u).concat(s)),(o||t)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(u).concat(s):s,t?m:void 0,i))}else{if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,T,c(c({},i),{},{ns:a})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=e,p.usedParams=this.getUsedParamsDetails(i),p):e}if(r){const e=Array.isArray(T),t=e?[]:{},n=e?g:f;for(const o in T)if(Object.prototype.hasOwnProperty.call(T,o)){const e="".concat(n).concat(r).concat(o);t[o]=x&&!m?this.translate(e,c(c({},i),{},{defaultValue:Yc(C)?C[o]:void 0},{joinArrays:!1,ns:a})):this.translate(e,c(c({},i),{joinArrays:!1,ns:a})),t[o]===e&&(t[o]=T[o])}m=t}}return o?(p.res=m,p.usedParams=this.getUsedParamsDetails(i),p):m}extendTranslation(e,t,n,i,o){var r,s=this;if(null!==(r=this.i18nFormat)&&void 0!==r&&r.parse)e=this.i18nFormat.parse(e,c(c({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){var a;n.interpolation&&this.interpolator.init(c(c({},n),{interpolation:c(c({},this.options.interpolation),n.interpolation)}));const r=Cc(e)&&(void 0!==(null===n||void 0===n||null===(a=n.interpolation)||void 0===a?void 0:a.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(r){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let u=n.replace&&!Cc(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=c(c({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language||i.usedLng,n),r){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(null===o||void 0===o?void 0:o[0])!==i[0]||n.context?s.translate(...i,t):(s.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null)}),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=Cc(l)?[l]:l;return null!=e&&null!==u&&void 0!==u&&u.length&&!1!==n.applyPostProcessor&&(e=qc.handle(u,e,t,this.options&&this.options.postProcessPassResolved?c({i18nResolved:c(c({},i),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,i,o,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cc(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,s),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==s.count&&!Cc(s.count),d=u&&!s.ordinal&&0===s.count,h=void 0!==s.context&&(Cc(s.context)||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach((e=>{var a,c;this.isValidLookup(t)||(r=e,Kc["".concat(p[0],"-").concat(e)]||null===(a=this.utils)||void 0===a||!a.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(r)||(Kc["".concat(p[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{var r;if(this.isValidLookup(t))return;o=n;const a=[l];if(null!==(r=this.i18nFormat)&&void 0!==r&&r.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t="".concat(this.options.pluralSeparator,"zero"),i="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(u&&(a.push(l+e),s.ordinal&&0===e.indexOf(i)&&a.push(l+e.replace(i,this.options.pluralSeparator)),d&&a.push(l+t)),h){const n="".concat(l).concat(this.options.contextSeparator).concat(s.context);a.push(n),u&&(a.push(n+e),s.ordinal&&0===e.indexOf(i)&&a.push(n+e.replace(i,this.options.pluralSeparator)),d&&a.push(n+t))}}let c;for(;c=a.pop();)this.isValidLookup(t)||(i=c,t=this.getResource(n,e,c,s))})))}))})),{res:t,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:r}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(i=this.i18nFormat)&&void 0!==i&&i.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Cc(e.replace);let i=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i=c(c({},this.options.interpolation.defaultVariables),i)),!n){i=c({},i);for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Qc{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hc.create("languageUtils")}getScriptPartFromCode(e){if(!(e=$c(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=$c(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Cc(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(MI){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find((e=>e===i?e:e.indexOf("-")<0&&i.indexOf("-")<0?void 0:e.indexOf("-")>0&&i.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),Cc(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),i=[],o=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return Cc(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):Cc(e)&&o(this.formatLanguageCode(e)),n.forEach((e=>{i.indexOf(e)<0&&o(this.formatLanguageCode(e))})),i}}const Gc={zero:0,one:1,two:2,few:3,many:4,other:5},Xc={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Zc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Hc.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=$c("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let r;try{r=new Intl.PluralRules(n,{type:i})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Xc;if(!e.match(/-|_/))return Xc;const n=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(n,t)}return this.pluralRulesCache[o]=r,r}needsPlural(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),(null===(t=i)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>"".concat(t).concat(e)))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort(((e,t)=>Gc[e]-Gc[t])).map((e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}const eu=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=((e,t,n)=>{const i=Mc(e,n);return void 0!==i?i:Mc(t,n)})(e,t,n);return!r&&o&&Cc(n)&&(r=Vc(e,n,i),void 0===r&&(r=Vc(t,n,i))),r},tu=e=>e.replace(/\$/g,"$$$$");class nu{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Hc.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:r,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:f,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Lc,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=o?Oc(o):r||"{{",this.suffix=s?Oc(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Oc(d):h||Oc("$t("),this.nestingSuffix=p?Oc(p):m||Oc(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,n,i){var o;let r,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(e.indexOf(this.formatSeparator)<0){const o=eu(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,c(c(c({},i),t),{},{interpolationkey:e})):o}const o=e.split(this.formatSeparator),r=o.shift().trim(),s=o.join(this.formatSeparator).trim();return this.format(eu(t,l,r,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,c(c(c({},i),t),{},{interpolationkey:r}))};this.resetRegExp();const d=(null===i||void 0===i?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=void 0!==(null===i||void 0===i||null===(o=i.interpolation)||void 0===o?void 0:o.skipOnVariables)?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>tu(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?tu(this.escape(e)):tu(e)}].forEach((t=>{for(a=0;r=t.regex.exec(e);){const n=r[1].trim();if(s=u(n),void 0===s)if("function"===typeof d){const t=d(e,r,i);s=Cc(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))s="";else{if(h){s=r[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),s=""}else Cc(s)||this.useRawValueToEscape||(s=Ec(s));const o=t.safeValue(s);if(e=e.replace(r[0],o),h?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{var n;const i=this.nestingOptionsSeparator;if(e.indexOf(i)<0)return e;const r=e.split(new RegExp("".concat(i,"[ ]*{")));let s="{".concat(r[1]);e=r[0],s=this.interpolate(s,o);const a=s.match(/'/g),l=s.match(/"/g);((null!==(n=null===a||void 0===a?void 0:a.length)&&void 0!==n?n:0)%2===0&&!l||l.length%2!==0)&&(s=s.replace(/'/g,'"'));try{o=JSON.parse(s),t&&(o=c(c({},t),o))}catch(MI){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),MI),"".concat(e).concat(i).concat(s)}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];o=c({},r),o=o.replace&&!Cc(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(a=n[1].slice(l).split(this.formatSeparator).map((e=>e.trim())).filter(Boolean),n[1]=n[1].slice(0,l)),i=t(s.call(this,n[1].trim(),o),o),i&&n[0]===e&&!Cc(i))return i;Cc(i)||(i=Ec(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),a.length&&(i=a.reduce(((e,t)=>this.format(e,t,r.lng,c(c({},r),{},{interpolationkey:n[1].trim()}))),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const iu=e=>{const t={};return(n,i,o)=>{let r=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(r=c(c({},r),{},{[o.interpolationkey]:void 0}));const s=i+JSON.stringify(r);let a=t[s];return a||(a=e($c(i),o),t[s]=a),a(n)}},ou=e=>(t,n,i)=>e($c(n),i)(t);class ru{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Hc.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?iu:ou;this.formats={number:n(((e,t)=>{const n=new Intl.NumberFormat(e,c({},t));return e=>n.format(e)})),currency:n(((e,t)=>{const n=new Intl.NumberFormat(e,c(c({},t),{},{style:"currency"}));return e=>n.format(e)})),datetime:n(((e,t)=>{const n=new Intl.DateTimeFormat(e,c({},t));return e=>n.format(e)})),relativetime:n(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,c({},t));return e=>n.format(e,t.range||"day")})),list:n(((e,t)=>{const n=new Intl.ListFormat(e,c({},t));return e=>n.format(e)}))}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=iu(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}const r=o.reduce(((e,t)=>{const{formatName:o,formatOptions:r}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(e){const[t,...i]=e.split(":"),o=i.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();n[r]||(n[r]=o),"false"===o&&(n[r]=!1),"true"===o&&(n[r]=!0),isNaN(o)||(n[r]=parseInt(o,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[o]){let t=e;try{var s;const a=(null===i||void 0===i||null===(s=i.formatParams)||void 0===s?void 0:s[i.interpolationkey])||{},l=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[o](e,l,c(c(c({},r),i),a))}catch(a){this.logger.warn(a)}return t}return this.logger.warn("there was no format function for ".concat(o)),e}),e);return r}}class su extends Uc{constructor(e,t,n){var i,o;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Hc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],null===(i=this.backend)||void 0===i||null===(o=i.init)||void 0===o||o.call(i,n,r.backend,r)}queueLoad(e,t,n,i){const o={},r={},s={},a={};return e.forEach((e=>{let i=!0;t.forEach((t=>{const s="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===r[s]&&(r[s]=!0):(this.state[s]=1,i=!1,void 0===r[s]&&(r[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===a[t]&&(a[t]=!0)))})),i||(s[e]=!0)})),(Object.keys(o).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(r),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const i=e.split("|"),o=i[0],r=i[1];t&&this.emit("failedLoading",o,r,t),!t&&n&&this.store.addResourceBundle(o,r,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:i,k:o}=Ac(e,t,Object);i[o]=i[o]||[],i[o].push(n)})(n.loaded,[o],r),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:r});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&i<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,i+1,2*o,r)}),o):r(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"===typeof n.then?n.then((e=>s(null,e))).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Cc(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Cc(t)&&(t=[t]);const o=this.queueLoad(e,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,((n,r)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(o," for language ").concat(i," failed"),n),!n&&r&&this.logger.log("".concat(t,"loaded namespace ").concat(o," for language ").concat(i),r),this.loaded(e,n,r)}))}saveMissing(e,t,n,i,o){var r,s,a;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(r=this.services)||void 0===r||null===(r=r.utils)||void 0===r||!r.hasLoadedNamespace||null!==(s=this.services)&&void 0!==s&&null!==(s=s.utils)&&void 0!==s&&s.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(null!==(a=this.backend)&&void 0!==a&&a.create){const r=c(c({},l),{},{isUpdate:o}),s=this.backend.create.bind(this.backend);if(s.length<6)try{let o;o=5===s.length?s(e,t,n,i,r):s(e,t,n,i),o&&"function"===typeof o.then?o.then((e=>u(null,e))).catch(u):u(null,o)}catch(d){u(d)}else s(e,t,n,i,u,r)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const au=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),Cc(e[1])&&(t.defaultValue=e[1]),Cc(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),lu=e=>{var t,n;return Cc(e.ns)&&(e.ns=[e.ns]),Cc(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Cc(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},cu=()=>{};class uu extends Uc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=lu(e),this.services={},this.logger=Hc,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(Cc(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=au();this.options=c(c(c({},i),this.options),lu(t)),this.options.interpolation=c(c({},i.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Hc.init(o(this.modules.logger),this.options):Hc.init(null,this.options),t=this.modules.formatter?this.modules.formatter:ru;const n=new Qc(this.options);this.store=new Wc(this.options.resources,this.options);const r=this.services;r.logger=Hc,r.resourceStore=this.store,r.languageUtils=n,r.pluralResolver=new Zc(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(r.formatter=o(t),r.formatter.init&&r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new nu(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new su(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit(t,...i)})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=o(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new Jc(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit(t,...i)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=cu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const r=Tc(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),r}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cu;const n=Cc(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var i,o;if("cimode"===(null===n||void 0===n?void 0:n.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}null===(i=this.options.preload)||void 0===i||null===(o=i.forEach)||void 0===o||o.call(i,(e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const i=Tc();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=cu),this.services.backendConnector.reload(e,t,(e=>{i.resolve(),n(e)})),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&qc.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=Tc();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},r=(r,s)=>{s?this.isLanguageChangingTo===e&&(o(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),t&&t(r,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Cc(t)?t:t&&t[0],i=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(Cc(t)?[t]:t);var s,a;i&&(this.language||o(i),this.translator.language||this.translator.changeLanguage(i),null===(s=this.services.languageDetector)||void 0===s||null===(a=s.cacheUserLanguage)||void 0===a||a.call(s,i));this.loadResources(i,(e=>{r(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const o=function(e,t){let r;if("object"!==typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];r=i.options.overloadTranslationOptionHandler([e,t].concat(a))}else r=c({},t);r.lng=r.lng||o.lng,r.lngs=r.lngs||o.lngs,r.ns=r.ns||o.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||n||o.keyPrefix);const u=i.options.keySeparator||".";let d;return d=r.keyPrefix&&Array.isArray(e)?e.map((e=>"".concat(r.keyPrefix).concat(u).concat(e))):r.keyPrefix?"".concat(r.keyPrefix).concat(u).concat(e):e,i.t(d,r)};return Cc(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null===(e=this.translator)||void 0===e?void 0:e.translate(...n)}exists(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null===(e=this.translator)||void 0===e?void 0:e.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const r=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!r(n,e)||i&&!r(o,e)))}loadNamespaces(e,t){const n=Tc();return this.options.ns?(Cc(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Tc();Cc(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter((e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=i.concat(o),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(MI){}const i=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new Qc(au());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new uu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cu;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i=c(c(c({},this.options),e),{isClone:!0}),o=new uu(i);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));if(["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services=c({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]=c({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce(((n,i)=>(n[i]=c({},e[t][i]),n)),e[t]),e)),{});o.store=new Wc(e,i),o.services.resourceStore=o.store}return o.translator=new Jc(o.services,i),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit(e,...n)})),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const du=uu.createInstance();du.createInstance=uu.createInstance;du.createInstance,du.dir,du.init,du.loadResources,du.reloadResources,du.use,du.changeLanguage,du.getFixedT,du.t,du.exists,du.setDefaultNamespace,du.hasLoadedNamespace,du.loadNamespaces,du.loadLanguages;n(844);Object.create(null);const hu={},pu=(e,t,n,i)=>{vu(n)&&hu[n]||(vu(n)&&(hu[n]=new Date),((e,t,n,i)=>{var o,r,s;const a=[n,c({code:t},i||{})];if(null!==e&&void 0!==e&&null!==(o=e.services)&&void 0!==o&&null!==(o=o.logger)&&void 0!==o&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);vu(a[0])&&(a[0]="react-i18next:: ".concat(a[0])),null!==e&&void 0!==e&&null!==(r=e.services)&&void 0!==r&&null!==(r=r.logger)&&void 0!==r&&r.warn?e.services.logger.warn(...a):null!==(s=console)&&void 0!==s&&s.warn&&console.warn(...a)})(e,t,n,i))},mu=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},fu=(e,t,n)=>{e.loadNamespaces(t,mu(e,n))},gu=(e,t,n,i)=>{if(vu(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return fu(e,n,i);n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,mu(e,i))},vu=e=>"string"===typeof e,yu=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bu={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},xu=e=>bu[e];let wu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(yu,xu)};let ku;const Su={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wu=c(c({},wu),e)}(e.options.react),(e=>{ku=e})(e)}},Cu=(0,t.createContext)();class Tu{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Eu=(e,t,n,i)=>e.getFixedT(t,n,i),Nu=function(e){var n,i,o,r;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:a}=s,{i18n:l,defaultNS:u}=(0,t.useContext)(Cu)||{},d=a||l||ku;if(d&&!d.reportNamespaces&&(d.reportNamespaces=new Tu),!d){pu(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return vu(t)?t:"object"===typeof(n=t)&&null!==n&&vu(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}null!==(n=d.options.react)&&void 0!==n&&n.wait&&pu(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h=c(c(c({},wu),d.options.react),s),{useSuspense:p,keyPrefix:m}=h;let f=e||u||(null===(i=d.options)||void 0===i?void 0:i.defaultNS);f=vu(f)?[f]:f||["translation"],null===(o=(r=d.reportNamespaces).addUsedNamespaces)||void 0===o||o.call(r,f);const g=(d.isInitialized||d.initializedStoreOnce)&&f.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):(pu(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,d,h))),v=((e,n,i,o)=>(0,t.useCallback)(Eu(e,n,i,o),[e,n,i,o]))(d,s.lng||null,"fallback"===h.nsMode?f:f[0],m),y=()=>v,b=()=>Eu(d,s.lng||null,"fallback"===h.nsMode?f:f[0],m),[x,w]=(0,t.useState)(y);let k=f.join();s.lng&&(k="".concat(s.lng).concat(k));const S=((e,n)=>{const i=(0,t.useRef)();return(0,t.useEffect)((()=>{i.current=n?i.current:e}),[e,n]),i.current})(k),C=(0,t.useRef)(!0);(0,t.useEffect)((()=>{const{bindI18n:e,bindI18nStore:t}=h;C.current=!0,g||p||(s.lng?gu(d,s.lng,f,(()=>{C.current&&w(b)})):fu(d,f,(()=>{C.current&&w(b)}))),g&&S&&S!==k&&C.current&&w(b);const n=()=>{C.current&&w(b)};return e&&(null===d||void 0===d||d.on(e,n)),t&&(null===d||void 0===d||d.store.on(t,n)),()=>{C.current=!1,d&&e&&(null===e||void 0===e||e.split(" ").forEach((e=>d.off(e,n)))),t&&d&&t.split(" ").forEach((e=>d.store.off(e,n)))}}),[d,k]),(0,t.useEffect)((()=>{C.current&&g&&w(y)}),[d,m,g]);const T=[x,d,g];if(T.t=x,T.i18n=d,T.ready=g,g)return T;if(!g&&!p)return T;throw new Promise((e=>{s.lng?gu(d,s.lng,f,(()=>e())):fu(d,f,(()=>e()))}))};const{slice:Du,forEach:ju}=[];const Au=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Pu={create(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),i&&(o.domain=i),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},i=encodeURIComponent(t);let o="".concat(e,"=").concat(i);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!Au.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(n.domain)}if(n.path){if(!Au.test(n.path))throw new TypeError("option path is invalid");o+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(o+="; Partitioned"),o}(e,t,o)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let i=0;i<n.length;i++){let e=n[i];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Mu={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return Pu.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:o,cookieOptions:r}=t;n&&"undefined"!==typeof document&&Pu.create(n,e,i,o,r)}},Fu={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var i;let{search:e}=window.location;!window.location.search&&(null===(i=window.location.hash)||void 0===i?void 0:i.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const o=e.substring(1).split("&");for(let i=0;i<o.length;i++){const e=o[i].indexOf("=");if(e>0){o[i].substring(0,e)===n&&(t=o[i].substring(e+1))}}}return t}},Ou={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:i}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const r=e.substring(1);if(n){const e=r.split("&");for(let i=0;i<e.length;i++){const o=e[i].indexOf("=");if(o>0){e[i].substring(0,o)===n&&(t=e[i].substring(o+1))}}}if(t)return t;if(!t&&i>-1){var o;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(o=t["number"===typeof i?i:0])||void 0===o?void 0:o.replace("/","")}}}return t}};let Ru=null;const Lu=()=>{if(null!==Ru)return Ru;try{if(Ru="undefined"!==typeof window&&null!==window.localStorage,!Ru)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(MI){Ru=!1}return Ru};var Iu={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Lu())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Lu()&&window.localStorage.setItem(n,e)}};let _u=null;const Vu=()=>{if(null!==_u)return _u;try{if(_u="undefined"!==typeof window&&null!==window.sessionStorage,!_u)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(MI){_u=!1}return _u};var $u={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Vu())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Vu()&&window.sessionStorage.setItem(n,e)}},zu={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:i}=navigator;if(e)for(let o=0;o<e.length;o++)t.push(e[o]);n&&t.push(n),i&&t.push(i)}return t.length>0?t:void 0}},Bu={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const i=n||("undefined"!==typeof document?document.documentElement:null);return i&&"function"===typeof i.getAttribute&&(t=i.getAttribute("lang")),t}},Hu={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(i))return;return null===(t=i["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},Uu={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const i="number"===typeof n?n+1:1,o="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(o)return o[i]}};let Wu=!1;try{document.cookie,Wu=!0}catch(MI){}const qu=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Wu||qu.splice(1,1);class Ku{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return ju.call(Du.call(arguments,1),(t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:qu,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Mu),this.addDetector(Fu),this.addDetector(Iu),this.addDetector($u),this.addDetector(zu),this.addDetector(Bu),this.addDetector(Hu),this.addDetector(Uu),this.addDetector(Ou)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach((e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}})),t=t.filter((e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((e=>e.test(t))));var t})).map((e=>this.options.convertDetectedLanguage(e))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})))}}Ku.type="languageDetector";du.use(Ku).use(Su).init({resources:{en:{translation:{loading:"Loading...",login:"Login",logout:"Logout",signup:"Sign Up",login_signup:"Login / Sign Up",get_started:"Get Started",browse_videos:"Browse Videos",start_learning_free:"Start Learning Free",ready_to_start:"Ready to Start Learning?",home:"Home",about:"About",faq:"FAQ",watch:"Watch",series:"Series",my_list:"My List",progress:"Progress",hero_title:"Learn English the Natural Way",hero_subtitle:"Real conversations. Real people. No textbooks.",hero_value_prop_1:"Track your learning and build streaks",hero_value_prop_2:"Learn through videos, not memorization",hero_value_prop_3:"Hear real accents from real people",hero_value_prop_4:"Designed for beginners and beyond",hero_value_prop_5:"Comprehensible Input Method: science-backed and effective",welcome_back:"Welcome back, {{name}}!",not_logged_in:"Not logged in",log_in_to_track:"Log in to track your progress!",tracking_enabled:"Tracking enabled",sign_in_required:"Please log in to access this content.",insufficient_permissions:"Insufficient permissions.",tracking_status:"Tracking: {{minutes}}min",not_tracking:"Not tracking",want_to_track:"Want to track your progress?",sign_up_to_track:"Sign up to save your watch time and unlock the Progress tab!",english_fiesta_videos:"English Fiesta Videos",learn_naturally:"Learn English naturally through comprehensible input",track_learning_progress:"Track Your Learning Progress!",create_account_benefits:"Create an account to track hours, save videos to My List, and unlock the Progress tab",new_beginner:"New Beginner",beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced",conversation:"Conversation",grammar:"Grammar",vocabulary:"Vocabulary",pronunciation:"Pronunciation",culture:"Culture",business:"Business",interview:"Interview",travel:"Travel",tutorial:"Tutorial",search_videos:"Search videos...",all_levels:"All Levels",all_categories:"All Categories",all_accents:"All Accents",newest_first:"Newest First",most_popular:"Most Popular",shortest_first:"Shortest First",longest_first:"Longest First",saved_videos:"Saved Videos",watch_history:"Watch History",sign_in_to_access_mylist:"Sign in to access My List",create_account_to_save:"Create an account to save videos for later and track your watch history across all your devices.",no_saved_videos:"No saved videos yet",no_watch_history:"No watch history yet",videos_you_save:"Videos you save will appear here for easy access later.",videos_you_watch:"Videos you watch will appear here with your progress.",browse_videos_to_save:"Browse Videos to Save",start_watching_videos:"Start Watching Videos",learning_overview:"Learning Overview",total_hours:"Total Hours",day_streak:"Day Streak",personal_best:"Personal Best",videos_watched:"Videos Watched",learning_activity:"Learning Activity",learning_sources:"Learning Sources",platform_videos:"Platform Videos",manual_activities:"Manual Activities",progress_by_level:"Progress by Level",achievements:"Achievements",sign_in_to_view_progress:"Sign in to view your Progress",stay_on_track:"Stay on Track \u2014 Get weekly updates and video tips!",join_community:"Join our community of learners",subscribe:"Subscribe",email_placeholder:"Your email",name_optional:"Your Name (Optional)",email_address:"Your Email Address",maybe_later:"Maybe Later",subscribing:"Subscribing...",stay_motivated:"Stay Motivated!",get_learning_tips:"Get learning tips, progress updates, and new video notifications!",never_spam:"We'll never spam you. Unsubscribe anytime with one click.",footer_tagline:"Learn English naturally through real videos and real conversations \u2014 no memorization, just meaningful understanding.",quick_links:"Quick Links",contact_us:"Contact Us",connect:"Connect",language:"Language",coming_soon:"Coming Soon",copyright:"\xa9 2025 English Fiesta. All rights reserved.",no_videos_found:"No videos found",adjust_search_criteria:"Try adjusting your search criteria.",premium_content:"Premium Content",login_for_access:"Login for Access",premium_content_signup:"Premium content - Sign up to access",create_account_premium:"Please create an account to access premium content!",admin_dashboard:"Admin Dashboard",user_management:"User Management",video_management:"Video Management",upload_videos:"Upload Videos",add_youtube:"Add YouTube",total_users:"Total Users",students:"Students",instructors:"Instructors",admins:"Admins"}},es:{translation:{loading:"Cargando...",login:"Iniciar Sesi\xf3n",logout:"Cerrar Sesi\xf3n",signup:"Registrarse",login_signup:"Iniciar Sesi\xf3n / Registrarse",get_started:"Comenzar",browse_videos:"Explorar Videos",start_learning_free:"Comenzar a Aprender Gratis",ready_to_start:"\xbfListo para Comenzar a Aprender?",home:"Inicio",about:"Acerca de",faq:"Preguntas Frecuentes",watch:"Ver",series:"Series",my_list:"Mi Lista",progress:"Progreso",hero_title:"Aprende Ingl\xe9s de Forma Natural",hero_subtitle:"Conversaciones reales. Personas reales. Sin libros de texto.",hero_value_prop_1:"Rastrea tu aprendizaje y construye rachas",hero_value_prop_2:"Aprende a trav\xe9s de videos, no memorizaci\xf3n",hero_value_prop_3:"Escucha acentos reales de personas reales",hero_value_prop_4:"Dise\xf1ado para principiantes y m\xe1s all\xe1",hero_value_prop_5:"M\xe9todo de Input Comprensible: respaldado por la ciencia y efectivo",new_beginner:"Principiante Nuevo",beginner:"Principiante",intermediate:"Intermedio",advanced:"Avanzado"}},pt:{translation:{loading:"Carregando...",login:"Entrar",logout:"Sair",signup:"Cadastrar",login_signup:"Entrar / Cadastrar",get_started:"Come\xe7ar",browse_videos:"Explorar V\xeddeos",start_learning_free:"Come\xe7ar a Aprender Gr\xe1tis",ready_to_start:"Pronto para Come\xe7ar a Aprender?",home:"In\xedcio",about:"Sobre",faq:"Perguntas Frequentes",watch:"Assistir",series:"S\xe9ries",my_list:"Minha Lista",progress:"Progresso",hero_title:"Aprenda Ingl\xeas de Forma Natural",hero_subtitle:"Conversas reais. Pessoas reais. Sem livros did\xe1ticos.",hero_value_prop_1:"Acompanhe seu aprendizado e construa sequ\xeancias",hero_value_prop_2:"Aprenda atrav\xe9s de v\xeddeos, n\xe3o memoriza\xe7\xe3o",hero_value_prop_3:"Ou\xe7a sotaques reais de pessoas reais",hero_value_prop_4:"Projetado para iniciantes e al\xe9m",hero_value_prop_5:"M\xe9todo de Input Compreens\xedvel: baseado em ci\xeancia e eficaz",new_beginner:"Iniciante Novo",beginner:"Iniciante",intermediate:"Intermedi\xe1rio",advanced:"Avan\xe7ado"}}},lng:"en",fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"english_fiesta_language",caches:["localStorage"]}});function Yu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ju}=Object.prototype,{getPrototypeOf:Qu}=Object,Gu=(Xu=Object.create(null),e=>{const t=Ju.call(e);return Xu[t]||(Xu[t]=t.slice(8,-1).toLowerCase())});var Xu;const Zu=e=>(e=e.toLowerCase(),t=>Gu(t)===e),ed=e=>t=>typeof t===e,{isArray:td}=Array,nd=ed("undefined");const id=Zu("ArrayBuffer");const od=ed("string"),rd=ed("function"),sd=ed("number"),ad=e=>null!==e&&"object"===typeof e,ld=e=>{if("object"!==Gu(e))return!1;const t=Qu(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cd=Zu("Date"),ud=Zu("File"),dd=Zu("Blob"),hd=Zu("FileList"),pd=Zu("URLSearchParams"),[md,fd,gd,vd]=["ReadableStream","Request","Response","Headers"].map(Zu);function yd(e,t){let n,i,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),td(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=o?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let s;for(n=0;n<r;n++)s=i[n],t.call(null,e[s],s,e)}}function bd(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,o=n.length;for(;o-- >0;)if(i=n[o],t===i.toLowerCase())return i;return null}const xd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,wd=e=>!nd(e)&&e!==xd;const kd=(Sd="undefined"!==typeof Uint8Array&&Qu(Uint8Array),e=>Sd&&e instanceof Sd);var Sd;const Cd=Zu("HTMLFormElement"),Td=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ed=Zu("RegExp"),Nd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};yd(n,((n,o)=>{let r;!1!==(r=t(n,o,e))&&(i[o]=r||n)})),Object.defineProperties(e,i)};const Dd=Zu("AsyncFunction"),jd=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),i=[],xd.addEventListener("message",(e=>{let{source:t,data:o}=e;t===xd&&o===n&&i.length&&i.shift()()}),!1),e=>{i.push(e),xd.postMessage(n,"*")}):e=>setTimeout(e);var n,i})("function"===typeof setImmediate,rd(xd.postMessage)),Ad="undefined"!==typeof queueMicrotask?queueMicrotask.bind(xd):"undefined"!==typeof process&&process.nextTick||jd,Pd={isArray:td,isArrayBuffer:id,isBuffer:function(e){return null!==e&&!nd(e)&&null!==e.constructor&&!nd(e.constructor)&&rd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||rd(e.append)&&("formdata"===(t=Gu(e))||"object"===t&&rd(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&id(e.buffer),t},isString:od,isNumber:sd,isBoolean:e=>!0===e||!1===e,isObject:ad,isPlainObject:ld,isReadableStream:md,isRequest:fd,isResponse:gd,isHeaders:vd,isUndefined:nd,isDate:cd,isFile:ud,isBlob:dd,isRegExp:Ed,isFunction:rd,isStream:e=>ad(e)&&rd(e.pipe),isURLSearchParams:pd,isTypedArray:kd,isFileList:hd,forEach:yd,merge:function e(){const{caseless:t}=wd(this)&&this||{},n={},i=(i,o)=>{const r=t&&bd(n,o)||o;ld(n[r])&&ld(i)?n[r]=e(n[r],i):ld(i)?n[r]=e({},i):td(i)?n[r]=i.slice():n[r]=i};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&yd(arguments[o],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yd(t,((t,i)=>{n&&rd(t)?e[i]=Yu(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let o,r,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)s=o[r],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Qu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Gu,kindOfTest:Zu,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(td(e))return e;let t=e.length;if(!sd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Cd,hasOwnProperty:Td,hasOwnProp:Td,reduceDescriptors:Nd,freezeMethods:e=>{Nd(e,((t,n)=>{if(rd(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];rd(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return td(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:bd,global:xd,isContextDefined:wd,isSpecCompliantForm:function(e){return!!(e&&rd(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(ad(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const o=td(e)?[]:{};return yd(e,((e,t)=>{const r=n(e,i+1);!nd(r)&&(o[t]=r)})),t[i]=void 0,o}}return e};return n(e,0)},isAsyncFn:Dd,isThenable:e=>e&&(ad(e)||rd(e))&&rd(e.then)&&rd(e.catch),setImmediate:jd,asap:Ad};function Md(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Pd.inherits(Md,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pd.toJSONObject(this.config),code:this.code,status:this.status}}});const Fd=Md.prototype,Od={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Od[e]={value:e}})),Object.defineProperties(Md,Od),Object.defineProperty(Fd,"isAxiosError",{value:!0}),Md.from=(e,t,n,i,o,r)=>{const s=Object.create(Fd);return Pd.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Md.call(s,e.message,t,n,i,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const Rd=Md;function Ld(e){return Pd.isPlainObject(e)||Pd.isArray(e)}function Id(e){return Pd.endsWith(e,"[]")?e.slice(0,-2):e}function _d(e,t,n){return e?e.concat(t).map((function(e,t){return e=Id(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Vd=Pd.toFlatObject(Pd,{},null,(function(e){return/^is[A-Z]/.test(e)}));const $d=function(e,t,n){if(!Pd.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=Pd.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Pd.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,r=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Pd.isSpecCompliantForm(t);if(!Pd.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Pd.isDate(e))return e.toISOString();if(!a&&Pd.isBlob(e))throw new Rd("Blob is not supported. Use a Buffer instead.");return Pd.isArrayBuffer(e)||Pd.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let a=e;if(e&&!o&&"object"===typeof e)if(Pd.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Pd.isArray(e)&&function(e){return Pd.isArray(e)&&!e.some(Ld)}(e)||(Pd.isFileList(e)||Pd.endsWith(n,"[]"))&&(a=Pd.toArray(e)))return n=Id(n),a.forEach((function(e,i){!Pd.isUndefined(e)&&null!==e&&t.append(!0===s?_d([n],i,r):null===s?n:n+"[]",l(e))})),!1;return!!Ld(e)||(t.append(_d(o,n,r),l(e)),!1)}const u=[],d=Object.assign(Vd,{defaultVisitor:c,convertValue:l,isVisitable:Ld});if(!Pd.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!Pd.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),Pd.forEach(n,(function(n,r){!0===(!(Pd.isUndefined(n)||null===n)&&o.call(t,n,Pd.isString(r)?r.trim():r,i,d))&&e(n,i?i.concat(r):[r])})),u.pop()}}(e),t};function zd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Bd(e,t){this._pairs=[],e&&$d(e,this,t)}const Hd=Bd.prototype;Hd.append=function(e,t){this._pairs.push([e,t])},Hd.toString=function(e){const t=e?function(t){return e.call(this,t,zd)}:zd;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Ud=Bd;function Wd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qd(e,t,n){if(!t)return e;const i=n&&n.encode||Wd;Pd.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let r;if(r=o?o(t,n):Pd.isURLSearchParams(t)?t.toString():new Ud(t,n).toString(i),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const Kd=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pd.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Yd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jd={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ud,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Qd="undefined"!==typeof window&&"undefined"!==typeof document,Gd="object"===typeof navigator&&navigator||void 0,Xd=Qd&&(!Gd||["ReactNative","NativeScript","NS"].indexOf(Gd.product)<0),Zd="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,eh=Qd&&window.location.href||"http://localhost",th=c(c({},e),Jd);const nh=function(e){function t(e,n,i,o){let r=e[o++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=o>=e.length;if(r=!r&&Pd.isArray(i)?i.length:r,a)return Pd.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!s;i[r]&&Pd.isObject(i[r])||(i[r]=[]);return t(e,n,i[r],o)&&Pd.isArray(i[r])&&(i[r]=function(e){const t={},n=Object.keys(e);let i;const o=n.length;let r;for(i=0;i<o;i++)r=n[i],t[r]=e[r];return t}(i[r])),!s}if(Pd.isFormData(e)&&Pd.isFunction(e.entries)){const n={};return Pd.forEachEntry(e,((e,i)=>{t(function(e){return Pd.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null};const ih={transitional:Yd,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=Pd.isObject(e);o&&Pd.isHTMLForm(e)&&(e=new FormData(e));if(Pd.isFormData(e))return i?JSON.stringify(nh(e)):e;if(Pd.isArrayBuffer(e)||Pd.isBuffer(e)||Pd.isStream(e)||Pd.isFile(e)||Pd.isBlob(e)||Pd.isReadableStream(e))return e;if(Pd.isArrayBufferView(e))return e.buffer;if(Pd.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $d(e,new th.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return th.isNode&&Pd.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=Pd.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return $d(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(Pd.isString(e))try{return(t||JSON.parse)(e),Pd.trim(e)}catch(MI){if("SyntaxError"!==MI.name)throw MI}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ih.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(Pd.isResponse(e)||Pd.isReadableStream(e))return e;if(e&&Pd.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(MI){if(n){if("SyntaxError"===MI.name)throw Rd.from(MI,Rd.ERR_BAD_RESPONSE,this,null,this.response);throw MI}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:th.classes.FormData,Blob:th.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pd.forEach(["delete","get","head","post","put","patch"],(e=>{ih.headers[e]={}}));const oh=ih,rh=Pd.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sh=Symbol("internals");function ah(e){return e&&String(e).trim().toLowerCase()}function lh(e){return!1===e||null==e?e:Pd.isArray(e)?e.map(lh):String(e)}function ch(e,t,n,i,o){return Pd.isFunction(i)?i.call(this,t,n):(o&&(t=n),Pd.isString(t)?Pd.isString(i)?-1!==t.indexOf(i):Pd.isRegExp(i)?i.test(t):void 0:void 0)}class uh{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(e,t,n){const o=ah(t);if(!o)throw new Error("header name must be a non-empty string");const r=Pd.findKey(i,o);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||t]=lh(e))}const r=(e,t)=>Pd.forEach(e,((e,n)=>o(e,n,t)));if(Pd.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(Pd.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,i,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),i=e.substring(o+1).trim(),!n||t[n]&&rh[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t);else if(Pd.isHeaders(e))for(const[s,a]of e.entries())o(a,s,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=ah(e)){const n=Pd.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(Pd.isFunction(t))return t.call(this,e,n);if(Pd.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ah(e)){const n=Pd.findKey(this,e);return!(!n||void 0===this[n]||t&&!ch(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function o(e){if(e=ah(e)){const o=Pd.findKey(n,e);!o||t&&!ch(0,n[o],o,t)||(delete n[o],i=!0)}}return Pd.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];e&&!ch(0,this[o],o,e,!0)||(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return Pd.forEach(this,((i,o)=>{const r=Pd.findKey(n,o);if(r)return t[r]=lh(i),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=lh(i),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Pd.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&Pd.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[sh]=this[sh]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=ah(e);t[i]||(!function(e,t){const n=Pd.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,o){return this[i].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[i]=!0)}return Pd.isArray(e)?e.forEach(i):i(e),this}}uh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pd.reduceDescriptors(uh.prototype,((e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}})),Pd.freezeMethods(uh);const dh=uh;function hh(e,t){const n=this||oh,i=t||n,o=dh.from(i.headers);let r=i.data;return Pd.forEach(e,(function(e){r=e.call(n,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function ph(e){return!(!e||!e.__CANCEL__)}function mh(e,t,n){Rd.call(this,null==e?"canceled":e,Rd.ERR_CANCELED,t,n),this.name="CanceledError"}Pd.inherits(mh,Rd,{__CANCEL__:!0});const fh=mh;function gh(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Rd("Request failed with status code "+n.status,[Rd.ERR_BAD_REQUEST,Rd.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const vh=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=i[s];o||(o=l),n[r]=a,i[r]=l;let u=s,d=0;for(;u!==r;)d+=n[u++],u%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const yh=function(e,t){let n,i,o=0,r=1e3/t;const s=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=r,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=r?s(l,e):(n=l,i||(i=setTimeout((()=>{i=null,s(n)}),r-t)))},()=>n&&s(n)]},bh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const o=vh(50,250);return yh((n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,a=r-i,l=o(a);i=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},xh=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},wh=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Pd.asap((()=>e(...n)))},kh=th.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,th.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(th.origin),th.navigator&&/(msie|trident)/i.test(th.navigator.userAgent)):()=>!0,Sh=th.hasStandardBrowserEnv?{write(e,t,n,i,o,r){const s=[e+"="+encodeURIComponent(t)];Pd.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Pd.isString(i)&&s.push("path="+i),Pd.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ch(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Th=e=>e instanceof dh?c({},e):e;function Eh(e,t){t=t||{};const n={};function i(e,t,n,i){return Pd.isPlainObject(e)&&Pd.isPlainObject(t)?Pd.merge.call({caseless:i},e,t):Pd.isPlainObject(t)?Pd.merge({},t):Pd.isArray(t)?t.slice():t}function o(e,t,n,o){return Pd.isUndefined(t)?Pd.isUndefined(e)?void 0:i(void 0,e,0,o):i(e,t,0,o)}function r(e,t){if(!Pd.isUndefined(t))return i(void 0,t)}function s(e,t){return Pd.isUndefined(t)?Pd.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,o,r){return r in t?i(n,o):r in e?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>o(Th(e),Th(t),0,!0)};return Pd.forEach(Object.keys(Object.assign({},e,t)),(function(i){const r=l[i]||o,s=r(e[i],t[i],i);Pd.isUndefined(s)&&r!==a||(n[i]=s)})),n}const Nh=e=>{const t=Eh({},e);let n,{data:i,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=dh.from(a),t.url=qd(Ch(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Pd.isFormData(i))if(th.hasStandardBrowserEnv||th.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(th.hasStandardBrowserEnv&&(o&&Pd.isFunction(o)&&(o=o(t)),o||!1!==o&&kh(t.url))){const e=r&&s&&Sh.read(s);e&&a.set(r,e)}return t},Dh="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const i=Nh(e);let o=i.data;const r=dh.from(i.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=i;function m(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const i=dh.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());gh((function(e){t(e),m()}),(function(e){n(e),m()}),{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Rd("Request aborted",Rd.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Rd("Network Error",Rd.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const o=i.transitional||Yd;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Rd(t,o.clarifyTimeoutError?Rd.ETIMEDOUT:Rd.ECONNABORTED,e,f)),f=null},void 0===o&&r.setContentType(null),"setRequestHeader"in f&&Pd.forEach(r.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),Pd.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),d&&"json"!==d&&(f.responseType=i.responseType),p&&([l,u]=bh(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([a,c]=bh(h),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{f&&(n(!t||t.type?new fh(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);v&&-1===th.protocols.indexOf(v)?n(new Rd("Unsupported protocol "+v+":",Rd.ERR_BAD_REQUEST,e)):f.send(o||null)}))},jh=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof Rd?t:new fh(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,o(new Rd("timeout ".concat(t," of ms exceeded"),Rd.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=i;return a.unsubscribe=()=>Pd.asap(s),a}};function Ah(e,t){this.v=e,this.k=t}function Ph(e){return function(){return new Mh(e.apply(this,arguments))}}function Mh(e){var t,n;function i(t,n){try{var r=e[t](n),s=r.value,a=s instanceof Ah;Promise.resolve(a?s.v:s).then((function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return i(l,n);n=e[l](n).value}o(r.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(r,s){var a={key:e,arg:o,resolve:r,reject:s,next:null};n?n=n.next=a:(t=n=a,i(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Fh(e){return new Ah(e,0)}function Oh(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new Ah(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function Rh(e){var t,n,i,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new Lh(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Lh(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Lh=function(e){this.s=e,this.n=e.next},Lh.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Lh(e)}Mh.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Mh.prototype.next=function(e){return this._invoke("next",e)},Mh.prototype.throw=function(e){return this._invoke("throw",e)},Mh.prototype.return=function(e){return this._invoke("return",e)};const Ih=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,o=0;for(;o<n;)i=o+t,yield e.slice(o,i),o=i},_h=function(){var e=Ph((function*(e,t){var n,i=!1,o=!1;try{for(var r,s=Rh(Vh(e));i=!(r=yield Fh(s.next())).done;i=!1){const e=r.value;yield*Oh(Rh(Ih(e,t)))}}catch(a){o=!0,n=a}finally{try{i&&null!=s.return&&(yield Fh(s.return()))}finally{if(o)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),Vh=function(){var e=Ph((function*(e){if(e[Symbol.asyncIterator])return void(yield*Oh(Rh(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Fh(t.read());if(e)break;yield n}}finally{yield Fh(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),$h=(e,t,n,i)=>{const o=_h(e,t);let r,s=0,a=e=>{r||(r=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await o.next();if(t)return a(),void e.close();let r=i.byteLength;if(n){let e=s+=r;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},zh="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Bh=zh&&"function"===typeof ReadableStream,Hh=zh&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Uh=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(MI){return!1}},Wh=Bh&&Uh((()=>{let e=!1;const t=new Request(th.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),qh=Bh&&Uh((()=>Pd.isReadableStream(new Response("").body))),Kh={stream:qh&&(e=>e.body)};var Yh;zh&&(Yh=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Kh[e]&&(Kh[e]=Pd.isFunction(Yh[e])?t=>t[e]():(t,n)=>{throw new Rd("Response type '".concat(e,"' is not supported"),Rd.ERR_NOT_SUPPORT,n)})})));const Jh=async(e,t)=>{const n=Pd.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Pd.isBlob(e))return e.size;if(Pd.isSpecCompliantForm(e)){const t=new Request(th.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Pd.isArrayBufferView(e)||Pd.isArrayBuffer(e)?e.byteLength:(Pd.isURLSearchParams(e)&&(e+=""),Pd.isString(e)?(await Hh(e)).byteLength:void 0)})(t):n},Qh=zh&&(async e=>{let{url:t,method:n,data:i,signal:o,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=Nh(e);u=u?(u+"").toLowerCase():"text";let m,f=jh([o,r&&r.toAbortSignal()],s);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&Wh&&"get"!==n&&"head"!==n&&0!==(v=await Jh(d,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(Pd.isFormData(i)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=xh(v,bh(wh(l)));i=$h(n.body,65536,e,t)}}Pd.isString(h)||(h=h?"include":"omit");const o="credentials"in Request.prototype;m=new Request(t,c(c({},p),{},{signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:o?h:void 0}));let r=await fetch(m);const s=qh&&("stream"===u||"response"===u);if(qh&&(a||s&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=Pd.toFiniteNumber(r.headers.get("content-length")),[n,i]=a&&xh(t,bh(wh(a),!0))||[];r=new Response($h(r.body,65536,n,(()=>{i&&i(),g&&g()})),e)}u=u||"text";let y=await Kh[Pd.findKey(Kh,u)||"text"](r,e);return!s&&g&&g(),await new Promise(((t,n)=>{gh(t,n,{data:y,headers:dh.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:m})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Rd("Network Error",Rd.ERR_NETWORK,e,m),{cause:y.cause||y});throw Rd.from(y,y&&y.code,e,m)}}),Gh={http:null,xhr:Dh,fetch:Qh};Pd.forEach(Gh,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(MI){}Object.defineProperty(e,"adapterName",{value:t})}}));const Xh=e=>"- ".concat(e),Zh=e=>Pd.isFunction(e)||null===e||!1===e,ep=e=>{e=Pd.isArray(e)?e:[e];const{length:t}=e;let n,i;const o={};for(let r=0;r<t;r++){let t;if(n=e[r],i=n,!Zh(n)&&(i=Gh[(t=String(n)).toLowerCase()],void 0===i))throw new Rd("Unknown adapter '".concat(t,"'"));if(i)break;o[t||"#"+r]=i}if(!i){const e=Object.entries(o).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Xh).join("\n"):" "+Xh(e[0]):"as no adapter specified";throw new Rd("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function tp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fh(null,e)}function np(e){tp(e),e.headers=dh.from(e.headers),e.data=hh.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ep(e.adapter||oh.adapter)(e).then((function(t){return tp(e),t.data=hh.call(e,e.transformResponse,t),t.headers=dh.from(t.headers),t}),(function(t){return ph(t)||(tp(e),t&&t.response&&(t.response.data=hh.call(e,e.transformResponse,t.response),t.response.headers=dh.from(t.response.headers))),Promise.reject(t)}))}const ip="1.8.4",op={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{op[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const rp={};op.transitional=function(e,t,n){function i(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,r)=>{if(!1===e)throw new Rd(i(o," has been removed"+(t?" in "+t:"")),Rd.ERR_DEPRECATED);return t&&!rp[o]&&(rp[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,r)}},op.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const sp={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Rd("options must be an object",Rd.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const r=i[o],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new Rd("option "+r+" must be "+n,Rd.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Rd("Unknown option "+r,Rd.ERR_BAD_OPTION)}},validators:op},ap=sp.validators;class lp{constructor(e){this.defaults=e,this.interceptors={request:new Kd,response:new Kd}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(MI){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Eh(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;void 0!==n&&sp.assertOptions(n,{silentJSONParsing:ap.transitional(ap.boolean),forcedJSONParsing:ap.transitional(ap.boolean),clarifyTimeoutError:ap.transitional(ap.boolean)},!1),null!=i&&(Pd.isFunction(i)?t.paramsSerializer={serialize:i}:sp.assertOptions(i,{encode:ap.function,serialize:ap.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),sp.assertOptions(t,{baseUrl:ap.spelling("baseURL"),withXsrfToken:ap.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=o&&Pd.merge(o.common,o[t.method]);o&&Pd.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=dh.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[np.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=np.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return qd(Ch((e=Eh(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Pd.forEach(["delete","get","head","options"],(function(e){lp.prototype[e]=function(t,n){return this.request(Eh(n||{},{method:e,url:t,data:(n||{}).data}))}})),Pd.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,o){return this.request(Eh(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}lp.prototype[e]=t(),lp.prototype[e+"Form"]=t(!0)}));const cp=lp;class up{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,o){n.reason||(n.reason=new fh(e,i,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new up((function(t){e=t}));return{token:t,cancel:e}}}const dp=up;const hp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hp).forEach((e=>{let[t,n]=e;hp[n]=t}));const pp=hp;const mp=function e(t){const n=new cp(t),i=Yu(cp.prototype.request,n);return Pd.extend(i,cp.prototype,n,{allOwnKeys:!0}),Pd.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(Eh(t,n))},i}(oh);mp.Axios=cp,mp.CanceledError=fh,mp.CancelToken=dp,mp.isCancel=ph,mp.VERSION=ip,mp.toFormData=$d,mp.AxiosError=Rd,mp.Cancel=mp.CanceledError,mp.all=function(e){return Promise.all(e)},mp.spread=function(e){return function(t){return e.apply(null,t)}},mp.isAxiosError=function(e){return Pd.isObject(e)&&!0===e.isAxiosError},mp.mergeConfig=Eh,mp.AxiosHeaders=dh,mp.formToJSON=e=>nh(Pd.isHTMLForm(e)?new FormData(e):e),mp.getAdapter=ep,mp.HttpStatusCode=pp,mp.default=mp;const fp=mp,gp="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),vp=(0,t.createContext)(null),yp=()=>{const e=(0,t.useContext)(vp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},bp=e=>{let{children:n}=e;const[i,o]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)((()=>localStorage.getItem("english_fiesta_token")));(0,t.useEffect)((()=>{(async()=>{const e=window.location.hash;if(e.includes("session_id=")){const t=e.split("session_id=")[1].split("&")[0];await c(t)}else a?await u():s(!1)})()}),[]),(0,t.useEffect)((()=>{a&&null===i&&!r&&u()}),[a]);const c=async e=>{try{s(!0);const t=(await fp.post("".concat(gp,"/auth/session"),{session_id:e})).data;localStorage.setItem("english_fiesta_token",t.session_token),l(t.session_token),o(t),window.location.hash="",window.history.replaceState({},"","/"),setTimeout((()=>{s(!1)}),100)}catch(t){console.error("Authentication failed:",t),s(!1)}},u=async()=>{try{const e=await fp.get("".concat(gp,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(a)}});o(e.data)}catch(e){console.error("Failed to fetch user profile:",e),d()}finally{s(!1)}},d=async()=>{try{a&&await fp.post("".concat(gp,"/auth/logout"),{},{headers:{Authorization:"Bearer ".concat(a)}})}catch(e){console.error("Logout error:",e)}finally{o(null),l(null),localStorage.removeItem("english_fiesta_token")}},h={user:i,loading:r,login:()=>{const e=encodeURIComponent(window.location.origin+"/profile");window.location.href="https://auth.emergentagent.com/?redirect=".concat(e)},logout:d,sessionToken:a,isAuthenticated:!!i,isAdmin:"admin"===(null===i||void 0===i?void 0:i.role),isInstructor:"instructor"===(null===i||void 0===i?void 0:i.role)||"admin"===(null===i||void 0===i?void 0:i.role),isStudent:"student"===(null===i||void 0===i?void 0:i.role)||"instructor"===(null===i||void 0===i?void 0:i.role)||"admin"===(null===i||void 0===i?void 0:i.role)};return(0,vo.jsx)(vp.Provider,{value:h,children:n})};class xp extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=rc(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wp(e){let{children:n,isPresent:i,anchorX:o,root:r}=e;const s=(0,t.useId)(),a=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(xo);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(i||!a.current||!e||!t)return;const h="left"===o?"left: ".concat(u):"right: ".concat(d);a.current.dataset.motionPopId=s;const p=document.createElement("style");c&&(p.nonce=c);const m=null!==r&&void 0!==r?r:document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{m.contains(p)&&m.removeChild(p)}}),[i]),(0,vo.jsx)(xp,{isPresent:i,childRef:a,sizeRef:l,children:t.cloneElement(n,{ref:a})})}const kp=e=>{let{children:n,initial:i,isPresent:o,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:d}=e;const h=Lo(Sp),p=(0,t.useId)();let m=!0,f=(0,t.useMemo)((()=>(m=!1,{id:p,initial:i,isPresent:o,custom:s,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;r&&r()},register:e=>(h.set(e,!1),()=>h.delete(e))})),[o,h,r]);return a&&m&&(f=c({},f)),(0,t.useMemo)((()=>{h.forEach(((e,t)=>h.set(t,!1)))}),[o]),t.useEffect((()=>{!o&&!h.size&&r&&r()}),[o]),"popLayout"===l&&(n=(0,vo.jsx)(wp,{isPresent:o,anchorX:u,root:d,children:n})),(0,vo.jsx)(Ro.Provider,{value:f,children:n})};function Sp(){return new Map}const Cp=e=>e.key||"";function Tp(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const Ep=e=>{let{children:n,custom:i,initial:o=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,h]=$a(l),p=(0,t.useMemo)((()=>Tp(n)),[n]),m=l&&!d?[]:p.map(Cp),f=(0,t.useRef)(!0),g=(0,t.useRef)(p),v=Lo((()=>new Map)),[y,b]=(0,t.useState)(p),[x,w]=(0,t.useState)(p);Yo((()=>{f.current=!1,g.current=p;for(let e=0;e<x.length;e++){const t=Cp(x[e]);m.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}}),[x,m.length,m.join("-")]);const k=[];if(p!==y){let e=[...p];for(let t=0;t<x.length;t++){const n=x[t],i=Cp(n);m.includes(i)||(e.splice(t,0,n),k.push(n))}return"wait"===a&&k.length&&(e=k),w(Tp(e)),b(p),null}const{forceRender:S}=(0,t.useContext)(yo);return(0,vo.jsx)(vo.Fragment,{children:x.map((e=>{const t=Cp(e),n=!(l&&!d)&&(p===x||m.includes(t));return(0,vo.jsx)(kp,{isPresent:n,initial:!(f.current&&!o)&&void 0,custom:i,presenceAffectsLayout:s,mode:a,root:u,onExitComplete:n?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach((t=>{t||(e=!1)})),e&&(null===S||void 0===S||S(),w(g.current),l&&(null===h||void 0===h||h()),r&&r())},anchorX:c,children:e},t)}))})},Np=()=>{const{user:e,login:n,logout:i,isAuthenticated:o}=yp(),[r,s]=(0,t.useState)(!1);return(0,vo.jsx)(Sc.div,{className:"bg-white shadow-lg border-b-2 border-fiesta-yellow",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vo.jsx)(Sc.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:(0,vo.jsxs)("a",{href:"/",className:"flex items-center gap-3",children:[(0,vo.jsx)("img",{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-8 h-8 md:w-10 md:h-10"}),(0,vo.jsx)("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-fiesta-pink to-fiesta-purple bg-clip-text text-transparent font-baloo",children:"English Fiesta"})]})}),(0,vo.jsxs)("div",{className:"flex items-center gap-4",children:[(0,vo.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,vo.jsx)(Sc.a,{href:"/",className:"text-gray-600 hover:text-fiesta-pink transition-colors font-medium",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Home"}),(0,vo.jsx)(Sc.a,{href:"/about",className:"text-gray-600 hover:text-fiesta-blue transition-colors font-medium",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"About"}),(0,vo.jsx)(Sc.a,{href:"/faq",className:"text-gray-600 hover:text-fiesta-purple transition-colors font-medium",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"FAQ"}),(0,vo.jsx)(Sc.a,{href:"/book",className:"flex items-center justify-center text-gray-600 hover:text-fiesta-orange transition-colors font-medium px-2 py-1 rounded-lg",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:(0,vo.jsxs)("span",{className:"flex items-center gap-1",children:[(0,vo.jsx)("span",{children:"\ud83c\udfaf"}),(0,vo.jsx)("span",{children:"Join a Class"})]})})]}),(0,vo.jsx)(Sc.button,{className:"md:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",onClick:()=>s(!r),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,vo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,vo.jsx)(Sc.a,{href:"https://buymeacoffee.com/englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"hidden sm:flex items-center justify-center bg-gradient-to-r from-fiesta-pink to-pink-500 text-white px-3 py-2 rounded-full font-semibold text-xs md:text-sm shadow-lg hover:shadow-xl transition-all duration-300 whitespace-nowrap",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(236, 72, 153, 0.4)"},whileTap:{scale:.95},children:(0,vo.jsxs)("span",{className:"flex items-center gap-1",children:[(0,vo.jsx)("span",{children:"\ud83d\udc96"}),(0,vo.jsx)("span",{children:"Help English Fiesta Grow"})]})}),o?(0,vo.jsxs)("div",{className:"flex items-center gap-4",children:[(0,vo.jsxs)(Sc.div,{className:"text-right",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,vo.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,vo.jsxs)("div",{className:"text-xs text-gray-500 capitalize",children:["admin"===e.role&&"\ud83d\udc51 ","instructor"===e.role&&"\ud83c\udf93 ","student"===e.role&&"\ud83d\udcda ",e.role]})]}),e.picture&&(0,vo.jsx)(Sc.img,{src:e.picture,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-fiesta-yellow shadow-lg",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300}}),(0,vo.jsx)(Sc.button,{onClick:i,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm transition-all duration-200 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Logout"})]}):(0,vo.jsx)(Sc.button,{onClick:n,className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-6 py-2 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(56, 189, 248, 0.4)"},whileTap:{scale:.95},children:"Login / Sign Up"})]})]}),(0,vo.jsx)(Ep,{children:r&&(0,vo.jsx)(Sc.div,{className:"md:hidden bg-white border-t border-gray-200",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,vo.jsxs)("div",{className:"px-4 py-4 space-y-3",children:[(0,vo.jsx)(Sc.a,{href:"/",className:"block text-gray-600 hover:text-fiesta-pink transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:"Home"}),(0,vo.jsx)(Sc.a,{href:"/about",className:"block text-gray-600 hover:text-fiesta-blue transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:"About"}),(0,vo.jsx)(Sc.a,{href:"/faq",className:"block text-gray-600 hover:text-fiesta-purple transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:"FAQ"}),(0,vo.jsx)(Sc.a,{href:"/book",className:"flex items-center text-gray-600 hover:text-fiesta-orange transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:(0,vo.jsxs)("span",{className:"flex items-center gap-2",children:[(0,vo.jsx)("span",{children:"\ud83c\udfaf"}),(0,vo.jsx)("span",{children:"Join a Class"})]})}),(0,vo.jsx)(Sc.a,{href:"https://buymeacoffee.com/englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"flex sm:hidden items-center justify-center bg-gradient-to-r from-fiesta-pink to-pink-500 text-white px-4 py-3 rounded-lg font-semibold text-sm shadow-lg mt-4",onClick:()=>s(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,vo.jsxs)("span",{className:"flex items-center gap-2",children:[(0,vo.jsx)("span",{children:"\ud83d\udc96"}),(0,vo.jsx)("span",{children:"Help English Fiesta Grow"})]})})]})})})]})})},Dp=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[i,o]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),{i18n:c}=Nu();(0,t.useEffect)((()=>{(async()=>{try{s(!0);let t="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/content");e&&n?t+="/".concat(e,"/").concat(n):e&&(t+="/".concat(e));const i=await fetch(t);if(!i.ok)throw new Error("Failed to fetch content: ".concat(i.status));{const e=await i.json();o(e)}}catch(t){console.error("Error fetching content:",t),l(t)}finally{s(!1)}})()}),[e,n]);const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";if(!e||!e.languages)return"";const n=c.language||"en";return(e.languages[n]||e.languages.en||{})[t]||""};return{content:i,loading:r,error:a,getContentForLanguage:u,getTitleForLanguage:e=>u(e,"title")}},jp=()=>{const[e,n]=(0,t.useState)({}),[i,o]=(0,t.useState)(!0),[r,s]=(0,t.useState)(null),{i18n:a}=Nu();(0,t.useEffect)((()=>{(async()=>{try{o(!0);const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/content"));if(!e.ok)throw new Error("Failed to fetch content: ".concat(e.status));{const t=await e.json();n(t)}}catch(e){console.error("Error fetching all content:",e),s(e),n({})}finally{o(!1)}})()}),[]);const l=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";const[i,o]=t.split("."),r=a.language||"en";try{var s;const t=null===(s=e[i])||void 0===s?void 0:s[o];if(!t||!t.languages)return"";return(t.languages[r]||t.languages.en||{})[n]||""}catch(l){return console.warn("Failed to get content for ".concat(t,":"),l),""}};return{allContent:e,loading:i,error:r,getContent:l,getTitle:e=>l(e,"title")}},Ap=()=>{const{i18n:e,t:t}=Nu(),n=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8",available:!0},{code:"es",name:"Espa\xf1ol",flag:"\ud83c\uddea\ud83c\uddf8",available:!1},{code:"pt",name:"Portugu\xeas",flag:"\ud83c\udde7\ud83c\uddf7",available:!1}];return(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h5",{className:"font-semibold text-sm mb-2",children:t("language")}),(0,vo.jsx)("select",{value:e.language,onChange:t=>(t=>{var i;null!==(i=n.find((e=>e.code===t)))&&void 0!==i&&i.available&&e.changeLanguage(t)})(t.target.value),className:"bg-gray-700 text-white px-3 py-2 rounded text-sm border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:n.map((e=>(0,vo.jsxs)("option",{value:e.code,disabled:!e.available,children:[e.flag," ",e.name," ",!e.available&&"(".concat(t("coming_soon"),")")]},e.code)))})]})},Pp=()=>{const{t:e}=Nu(),{getContent:t,loading:n}=jp(),i=t("footer.footer_tagline")||e("footer_tagline"),o=t("footer.footer_copyright")||e("copyright");return(0,vo.jsxs)("footer",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-black text-white py-12 mt-16 relative overflow-hidden",children:[(0,vo.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,vo.jsx)(Sc.div,{className:"absolute top-10 right-10 text-fiesta-yellow text-4xl opacity-20",animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,vo.jsx)(Sc.div,{className:"absolute bottom-10 left-10 text-fiesta-pink text-3xl opacity-20",animate:{y:[0,-20,0],rotate:[0,-10,10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:"\ud83d\udc96"})]}),(0,vo.jsxs)("div",{className:"container mx-auto px-4 relative z-10",children:[(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[(0,vo.jsxs)("div",{className:"md:col-span-2",children:[(0,vo.jsxs)(Sc.div,{className:"flex items-center gap-3 mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},children:[(0,vo.jsx)(Sc.img,{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-8 h-8",whileHover:{rotate:360},transition:{duration:.6}}),(0,vo.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-fiesta-yellow to-fiesta-orange bg-clip-text text-transparent font-baloo",children:"English Fiesta"})]}),(0,vo.jsx)(Sc.p,{className:"text-gray-300 leading-relaxed mb-4 font-poppins",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i}),(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 rounded-xl p-6 border border-fiesta-blue border-opacity-30",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,vo.jsxs)("h4",{className:"font-semibold mb-2 text-fiesta-blue font-poppins",children:["\ud83d\udcec ",e("stay_on_track")]}),(0,vo.jsx)("p",{className:"text-sm text-gray-300 mb-3 font-poppins",children:"Get weekly updates and video tips!"}),(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("input",{type:"email",placeholder:e("email_placeholder"),className:"flex-1 px-3 py-2 rounded-lg text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-fiesta-blue font-poppins"}),(0,vo.jsx)(Sc.button,{className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:shadow-lg transition-all duration-200 font-poppins font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:e("subscribe")})]})]})]}),(0,vo.jsxs)(Sc.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,vo.jsx)("h4",{className:"font-semibold mb-4 text-fiesta-green font-poppins",children:e("quick_links")}),(0,vo.jsxs)("ul",{className:"space-y-3 text-gray-300",children:[(0,vo.jsx)("li",{children:(0,vo.jsx)(Sc.a,{href:"/about",className:"hover:text-fiesta-green transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e("about")})}),(0,vo.jsx)("li",{children:(0,vo.jsx)(Sc.a,{href:"/faq",className:"hover:text-fiesta-green transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e("faq")})}),(0,vo.jsx)("li",{children:(0,vo.jsx)(Sc.a,{href:"/join",className:"hover:text-fiesta-yellow transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:"\ud83e\udd1d Join the Team"})}),(0,vo.jsx)("li",{children:(0,vo.jsx)(Sc.a,{href:"/privacy",className:"hover:text-white transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:"Privacy Policy"})}),(0,vo.jsx)("li",{children:(0,vo.jsx)(Sc.a,{href:"/terms",className:"hover:text-white transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:"Terms of Use"})})]})]}),(0,vo.jsxs)(Sc.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,vo.jsx)("h4",{className:"font-semibold mb-4 text-fiesta-purple font-poppins",children:e("connect")}),(0,vo.jsxs)("ul",{className:"space-y-3 text-gray-300 mb-6",children:[(0,vo.jsx)("li",{children:(0,vo.jsx)(Sc.a,{href:"mailto:support@englishfiesta.com",className:"hover:text-fiesta-purple transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e("contact_us")})}),(0,vo.jsx)("li",{children:(0,vo.jsxs)(Sc.a,{href:"https://www.youtube.com/@englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-400 transition-colors flex items-center font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:[(0,vo.jsx)("span",{className:"mr-2",children:"\ud83d\udcfa"})," YouTube"]})}),(0,vo.jsx)("li",{children:(0,vo.jsxs)(Sc.a,{href:"https://instagram.com/fiestaenglish",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-400 transition-colors flex items-center font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:[(0,vo.jsx)("span",{className:"mr-2",children:"\ud83d\udcf8"})," Instagram"]})}),(0,vo.jsx)("li",{children:(0,vo.jsxs)(Sc.a,{href:"https://www.tiktok.com/@english_fiesta",target:"_blank",rel:"noopener noreferrer",className:"hover:text-purple-400 transition-colors flex items-center font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:[(0,vo.jsx)("span",{className:"mr-2",children:"\ud83c\udfb5"})," TikTok"]})})]}),(0,vo.jsx)(Sc.a,{href:"https://buymeacoffee.com/englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-fiesta-pink to-pink-500 text-white px-4 py-3 rounded-lg font-semibold text-sm shadow-lg hover:shadow-xl transition-all duration-300 block text-center mb-6",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(236, 72, 153, 0.4)"},whileTap:{scale:.95},children:"\ud83d\udc96 Help English Fiesta Grow"}),(0,vo.jsx)(Ap,{})]})]}),(0,vo.jsx)(Sc.div,{className:"border-t border-gray-700 pt-8",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.5},children:(0,vo.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-400 text-sm",children:[(0,vo.jsx)("p",{className:"font-poppins",children:o}),(0,vo.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,vo.jsx)(Sc.a,{href:"/privacy",className:"hover:text-white transition-colors font-poppins",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Privacy"}),(0,vo.jsx)(Sc.a,{href:"/terms",className:"hover:text-white transition-colors font-poppins",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Terms"}),(0,vo.jsx)(Sc.a,{href:"mailto:support@englishfiesta.com",className:"hover:text-white transition-colors font-poppins",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Support"})]})]})}),n&&(0,vo.jsx)(Sc.div,{className:"text-center text-gray-500 text-xs mt-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Loading content..."})]})]})},Mp=()=>{const[e,n]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[r,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)({name:"",email:""}),[u,d]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=localStorage.getItem("email_capture_seen"),t=localStorage.getItem("email_capture_dismissed"),i=localStorage.getItem("email_subscribed");if(e||t||i)return;let o=!1;const r=()=>{o||(o=!0,n(!0),localStorage.setItem("email_capture_seen","true"))},s=setTimeout((()=>{r()}),1e4),a=()=>{window.scrollY>500&&(r(),window.removeEventListener("scroll",a))};return window.addEventListener("scroll",a),()=>{clearTimeout(s),window.removeEventListener("scroll",a)}}),[]);const h=e=>{const{name:t,value:n}=e.target;l((e=>c(c({},e),{},{[t]:n}))),u&&d("")},p=e=>{e&&e.stopPropagation(),n(!1),localStorage.setItem("email_capture_dismissed","true")};return e?(0,vo.jsx)(Ep,{children:(0,vo.jsxs)(Sc.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,vo.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&p(e)}}),(0,vo.jsxs)(Sc.div,{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},children:[(0,vo.jsx)(Sc.button,{onClick:p,className:"absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center bg-white bg-opacity-80 rounded-full text-gray-600 hover:text-gray-800 transition-colors shadow-lg hover:shadow-xl",whileHover:{scale:1.1},whileTap:{scale:.9},type:"button","aria-label":"Close modal",children:(0,vo.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,vo.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,vo.jsxs)("div",{className:"bg-gradient-to-r from-fiesta-blue via-fiesta-purple to-fiesta-pink p-6 text-white text-center relative overflow-hidden",children:[(0,vo.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full opacity-20",children:[(0,vo.jsx)(Sc.div,{className:"absolute top-4 left-4 text-4xl",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,vo.jsx)(Sc.div,{className:"absolute top-6 right-6 text-3xl",animate:{y:[0,-10,0],rotate:[0,-15,15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},children:"\ud83d\udcda"}),(0,vo.jsx)(Sc.div,{className:"absolute bottom-4 left-6 text-2xl",animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2},children:"\u2728"})]}),(0,vo.jsxs)(Sc.div,{className:"relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[(0,vo.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,vo.jsx)("img",{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-12 h-12"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold font-baloo",children:"English Fiesta"})]}),(0,vo.jsx)("p",{className:"text-lg font-poppins leading-relaxed",children:"Join the English Fiesta community for more help on your English learning journey!"})]})]}),(0,vo.jsx)("div",{className:"p-6",children:r?(0,vo.jsxs)(Sc.div,{className:"text-center py-6",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},children:[(0,vo.jsx)(Sc.div,{className:"text-6xl mb-4",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.6},children:"\ud83c\udf89"}),(0,vo.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2 font-baloo",children:"Welcome to the Fiesta!"}),(0,vo.jsx)("p",{className:"text-gray-600 font-poppins",children:"Thank you for joining! You'll receive helpful tips and updates to support your English learning journey."})]}):(0,vo.jsx)(Sc.form,{onSubmit:async e=>{if(e.preventDefault(),a.email.trim()){o(!0),d("");try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/email/subscribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email.trim(),name:a.name.trim()||void 0})});if(e.ok)s(!0),localStorage.setItem("email_subscribed","true"),setTimeout((()=>{n(!1),localStorage.setItem("email_capture_seen","true")}),3e3);else{const t=await e.json();d(t.detail||"Failed to subscribe. Please try again.")}}catch(t){d("Network error. Please check your connection and try again.")}finally{o(!1)}}else d("Email is required")},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,vo.jsxs)("div",{className:"space-y-4",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Name (Optional)"}),(0,vo.jsx)("input",{type:"text",name:"name",value:a.name,onChange:h,placeholder:"Enter your name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none transition-colors font-poppins"})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Email Address *"}),(0,vo.jsx)("input",{type:"email",name:"email",value:a.email,onChange:h,placeholder:"Enter your email",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none transition-colors font-poppins"})]}),u&&(0,vo.jsx)(Sc.div,{className:"text-red-600 text-sm font-poppins",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),(0,vo.jsx)(Sc.button,{type:"submit",disabled:i,className:"w-full py-4 rounded-lg font-bold text-lg font-poppins transition-all duration-300 ".concat(i?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-fiesta-yellow to-fiesta-orange text-gray-800 hover:shadow-lg hover:scale-105"),whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},children:i?(0,vo.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,vo.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Joining..."]}):"\ud83c\udfaf Join Now"}),(0,vo.jsx)(Sc.button,{type:"button",onClick:p,className:"block w-full text-center text-gray-500 hover:text-gray-700 transition-colors text-sm font-poppins py-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"No thanks"})]})})})]})]})}):null},Fp=()=>{const{isAuthenticated:e,login:t}=yp(),{t:n}=Nu(),{getTitle:i,getContent:o,loading:r}=jp(),s=i("hero_section.hero_title")||n("hero_title"),a=o("hero_section.hero_subtitle")||n("hero_subtitle"),l=i("hero_section.cta_button")||n("start_learning_free");return(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-fiesta-blue via-fiesta-purple to-fiesta-pink text-white overflow-hidden relative",children:[(0,vo.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,vo.jsx)(Sc.div,{className:"absolute top-10 left-10 text-6xl opacity-20",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,vo.jsx)(Sc.div,{className:"absolute top-20 right-20 text-4xl opacity-20",animate:{y:[0,10,0],rotate:[0,-5,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},children:"\ud83d\udcda"}),(0,vo.jsx)(Sc.div,{className:"absolute bottom-20 left-20 text-5xl opacity-20",animate:{y:[0,-15,0],rotate:[0,10,-10,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2},children:"\ud83c\udf1f"})]}),(0,vo.jsx)("div",{className:"container mx-auto px-4 py-16 relative z-10",children:(0,vo.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,vo.jsxs)(Sc.div,{className:"flex items-center justify-center gap-4 mb-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[(0,vo.jsx)(Sc.img,{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-16 h-16 md:w-20 md:h-20",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),(0,vo.jsx)("h1",{className:"text-4xl md:text-6xl font-bold hero-title font-baloo",children:s})]}),(0,vo.jsx)(Sc.h2,{className:"text-xl md:text-2xl mb-8 opacity-90 hero-subtitle font-poppins font-medium",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.2},children:a}),!e&&(0,vo.jsx)(Sc.button,{onClick:t,className:"bg-fiesta-yellow text-gray-800 px-8 py-4 rounded-full text-xl font-bold hover:bg-yellow-300 transition-all duration-300 transform shadow-2xl mb-12 font-poppins",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4,type:"spring",stiffness:200},whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(250, 204, 21, 0.4)"},whileTap:{scale:.95},children:l}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12",children:[[{emoji:"\ud83d\udcc8",title:n("hero_value_prop_1"),desc:"Monitor your progress and stay motivated with daily streak tracking",color:"from-fiesta-green to-green-400"},{emoji:"\ud83c\udfa5",title:n("hero_value_prop_2"),desc:"Absorb language naturally through engaging video content",color:"from-fiesta-orange to-orange-400"},{emoji:"\ud83c\udf0d",title:n("hero_value_prop_3"),desc:"Experience authentic English from speakers around the world",color:"from-fiesta-blue to-blue-400"},{emoji:"\ud83c\udfaf",title:n("hero_value_prop_4"),desc:"Content tailored to your level, from new beginner to advanced",color:"from-fiesta-purple to-purple-400"},{emoji:"\ud83e\udde0",title:n("hero_value_prop_5"),desc:"Science-backed and effective language acquisition approach",color:"from-fiesta-pink to-pink-400"}].map(((e,t)=>(0,vo.jsxs)(Sc.div,{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut",delay:.6+.1*t},whileHover:{scale:1.05,y:-5},children:[(0,vo.jsx)(Sc.div,{className:"text-3xl mb-3",whileHover:{scale:1.2,rotate:[0,-10,10,0]},transition:{duration:.3},children:e.emoji}),(0,vo.jsx)("h3",{className:"font-semibold mb-2 font-poppins",children:e.title}),(0,vo.jsx)("p",{className:"text-sm opacity-80 font-poppins",children:e.desc})]},t))),(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-yellow via-yellow-300 to-fiesta-orange backdrop-blur-sm rounded-xl p-6 hover:shadow-2xl transition-all duration-300 border-2 border-yellow-300 cursor-pointer",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut",delay:1.1},whileHover:{scale:1.05,y:-10,boxShadow:"0 20px 40px rgba(250, 204, 21, 0.6)"},whileTap:{scale:.95},onClick:()=>window.location.href="/watch",children:[(0,vo.jsx)(Sc.div,{className:"text-4xl mb-3",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udfaf"}),(0,vo.jsx)("h3",{className:"font-bold mb-2 text-gray-800 text-lg font-baloo",children:"Join the Fiesta"}),(0,vo.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:"Start watching videos now!"})]})]}),r&&(0,vo.jsx)(Sc.div,{className:"text-center mt-4 text-sm opacity-60",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Loading content..."})]})})]})},Op=()=>{const{login:e}=yp();return(0,vo.jsx)("div",{className:"bg-white py-16",children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,vo.jsx)("div",{className:"text-center mb-12",children:(0,vo.jsx)("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed",children:"Welcome to English Fiesta \u2014 your place to learn English naturally, through real videos and real conversations. We believe language learning should be joyful and effective \u2014 not robotic or overwhelming."})}),(0,vo.jsxs)("div",{className:"mb-12",children:[(0,vo.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"How It Works"}),(0,vo.jsx)("div",{className:"bg-blue-50 rounded-2xl p-8",children:(0,vo.jsx)("p",{className:"text-lg text-gray-700 leading-relaxed text-center",children:"You watch videos you can actually understand \u2014 even as a beginner. As you watch, your brain picks up new vocabulary, grammar, and natural phrasing without effort. You track your progress, hear real accents, and build confidence \u2014 all at your own pace."})})]}),(0,vo.jsxs)("div",{className:"mb-12",children:[(0,vo.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Why Join English Fiesta"}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6",children:[(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfa5"}),(0,vo.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Access exclusive beginner-friendly videos"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"Content designed specifically for your learning level"})]}),(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6",children:[(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,vo.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Track your time and build motivation"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"See your progress and maintain learning streaks"})]}),(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6",children:[(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf89"}),(0,vo.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Learn with input that's actually fun"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"Engaging content that keeps you coming back"})]})]})]}),(0,vo.jsx)("div",{className:"text-center",children:(0,vo.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[(0,vo.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Start Your English Journey?"}),(0,vo.jsx)("p",{className:"text-lg opacity-90 mb-6",children:"Join thousands of learners who are mastering English naturally"}),(0,vo.jsx)("button",{onClick:e,className:"bg-white text-blue-600 px-8 py-4 rounded-lg text-xl font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Get Started Now - It's Free!"})]})})]})})};var Rp=n(173);function Lp(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ip=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _p(e,t,n){const i=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),i=Ip.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:o}=e,r="string"===typeof t?t:"string"===typeof o&&o.length>0?o:"./".concat(e.name);return"string"!==typeof i.path&&Vp(i,"path",r),void 0!==n&&Object.defineProperty(i,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Vp(i,"relativePath",r),i}function Vp(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const $p=[".DS_Store","Thumbs.db"];function zp(e){return"object"===typeof e&&null!==e}function Bp(e){return e.filter((e=>-1===$p.indexOf(e.name)))}function Hp(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Up(e){if("function"!==typeof e.webkitGetAsEntry)return qp(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Yp(t):qp(e,t)}function Wp(e){return e.reduce(((e,t)=>[...e,...Array.isArray(t)?Wp(t):[t]]),[])}function qp(e,t){return Lp(this,void 0,void 0,(function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,_p(e)}}const i=e.getAsFile();if(!i)throw new Error("".concat(e," is not a File"));return _p(i,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)}))}function Kp(e){return Lp(this,void 0,void 0,(function*(){return e.isDirectory?Yp(e):function(e){return Lp(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.file((n=>{const i=_p(n,e.fullPath);t(i)}),(e=>{n(e)}))}))}))}(e)}))}function Yp(e){const t=e.createReader();return new Promise(((e,n)=>{const i=[];!function o(){t.readEntries((t=>Lp(this,void 0,void 0,(function*(){if(t.length){const e=Promise.all(t.map(Kp));i.push(e),o()}else try{const t=yield Promise.all(i);e(t)}catch(r){n(r)}}))),(e=>{n(e)}))}()}))}var Jp=n(628);function Qp(e){return function(e){if(Array.isArray(e))return nm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach((function(t){Zp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}(e,t)||tm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(e,t){if(e){if("string"===typeof e)return nm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nm(e,t):void 0}}function nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var im="function"===typeof Jp?Jp:Jp.default,om="file-invalid-type",rm="file-too-large",sm="file-too-small",am="too-many-files",lm=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:om,message:"File type must be ".concat(t)}},cm=function(e){return{code:rm,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},um=function(e){return{code:sm,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},dm={code:am,message:"Too many files"};function hm(e,t){var n="application/x-moz-file"===e.type||im(e,t);return[n,n?null:lm(t)]}function pm(e,t,n){if(mm(e.size))if(mm(t)&&mm(n)){if(e.size>n)return[!1,cm(n)];if(e.size<t)return[!1,um(t)]}else{if(mm(t)&&e.size<t)return[!1,um(t)];if(mm(n)&&e.size>n)return[!1,cm(n)]}return[!0,null]}function mm(e){return void 0!==e&&null!==e}function fm(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function gm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function vm(e){e.preventDefault()}function ym(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.some((function(t){return!fm(e)&&t&&t.apply(void 0,[e].concat(i)),fm(e)}))}}function bm(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function xm(e){return/^.*\.[\w]+$/.test(e)}var wm=["children"],km=["open"],Sm=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Cm=["refKey","onChange","onClick"];function Tm(e){return function(e){if(Array.isArray(e))return Dm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}(e,t)||Nm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nm(e,t){if(e){if("string"===typeof e)return Dm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dm(e,t):void 0}}function Dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){Pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mm(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Fm=(0,t.forwardRef)((function(e,n){var i=e.children,o=Lm(Mm(e,wm)),r=o.open,s=Mm(o,km);return(0,t.useImperativeHandle)(n,(function(){return{open:r}}),[r]),t.createElement(t.Fragment,null,i(Am(Am({},s),{},{open:r})))}));Fm.displayName="Dropzone";var Om={disabled:!1,getFilesFromEvent:function(e){return Lp(this,void 0,void 0,(function*(){return zp(e)&&zp(e.dataTransfer)?function(e,t){return Lp(this,void 0,void 0,(function*(){if(e.items){const n=Hp(e.items).filter((e=>"file"===e.kind));if("drop"!==t)return n;return Bp(Wp(yield Promise.all(n.map(Up))))}return Bp(Hp(e.files).map((e=>_p(e))))}))}(e.dataTransfer,e.type):function(e){return zp(e)&&zp(e.target)}(e)?function(e){return Hp(e.target.files).map((e=>_p(e)))}(e):Array.isArray(e)&&e.every((e=>"getFile"in e&&"function"===typeof e.getFile))?function(e){return Lp(this,void 0,void 0,(function*(){const t=yield Promise.all(e.map((e=>e.getFile())));return t.map((e=>_p(e)))}))}(e):[]}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Fm.defaultProps=Om,Fm.propTypes={children:Rp.func,accept:Rp.objectOf(Rp.arrayOf(Rp.string)),multiple:Rp.bool,preventDropOnDocument:Rp.bool,noClick:Rp.bool,noKeyboard:Rp.bool,noDrag:Rp.bool,noDragEventsBubbling:Rp.bool,minSize:Rp.number,maxSize:Rp.number,maxFiles:Rp.number,disabled:Rp.bool,getFilesFromEvent:Rp.func,onFileDialogCancel:Rp.func,onFileDialogOpen:Rp.func,useFsAccessApi:Rp.bool,autoFocus:Rp.bool,onDragEnter:Rp.func,onDragLeave:Rp.func,onDragOver:Rp.func,onDrop:Rp.func,onDropAccepted:Rp.func,onDropRejected:Rp.func,onError:Rp.func,validator:Rp.func};var Rm={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Am(Am({},Om),e),i=n.accept,o=n.disabled,r=n.getFilesFromEvent,s=n.maxSize,a=n.minSize,l=n.multiple,c=n.maxFiles,u=n.onDragEnter,d=n.onDragLeave,h=n.onDragOver,p=n.onDrop,m=n.onDropAccepted,f=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.autoFocus,x=n.preventDropOnDocument,w=n.noClick,k=n.noKeyboard,S=n.noDrag,C=n.noDragEventsBubbling,T=n.onError,E=n.validator,N=(0,t.useMemo)((function(){return function(e){if(mm(e))return Object.entries(e).reduce((function(e,t){var n=em(t,2),i=n[0],o=n[1];return[].concat(Qp(e),[i],Qp(o))}),[]).filter((function(e){return bm(e)||xm(e)})).join(",")}(i)}),[i]),D=(0,t.useMemo)((function(){return function(e){return mm(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=em(e,2),n=t[0],i=t[1],o=!0;return bm(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),Array.isArray(i)&&i.every(xm)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),o=!1),o})).reduce((function(e,t){var n=em(t,2),i=n[0],o=n[1];return Xp(Xp({},e),{},Zp({},i,o))}),{})}]:e}(i)}),[i]),j=(0,t.useMemo)((function(){return"function"===typeof v?v:_m}),[v]),A=(0,t.useMemo)((function(){return"function"===typeof g?g:_m}),[g]),P=(0,t.useRef)(null),M=(0,t.useRef)(null),F=Em((0,t.useReducer)(Im,Rm),2),O=F[0],R=F[1],L=O.isFocused,I=O.isFileDialogActive,_=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),V=function(){!_.current&&I&&setTimeout((function(){M.current&&(M.current.files.length||(R({type:"closeDialog"}),A()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}}),[M,I,A,_]);var $=(0,t.useRef)([]),z=function(e){P.current&&P.current.contains(e.target)||(e.preventDefault(),$.current=[])};(0,t.useEffect)((function(){return x&&(document.addEventListener("dragover",vm,!1),document.addEventListener("drop",z,!1)),function(){x&&(document.removeEventListener("dragover",vm),document.removeEventListener("drop",z))}}),[P,x]),(0,t.useEffect)((function(){return!o&&b&&P.current&&P.current.focus(),function(){}}),[P,b,o]);var B=(0,t.useCallback)((function(e){T?T(e):console.error(e)}),[T]),H=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),$.current=[].concat(Tm($.current),[e.target]),gm(e)&&Promise.resolve(r(e)).then((function(t){if(!fm(e)||C){var n=t.length,i=n>0&&function(e){var t=e.files,n=e.accept,i=e.minSize,o=e.maxSize,r=e.multiple,s=e.maxFiles,a=e.validator;return!(!r&&t.length>1||r&&s>=1&&t.length>s)&&t.every((function(e){var t=em(hm(e,n),1)[0],r=em(pm(e,i,o),1)[0],s=a?a(e):null;return t&&r&&!s}))}({files:t,accept:N,minSize:a,maxSize:s,multiple:l,maxFiles:c,validator:E});R({isDragAccept:i,isDragReject:n>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}})).catch((function(e){return B(e)}))}),[r,u,B,C,N,a,s,l,c,E]),U=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=gm(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(FI){}return t&&h&&h(e),!1}),[h,C]),W=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=$.current.filter((function(e){return P.current&&P.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),$.current=t,t.length>0||(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gm(e)&&d&&d(e))}),[P,d,C]),q=(0,t.useCallback)((function(e,t){var n=[],i=[];e.forEach((function(e){var t=Em(hm(e,N),2),o=t[0],r=t[1],l=Em(pm(e,a,s),2),c=l[0],u=l[1],d=E?E(e):null;if(o&&c&&!d)n.push(e);else{var h=[r,u];d&&(h=h.concat(d)),i.push({file:e,errors:h.filter((function(e){return e}))})}})),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach((function(e){i.push({file:e,errors:[dm]})})),n.splice(0)),R({acceptedFiles:n,fileRejections:i,isDragReject:i.length>0,type:"setFiles"}),p&&p(n,i,t),i.length>0&&f&&f(i,t),n.length>0&&m&&m(n,t)}),[R,l,N,a,s,c,p,m,f,E]),K=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),$.current=[],gm(e)&&Promise.resolve(r(e)).then((function(t){fm(e)&&!C||q(t,e)})).catch((function(e){return B(e)})),R({type:"reset"})}),[r,q,B,C]),Y=(0,t.useCallback)((function(){if(_.current){R({type:"openDialog"}),j();var e={multiple:l,types:D};window.showOpenFilePicker(e).then((function(e){return r(e)})).then((function(e){q(e,null),R({type:"closeDialog"})})).catch((function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(A(e),R({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?B(e):(_.current=!1,M.current?(M.current.value=null,M.current.click()):B(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else M.current&&(R({type:"openDialog"}),j(),M.current.value=null,M.current.click())}),[R,j,A,y,q,B,D,l]),J=(0,t.useCallback)((function(e){P.current&&P.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Y()))}),[P,Y]),Q=(0,t.useCallback)((function(){R({type:"focus"})}),[]),G=(0,t.useCallback)((function(){R({type:"blur"})}),[]),X=(0,t.useCallback)((function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?Y():setTimeout(Y,0))}),[w,Y]),Z=function(e){return o?null:e},ee=function(e){return k?null:Z(e)},te=function(e){return S?null:Z(e)},ne=function(e){C&&e.stopPropagation()},ie=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,r=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,h=e.onDrop,p=Mm(e,Sm);return Am(Am(Pm({onKeyDown:ee(ym(r,J)),onFocus:ee(ym(s,Q)),onBlur:ee(ym(a,G)),onClick:Z(ym(l,X)),onDragEnter:te(ym(c,H)),onDragOver:te(ym(u,U)),onDragLeave:te(ym(d,W)),onDrop:te(ym(h,K)),role:"string"===typeof i&&""!==i?i:"presentation"},n,P),o||k?{}:{tabIndex:0}),p)}}),[P,J,Q,G,X,H,U,W,K,k,S,o]),oe=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),re=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,o=e.onClick,r=Mm(e,Cm);return Am(Am({},Pm({accept:N,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(ym(i,K)),onClick:Z(ym(o,oe)),tabIndex:-1},n,M)),r)}}),[M,i,l,K,o]);return Am(Am({},O),{},{isFocused:L&&!o,getRootProps:ie,getInputProps:re,rootRef:P,inputRef:M,open:Z(Y)})}function Im(e,t){switch(t.type){case"focus":return Am(Am({},e),{},{isFocused:!0});case"blur":return Am(Am({},e),{},{isFocused:!1});case"openDialog":return Am(Am({},Rm),{},{isFileDialogActive:!0});case"closeDialog":return Am(Am({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Am(Am({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Am(Am({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Am({},Rm);default:return e}}function _m(){}const Vm="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),$m=e=>{let{onUploadSuccess:n}=e;const{sessionToken:i}=yp(),[o,r]=(0,t.useState)({}),[s,a]=(0,t.useState)(!1),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)({level:"New Beginner",accents:["American"],tags:[],instructor_name:"",country:"USA",category:"Conversation",is_premium:!1}),p=(0,t.useCallback)((e=>{const t=e.filter((e=>{const t=e.name.toLowerCase().split(".").pop();return["mp4","mov","avi"].includes(t)}));t.length!==e.length&&alert("Only MP4, MOV, and AVI files are supported"),t.length>0&&u((e=>[...e,...t]))}),[]),{getRootProps:m,getInputProps:f,isDragActive:g}=Lm({onDrop:p,accept:{"video/mp4":[".mp4"],"video/mov":[".mov"],"video/avi":[".avi"]},maxSize:5368709120,multiple:!0}),v=(e,t)=>{h((n=>c(c({},n),{},{[e]:t})))};return(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\ud83d\udce4 Upload Videos"}),(0,vo.jsxs)("div",c(c({},m()),{},{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ".concat(g?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,vo.jsx)("input",c({},f())),(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc1"}),g?(0,vo.jsx)("p",{className:"text-blue-600 text-lg",children:"Drop the video files here..."}):(0,vo.jsxs)("div",{children:[(0,vo.jsx)("p",{className:"text-gray-600 text-lg mb-2",children:"Drag & drop video files here, or click to select"}),(0,vo.jsx)("p",{className:"text-sm text-gray-500",children:"Supports MP4, MOV, AVI \u2022 Max 5GB per file"})]})]})),l.length>0&&(0,vo.jsxs)("div",{className:"mt-6",children:[(0,vo.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:["Selected Files (",l.length,")"]}),(0,vo.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.map(((e,t)=>(0,vo.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,vo.jsxs)("div",{className:"flex items-center",children:[(0,vo.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83c\udfa5"}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("div",{className:"font-medium",children:e.name}),(0,vo.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.size/1048576).toFixed(1)," MB"]})]})]}),o[t]?(0,vo.jsxs)("div",{className:"flex items-center",children:["uploading"===o[t].status&&(0,vo.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:(0,vo.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(o[t].progress,"%")}})}),(0,vo.jsxs)("span",{className:"text-sm ".concat("completed"===o[t].status?"text-green-600":"failed"===o[t].status?"text-red-600":"text-blue-600"),children:["completed"===o[t].status&&"\u2705 Complete","failed"===o[t].status&&"\u274c Failed","uploading"===o[t].status&&"\ud83d\udd04 ".concat(o[t].progress,"%")]})]}):(0,vo.jsx)("button",{onClick:()=>(e=>{u((t=>t.filter(((t,n)=>n!==e))))})(t),className:"text-red-500 hover:text-red-700 text-sm",disabled:s,children:"Remove"})]},t)))})]}),l.length>0&&(0,vo.jsxs)("div",{className:"mt-6 border-t pt-6",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Video Metadata"}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Name *"}),(0,vo.jsx)("input",{type:"text",value:d.instructor_name,onChange:e=>v("instructor_name",e.target.value),placeholder:"Who is speaking or featured?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level *"}),(0,vo.jsxs)("select",{value:d.level,onChange:e=>v("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,vo.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,vo.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,vo.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),(0,vo.jsxs)("select",{value:d.country,onChange:e=>v("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"USA",children:"USA"}),(0,vo.jsx)("option",{value:"UK",children:"UK"}),(0,vo.jsx)("option",{value:"Canada",children:"Canada"}),(0,vo.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,vo.jsxs)("select",{value:d.category,onChange:e=>v("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,vo.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,vo.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,vo.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,vo.jsx)("option",{value:"Culture",children:"Culture"}),(0,vo.jsx)("option",{value:"Business",children:"Business"}),(0,vo.jsx)("option",{value:"Interview",children:"Interview"}),(0,vo.jsx)("option",{value:"Travel",children:"Travel"}),(0,vo.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]}),(0,vo.jsxs)("div",{className:"md:col-span-2",children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,vo.jsx)("input",{type:"text",value:d.tags.join(", "),onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));h((e=>c(c({},e),{},{tags:t})))})(e.target.value),placeholder:"e.g., beginner, conversation, daily life",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,vo.jsxs)("div",{className:"mt-4",children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accents *"}),(0,vo.jsx)("div",{className:"flex flex-wrap gap-3",children:["American","British","Australian","Canadian"].map((e=>(0,vo.jsxs)("label",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",checked:d.accents.includes(e),onChange:t=>((e,t)=>{h((n=>c(c({},n),{},{accents:t?[...n.accents,e]:n.accents.filter((t=>t!==e))})))})(e,t.target.checked),className:"mr-2"}),(0,vo.jsx)("span",{className:"text-sm",children:e})]},e)))})]}),(0,vo.jsx)("div",{className:"mt-4",children:(0,vo.jsxs)("label",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",checked:d.is_premium,onChange:e=>v("is_premium",e.target.checked),className:"mr-2"}),(0,vo.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\udc8e Mark as Premium Content"})]})})]}),l.length>0&&(0,vo.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,vo.jsx)("button",{onClick:async()=>{if(0===l.length)return void alert("Please select at least one video file");if(!d.instructor_name.trim())return void alert("Please enter the instructor name");a(!0),r({});const e=await Promise.allSettled(l.map(((e,t)=>(async(e,t)=>{const n=new FormData;n.append("file",e),n.append("title",e.name.replace(/\.[^/.]+$/,"")),n.append("description","Uploaded video: ".concat(e.name)),n.append("level",d.level),n.append("accents",JSON.stringify(d.accents)),n.append("tags",JSON.stringify(d.tags)),n.append("instructor_name",d.instructor_name),n.append("country",d.country),n.append("category",d.category),n.append("is_premium",d.is_premium);try{const o=await fp.post("".concat(Vm,"/admin/videos/upload"),n,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"multipart/form-data"},onUploadProgress:n=>{const i=Math.round(100*n.loaded/n.total);r((n=>c(c({},n),{},{[t]:{progress:i,status:"uploading",filename:e.name}})))}});return r((n=>c(c({},n),{},{[t]:{progress:100,status:"completed",filename:e.name,result:o.data}}))),{success:!0,data:o.data}}catch(a){var o,s;return r((n=>{var i,o;return c(c({},n),{},{[t]:{progress:0,status:"failed",filename:e.name,error:(null===(i=a.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.detail)||a.message}})})),{success:!1,error:(null===(o=a.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.detail)||a.message}}})(e,t)))),t=e.filter((e=>"fulfilled"===e.status&&e.value.success)).length,o=e.length-t;a(!1),t>0&&n&&n(),alert("Upload completed: ".concat(t," successful, ").concat(o," failed"))},disabled:s||!d.instructor_name.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"\u23f3 Uploading...":"\ud83d\ude80 Upload ".concat(l.length," Video").concat(l.length>1?"s":"")}),(0,vo.jsx)("button",{onClick:()=>{u([]),r({})},disabled:s,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Clear All"})]})]})},zm="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),Bm=e=>{let{onAddSuccess:n}=e;const{sessionToken:i}=yp(),[o,r]=(0,t.useState)(!1),[s,a]=(0,t.useState)({youtube_url:"",title:"",description:"",level:"New Beginner",accents:["American"],tags:[],instructor_name:"",country:"USA",category:"Conversation",is_premium:!1}),l=(e,t)=>{a((n=>c(c({},n),{},{[e]:t})))};return(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\ud83d\udcfa Add YouTube Video"}),(0,vo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.youtube_url.trim())if((e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const n of t){const t=e.match(n);if(t)return t[1]}return null})(s.youtube_url))if(s.instructor_name.trim()){r(!0);try{await fp.post("".concat(zm,"/admin/videos/youtube"),s,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}});alert("\u2705 YouTube video added successfully!"),a({youtube_url:"",title:"",description:"",level:"New Beginner",accents:["American"],tags:[],instructor_name:"",country:"USA",category:"Conversation",is_premium:!1}),n&&n()}catch(l){var t,o;console.error("Error adding YouTube video:",l);const e=(null===(t=l.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.detail)||"Failed to add YouTube video. Please try again.";alert("\u274c "+e)}finally{r(!1)}}else alert("Please enter the instructor name");else alert("Please enter a valid YouTube URL");else alert("Please enter a YouTube URL")},className:"space-y-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube URL *"}),(0,vo.jsx)("input",{type:"url",value:s.youtube_url,onChange:e=>l("youtube_url",e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,vo.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a YouTube video URL. We'll automatically fetch video information."})]}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Optional)"}),(0,vo.jsx)("input",{type:"text",value:s.title,onChange:e=>l("title",e.target.value),placeholder:"Leave blank to auto-fetch from YouTube",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Name *"}),(0,vo.jsx)("input",{type:"text",value:s.instructor_name,onChange:e=>l("instructor_name",e.target.value),placeholder:"Who is speaking or featured?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level *"}),(0,vo.jsxs)("select",{value:s.level,onChange:e=>l("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,vo.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,vo.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,vo.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),(0,vo.jsxs)("select",{value:s.country,onChange:e=>l("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"USA",children:"USA"}),(0,vo.jsx)("option",{value:"UK",children:"UK"}),(0,vo.jsx)("option",{value:"Canada",children:"Canada"}),(0,vo.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,vo.jsxs)("select",{value:s.category,onChange:e=>l("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,vo.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,vo.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,vo.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,vo.jsx)("option",{value:"Culture",children:"Culture"}),(0,vo.jsx)("option",{value:"Business",children:"Business"}),(0,vo.jsx)("option",{value:"Interview",children:"Interview"}),(0,vo.jsx)("option",{value:"Travel",children:"Travel"}),(0,vo.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),(0,vo.jsx)("textarea",{value:s.description,onChange:e=>l("description",e.target.value),placeholder:"Leave blank to auto-fetch from YouTube",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,vo.jsx)("input",{type:"text",value:s.tags.join(", "),onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));a((e=>c(c({},e),{},{tags:t})))})(e.target.value),placeholder:"e.g., beginner, conversation, daily life",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accents *"}),(0,vo.jsx)("div",{className:"flex flex-wrap gap-4",children:["American","British","Australian","Canadian"].map((e=>(0,vo.jsxs)("label",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",checked:s.accents.includes(e),onChange:t=>((e,t)=>{a((n=>c(c({},n),{},{accents:t?[...n.accents,e]:n.accents.filter((t=>t!==e))})))})(e,t.target.checked),className:"mr-2"}),(0,vo.jsx)("span",{className:"text-sm",children:e})]},e)))})]}),(0,vo.jsx)("div",{children:(0,vo.jsxs)("label",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",checked:s.is_premium,onChange:e=>l("is_premium",e.target.checked),className:"mr-2"}),(0,vo.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\udc8e Mark as Premium Content"})]})}),(0,vo.jsx)("div",{className:"flex gap-3",children:(0,vo.jsx)("button",{type:"submit",disabled:o||!s.youtube_url.trim()||!s.instructor_name.trim(),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:o?(0,vo.jsxs)(vo.Fragment,{children:[(0,vo.jsx)("span",{className:"animate-spin",children:"\u23f3"}),"Adding YouTube Video..."]}):(0,vo.jsx)(vo.Fragment,{children:"\ud83d\udcfa Add YouTube Video"})})})]})]})},Hm="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),Um=e=>{let{refreshTrigger:n}=e;const{sessionToken:i}=yp(),[o,r]=(0,t.useState)([]),[s,a]=(0,t.useState)(!0),[l,u]=(0,t.useState)({}),[d,h]=(0,t.useState)({page:1,limit:12,search:"",level:"",category:"",video_type:""}),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)({});(0,t.useEffect)((()=>{v()}),[d,n]);const v=async()=>{a(!0);try{const e=new URLSearchParams;Object.entries(d).forEach((t=>{let[n,i]=t;null!==i&&""!==i&&e.append(n,i)}));const t=await fp.get("".concat(Hm,"/admin/videos?").concat(e.toString()),{headers:{Authorization:"Bearer ".concat(i)}});r(t.data.videos),u(t.data.pagination)}catch(t){var e;console.error("Error fetching admin videos:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&alert("Authentication required. Please log in as admin.")}finally{a(!1)}},y=(e,t)=>{h((n=>c(c({},n),{},{[e]:t,page:"page"!==e?1:t})))},b=async()=>{try{await fp.put("".concat(Hm,"/admin/videos/").concat(p),f,{headers:{Authorization:"Bearer ".concat(i)}}),m(null),v(),alert("Video updated successfully!")}catch(e){console.error("Error updating video:",e),alert("Failed to update video. Please try again.")}},x=e=>{if(!e)return"N/A";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfac Video Management"}),(0,vo.jsxs)("div",{className:"text-sm text-gray-600",children:[l.total||0," video",1!==l.total?"s":""," total"]})]}),(0,vo.jsx)("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:(0,vo.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v()},className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,vo.jsx)("div",{className:"md:col-span-2",children:(0,vo.jsx)("input",{type:"text",placeholder:"Search videos...",value:d.search,onChange:e=>y("search",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,vo.jsx)("div",{children:(0,vo.jsxs)("select",{value:d.level,onChange:e=>y("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"",children:"All Levels"}),(0,vo.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,vo.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,vo.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,vo.jsx)("option",{value:"Advanced",children:"Advanced"})]})}),(0,vo.jsx)("div",{children:(0,vo.jsxs)("select",{value:d.category,onChange:e=>y("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"",children:"All Categories"}),(0,vo.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,vo.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,vo.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,vo.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,vo.jsx)("option",{value:"Culture",children:"Culture"}),(0,vo.jsx)("option",{value:"Business",children:"Business"}),(0,vo.jsx)("option",{value:"Interview",children:"Interview"}),(0,vo.jsx)("option",{value:"Travel",children:"Travel"}),(0,vo.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})}),(0,vo.jsx)("div",{children:(0,vo.jsxs)("select",{value:d.video_type,onChange:e=>y("video_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,vo.jsx)("option",{value:"",children:"All Types"}),(0,vo.jsx)("option",{value:"upload",children:"\ud83d\udcc1 Uploaded"}),(0,vo.jsx)("option",{value:"youtube",children:"\ud83d\udcfa YouTube"})]})})]})}),s?(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>(0,vo.jsxs)("div",{className:"animate-pulse",children:[(0,vo.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===o.length?(0,vo.jsxs)("div",{className:"text-center py-12",children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf9"}),(0,vo.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No videos found"}),(0,vo.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search criteria or upload some videos."})]}):(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e=>{return(0,vo.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[(0,vo.jsxs)("div",{className:"relative",children:[e.thumbnail_url?(0,vo.jsx)("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-48 object-cover"}):(0,vo.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:(0,vo.jsx)("span",{className:"text-4xl",children:"youtube"===e.video_type?"\ud83d\udcfa":"\ud83c\udfa5"})}),(0,vo.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:["youtube"===e.video_type&&(0,vo.jsx)("span",{className:"bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udcfa YouTube"}),e.is_premium&&(0,vo.jsx)("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udc8e Premium"})]}),(0,vo.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[e.duration_minutes,"min"]})]}),(0,vo.jsx)("div",{className:"p-4",children:p===e.id?(0,vo.jsxs)("div",{className:"space-y-3",children:[(0,vo.jsx)("input",{type:"text",value:f.title,onChange:e=>g((t=>c(c({},t),{},{title:e.target.value}))),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Title"}),(0,vo.jsx)("textarea",{value:f.description,onChange:e=>g((t=>c(c({},t),{},{description:e.target.value}))),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Description"}),(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsxs)("select",{value:f.level,onChange:e=>g((t=>c(c({},t),{},{level:e.target.value}))),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,vo.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,vo.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,vo.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,vo.jsx)("option",{value:"Advanced",children:"Advanced"})]}),(0,vo.jsxs)("select",{value:f.category,onChange:e=>g((t=>c(c({},t),{},{category:e.target.value}))),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,vo.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,vo.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,vo.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,vo.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,vo.jsx)("option",{value:"Culture",children:"Culture"}),(0,vo.jsx)("option",{value:"Business",children:"Business"}),(0,vo.jsx)("option",{value:"Interview",children:"Interview"}),(0,vo.jsx)("option",{value:"Travel",children:"Travel"}),(0,vo.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]}),(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("button",{onClick:b,className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"\u2705 Save"}),(0,vo.jsx)("button",{onClick:()=>m(null),className:"bg-gray-400 text-white px-3 py-1 rounded text-sm hover:bg-gray-500",children:"\u274c Cancel"})]})]}):(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h3",{className:"font-bold text-lg text-gray-800 mb-2 line-clamp-2",children:e.title}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,vo.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 mb-3",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Instructor:"})," ",e.instructor_name]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Level:"})," ",e.level]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Category:"})," ",e.category]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Country:"})," ",e.country]}),e.accents&&e.accents.length>0&&(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Accents:"})," ",e.accents.join(", ")]}),e.tags&&e.tags.length>0&&(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Tags:"})," ",e.tags.join(", ")]}),e.file_size&&(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Size:"})," ",x(e.file_size)]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("strong",{children:"Created:"})," ",(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]}),(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("button",{onClick:()=>(e=>{m(e.id),g({title:e.title,description:e.description,level:e.level,instructor_name:e.instructor_name,country:e.country,category:e.category,is_premium:e.is_premium,tags:e.tags||[],accents:e.accents||[]})})(e),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"\u270f\ufe0f Edit"}),(0,vo.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"? This action cannot be undone.')))try{await fp.delete("".concat(Hm,"/admin/videos/").concat(e),{headers:{Authorization:"Bearer ".concat(i)}}),v(),alert("Video deleted successfully!")}catch(n){console.error("Error deleting video:",n),alert("Failed to delete video. Please try again.")}})(e.id,e.title),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"\ud83d\uddd1\ufe0f Delete"})]})]})})]},e.id);var t}))}),l.pages>1&&(0,vo.jsx)("div",{className:"mt-8 flex justify-center",children:(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("button",{onClick:()=>y("page",Math.max(1,d.page-1)),disabled:d.page<=1,className:"px-3 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2039 Previous"}),(0,vo.jsxs)("span",{className:"px-4 py-2 bg-blue-100 text-blue-800 rounded",children:["Page ",d.page," of ",l.pages]}),(0,vo.jsx)("button",{onClick:()=>y("page",Math.min(l.pages,d.page+1)),disabled:d.page>=l.pages,className:"px-3 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next \u203a"})]})})]})};var Wm=n(950),qm=n(461);function Km(e){this.content=e}Km.prototype={constructor:Km,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,o=i.find(e),r=i.content.slice();return-1==o?r.push(n||e,t):(r[o+1]=t,n&&(r[o]=n)),new Km(r)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Km(n)},addToStart:function(e,t){return new Km([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Km(n)},addBefore:function(e,t,n){var i=this.remove(t),o=i.content.slice(),r=i.find(e);return o.splice(-1==r?o.length:r,0,t,n),new Km(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Km.from(e)).size?new Km(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Km.from(e)).size?new Km(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Km.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},Km.from=function(e){if(e instanceof Km)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Km(t)};const Ym=Km;function Jm(e,t,n){for(let i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(i),r=t.child(i);if(o!=r){if(!o.sameMarkup(r))return n;if(o.isText&&o.text!=r.text){for(let e=0;o.text[e]==r.text[e];e++)n++;return n}if(o.content.size||r.content.size){let e=Jm(o.content,r.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function Qm(e,t,n,i){for(let o=e.childCount,r=t.childCount;;){if(0==o||0==r)return o==r?null:{a:n,b:i};let s=e.child(--o),a=t.child(--r),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:i};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,i--;return{a:n,b:i}}if(s.content.size||a.content.size){let e=Qm(s.content,a.content,n-1,i-1);if(e)return e}n-=l,i-=l}else n-=l,i-=l}}class Gm{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;for(let r=0,s=0;s<t;r++){let a=this.content[r],l=s+a.nodeSize;if(l>e&&!1!==n(a,i+s,o||null,r)&&a.content.size){let o=s+1;a.nodesBetween(Math.max(0,e-o),Math.min(a.content.size,t-o),n,i+o)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let o="",r=!0;return this.nodesBetween(e,t,((s,a)=>{let l=s.isText?s.text.slice(Math.max(e,a)-a,t-a):s.isLeaf?i?"function"===typeof i?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(r?r=!1:o+=n),o+=l}),0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Gm(i,this.size+e.size)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&t==this.size)return this;let n=[],i=0;if(t>e)for(let o=0,r=0;r<t;o++){let s=this.content[o],a=r+s.nodeSize;a>e&&((r<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-r),Math.min(s.text.length,t-r)):s.cut(Math.max(0,e-r-1),Math.min(s.content.size,t-r-1))),n.push(s),i+=s.nodeSize),r=a}return new Gm(n,i)}cutByIndex(e,t){return e==t?Gm.empty:0==e&&t==this.content.length?this:new Gm(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new Gm(i,o)}addToStart(e){return new Gm([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Gm(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e){return Jm(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}findDiffEnd(e){return Qm(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size)}findIndex(e){if(0==e)return Zm(0,e);if(e==this.size)return Zm(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let t=0,n=0;;t++){let i=n+this.child(t).nodeSize;if(i>=e)return i==e?Zm(t+1,i):Zm(t,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return Gm.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Gm(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Gm.empty;let t,n=0;for(let i=0;i<e.length;i++){let o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Gm(t||e,n)}static from(e){if(!e)return Gm.empty;if(e instanceof Gm)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Gm([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Gm.empty=new Gm([],0);const Xm={index:0,offset:0};function Zm(e,t){return Xm.index=e,Xm.offset=t,Xm}function ef(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!ef(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!ef(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class tf{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ef(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));let i=n.create(t.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return tf.none;if(e instanceof tf)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}tf.none=[];class nf extends Error{}class of{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=sf(this.content,e+this.openStart,t);return n&&new of(n,this.openStart,this.openEnd)}removeBetween(e,t){return new of(rf(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return of.empty;let n=t.openStart||0,i=t.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new of(Gm.fromJSON(e,t.content),n,i)}static maxOpen(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new of(e,n,i)}}function rf(e,t,n){let{index:i,offset:o}=e.findIndex(t),r=e.maybeChild(i),{index:s,offset:a}=e.findIndex(n);if(o==t||r.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(i,r.copy(rf(r.content,t-o-1,n-o-1)))}function sf(e,t,n,i){let{index:o,offset:r}=e.findIndex(t),s=e.maybeChild(o);if(r==t||s.isText)return i&&!i.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=sf(s.content,t-r-1,n);return a&&e.replaceChild(o,s.copy(a))}function af(e,t,n){if(n.openStart>e.depth)throw new nf("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new nf("Inconsistent open depths");return lf(e,t,n,0)}function lf(e,t,n,i){let o=e.index(i),r=e.node(i);if(o==t.index(i)&&i<e.depth-n.openStart){let s=lf(e,t,n,i+1);return r.copy(r.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=i||t.depth!=i){let{start:o,end:s}=function(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Gm.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(n,e);return pf(r,mf(e,o,s,t,i))}{let i=e.parent,o=i.content;return pf(i,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return pf(r,ff(e,t,i))}function cf(e,t){if(!t.type.compatibleContent(e.type))throw new nf("Cannot join "+t.type.name+" onto "+e.type.name)}function uf(e,t,n){let i=e.node(n);return cf(i,t.node(n)),i}function df(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function hf(e,t,n,i){let o=(t||e).node(n),r=0,s=t?t.index(n):o.childCount;e&&(r=e.index(n),e.depth>n?r++:e.textOffset&&(df(e.nodeAfter,i),r++));for(let a=r;a<s;a++)df(o.child(a),i);t&&t.depth==n&&t.textOffset&&df(t.nodeBefore,i)}function pf(e,t){return e.type.checkContent(t),e.copy(t)}function mf(e,t,n,i,o){let r=e.depth>o&&uf(e,t,o+1),s=i.depth>o&&uf(n,i,o+1),a=[];return hf(null,e,o,a),r&&s&&t.index(o)==n.index(o)?(cf(r,s),df(pf(r,mf(e,t,n,i,o+1)),a)):(r&&df(pf(r,ff(e,t,o+1)),a),hf(t,n,o,a),s&&df(pf(s,ff(n,i,o+1)),a)),hf(i,null,o,a),new Gm(a)}function ff(e,t,n){let i=[];if(hf(null,e,n,i),e.depth>n){df(pf(uf(e,t,n+1),ff(e,t,n+1)),i)}return hf(t,null,n,i),new Gm(i)}of.empty=new of(Gm.empty,0,0);class gf{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],i=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)i+=n.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return tf.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let e=n;n=i,i=e}let o=n.marks;for(var r=0;r<o.length;r++)!1!==o[r].type.spec.inclusive||i&&o[r].isInSet(i.marks)||(o=o[r--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||i&&n[o].isInSet(i.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new xf(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,o=t;for(let r=e;;){let{index:e,offset:t}=r.content.findIndex(o),s=o-t;if(n.push(r,e,i+t),!s)break;if(r=r.child(e),r.isText)break;o=s-1,i+=t+1}return new gf(t,n,o)}static resolveCached(e,t){let n=bf.get(e);if(n)for(let o=0;o<n.elts.length;o++){let e=n.elts[o];if(e.pos==t)return e}else bf.set(e,n=new vf);let i=n.elts[n.i]=gf.resolve(e,t);return n.i=(n.i+1)%yf,i}}class vf{constructor(){this.elts=[],this.i=0}}const yf=12,bf=new WeakMap;class xf{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const wf=Object.create(null);class kf{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tf.none;this.type=e,this.attrs=t,this.marks=i,this.content=n||Gm.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&ef(this.attrs,t||e.defaultAttrs||wf)&&tf.sameSet(this.marks,n||tf.none)}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new kf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kf(this.type,this.attrs,this.content,e)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return of.empty;let i=this.resolve(e),o=this.resolve(t),r=n?0:i.sharedDepth(t),s=i.start(r),a=i.node(r).content.cut(i.pos-s,o.pos-s);return new of(a,i.depth-r,o.depth-r)}replace(e,t,n){return af(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return gf.resolveCached(this,e)}resolveNoCache(e){return gf.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(i=!0),!i))),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Cf(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gm.empty,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,r=this.contentMatchAt(e).matchFragment(n,i,o),s=r&&r.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(n),r=o&&o.matchFragment(this.content,t);return!!r&&r.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=tf.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!tf.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((e=>e.type.name))));this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=Gm.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,n);return o.type.checkAttrs(o.attrs),o}}kf.prototype.text=void 0;class Sf extends kf{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Cf(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Sf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Sf(this.type,this.attrs,e,this.marks)}cut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Cf(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Tf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Ef(e,t);if(null==n.next)return Tf.empty;let i=Nf(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return n(Ff(e,0));function n(i){let o=[];i.forEach((t=>{e[t].forEach((t=>{let n,{term:i,to:r}=t;if(i){for(let e=0;e<o.length;e++)o[e][0]==i&&(n=o[e][1]);Ff(e,r).forEach((e=>{n||o.push([i,n=[]]),-1==n.indexOf(e)&&n.push(e)}))}}))}));let r=t[i.join(",")]=new Tf(i.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let i=o[e][1].sort(Mf);r.next.push({type:o[e][0],next:t[i.join(",")]||n(i)})}return r}}(function(e){let t=[[]];return o(r(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){let o={term:i,to:n};return t[e].push(o),o}function o(e,t){e.forEach((e=>e.to=t))}function r(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(r(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return i(t,s),o(r(e.expr,s),s),[i(s)]}if("plus"==e.type){let s=n();return o(r(e.expr,t),s),o(r(e.expr,s),s),[i(s)]}if("opt"==e.type)return[i(t)].concat(r(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();o(r(e.expr,s),t),s=t}if(-1==e.max)o(r(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();i(s,t),o(r(e.expr,s),t),s=t}return[i(s)]}if("name"==e.type)return[i(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let i=0;;i++){let s=r(e.exprs[i],t);if(i==e.exprs.length-1)return s;o(s,t=n())}}}(i));return function(e,t){for(let n=0,i=[e];n<i.length;n++){let e=i[n],o=!e.validEnd,r=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];r.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==i.indexOf(s)&&i.push(s)}o&&t.err("Only non-generatable nodes ("+r.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,i=this;for(let o=t;i&&o<n;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[this];return function o(r,s){let a=r.matchFragment(e,n);if(a&&(!t||a.validEnd))return Gm.from(s.map((e=>e.createAndFill())));for(let e=0;e<r.next.length;e++){let{type:t,next:n}=r.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==i.indexOf(n)){i.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(e)){let e=[];for(let t=i;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:r,next:s}=o.next[e];r.isLeaf||r.hasRequiredAttrs()||r.name in t||i.type&&!s.validEnd||(n.push({match:r.contentMatch,type:r,via:i}),t[r.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let i=0;i<n.next.length;i++)-1==e.indexOf(n.next[i].next)&&t(n.next[i].next)}(this),e.map(((t,n)=>{let i=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)i+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return i})).join("\n")}}Tf.empty=new Tf(!0);class Ef{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Nf(e){let t=[];do{t.push(Df(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Df(e){let t=[];do{t.push(jf(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function jf(e){let t=function(e){if(e.eat("(")){let t=Nf(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,i=n[t];if(i)return[i];let o=[];for(let r in n){let e=n[r];e.isInGroup(t)&&o.push(e)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Pf(e,t)}return t}function Af(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Pf(e,t){let n=Af(e),i=n;return e.eat(",")&&(i="}"!=e.next?Af(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function Mf(e,t){return t-e}function Ff(e,t){let n=[];return function t(i){let o=e[i];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(i);for(let e=0;e<o.length;e++){let{term:i,to:r}=o[e];i||-1!=n.indexOf(r)||t(r)}}(t),n.sort(Mf)}function Of(e){let t=Object.create(null);for(let n in e){let i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function Rf(e,t){let n=Object.create(null);for(let i in e){let o=t&&t[i];if(void 0===o){let t=e[i];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+i);o=t.default}n[i]=o}return n}function Lf(e,t,n,i){for(let o in t)if(!(o in e))throw new RangeError("Unsupported attribute ".concat(o," for ").concat(n," of type ").concat(o));for(let o in e){let n=e[o];n.validate&&n.validate(t[o])}}function If(e,t){let n=Object.create(null);if(t)for(let i in t)n[i]=new Vf(e,i,t[i]);return n}class _f{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=If(e,n.attrs),this.defaultAttrs=Of(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Tf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Rf(this.attrs,e)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new kf(this,this.computeAttrs(e),Gm.from(t),tf.setFrom(n))}createChecked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=Gm.from(t),this.checkContent(t),new kf(this,this.computeAttrs(e),t,tf.setFrom(n))}createAndFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),t=Gm.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(Gm.empty,!0);return o?new kf(this,e,t.append(o),tf.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){Lf(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:tf.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,i)=>n[e]=new _f(e,t,i)));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Vf{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let i=n.split("|");return n=>{let o=null===n?"null":typeof n;if(i.indexOf(o)<0)throw new RangeError("Expected value of type ".concat(i," for attribute ").concat(t," on type ").concat(e,", got ").concat(o))}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class $f{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=If(e,i.attrs),this.excluded=null;let o=Of(this.attrs);this.instance=o?new tf(this,o):null}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new tf(this,Rf(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach(((e,o)=>n[e]=new $f(e,i++,t,o))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Lf(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class zf{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Ym.from(e.nodes),t.marks=Ym.from(e.marks||{}),this.nodes=_f.compile(this.spec.nodes,this),this.marks=$f.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let e=this.nodes[i],t=e.spec.content||"",o=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=Tf.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==o?null:o?Bf(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let i in this.marks){let e=this.marks[i],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:Bf(this,t.split(" "))}this.nodeFromJSON=e=>kf.fromJSON(this,e),this.markFromJSON=e=>tf.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof _f))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new Sf(n,n.defaultAttrs,e,tf.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Bf(e,t){let n=[];for(let i=0;i<t.length;i++){let o=t[i],r=e.marks[o],s=r;if(r)n.push(r);else for(let t in e.marks){let i=e.marks[t];("_"==o||i.spec.group&&i.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=i)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}class Hf{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach((e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Jf(this,t,!1);return n.addAll(e,tf.none,t.from,t.to),n.finish()}parseSlice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Jf(this,t,!0);return n.addAll(e,tf.none,t.from,t.to),of.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let n=this.tags[i];if(Qf(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let i=this.styles[o],r=i.style;if(!(0!=r.indexOf(e)||i.context&&!n.matchesContext(i.context)||r.length>e.length&&(61!=r.charCodeAt(e.length)||r.slice(e.length+1)!=t))){if(i.getAttrs){let e=i.getAttrs(t);if(!1===e)continue;i.attrs=e||void 0}return i}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,i=0;for(;i<t.length;i++){let e=t[i];if((null==e.priority?50:e.priority)<n)break}t.splice(i,0,e)}for(let i in e.marks){let t=e.marks[i].spec.parseDOM;t&&t.forEach((e=>{n(e=Gf(e)),e.mark||e.ignore||e.clearMark||(e.mark=i)}))}for(let i in e.nodes){let t=e.nodes[i].spec.parseDOM;t&&t.forEach((e=>{n(e=Gf(e)),e.node||e.ignore||e.mark||(e.node=i)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Hf(e,Hf.schemaRules(e)))}}const Uf={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Wf={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qf={ol:!0,ul:!0};function Kf(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Yf{constructor(e,t,n,i,o,r){this.type=e,this.attrs=t,this.marks=n,this.solid=i,this.options=r,this.content=[],this.activeMarks=tf.none,this.match=o||(4&r?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Gm.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=Gm.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Gm.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Uf.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jf{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i,o=t.topNode,r=Kf(null,t.preserveWhitespace,0)|(n?4:0);i=o?new Yf(o.type,o.attrs,tf.none,!0,t.topMatch||o.type.contentMatch,r):new Yf(n?null:e.schema.topNodeType,null,tf.none,!0,null,r),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,i=this.top,o=2&i.options?"full":this.localPreserveWS||(1&i.options)>0;if("full"===o||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)n="full"!==o?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=i.content[i.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let i=this.localPreserveWS,o=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let r,s=e.nodeName.toLowerCase();qf.hasOwnProperty(s)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&qf.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(r=this.parser.matchTag(e,this,n));e:if(a?a.ignore:Wf.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let n,i=this.needsBlock;if(Uf.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let r=a&&a.skip?t:this.readStyles(e,t);r&&this.addAll(e,r),n&&this.sync(o),this.needsBlock=i}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,a,n,!1===a.consuming?r:void 0)}this.localPreserveWS=i}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let e=this.parser.matchedStyles[i],o=n.getPropertyValue(e);if(o)for(let n;;){let i=this.parser.matchStyle(e,o,this,n);if(!i)break;if(i.ignore)return null;if(t=i.clearMark?t.filter((e=>!i.clearMark(e))):t.concat(this.parser.schema.marks[i.mark].create(i.attrs)),!1!==i.consuming)break;n=i}}return t}addElementByRule(e,t,n,i){let o,r;if(t.node)if(r=this.parser.schema.nodes[t.node],r.isLeaf)this.insertNode(r.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(r,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let s=this.top;if(r&&r.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e,n,!1)));else{let i=e;"string"==typeof t.contentElement?i=e.querySelector(t.contentElement):"function"==typeof t.contentElement?i=t.contentElement(e):t.contentElement&&(i=t.contentElement),this.findAround(e,i,!0),this.addAll(i,n),this.findAround(e,i,!1)}o&&this.sync(s)&&this.open--}addAll(e,t,n,i){let o=n||0;for(let r=n?e.childNodes[n]:e.firstChild,s=null==i?null:e.childNodes[i];r!=s;r=r.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(r,t);this.findAtPoint(e,o)}findPlace(e,t,n){let i,o;for(let r=this.open,s=0;r>=0;r--){let t=this.nodes[r],a=t.findWrapping(e);if(a&&(!i||i.length>a.length+s)&&(i=a,o=t,!a.length))break;if(t.solid){if(n)break;s+=2}}if(!i)return null;this.sync(o);for(let r=0;r<i.length;r++)t=this.enterInner(i[r],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let i=this.findPlace(e,t,n);if(i){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=tf.none;for(let o of i.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):Xf(o.type,e.type))&&(n=o.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,i){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,i)),o}enterInner(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;this.closeExtra();let r=this.top;r.match=r.match&&r.match.matchType(e);let s=Kf(e,o,r.options);4&r.options&&0==r.content.length&&(s|=4);let a=tf.none;return n=n.filter((t=>!(r.type?r.type.allowsMarkType(t.type):Xf(t.type,e))||(a=t.addToSet(a),!1))),this.nodes.push(new Yf(e,t,a,i,null,s)),this.open++,n}closeExtra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)if(null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)){t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),r=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(r(e-1,s))return!0;return!1}{let e=s>0||0==s&&i?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=a&&!e.isInGroup(a))return!1;s--}}return!0};return r(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function Qf(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Gf(e){let t={};for(let n in e)t[n]=e[n];return t}function Xf(e,t){let n=t.schema.nodes;for(let i in n){let o=n[i];if(!o.allowsMarkType(e))continue;let r=[],s=e=>{r.push(e);for(let n=0;n<e.edgeCount;n++){let{type:i,next:o}=e.edge(n);if(i==t)return!0;if(r.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}class Zf{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=tg(t).createDocumentFragment());let i=n,o=[];return e.forEach((e=>{if(o.length||e.marks.length){let n=0,r=0;for(;n<o.length&&r<e.marks.length;){let t=e.marks[r];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,r++}else r++}for(;n<o.length;)i=o.pop()[1];for(;r<e.marks.length;){let n=e.marks[r++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,i]),i.appendChild(s.dom),i=s.contentDOM||s.dom)}}i.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=og(tg(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.marks[e.type.name];return i&&og(tg(n),i(e,t),null,e.attrs)}static renderSpec(e,t){return og(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Zf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=eg(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return eg(e.marks)}}function eg(e){let t={};for(let n in e){let i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function tg(e){return e.document||window.document}const ng=new WeakMap;function ig(e){let t=ng.get(e);return void 0===t&&ng.set(e,t=function(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function og(e,t,n,i){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,r=t[0];if("string"!=typeof r)throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=ig(i))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,a=r.indexOf(" ");a>0&&(n=r.slice(0,a),r=r.slice(a+1));let l=n?e.createElementNS(n,r):e.createElement(r),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let d=u;d<t.length;d++){let o=t[d];if(0===o){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:r}=og(e,o,n,i);if(l.appendChild(t),r){if(s)throw new RangeError("Multiple content holes");s=r}}}return{dom:l,contentDOM:s}}const rg=Math.pow(2,16);function sg(e){return 65535&e}class ag{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class lg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges=e,this.inverted=t,!e.length&&lg.empty)return lg.empty}recover(e){let t=0,n=sg(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/rg}(e)}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}_map(e,t,n){let i=0,o=this.inverted?2:1,r=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?i:0);if(a>e)break;let l=this.ranges[s+o],c=this.ranges[s+r],u=a+l;if(e<=u){let o=a+i+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return o;let r=e==(t<0?a:u)?null:s/3+(e-a)*rg,d=e==a?2:e==u?1:4;return(t<0?e!=a:e!=u)&&(d|=8),new ag(o,d,r)}i+=c-l}return n?e+i:new ag(e+i,0,null)}touches(e,t){let n=0,i=sg(t),o=this.inverted?2:1,r=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let a=this.ranges[s+o];if(e<=t+a&&s==3*i)return!0;n+=this.ranges[s+r]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let r=this.ranges[i],s=r-(this.inverted?o:0),a=r+(this.inverted?0:o),l=this.ranges[i+t],c=this.ranges[i+n];e(s,s+l,a,a+c),o+=c-l}}invert(){return new lg(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?lg.empty:new lg(e<0?[0,-e,0]:[0,0,e])}}lg.empty=new lg([]);class cg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e?e.length:0;this.mirror=t,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new cg(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],null!=i&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=i&&i>t?n-i-1:void 0)}}invert(){let e=new cg;return e.appendMappingInverted(this),e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let o=this.from;o<this.to;o++){let n=this._maps[o].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(o);if(null!=t&&t>o&&t<this.to){o=t,e=this._maps[t].recover(n.recover);continue}}i|=n.delInfo,e=n.pos}return n?e:new ag(e,i,null)}}const ug=Object.create(null);class dg{getMap(){return lg.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ug[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in ug)throw new RangeError("Duplicate use of step JSON ID "+e);return ug[e]=t,t.prototype.jsonID=e,t}}class hg{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new hg(e,null)}static fail(e){return new hg(null,e)}static fromReplace(e,t,n,i){try{return hg.ok(e.replace(t,n,i))}catch(MI){if(MI instanceof nf)return hg.fail(MI.message);throw MI}}}function pg(e,t,n){let i=[];for(let o=0;o<e.childCount;o++){let r=e.child(o);r.content.size&&(r=r.copy(pg(r.content,t,r))),r.isInline&&(r=t(r,n,o)),i.push(r)}return Gm.fromArray(i)}class mg extends dg{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new of(pg(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),i),t.openStart,t.openEnd);return hg.fromReplace(e,this.from,this.to,o)}invert(){return new fg(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new mg(t.pos,n.pos,this.mark)}merge(e){return e instanceof mg&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mg(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new mg(t.from,t.to,e.markFromJSON(t.mark))}}dg.jsonID("addMark",mg);class fg extends dg{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new of(pg(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return hg.fromReplace(e,this.from,this.to,n)}invert(){return new mg(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new fg(t.pos,n.pos,this.mark)}merge(e){return e instanceof fg&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fg(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fg(t.from,t.to,e.markFromJSON(t.mark))}}dg.jsonID("removeMark",fg);class gg extends dg{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return hg.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return hg.fromReplace(e,this.pos,this.pos+1,new of(Gm.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new gg(this.pos,t.marks[n]);return new gg(this.pos,this.mark)}}return new vg(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gg(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new gg(t.pos,e.markFromJSON(t.mark))}}dg.jsonID("addNodeMark",gg);class vg extends dg{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return hg.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return hg.fromReplace(e,this.pos,this.pos+1,new of(Gm.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new gg(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new vg(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vg(t.pos,e.markFromJSON(t.mark))}}dg.jsonID("removeNodeMark",vg);class yg extends dg{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&xg(e,this.from,this.to)?hg.fail("Structure replace would overwrite content"):hg.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new lg([this.from,this.to-this.from,this.slice.size])}invert(e){return new yg(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new yg(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof yg)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?of.empty:new of(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yg(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?of.empty:new of(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yg(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yg(t.from,t.to,of.fromJSON(e,t.slice),!!t.structure)}}dg.jsonID("replace",yg);class bg extends dg{constructor(e,t,n,i,o,r){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=r,this.structure=s}apply(e){if(this.structure&&(xg(e,this.from,this.gapFrom)||xg(e,this.gapTo,this.to)))return hg.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return hg.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?hg.fromReplace(e,this.from,this.to,n):hg.fail("Content does not fit in gap")}getMap(){return new lg([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new bg(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||o>n.pos?null:new bg(t.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bg(t.from,t.to,t.gapFrom,t.gapTo,of.fromJSON(e,t.slice),t.insert,!!t.structure)}}function xg(e,t,n){let i=e.resolve(t),o=n-t,r=i.depth;for(;o>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,o--;if(o>0){let e=i.node(r).maybeChild(i.indexAfter(r));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function wg(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<r.childCount;l++){let t=r.child(l),c=a+t.nodeSize,u=i.matchType(t.type);if(u){i=u;for(let i=0;i<t.marks.length;i++)n.allowsMarkType(t.marks[i].type)||e.step(new fg(a,c,t.marks[i]));if(o&&t.isText&&"pre"!=n.whitespace){let e,i,o=/\r?\n|\r/g;for(;e=o.exec(t.text);)i||(i=new of(Gm.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),s.push(new yg(a+e.index,a+e.index+e[0].length,i))}}else s.push(new yg(a,c,of.empty));a=c}if(!i.validEnd){let t=i.fillBefore(Gm.empty,!0);e.replace(a,a,new of(t,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function kg(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Sg(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let i=e.$from.node(n),o=e.$from.index(n),r=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,r,t))return n;if(0==n||i.type.spec.isolating||!kg(i,o,r))break}return null}function Cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=function(e,t){let{parent:n,startIndex:i,endIndex:o}=e,r=n.contentMatchAt(i).findWrapping(t);if(!r)return null;let s=r.length?r[0]:t;return n.canReplaceWith(i,o,s)?r:null}(e,t),r=o&&function(e,t){let{parent:n,startIndex:i,endIndex:o}=e,r=n.child(i),s=t.contentMatch.findWrapping(r.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let l=i;a&&l<o;l++)a=a.matchType(n.child(l).type);return a&&a.validEnd?s:null}(i,t);return r?o.map(Tg).concat({type:t,attrs:n}).concat(r.map(Tg)):null}function Tg(e){return{type:e,attrs:null}}function Eg(e,t,n,i){t.forEach(((o,r)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let o=e.mapping.slice(i).map(n+1+r+s.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}}))}function Ng(e,t,n,i){t.forEach(((o,r)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(i).map(n+1+r);e.replaceWith(o,o+1,t.type.schema.text("\n"))}}))}function Dg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),r=o.depth-n,s=i&&i[i.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>r;c--,u--){let e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),r=i&&i[u+1];r&&(n=n.replaceChild(0,r.type.create(r.attrs)));let s=i&&i[u]||e;if(!e.canReplace(t+1,e.childCount)||!s.type.validContent(n))return!1}let a=o.indexAfter(r),l=i&&i[0];return o.node(r).canReplaceWith(a,a,l?l.type:o.node(r+1).type)}function jg(e,t){let n=e.resolve(t),i=n.index();return Ag(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Ag(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:i}=e.type.schema;for(let o=0;o<t.childCount;o++){let r=t.child(o),s=r.type==i?e.type.schema.nodes.text:r.type;if(n=n.matchType(s),!n)return!1;if(!e.type.allowsMarks(r.marks))return!1}return n.validEnd}(e,t))}function Pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=e.resolve(t);for(let o=i.depth;;o--){let e,r,s=i.index(o);if(o==i.depth?(e=i.nodeBefore,r=i.nodeAfter):n>0?(e=i.node(o+1),s++,r=i.node(o).maybeChild(s)):(e=i.node(o).maybeChild(s-1),r=i.node(o+1)),e&&!e.isTextblock&&Ag(e,r)&&i.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?i.before(o):i.after(o)}}function Mg(e,t,n){let i=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let r=0;r<n.openStart;r++)o=o.firstChild.content;for(let r=1;r<=(0==n.openStart&&n.size?2:1);r++)for(let e=i.depth;e>=0;e--){let t=e==i.depth?0:i.pos<=(i.start(e+1)+i.end(e+1))/2?-1:1,n=i.index(e)+(t>0?1:0),s=i.node(e),a=!1;if(1==r)a=s.canReplace(n,n,o);else{let e=s.contentMatchAt(n).findWrapping(o.firstChild.type);a=e&&s.canReplaceWith(n,n,e[0])}if(a)return 0==t?i.pos:t<0?i.before(e+1):i.after(e+1)}return null}function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:of.empty;if(t==n&&!i.size)return null;let o=e.resolve(t),r=e.resolve(n);return Og(o,r,i)?new yg(t,n,i):new Rg(o,r,i).fit()}function Og(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}dg.jsonID("replaceAround",bg);class Rg{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Gm.empty;for(let i=0;i<=e.depth;i++){let t=e.node(i);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Gm.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,r=n.depth,s=i.depth;for(;r&&s&&1==o.childCount;)o=o.firstChild.content,r--,s--;let a=new of(o,r,s);return e>-1?new bg(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new yg(n.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,i=null;n?(i=_g(this.unplaced.content,n-1).firstChild,e=i.content):e=this.unplaced.content;let o=e.firstChild;for(let r=this.depth;r>=0;r--){let e,{type:s,match:a}=this.frontier[r],l=null;if(1==t&&(o?a.matchType(o.type)||(l=a.fillBefore(Gm.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:r,parent:i,inject:l};if(2==t&&o&&(e=a.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:r,parent:i,wrap:e};if(i&&a.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=_g(e,t);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new of(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=_g(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new of(Lg(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new of(Lg(e,t,1),t,n)}placeNodes(e){let{sliceDepth:t,frontierDepth:n,parent:i,inject:o,wrap:r}=e;for(;this.depth>n;)this.closeFrontierNode();if(r)for(let f=0;f<r.length;f++)this.openFrontierNode(r[f]);let s=this.unplaced,a=i?i.content:s.content,l=s.openStart-t,c=0,u=[],{match:d,type:h}=this.frontier[n];if(o){for(let e=0;e<o.childCount;e++)u.push(o.child(e));d=d.matchFragment(o)}let p=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let e=a.child(c),t=d.matchType(e.type);if(!t)break;c++,(c>1||0==l||e.content.size)&&(d=t,u.push(Vg(e.mark(h.allowedMarks(e.marks)),1==c?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=Ig(this.placed,n,Gm.from(u)),this.frontier[n].match=d,m&&p<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let f=0,g=a;f<p;f++){let e=g.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),g=e.content}this.unplaced=m?0==t?of.empty:new of(Lg(s.content,t-1,1),t-1,p<0?s.openEnd:t-1):new of(Lg(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!$g(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),r=$g(e,t,i,n,o);if(r){for(let n=t-1;n>=0;n--){let{match:t,type:i}=this.frontier[n],o=$g(e,n,i,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:r,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ig(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),i=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,i)}return e}openFrontierNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ig(this.placed,this.depth,Gm.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Gm.empty,!0);e.childCount&&(this.placed=Ig(this.placed,this.frontier.length,e))}}function Lg(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Lg(e.firstChild.content,t-1,n)))}function Ig(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Ig(e.lastChild.content,t-1,n)))}function _g(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Vg(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,Vg(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(Gm.empty,!0)))),e.copy(i)}function $g(e,t,n,i,o){let r=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==r.childCount&&!n.compatibleContent(r.type))return null;let a=i.fillBefore(r.content,!0,s);return a&&!function(e,t,n){for(let i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,r.content,s)?a:null}function zg(e,t,n,i,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(zg(o.content,t+1,n,i,o)))}if(t>i){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(Gm.empty,!0))}return e}function Bg(e,t){let n=[];for(let i=Math.min(e.depth,t.depth);i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class Hg extends dg{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return hg.fail("No node at attribute step's position");let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return hg.fromReplace(e,this.pos,this.pos+1,new of(Gm.from(i),0,t.isLeaf?0:1))}getMap(){return lg.empty}invert(e){return new Hg(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Hg(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Hg(t.pos,t.attr,t.value)}}dg.jsonID("attr",Hg);class Ug extends dg{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return hg.ok(n)}getMap(){return lg.empty}invert(e){return new Ug(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ug(t.attr,t.value)}}dg.jsonID("docAttr",Ug);let Wg=class extends Error{};Wg=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Wg.prototype=Object.create(Error.prototype)).constructor=Wg,Wg.prototype.name="TransformError";class qg{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new cg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Wg(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:of.empty,i=Fg(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new of(Gm.from(n),0,0))}delete(e,t){return this.replace(e,t,of.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),r=e.doc.resolve(n);if(Og(o,r,i))return e.step(new yg(t,n,i));let s=Bg(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let p=o.depth,m=o.pos-1;p>0;p--,m--){let e=o.node(p).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(p)>-1?a=p:o.before(p)==m&&s.splice(1,0,-p)}let l=s.indexOf(a),c=[],u=i.openStart;for(let p=i.content,m=0;;m++){let e=p.firstChild;if(c.push(e),m==i.openStart)break;p=e.content}for(let p=u-1;p>=0;p--){let e=c[p],t=(d=e.type).spec.defining||d.spec.definingForContent;if(t&&!e.sameMarkup(o.node(Math.abs(a)-1)))u=p;else if(t||!e.type.isTextblock)break}var d;for(let p=i.openStart;p>=0;p--){let t=(p+u+1)%(i.openStart+1),a=c[t];if(a)for(let c=0;c<s.length;c++){let u=s[(c+l)%s.length],d=!0;u<0&&(d=!1,u=-u);let h=o.node(u-1),p=o.index(u-1);if(h.canReplaceWith(p,p,a.type,a.marks))return e.replace(o.before(u),d?r.after(u):n,new of(zg(i.content,0,i.openStart,t),t,i.openEnd))}}let h=e.steps.length;for(let p=s.length-1;p>=0&&(e.replace(t,n,i),!(e.steps.length>h));p--){let e=s[p];e<0||(t=o.before(e),n=r.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(let o=i.depth-1;o>=0;o--){let e=i.index(o);if(i.node(o).canReplaceWith(e,e,n))return i.before(o+1);if(e>0)return null}if(i.parentOffset==i.parent.content.size)for(let o=i.depth-1;o>=0;o--){let e=i.indexAfter(o);if(i.node(o).canReplaceWith(e,e,n))return i.after(o+1);if(e<i.node(o).childCount)return null}return null}(e.doc,t,i.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new of(Gm.from(i),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let i=e.doc.resolve(t),o=e.doc.resolve(n),r=Bg(i,o);for(let s=0;s<r.length;s++){let t=r[s],n=s==r.length-1;if(n&&0==t||i.node(t).type.contentMatch.validEnd)return e.delete(i.start(t),o.end(t));if(t>0&&(n||i.node(t-1).canReplace(i.index(t-1),o.indexAfter(t-1))))return e.delete(i.before(t),o.after(t))}for(let s=1;s<=i.depth&&s<=o.depth;s++)if(t-i.start(s)==i.depth-s&&n>i.end(s)&&o.end(s)-n!=o.depth-s&&i.start(s-1)==o.start(s-1)&&i.node(s-1).canReplace(i.index(s-1),o.index(s-1)))return e.delete(i.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:i,$to:o,depth:r}=t,s=i.before(r+1),a=o.after(r+1),l=s,c=a,u=Gm.empty,d=0;for(let m=r,f=!1;m>n;m--)f||i.index(m)>0?(f=!0,u=Gm.from(i.node(m).copy(u)),d++):l--;let h=Gm.empty,p=0;for(let m=r,f=!1;m>n;m--)f||o.after(m+1)<o.end(m)?(f=!0,h=Gm.from(o.node(m).copy(h)),p++):c++;e.step(new bg(l,c,s,a,new of(u.append(h),d,p),u.size-d,!0))}(this,e,t),this}join(e){return function(e,t,n){let i=null,{linebreakReplacement:o}=e.doc.type.schema,r=e.doc.resolve(t-n),s=r.node().type;if(o&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(o);e&&!t?i=!1:!e&&t&&(i=!0)}let a=e.steps.length;if(!1===i){let i=e.doc.resolve(t+n);Ng(e,i.node(),i.before(),a)}s.inlineContent&&wg(e,t+n-1,s,r.node().contentMatchAt(r.index()),null==i);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new yg(c,l.map(t+n,-1),of.empty,!0)),!0===i){let t=e.doc.resolve(c);Eg(e,t.node(),t.before(),e.steps.length)}}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}wrap(e,t){return function(e,t,n){let i=Gm.empty;for(let s=n.length-1;s>=0;s--){if(i.size){let e=n[s].type.contentMatch.matchFragment(i);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=Gm.from(n[s].type.create(n[s].attrs,i))}let o=t.start,r=t.end;e.step(new bg(o,r,o,r,new of(i,0,0),n.length,!0))}(this,e,t),this}setBlockType(e){return function(e,t,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{let s="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(i,s)&&function(e,t,n){let i=e.resolve(t),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(r).map(n),i)){let o=null;if(i.schema.linebreakReplacement){let e="pre"==i.whitespace,t=!!i.contentMatch.matchType(i.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&Ng(e,t,n,r),wg(e,e.mapping.slice(r).map(n,1),i,void 0,null===o);let a=e.mapping.slice(r),l=a.map(n,1),c=a.map(n+t.nodeSize,1);return e.step(new bg(l,c,l+1,c-1,new of(Gm.from(i.create(s,null,t.marks)),0,0),1,!0)),!0===o&&Eg(e,t,n,r),!1}}))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}setNodeMarkup(e,t){return function(e,t,n,i,o){let r=e.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let s=n.create(i,null,o||r.marks);if(r.isLeaf)return e.replaceWith(t,t+r.nodeSize,s);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new bg(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new of(Gm.from(s),0,0),1,!0))}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}setNodeAttribute(e,t,n){return this.step(new Hg(e,t,n)),this}setDocAttribute(e,t){return this.step(new Ug(e,t)),this}addNodeMark(e,t){return this.step(new gg(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof tf)t.isInSet(n.marks)&&this.step(new vg(e,t));else{let i,o=n.marks,r=[];for(;i=t.isInSet(o);)r.push(new vg(e,i)),o=i.removeFromSet(o);for(let e=r.length-1;e>=0;e--)this.step(r[e])}return this}split(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),r=Gm.empty,s=Gm.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){r=Gm.from(o.node(a).copy(r));let e=i&&i[c];s=Gm.from(e?e.type.create(e.attrs,s):o.node(a).copy(s))}e.step(new yg(t,t,new of(r.append(s),n,n),!0))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}addMark(e,t,n){return function(e,t,n,i){let o,r,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!i.isInSet(u)&&c.type.allowsMarkType(i.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),h=i.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(h)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:s.push(o=new fg(c,d,u[e])));r&&r.to==c?r.to=d:a.push(r=new mg(c,d,i))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,i){let o=[],r=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;r++;let a=null;if(i instanceof $f){let t,n=e.marks;for(;t=i.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else i?i.isInSet(e.marks)&&(a=[i]):a=e.marks;if(a&&a.length){let i=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==r-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=i,n.step=r):o.push({style:l,from:Math.max(s,t),to:i,step:r})}}})),o.forEach((t=>e.step(new fg(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return wg(this,e,t,n),this}}const Kg=Object.create(null);class Yg{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Jg(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:of.empty,n=t.content.lastChild,i=null;for(let s=0;s<t.openEnd;s++)i=n,n=n.lastChild;let o=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:a,$to:l}=r[s],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(l.pos),s?of.empty:t),0==s&&rv(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:r,$to:s}=i[o],a=e.mapping.slice(n),l=a.map(r.pos),c=a.map(s.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),rv(e,n,t.isInline?-1:1))}}static findFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.parent.inlineContent?new Xg(e):ov(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let o=e.depth-1;o>=0;o--){let i=t<0?ov(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):ov(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}return null}static near(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new nv(e.node(0))}static atStart(e){return ov(e,e,0,0,1)||new nv(e)}static atEnd(e){return ov(e,e,e.content.size,e.childCount,-1)||new nv(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Kg[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in Kg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Kg[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Xg.between(this.$anchor,this.$head).getBookmark()}}Yg.prototype.visible=!0;class Jg{constructor(e,t){this.$from=e,this.$to=t}}let Qg=!1;function Gg(e){Qg||e.parent.inlineContent||(Qg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Xg extends Yg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;Gg(e),Gg(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Yg.near(n);let i=e.resolve(t.map(this.anchor));return new Xg(i.parent.inlineContent?i:n,n)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:of.empty;if(super.replace(e,t),t==of.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Xg&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Zg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Xg(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if(n&&!i||(n=i>=0?1:-1),!t.parent.inlineContent){let e=Yg.findFrom(t,n,!0)||Yg.findFrom(t,-n,!0);if(!e)return Yg.near(t,n);t=e.$head}return e.parent.inlineContent||(0==i||(e=(Yg.findFrom(e,-n,!0)||Yg.findFrom(e,n,!0)).$anchor).pos<t.pos!=i<0)&&(e=t),new Xg(e,t)}}Yg.jsonID("text",Xg);class Zg{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Zg(e.map(this.anchor),e.map(this.head))}resolve(e){return Xg.between(e.resolve(this.anchor),e.resolve(this.head))}}class ev extends Yg{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return n?Yg.near(o):new ev(o)}content(){return new of(Gm.from(this.node),0,0)}eq(e){return e instanceof ev&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new tv(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ev(e.resolve(t.anchor))}static create(e,t){return new ev(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}ev.prototype.visible=!1,Yg.jsonID("node",ev);class tv{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Zg(n,n):new tv(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ev.isSelectable(n)?new ev(t):Yg.near(t)}}class nv extends Yg{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:of.empty;if(t==of.empty){e.delete(0,e.doc.content.size);let t=Yg.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new nv(e)}map(e){return new nv(e)}eq(e){return e instanceof nv}getBookmark(){return iv}}Yg.jsonID("all",nv);const iv={map(){return this},resolve:e=>new nv(e)};function ov(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return Xg.create(e,n);for(let s=i-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let i=t.child(s);if(i.isAtom){if(!r&&ev.isSelectable(i))return ev.create(e,n-(o<0?i.nodeSize:0))}else{let t=ov(e,i,n+o,o<0?i.childCount:0,o,r);if(t)return t}n+=i.nodeSize*o}return null}function rv(e,t,n){let i=e.steps.length-1;if(i<t)return;let o,r=e.steps[i];(r instanceof yg||r instanceof bg)&&(e.mapping.maps[i].forEach(((e,t,n,i)=>{null==o&&(o=i)})),e.setSelection(Yg.near(e.doc.resolve(o),n)))}class sv extends qg{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return tf.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||tf.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,o)),this.selection.empty||this.setSelection(Yg.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function av(e,t){return t&&e?e.bind(t):e}class lv{constructor(e,t,n){this.name=e,this.init=av(t.init,n),this.apply=av(t.apply,n)}}const cv=[new lv("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new lv("selection",{init:(e,t)=>e.selection||Yg.atStart(t.doc),apply:e=>e.selection}),new lv("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,i)=>i.selection.$cursor?e.storedMarks:null}),new lv("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class uv{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cv.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new lv(e.key,e.spec.state,e))}))}}class dv{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let o=!1;for(let r=0;r<this.config.plugins.length;r++){let s=this.config.plugins[r];if(s.spec.appendTransaction){let a=i?i[r].n:0,l=i?i[r].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,r)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let e=0;e<this.config.plugins.length;e++)i.push(e<r?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}i&&(i[r]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new dv(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new sv(this)}static create(e){let t=new uv(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new dv(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new uv(this.schema,e.plugins),n=t.fields,i=new dv(t);for(let o=0;o<n.length;o++){let t=n[o].name;i[t]=this.hasOwnProperty(t)?this[t]:n[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],o=i.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new uv(e.schema,e.plugins),o=new dv(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=kf.fromJSON(e.schema,t.doc);else if("selection"==i.name)o.selection=Yg.fromJSON(o.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,r))return void(o[i.name]=a.fromJSON.call(s,e,t[r],o))}o[i.name]=i.init(e,o)}})),o}}function hv(e,t,n){for(let i in e){let o=e[i];o instanceof Function?o=o.bind(t):"handleDOMEvents"==i&&(o=hv(o,t,{})),n[i]=o}return n}class pv{constructor(e){this.spec=e,this.props={},e.props&&hv(e.props,this,this.props),this.key=e.key?e.key.key:fv("plugin")}getState(e){return e[this.key]}}const mv=Object.create(null);function fv(e){return e in mv?e+"$"+ ++mv[e]:(mv[e]=0,e+"$")}class gv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";this.key=fv(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const vv=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},yv=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let bv=null;const xv=function(e,t,n){let i=bv||(bv=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},wv=function(e,t,n,i){return n&&(Sv(e,t,n,i,-1)||Sv(e,t,n,i,1))},kv=/^(img|br|input|textarea|hr)$/i;function Sv(e,t,n,i,o){for(var r;;){if(e==n&&t==i)return!0;if(t==(o<0?0:Cv(e))){let n=e.parentNode;if(!n||1!=n.nodeType||Tv(e)||kv.test(e.nodeName)||"false"==e.contentEditable)return!1;t=vv(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(r=n.pmViewDesc)||void 0===r?void 0:r.ignoreForSelection))return!1;t+=o}else e=n,t=o<0?Cv(e):0}}}}function Cv(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Tv(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Ev=function(e){return e.focusNode&&wv(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Nv(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Dv="undefined"!=typeof navigator?navigator:null,jv="undefined"!=typeof document?document:null,Av=Dv&&Dv.userAgent||"",Pv=/Edge\/(\d+)/.exec(Av),Mv=/MSIE \d/.exec(Av),Fv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Av),Ov=!!(Mv||Fv||Pv),Rv=Mv?document.documentMode:Fv?+Fv[1]:Pv?+Pv[1]:0,Lv=!Ov&&/gecko\/(\d+)/i.test(Av);Lv&&(/Firefox\/(\d+)/.exec(Av)||[0,0])[1];const Iv=!Ov&&/Chrome\/(\d+)/.exec(Av),_v=!!Iv,Vv=Iv?+Iv[1]:0,$v=!Ov&&!!Dv&&/Apple Computer/.test(Dv.vendor),zv=$v&&(/Mobile\/\w+/.test(Av)||!!Dv&&Dv.maxTouchPoints>2),Bv=zv||!!Dv&&/Mac/.test(Dv.platform),Hv=!!Dv&&/Win/.test(Dv.platform),Uv=/Android \d/.test(Av),Wv=!!jv&&"webkitFontSmoothing"in jv.documentElement.style,qv=Wv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Kv(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Yv(e,t){return"number"==typeof e?e:e[t]}function Jv(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function Qv(e,t,n){let i=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,r=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(1!=s.nodeType){s=yv(s);continue}let e=s,n=e==r.body,a=n?Kv(r):Jv(e),l=0,c=0;if(t.top<a.top+Yv(i,"top")?c=-(a.top-t.top+Yv(o,"top")):t.bottom>a.bottom-Yv(i,"bottom")&&(c=t.bottom-t.top>a.bottom-a.top?t.top+Yv(o,"top")-a.top:t.bottom-a.bottom+Yv(o,"bottom")),t.left<a.left+Yv(i,"left")?l=-(a.left-t.left+Yv(o,"left")):t.right>a.right-Yv(i,"right")&&(l=t.right-a.right+Yv(o,"right")),l||c)if(n)r.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,i=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,r=e.scrollTop-i;t={left:t.left-o,top:t.top-r,right:t.right-o,bottom:t.bottom-r}}let u=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(u))break;s="absolute"==u?s.offsetParent:yv(s)}}function Gv(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=yv(i));return t}function Xv(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:o,left:r}=e[n];i.scrollTop!=o+t&&(i.scrollTop=o+t),i.scrollLeft!=r&&(i.scrollLeft=r)}}let Zv=null;function ey(e,t){let n,i,o,r,s=2e8,a=0,l=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=xv(u).getClientRects()}for(let h=0;h<e.length;h++){let p=e[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<s){n=u,s=e,i=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==u.nodeType&&e&&(a=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=u,r={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(a=d+1)}}return!n&&o&&(n=o,i=r,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,i=document.createRange();for(let o=0;o<n;o++){i.setEnd(e,o+1),i.setStart(e,o);let n=ry(i,1);if(n.top!=n.bottom&&ty(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,i):!n||s&&1==n.nodeType?{node:e,offset:a}:ey(n,i)}function ty(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ny(e,t,n){let i=e.childNodes.length;if(i&&n.top<n.bottom)for(let o=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),r=o;;){let n=e.childNodes[r];if(1==n.nodeType){let e=n.getClientRects();for(let i=0;i<e.length;i++){let o=e[i];if(ty(t,o))return ny(n,t,o)}}if((r=(r+1)%i)==o)break}return e}function iy(e,t){let n,i=e.dom.ownerDocument,o=0,r=function(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(Cv(i.offsetNode),i.offset)}}catch(i){}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(Cv(i.startContainer),i.startOffset)}}}(i,t.left,t.top);r&&({node:n,offset:o}=r);let s,a=(e.root.elementFromPoint?e.root:i).elementFromPoint(t.left,t.top);if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=e.dom.getBoundingClientRect();if(!ty(t,n))return null;if(a=ny(e.dom,t,n),!a)return null}if($v)for(let c=a;n&&c;c=yv(c))c.draggable&&(n=void 0);if(a=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(a,t),n){if(Lv&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,i=n.childNodes[o];"IMG"==i.nodeName&&(e=i.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let i;Wv&&o&&1==n.nodeType&&1==(i=n.childNodes[o-1]).nodeType&&"false"==i.contentEditable&&i.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(s=function(e,t,n,i){let o=-1;for(let r=t,s=!1;r!=e.dom;){let t,n=e.docView.nearestDesc(r,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!s&&t.left>i.left||t.top>i.top?o=n.posBefore:(!s&&t.right<i.left||t.bottom<i.top)&&(o=n.posAfter),s=!0),!n.contentDOM&&o<0&&!n.node.isText))return(n.node.isBlock?i.top<(t.top+t.bottom)/2:i.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;r=n.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==s&&(s=function(e,t,n){let{node:i,offset:o}=ey(t,n),r=-1;if(1==i.nodeType&&!i.firstChild){let e=i.getBoundingClientRect();r=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(i,o,r)}(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function oy(e){return e.top<e.bottom||e.left<e.right}function ry(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(oy(e))return e}return Array.prototype.find.call(n,oy)||e.getBoundingClientRect()}const sy=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ay(e,t,n){let{node:i,offset:o,atom:r}=e.docView.domFromPos(t,n<0?-1:1),s=Wv||Lv;if(3==i.nodeType){if(!s||!sy.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){let e=o,t=o,r=n<0?1:-1;return n<0&&!o?(t++,r=-1):n>=0&&o==i.nodeValue.length?(e--,r=1):n<0?e--:t++,ly(ry(xv(i,e,t),r),r<0)}{let e=ry(xv(i,o,o),n);if(Lv&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){let t=ry(xv(i,o-1,o-1),-1);if(t.top==e.top){let n=ry(xv(i,o,o+1),-1);if(n.top!=e.top)return ly(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(r||0)).parent.inlineContent){if(null==r&&o&&(n<0||o==Cv(i))){let e=i.childNodes[o-1];if(1==e.nodeType)return cy(e.getBoundingClientRect(),!1)}if(null==r&&o<Cv(i)){let e=i.childNodes[o];if(1==e.nodeType)return cy(e.getBoundingClientRect(),!0)}return cy(i.getBoundingClientRect(),n>=0)}if(null==r&&o&&(n<0||o==Cv(i))){let e=i.childNodes[o-1],t=3==e.nodeType?xv(e,Cv(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return ly(ry(t,1),!1)}if(null==r&&o<Cv(i)){let e=i.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?xv(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return ly(ry(t,-1),!0)}return ly(ry(3==i.nodeType?xv(i):i,-n),n>=0)}function ly(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function cy(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function uy(e,t,n){let i=e.state,o=e.root.activeElement;i!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),o!=e.dom&&o&&o.focus()}}const dy=/[\u0590-\u08ac]/;let hy=null,py=null,my=!1;function fy(e,t,n){return hy==t&&py==n?my:(hy=t,py=n,my="up"==n||"down"==n?function(e,t,n){let i=t.selection,o="up"==n?i.$from:i.$to;return uy(e,t,(()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let i=ay(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=xv(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?i.top-o.top>2*(o.bottom-i.top):o.bottom-i.bottom>2*(i.bottom-o.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let o=i.parentOffset,r=!o,s=o==i.parent.content.size,a=e.domSelection();return a?dy.test(i.parent.textContent)&&a.modify?uy(e,t,(()=>{let{focusNode:t,focusOffset:o,anchorNode:r,anchorOffset:s}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),h=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{a.collapse(r,s),t&&(t!=r||o!=s)&&a.extend&&a.extend(t,o)}catch(p){}return null!=l&&(a.caretBidiLevel=l),h})):"left"==n||"backward"==n?r:s:i.pos==i.start()||i.pos==i.end()}(e,t,n))}class gy{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,i;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(i)+i.size:this.posAtStart}{let n,i;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(i):this.posAtEnd}}let i;if(e==this.dom&&this.contentDOM)i=t>vv(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){i=!1;break}if(t.previousSibling)break}if(null==i&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){i=!0;break}if(t.nextSibling)break}}return(null==i?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,i=e;i;i=i.parentNode){let o,r=this.getDesc(i);if(r&&(!t||r.node)){if(!n||!(o=r.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return r;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)for(let e=0;e<i.children.length;e++){let t=i.children[e];if(t.size){i=t;break}}return i}if(e<o)return i.descAt(e-n-i.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let t=this.children[n],r=o+t.size;if(r>e||t instanceof Sy){i=e-o;break}o=r}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof vy&&o.side>=0;n--);if(t<=0){let e,i=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,i=!1);return e&&t&&i&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?vv(e.dom)+1:0}}{let e,i=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,i=!1);return e&&i&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?vv(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let r=n,s=0;;s++){let n=this.children[s],a=r+n.size;if(-1==i&&e<=a){let o=r+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=r;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){i=vv(n.dom)+1;break}e-=n.size}-1==i&&(i=0)}if(i>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=vv(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}r=a}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),r=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let s=this.children[p],a=m+s.size;if(o>m&&r<a)return s.setSelection(e-m-s.border,t-m-s.border,n,i);m=a}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((Lv||$v)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let n,i=e;i;i=i.parentNode){if(n=i.nextSibling){"BR"==n.nodeName&&(s=a={node:n.parentNode,offset:vv(n)+1});break}let e=i.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Lv&&c.focusNode&&c.focusNode!=a.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(i=!0)}if(!(i||u&&$v)&&wv(s.node,s.offset,c.anchorNode,c.anchorOffset)&&wv(a.node,a.offset,c.focusNode,c.focusOffset))return;let d=!1;if((l.extend||e==t)&&!u){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),d=!0}catch(h){}}if(!d){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],r=n+o.size;if(n==r?e<=r&&t>=n:e<r&&t>n){let i=n+o.border,s=r-o.border;if(e>=i&&t<=s)return this.dirty=e==n||t==r?2:1,void(e!=i||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-i,t-i):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=r}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class vy extends gy{constructor(e,t,n,i){let o,r=t.type.toDOM;if("function"==typeof r&&(r=r(n,(()=>o?o.parent?o.parent.posBeforeChild(o):void 0:i))),!t.type.spec.raw){if(1!=r.nodeType){let e=document.createElement("span");e.appendChild(r),r=e}r.contentEditable="false",r.classList.add("ProseMirror-widget")}super(e,[],r,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yy extends gy{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class by extends gy{constructor(e,t,n,i,o){super(e,[],n,i),this.mark=t,this.spec=o}static create(e,t,n,i){let o=i.nodeViews[t.type.name],r=o&&o(t,i,n);return r&&r.dom||(r=Zf.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new by(e,t,r.dom,r.contentDOM||r.dom,r)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let i=by.create(this.parent,this.mark,!0,n),o=this.children,r=this.size;t<r&&(o=Ly(o,t,r,n)),e>0&&(o=Ly(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class xy extends gy{constructor(e,t,n,i,o,r,s,a,l){super(e,[],o,r),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(e,t,n,i,o,r){let s,a=o.nodeViews[t.type.name],l=a&&a(t,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:r),n,i),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=Zf.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Py(c,n,t),l?s=new Cy(e,t,n,i,c,u||null,d,l,o,r+1):t.isText?new ky(e,t,n,i,c,d,o):new xy(e,t,n,i,c,u||null,d,o,r+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Gm.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&My(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,r=o&&o.pos>-1?o:null,s=o&&o.pos<0,a=new Oy(this,r&&r.node,e);!function(e,t,n,i){let o=t.locals(e),r=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);i(s,o,t.forChild(r,s),n),r+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d,h,p;for(;s<o.length&&o[s].to==r;){let e=o[s++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(Ry);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)p=-1,h=l,l=null;else{if(!(c<e.childCount))break;p=c,h=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=r&&a.splice(e--,1);for(;s<o.length&&o[s].from<=r&&o[s].to>r;)a.push(o[s++]);let m=r+h.nodeSize;if(h.isText){let e=m;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<m&&(l=h.cut(e-r),h=h.cut(0,e-r),m=e,p=-1)}else for(;s<o.length&&o[s].to<m;)s++;i(h,h.isInline&&!h.isLeaf?a.filter((e=>!e.inline)):a.slice(),t.forChild(r,h),p),r=m}}(this.node,this.innerDeco,((t,o,r)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!r&&a.syncToMarks(o==this.node.childCount?tf.none:this.node.child(o).marks,n,e),a.placeWidget(t,e,i)}),((t,r,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,r,l,c)||s&&e.state.selection.from>i&&e.state.selection.to<i+t.nodeSize&&(u=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(t,r,l,u,e)||a.updateNextNode(t,r,l,e,c,i)||a.addNode(t,r,l,e,i),i+=t.nodeSize})),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(r&&this.protectLocalComposition(e,r),Ty(this.contentDOM,this.children,e),zv&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Xg)||n<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,r=function(e,t,n,i){for(let o=0,r=0;o<e.childCount&&r<=i;){let s=e.child(o++),a=r;if(r+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<e.childCount;){let t=e.child(o++);if(r+=t.nodeSize,!t.isText)break;l+=t.text}if(r>=n){if(r>=i&&l.slice(i-t.length-a,i-a)==t)return i-t.length;let e=a<i?l.lastIndexOf(t,i-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==i&&l.length>=i+t.length-a&&l.slice(i-a,i-a+t.length)==t)return i}}return-1}(this.node.content,e,n-t,i-t);return r<0?null:{node:o,pos:r,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,t){let{node:n,pos:i,text:o}=t;if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let s=new yy(this,r,n,o);e.input.compositionNodes.push(s),this.children=Ly(this.children,i,i+o.length,e,s)}update(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(My(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=jy(this.dom,this.nodeDOM,Dy(this.outerDeco,this.node,t),Dy(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function wy(e,t,n,i,o){Py(i,t,e);let r=new xy(void 0,e,t,n,i,i,i,o,0);return r.contentDOM&&r.updateChildren(o,0),r}class ky extends xy{constructor(e,t,n,i,o,r,s){super(e,t,n,i,o,null,r,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new ky(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Sy extends gy{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Cy extends xy{constructor(e,t,n,i,o,r,s,a,l,c){super(e,t,n,i,o,r,s,l,c),this.spec=a}update(e,t,n,i){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,i),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Ty(e,t,n){let i=e.firstChild,o=!1;for(let r=0;r<t.length;r++){let s=t[r],a=s.dom;if(a.parentNode==e){for(;a!=i;)i=Fy(i),o=!0;i=i.nextSibling}else o=!0,e.insertBefore(a,i);if(s instanceof by){let t=i?i.previousSibling:e.lastChild;Ty(s.contentDOM,s.children,n),i=t?t.nextSibling:e.firstChild}}for(;i;)i=Fy(i),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Ey=function(e){e&&(this.nodeName=e)};Ey.prototype=Object.create(null);const Ny=[new Ey];function Dy(e,t,n){if(0==e.length)return Ny;let i=n?Ny[0]:new Ey,o=[i];for(let r=0;r<e.length;r++){let s=e[r].type.attrs;if(s){s.nodeName&&o.push(i=new Ey(s.nodeName));for(let e in s){let r=s[e];null!=r&&(n&&1==o.length&&o.push(i=new Ey(t.isInline?"span":"div")),"class"==e?i.class=(i.class?i.class+" ":"")+r:"style"==e?i.style=(i.style?i.style+";":"")+r:"nodeName"!=e&&(i[e]=r))}}}return o}function jy(e,t,n,i){if(n==Ny&&i==Ny)return t;let o=t;for(let r=0;r<i.length;r++){let t=i[r],s=n[r];if(r){let n;s&&s.nodeName==t.nodeName&&o!=e&&(n=o.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(o),s=Ny[0]),o=n}Ay(o,s||Ny[0],t)}return o}function Ay(e,t,n){for(let i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(let i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<i.length;t++)-1==o.indexOf(i[t])&&e.classList.remove(i[t]);for(let t=0;t<o.length;t++)-1==i.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=i.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Py(e,t,n){return jy(e,e,Ny,Dy(t,n,1!=e.nodeType))}function My(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Fy(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Oy{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,i=n.children.length,o=e.childCount,r=new Map,s=[];e:for(;o>0;){let a;for(;;)if(i){let e=n.children[i-1];if(!(e instanceof by)){a=e,i--;break}n=e,i=e.children.length}else{if(n==t)break e;i=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,r.set(a,o),s.push(a)}}return{index:o,matched:r,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,o=this.stack.length>>1,r=Math.min(o,e.length);for(;i<r&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let i=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){i=t;break}}if(i>-1)i>this.index&&(this.changed=!0,this.destroyBetween(this.index,i)),this.top=this.top.children[this.index];else{let i=by.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,i),this.top=i,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,i){let o,r=-1;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))r=this.top.children.indexOf(o,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let i=this.top.children[s];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){r=s;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,t,n,i,o){let r=this.top.children[i];return 3==r.dirty&&r.dom==r.contentDOM&&(r.dirty=2),!!r.update(e,t,n,o)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,i,o,r){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof xy){let l=this.preMatch.matched.get(a);if(null!=l&&l!=o)return!1;let c,u=a.dom,d=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&My(t,a.outerDeco));if(!d&&a.update(e,t,n,i))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(a,e,t,n,i,r)))return this.destroyBetween(this.index,s),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(i,r+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,o,r){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!My(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=xy.create(this.top,t,n,i,o,r);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,i,o){let r=xy.create(this.top,e,t,n,i,o);r.contentDOM&&r.updateChildren(i,o+1),this.top.children.splice(this.index++,0,r),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){let i=new vy(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof by;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ky)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&(($v||_v)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let i=new Sy(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Ry(e,t){return e.type.side-t.type.side}function Ly(e,t,n,i,o){let r=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?r.push(l):(c<t&&r.push(l.slice(0,t-c,i)),o&&(r.push(o),o=void 0),u>n&&r.push(l.slice(n-c,l.size,i)))}return r}function Iy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),r=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=i.resolve(s);if(Ev(n)){for(a=s;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&ev.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let i=0==t,o=t==Cv(e);i||o;){if(e==n)return!0;let t=vv(e);if(!(e=e.parentNode))return!1;i=i&&0==t,o=o&&t==Cv(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new ev(s==e?c:i.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,o=s;for(let i=0;i<n.rangeCount;i++){let r=n.getRangeAt(i);t=Math.min(t,e.docView.posFromDOM(r.startContainer,r.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(r.endContainer,r.endOffset,-1))}if(t<0)return null;[a,s]=o==e.state.selection.anchor?[o,t]:[t,o],c=i.resolve(s)}else a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=i.resolve(a);if(!l){l=qy(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!r?1:-1)}return l}function _y(e){return e.editable?e.hasFocus():Yy(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Vy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(Uy(e,n),_y(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&_v){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&wv(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let i=e.cursorWrapper.dom,o="IMG"==i.nodeName;o?n.setStart(i.parentNode,vv(i)+1):n.setStart(i,0);n.collapse(!0),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Ov&&Rv<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{let i,o,{anchor:r,head:s}=n;!$y||n instanceof Xg||(n.$from.parent.inlineContent||(i=zy(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=zy(e,n.to))),e.docView.setSelection(r,s,e,t),$y&&(i&&Hy(i),o&&Hy(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),i=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==i&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{_y(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const $y=$v||_v&&Vv<63;function zy(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),o=i<n.childNodes.length?n.childNodes[i]:null,r=i?n.childNodes[i-1]:null;if($v&&o&&"false"==o.contentEditable)return By(o);if((!o||"false"==o.contentEditable)&&(!r||"false"==r.contentEditable)){if(o)return By(o);if(r)return By(r)}}function By(e){return e.contentEditable="true",$v&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Hy(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Uy(e,t){if(t instanceof ev){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Wy(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Wy(e)}function Wy(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function qy(e,t,n,i){return e.someProp("createSelectionBetween",(i=>i(e,t,n)))||Xg.between(t,n,i)}function Ky(e){return!(e.editable&&!e.hasFocus())&&Yy(e)}function Yy(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Jy(e,t){let{$anchor:n,$head:i}=e.selection,o=t>0?n.max(i):n.min(i),r=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return r&&Yg.findFrom(r,t)}function Qy(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Gy(e,t,n){let i=e.state.selection;if(!(i instanceof Xg)){if(i instanceof ev&&i.node.isInline)return Qy(e,new Xg(t>0?i.$to:i.$from));{let n=Jy(e.state,t);return!!n&&Qy(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=i,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let r=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return Qy(e,new Xg(i.$anchor,r))}if(!i.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=Jy(e.state,t);return!!(n&&n instanceof ev)&&Qy(e,n)}if(!(Bv&&n.indexOf("m")>-1)){let n,o=i.$head,r=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!r||r.isText)return!1;let s=t<0?o.pos-r.nodeSize:o.pos;return!!(r.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(ev.isSelectable(r)?Qy(e,new ev(t<0?e.state.doc.resolve(o.pos-r.nodeSize):o)):!!Wv&&Qy(e,new Xg(e.state.doc.resolve(t<0?s:s+r.nodeSize))))}}function Xy(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Zy(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function eb(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let o,r,s=!1;Lv&&1==n.nodeType&&i<Xy(n)&&Zy(n.childNodes[i],-1)&&(s=!0);for(;;)if(i>0){if(1!=n.nodeType)break;{let e=n.childNodes[i-1];if(Zy(e,-1))o=n,r=--i;else{if(3!=e.nodeType)break;n=e,i=n.nodeValue.length}}}else{if(tb(n))break;{let t=n.previousSibling;for(;t&&Zy(t,-1);)o=n.parentNode,r=vv(t),t=t.previousSibling;if(t)n=t,i=Xy(n);else{if(n=n.parentNode,n==e.dom)break;i=0}}}s?nb(e,n,i):o&&nb(e,o,r)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let o,r,s=Xy(n);for(;;)if(i<s){if(1!=n.nodeType)break;if(!Zy(n.childNodes[i],1))break;o=n,r=++i}else{if(tb(n))break;{let t=n.nextSibling;for(;t&&Zy(t,1);)o=t.parentNode,r=vv(t)+1,t=t.nextSibling;if(t)n=t,i=0,s=Xy(n);else{if(n=n.parentNode,n==e.dom)break;i=s=0}}}o&&nb(e,o,r)}(e)}function tb(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function nb(e,t,n){if(3!=t.nodeType){let e,i;(i=function(e,t){for(;e&&t==e.childNodes.length&&!Tv(e);)t=vv(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=i,n=0):(e=function(e,t){for(;e&&!t&&!Tv(e);)t=vv(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let i=e.domSelection();if(!i)return;if(Ev(i)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),i.removeAllRanges(),i.addRange(e)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout((()=>{e.state==o&&Vy(e)}),50)}function ib(e,t){let n=e.state.doc.resolve(t);if(!_v&&!Hv&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(n.left-i.left)>1)return n.left<i.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(n.left-i.left)>1)return n.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function ob(e,t,n){let i=e.state.selection;if(i instanceof Xg&&!i.empty||n.indexOf("s")>-1)return!1;if(Bv&&n.indexOf("m")>-1)return!1;let{$from:o,$to:r}=i;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Jy(e.state,t);if(n&&n instanceof ev)return Qy(e,n)}if(!o.parent.inlineContent){let n=t<0?o:r,s=i instanceof nv?Yg.near(n,t):Yg.findFrom(n,t);return!!s&&Qy(e,s)}return!1}function rb(e,t){if(!(e.state.selection instanceof Xg))return!0;let{$head:n,$anchor:i,empty:o}=e.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let i=e.state.tr;return t<0?i.delete(n.pos-r.nodeSize,n.pos):i.delete(n.pos,n.pos+r.nodeSize),e.dispatch(i),!0}return!1}function sb(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ab(e,t){let n=t.keyCode,i=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||Bv&&72==n&&"c"==i)return rb(e,-1)||eb(e,-1);if(46==n&&!t.shiftKey||Bv&&68==n&&"c"==i)return rb(e,1)||eb(e,1);if(13==n||27==n)return!0;if(37==n||Bv&&66==n&&"c"==i){let t=37==n?"ltr"==ib(e,e.state.selection.from)?-1:1:-1;return Gy(e,t,i)||eb(e,t)}if(39==n||Bv&&70==n&&"c"==i){let t=39==n?"ltr"==ib(e,e.state.selection.from)?1:-1:1;return Gy(e,t,i)||eb(e,t)}return 38==n||Bv&&80==n&&"c"==i?ob(e,-1,i)||eb(e,-1):40==n||Bv&&78==n&&"c"==i?function(e){if(!$v||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;sb(e,n,"true"),setTimeout((()=>sb(e,n,"false")),20)}return!1}(e)||ob(e,1,i)||eb(e,1):i==(Bv?"m":"c")&&(66==n||73==n||89==n||90==n)}function lb(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:i,openStart:o,openEnd:r}=t;for(;o>1&&r>1&&1==i.childCount&&1==i.firstChild.childCount;){o--,r--;let e=i.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),i=e.content}let s=e.someProp("clipboardSerializer")||Zf.fromSchema(e.state.schema),a=yb(),l=a.createElement("div");l.appendChild(s.serializeFragment(i,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=gb[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice","".concat(o," ").concat(r).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n))),{dom:l,text:e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function cb(e,t,n,i,o){let r,s,a=o.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(i||a||!n);if(l){if(e.someProp("transformPastedText",(n=>{t=n(t,a||i,e)})),a)return t?new of(Gm.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):of.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,i,e)));if(n)s=n;else{let n=o.marks(),{schema:i}=e.state,s=Zf.fromSchema(i);r=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=r.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(i.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),r=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,i=yb().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&gb[o[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(i.innerHTML=function(e){let t=window.trustedTypes;if(!t)return e;bb||(bb=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e}));return bb.createHTML(e)}(e),n)for(let r=0;r<n.length;r++)i=i.querySelector(n[r])||i;return i}(n),Wv&&function(e){let t=e.querySelectorAll(_v?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}(r);let c=r&&r.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let e=r.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;r=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||Hf.fromSchema(e.state.schema);s=t.parseSlice(r,{preserveWhitespace:!(!l&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||ub.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(MI){return e}let{content:o,openStart:r,openEnd:s}=e;for(let a=n.length-2;a>=0;a-=2){let e=i.nodes[n[a]];if(!e||e.hasRequiredAttrs())break;o=Gm.from(e.create(n[a+1],o)),r++,s++}return new of(o,r,s)}(fb(s,+u[1],+u[2]),u[4]);else if(s=of.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i,o=t.node(n).contentMatchAt(t.index(n)),r=[];if(e.forEach((e=>{if(!r)return;let t,n=o.findWrapping(e.type);if(!n)return r=null;if(t=r.length&&i.length&&hb(n,i,e,r[r.length-1],0))r[r.length-1]=t;else{r.length&&(r[r.length-1]=pb(r[r.length-1],i.length));let t=db(e,n);r.push(t),o=o.matchType(t.type),i=n}})),r)return Gm.from(r)}return e}(s.content,o),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=fb(s,e,t)}return e.someProp("transformPasted",(t=>{s=t(s,e)})),s}const ub=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function db(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let i=t.length-1;i>=n;i--)e=t[i].create(null,Gm.from(e));return e}function hb(e,t,n,i,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let r=hb(e,t,n,i.lastChild,o+1);if(r)return i.copy(i.content.replaceChild(i.childCount-1,r));if(i.contentMatchAt(i.childCount).matchType(o==e.length-1?n.type:e[o+1]))return i.copy(i.content.append(Gm.from(db(n,e,o+1))))}}function pb(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,pb(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(Gm.empty,!0);return e.copy(n.append(i))}function mb(e,t,n,i,o,r){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(r=0),o<i-1&&(a=mb(a,t,n,i,o+1,r)),o>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,r<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Gm.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function fb(e,t,n){return t<e.openStart&&(e=new of(mb(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new of(mb(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const gb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let vb=null;function yb(){return vb||(vb=document.implementation.createHTMLDocument("title"))}let bb=null;const xb={},wb={},kb={touchstart:!0,touchmove:!0};class Sb{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Cb(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Tb(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Eb(e,t))}))}function Eb(e,t){return e.someProp("handleDOMEvents",(n=>{let i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)}))}function Nb(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Db(e){return{left:e.clientX,top:e.clientY}}function jb(e,t,n,i,o){if(-1==i)return!1;let r=e.state.doc.resolve(i);for(let s=r.depth+1;s>0;s--)if(e.someProp(t,(t=>s>r.depth?t(e,n,r.nodeAfter,r.before(s),o,!0):t(e,n,r.node(s),r.before(s),o,!1))))return!0;return!1}function Ab(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}function Pb(e,t,n,i,o){return jb(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(n=>n(e,t,i)))||(o?function(e,t){if(-1==t)return!1;let n,i,o=e.state.selection;o instanceof ev&&(n=o.node);let r=e.state.doc.resolve(t);for(let s=r.depth+1;s>0;s--){let e=s>r.depth?r.nodeAfter:r.node(s);if(ev.isSelectable(e)){i=n&&o.$from.depth>0&&s>=o.$from.depth&&r.before(o.$from.depth+1)==o.$from.pos?r.before(o.$from.depth):r.before(s);break}}return null!=i&&(Ab(e,ev.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&ev.isSelectable(i))&&(Ab(e,new ev(n),"pointer"),!0)}(e,n))}function Mb(e,t,n,i){return jb(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",(n=>n(e,t,i)))}function Fb(e,t,n,i){return jb(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(n=>n(e,t,i)))||function(e,t,n){if(0!=n.button)return!1;let i=e.state.doc;if(-1==t)return!!i.inlineContent&&(Ab(e,Xg.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(t);for(let r=o.depth+1;r>0;r--){let t=r>o.depth?o.nodeAfter:o.node(r),n=o.before(r);if(t.inlineContent)Ab(e,Xg.create(i,n+1,n+1+t.content.size),"pointer");else{if(!ev.isSelectable(t))continue;Ab(e,ev.create(i,n),"pointer")}return!0}}(e,n,i)}function Ob(e){return Bb(e)}wb.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Ib(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Uv||!_v||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!zv||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||ab(e,n)?n.preventDefault():Cb(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Nv(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},wb.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},wb.keypress=(e,t)=>{let n=t;if(Ib(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Bv&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let i=e.state.selection;if(!(i instanceof Xg)||!i.$from.sameParent(i.$to)){let t=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,i.$from.pos,i.$to.pos,t,o)))||e.dispatch(o()),n.preventDefault()}};const Rb=Bv?"metaKey":"ctrlKey";xb.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let i=Ob(e),o=Date.now(),r="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(n,e.input.lastClick)&&!n[Rb]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?r="doubleClick":"doubleClick"==e.input.lastClick.type&&(r="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:r,button:n.button};let s=e.posAtCoords(Db(n));s&&("singleClick"==r?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Lb(e,s,n,!!i)):("doubleClick"==r?Mb:Fb)(e,s.pos,s.inside,n)?n.preventDefault():Cb(e,"pointer"))};class Lb{constructor(e,t,n,i){let o,r;if(this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Rb],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),r=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,r=n.depth?n.before():0}const s=i?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a&&1==a.dom.nodeType?a.dom:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof ev&&l.from<=r&&l.to>r)&&(this.mightDrag={node:o,pos:r,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Lv||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cb(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Vy(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Db(e))),this.updateAllowDefault(e),this.allowDefault||!t?Cb(this.view,"pointer"):Pb(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||$v&&this.mightDrag&&!this.mightDrag.node.isAtom||_v&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ab(this.view,Yg.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Cb(this.view,"pointer")}move(e){this.updateAllowDefault(e),Cb(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function Ib(e,t){return!!e.composing||!!($v&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}xb.touchstart=e=>{e.input.lastTouch=Date.now(),Ob(e),Cb(e,"pointer")},xb.touchmove=e=>{e.input.lastTouch=Date.now(),Cb(e,"pointer")},xb.contextmenu=e=>Ob(e);const _b=Uv?5e3:-1;function Vb(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Bb(e)),t))}function $b(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function zb(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=Cv(e=e.childNodes[t-1])}else{if(!e.parentNode||Tv(e))return null;t=vv(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),i=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||Tv(e))return null;t=vv(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&i&&n!=i){let t=i.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||i==o)return o;if(!t||!t.isText(i.nodeValue))return i;if(e.input.compositionNode==i){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return i}}return n||i}function Bb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(Uv&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),$b(e),t||e.docView&&e.docView.dirty){let n=Iy(e),i=e.state.selection;return n&&!n.eq(i)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}wb.compositionstart=wb.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Xg&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Bb(e,!0),e.markCursor=null;else if(Bb(e,!t.selection.empty),Lv&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,i=t.focusOffset;n&&1==n.nodeType&&0!=i;){let t=i<0?n.lastChild:n.childNodes[i-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,i=-1}}e.input.composing=!0}Vb(e,_b)},wb.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then((()=>e.domObserver.flush())),e.input.compositionID++,Vb(e,20))};const Hb=Ov&&Rv<15||zv&&qv<604;function Ub(e,t,n,i,o){let r=cb(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,r||of.empty))))return!0;if(!r)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),a=s?e.state.tr.replaceSelectionWith(s,i):e.state.tr.replaceSelection(r);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Wb(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}xb.copy=wb.cut=(e,t)=>{let n=t,i=e.state.selection,o="cut"==n.type;if(i.empty)return;let r=Hb?null:n.clipboardData,s=i.content(),{dom:a,text:l}=lb(e,s);r?(n.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},wb.paste=(e,t)=>{let n=t;if(e.composing&&!Uv)return;let i=Hb?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;i&&Ub(e,Wb(i),i.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Ub(e,i.value,null,o,t):Ub(e,i.textContent,i.innerHTML,o,t)}),50)}(e,n)};class qb{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Kb=Bv?"altKey":"ctrlKey";function Yb(e,t){let n=e.someProp("dragCopies",(e=>!e(t)));return null!=n?n:!t[Kb]}xb.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o,r=e.state.selection,s=r.empty?null:e.posAtCoords(Db(n));if(s&&s.pos>=r.from&&s.pos<=(r instanceof ev?r.to-1:r.to));else if(i&&i.mightDrag)o=ev.create(e.state.doc,i.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=ev.create(e.state.doc,t.posBefore))}let a=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=lb(e,a);(!n.dataTransfer.files.length||!_v||Vv>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Hb?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Hb||n.dataTransfer.setData("text/plain",c),e.dragging=new qb(u,Yb(e,n),o)},xb.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},wb.dragover=wb.dragenter=(e,t)=>t.preventDefault(),wb.drop=(e,t)=>{let n=t,i=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Db(n));if(!o)return;let r=e.state.doc.resolve(o.pos),s=i&&i.slice;s?e.someProp("transformPasted",(t=>{s=t(s,e)})):s=cb(e,Wb(n.dataTransfer),Hb?null:n.dataTransfer.getData("text/html"),!1,r);let a=!(!i||!Yb(e,n));if(e.someProp("handleDrop",(t=>t(e,n,s||of.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?Mg(e.state.doc,r.pos,s):r.pos;null==l&&(l=r.pos);let c=e.state.tr;if(a){let{node:e}=i;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&ev.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ev(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,i,o)=>t=o)),c.setSelection(qy(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},xb.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Vy(e)}),20))},xb.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},xb.beforeinput=(e,t)=>{if(_v&&Uv&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Nv(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let n in wb)xb[n]=wb[n];function Jb(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Qb{constructor(e,t){this.toDOM=e,this.spec=t||tx,this.side=this.spec.side||0}map(e,t,n,i){let{pos:o,deleted:r}=e.mapResult(t.from+i,this.side<0?-1:1);return r?null:new Zb(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Qb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Jb(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Gb{constructor(e,t){this.attrs=e,this.spec=t||tx}map(e,t,n,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,r=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=r?null:new Zb(o,r,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Gb&&Jb(this.attrs,e.attrs)&&Jb(this.spec,e.spec)}static is(e){return e.type instanceof Gb}destroy(){}}class Xb{constructor(e,t){this.attrs=e,this.spec=t||tx}map(e,t,n,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let r=e.mapResult(t.to+i,-1);return r.deleted||r.pos<=o.pos?null:new Zb(o.pos-n,r.pos-n,this)}valid(e,t){let n,{index:i,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(i)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof Xb&&Jb(this.attrs,e.attrs)&&Jb(this.spec,e.spec)}destroy(){}}class Zb{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Zb(e,t,this.type)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Zb(e,e,new Qb(t,n))}static inline(e,t,n,i){return new Zb(e,t,new Gb(n,i))}static node(e,t,n,i){return new Zb(e,t,new Xb(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Gb}get widget(){return this.type instanceof Qb}}const ex=[],tx={};class nx{constructor(e,t){this.local=e.length?e:ex,this.children=t.length?t:ex}static create(e,t){return t.length?lx(t,e,0,tx):ix}find(e,t,n){let i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i}findInner(e,t,n,i,o){for(let r=0;r<this.local.length;r++){let s=this.local[r];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let r=0;r<this.children.length;r+=3)if(this.children[r]<t&&this.children[r+1]>e){let s=this.children[r]+1;this.children[r+2].findInner(e-s,t-s,n,i+s,o)}}map(e,t,n){return this==ix||0==e.maps.length?this:this.mapInner(e,t,0,0,n||tx)}mapInner(e,t,n,i,o){let r;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,i);a&&a.type.valid(t,a)?(r||(r=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,i,o,r,s){let a=e.slice();for(let c=0,u=r;c<n.maps.length;c++){let e=0;n.maps[c].forEach(((t,n,i,o)=>{let r=o-i-(n-t);for(let s=0;s<a.length;s+=3){let i=a[s+1];if(i<0||t>i+u-e)continue;let o=a[s]+u-e;n>=o?a[s+1]=t<=o?-2:-1:t>=u&&r&&(a[s]+=r,a[s+1]+=r)}e+=r})),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let t=n.map(e[c]+r),u=t-o;if(u<0||u>=i.content.size){l=!0;continue}let d=n.map(e[c+1]+r,-1)-o,{index:h,offset:p}=i.content.findIndex(u),m=i.maybeChild(h);if(m&&p==u&&p+m.nodeSize==d){let i=a[c+2].mapInner(n,m,t+1,e[c]+r+1,s);i!=ix?(a[c]=u,a[c+1]=d,a[c+2]=i):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,i,o,r,s){function a(e,t){for(let r=0;r<e.local.length;r++){let a=e.local[r].map(i,o,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[r].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+r+1);return n}(a,e,t,n,o,r,s),c=lx(l,i,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new nx(t.sort(cx),a)}(this.children,r||[],e,t,n,i,o):r?new nx(r.sort(cx),ex):ix}add(e,t){return t.length?this==ix?nx.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,o=0;e.forEach(((e,r)=>{let s,a=r+n;if(s=sx(t,e,a)){for(i||(i=this.children.slice());o<i.length&&i[o]<r;)o+=3;i[o]==r?i[o+2]=i[o+2].addInner(e,s,a+1):i.splice(o,0,r,r+e.nodeSize,lx(s,e,a+1,tx)),o+=3}}));let r=rx(o?ax(t):t,-n);for(let s=0;s<r.length;s++)r[s].type.valid(e,r[s])||r.splice(s--,1);return new nx(r.length?this.local.concat(r).sort(cx):this.local,i||this.children)}remove(e){return 0==e.length||this==ix?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let i,r=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>r&&t.to<s&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(i,r+1);a!=ix?n[o+2]=a:(n.splice(o,3),o-=3)}if(i.length)for(let o,r=0;r<e.length;r++)if(o=e[r])for(let e=0;e<i.length;e++)i[e].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(e--,1));return n==this.children&&i==this.local?this:i.length||n.length?new nx(i,n):ix}forChild(e,t){if(this==ix)return this;if(t.isLeaf)return nx.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,r=o+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<r&&e.to>o&&e.type instanceof Gb){let t=Math.max(o,e.from)-o,n=Math.min(r,e.to)-o;t<n&&(i||(i=[])).push(e.copy(t,n))}}if(i){let e=new nx(i.sort(cx),ex);return n?new ox([e,n]):e}return n||ix}eq(e){if(this==e)return!0;if(!(e instanceof nx)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ux(this.localsInner(e))}localsInner(e){if(this==ix)return ex;if(e.inlineContent||!this.local.some(Gb.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Gb||t.push(this.local[n]);return t}forEachSet(e){e(this)}}nx.empty=new nx([],[]),nx.removeOverlap=ux;const ix=nx.empty;class ox{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,tx)));return ox.from(n)}forChild(e,t){if(t.isLeaf)return nx.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=ix&&(o instanceof ox?n=n.concat(o.members):n.push(o))}return ox.from(n)}eq(e){if(!(e instanceof ox)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?ux(n?t:t.sort(cx)):ex}static from(e){switch(e.length){case 0:return ix;case 1:return e[0];default:return new ox(e.every((e=>e instanceof nx))?e:e.reduce(((e,t)=>e.concat(t instanceof nx?t:t.members)),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function rx(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let o=e[i];n.push(new Zb(o.from+t,o.to+t,o.type))}return n}function sx(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,o=null;for(let r,s=0;s<e.length;s++)(r=e[s])&&r.from>n&&r.to<i&&((o||(o=[])).push(r),e[s]=null);return o}function ax(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function lx(e,t,n,i){let o=[],r=!1;t.forEach(((t,s)=>{let a=sx(e,t,s+n);if(a){r=!0;let e=lx(a,t,n+s+1,i);e!=ix&&o.push(s,s+t.nodeSize,e)}}));let s=rx(r?ax(e):e,-n).sort(cx);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new nx(s,o):ix}function cx(e,t){return e.from-t.from||e.to-t.to}function ux(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let o=n+1;o<t.length;o++){let r=t[o];if(r.from!=i.from){r.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,r.from),dx(t,o,i.copy(r.from,i.to)));break}r.to!=i.to&&(t==e&&(t=e.slice()),t[o]=r.copy(r.from,i.to),dx(t,o+1,r.copy(i.to,r.to)))}}return t}function dx(e,t,n){for(;t<e.length&&cx(n,e[t])>0;)t++;e.splice(t,0,n)}function hx(e){let t=[];return e.someProp("decorations",(n=>{let i=n(e.state);i&&i!=ix&&t.push(i)})),e.cursorWrapper&&t.push(nx.create(e.state.doc,[e.cursorWrapper.deco])),ox.from(t)}const px={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mx=Ov&&Rv<=11;class fx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gx{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new fx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Ov&&Rv<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),mx&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,px)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Ky(this.view)){if(this.suppressingSelectionUpdates)return Vy(this.view);if(Ov&&Rv<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&wv(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let o=e.focusNode;o;o=yv(o))n.add(o);for(let o=e.anchorNode;o;o=yv(o))if(n.has(o)){t=o;break}let i=t&&this.view.docView.nearestDesc(t);return i&&i.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Ky(e)&&!this.ignoreSelectionChange(n),o=-1,r=-1,s=!1,a=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],a);e&&(o=o<0?e.from:Math.min(e.from,o),r=r<0?e.to:Math.max(e.to,r),e.typeOver&&(s=!0))}if(Lv&&a.length){let t=a.filter((e=>"BR"==e.nodeName));if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let i of t){let t=i.parentNode;!t||"LI"!=t.nodeName||n&&xx(e,n)==t||i.remove()}}}let l=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ev(n)&&(l=Iy(e))&&l.eq(Yg.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Vy(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,r),function(e){if(vx.has(e))return;if(vx.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=Lv,yx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yx=!0}}(e)),this.handleDOMChange(o,r,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Vy(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let i=e.addedNodes[n];t.push(i),3==i.nodeType&&(this.lastChangedTextNode=i)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ov&&Rv<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:r}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(i=n),(!r||Array.prototype.indexOf.call(e.addedNodes,r)<0)&&(o=r)}let r=i&&i.parentNode==e.target?vv(i)+1:0,s=n.localPosFromDOM(e.target,r,-1),a=o&&o.parentNode==e.target?vv(o):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let vx=new WeakMap,yx=!1;function bx(e,t){let n=t.startContainer,i=t.startOffset,o=t.endContainer,r=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return wv(s.node,s.offset,o,r)&&([n,i,o,r]=[o,r,n,i]),{anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:r}}function xx(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function wx(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if($v&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||$v&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const kx=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Sx(e,t,n,i,o){let r=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Iy(e,t);if(n&&!e.state.selection.eq(n)){if(_v&&Uv&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,Nv(13,"Enter")))))return;let i=e.state.tr.setSelection(n);"pointer"==t?i.setMeta("pointer",!0):"key"==t&&i.scrollIntoView(),r&&i.setMeta("composition",r),e.dispatch(i)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l,c,u=e.state.selection,d=function(e,t,n){let i,{node:o,fromOffset:r,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(i=[{node:u,offset:c.anchorOffset}],Ev(c)||i.push({node:c.focusNode,offset:c.focusOffset})),_v&&8===e.input.lastKeyCode)for(let g=s;g>r;g--){let e=o.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=g;break}if(!t||t.size)break}let d=e.state.doc,h=e.someProp("domParser")||Hf.fromSchema(e.state.schema),p=d.resolve(a),m=null,f=h.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:i,ruleFromNode:wx,context:p});if(i&&null!=i[0].pos){let e=i[0].pos,t=i[1]&&i[1].pos;null==t&&(t=e),m={anchor:e+a,head:t+a}}return{doc:f,sel:m,from:a,to:l}}(e,t,n),h=e.state.doc,p=h.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let m=function(e,t,n,i,o){let r=e.findDiffStart(t,n);if(null==r)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){i-=s+Math.max(0,r-Math.min(s,a))-r}if(s<r&&e.size<t.size){let e=i<=r&&i>=s?r-i:0;r-=e,r&&r<t.size&&Ex(t.textBetween(r-1,r+1))&&(r+=e?1:-1),a=r+(a-s),s=r}else if(a<r){let t=i<=r&&i>=a?r-i:0;r-=t,r&&r<e.size&&Ex(e.textBetween(r-1,r+1))&&(r+=t?1:-1),s=r+(s-a),a=r}return{start:r,endA:s,endB:a}}(p.content,d.doc.content,d.from,l,c);if(m&&e.input.domChangeCount++,(zv&&e.input.lastIOSEnter>Date.now()-225||Uv)&&o.some((e=>1==e.nodeType&&!kx.test(e.nodeName)))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",(t=>t(e,Nv(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!m){if(!(i&&u instanceof Xg&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=Cx(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);r&&n.setMeta("composition",r),e.dispatch(n)}}return}m={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Xg&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Ov&&Rv<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&" \xa0"==d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)&&(m.start--,m.endA--,m.endB--);let f,g=d.doc.resolveNoCache(m.start-d.from),v=d.doc.resolveNoCache(m.endB-d.from),y=h.resolve(m.start),b=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=m.endA;if((zv&&e.input.lastIOSEnter>Date.now()-225&&(!b||o.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!b&&g.pos<d.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(g.pos,v.pos,"",""))&&(f=Yg.findFrom(d.doc.resolve(g.pos+1),1,!0))&&f.head>g.pos)&&e.someProp("handleKeyDown",(t=>t(e,Nv(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>m.start&&function(e,t,n,i,o){if(n-t<=o.pos-i.pos||Tx(i,!0,!1)<o.pos)return!1;let r=e.resolve(t);if(!i.parent.isTextblock){let e=r.nodeAfter;return null!=e&&n==t+e.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let s=e.resolve(Tx(r,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Tx(s,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(s.parent.content)}(h,m.start,m.endA,g,v)&&e.someProp("handleKeyDown",(t=>t(e,Nv(8,"Backspace")))))return void(Uv&&_v&&e.domObserver.suppressSelectionUpdates());_v&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),Uv&&!b&&g.start()!=v.start()&&0==v.parentOffset&&g.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,v=d.doc.resolveNoCache(m.endB-d.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Nv(13,"Enter"))}))}),20));let x,w=m.start,k=m.endA,S=t=>{let n=t||e.state.tr.replace(w,k,d.doc.slice(m.start-d.from,m.endB-d.from));if(d.sel){let t=Cx(e,n.doc,d.sel);t&&!(_v&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==w||t.head==n.mapping.map(k)-1)||Ov&&t.empty&&t.head==w)&&n.setSelection(t)}return r&&n.setMeta("composition",r),n.scrollIntoView()};if(b){if(g.pos==v.pos){Ov&&Rv<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Vy(e)),20));let t=S(e.state.tr.delete(w,k)),n=h.resolve(m.start).marksAcross(h.resolve(m.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(m.endA==m.endB&&(x=function(e,t){let n,i,o,r=e.firstChild.marks,s=t.firstChild.marks,a=r,l=s;for(let u=0;u<s.length;u++)a=s[u].removeFromSet(a);for(let u=0;u<r.length;u++)l=r[u].removeFromSet(l);if(1==a.length&&0==l.length)i=a[0],n="add",o=e=>e.mark(i.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;i=l[0],n="remove",o=e=>e.mark(i.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(o(t.child(u)));if(Gm.from(c).eq(e))return{mark:i,type:n}}(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let t=S(e.state.tr);"add"==x.type?t.addMark(w,k,x.mark):t.removeMark(w,k,x.mark),e.dispatch(t)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let t=g.parent.textBetween(g.parentOffset,v.parentOffset),n=()=>S(e.state.tr.insertText(t,w,k));e.someProp("handleTextInput",(i=>i(e,w,k,t,n)))||e.dispatch(n())}}else e.dispatch(S())}function Cx(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:qy(e,t.resolve(n.anchor),t.resolve(n.head))}function Tx(e,t,n){let i=e.depth,o=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,o++,t=!1;if(n){let t=e.node(i).maybeChild(e.indexAfter(i));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function Ex(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Nx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Sb,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Mx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ax(this),jx(this),this.nodeViews=Px(this),this.docView=wy(this.state.doc,Dx(this),hx(this),this.dom,this),this.domObserver=new gx(this,((e,t,n,i)=>Sx(this,e,t,n,i))),this.domObserver.start(),function(e){for(let t in xb){let n=xb[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Nb(e,t)||Eb(e,t)||!e.editable&&t.type in wb||n(e,t)},kb[t]?{passive:!0}:void 0)}$v&&e.dom.addEventListener("input",(()=>null)),Tb(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Tb(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Mx),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let i=this.state,o=!1,r=!1;e.storedMarks&&this.composing&&($b(this),r=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=Px(this);(function(e,t){let n=0,i=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)i++;return n!=i})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&Tb(this),this.editable=Ax(this),jx(this);let a=hx(this),l=Dx(this),c=i.plugins==e.plugins||i.doc.eq(e.doc)?e.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(e.doc,l,a);!u&&e.selection.eq(i.selection)||(r=!0);let d="preserve"==c&&r&&null==this.dom.style.overflowAnchor&&function(e){let t,n,i=e.dom.getBoundingClientRect(),o=Math.max(0,i.top);for(let r=(i.left+i.right)/2,s=o+1;s<Math.min(innerHeight,i.bottom);s+=5){let i=e.root.elementFromPoint(r,s);if(!i||i==e.dom||!e.dom.contains(i))continue;let a=i.getBoundingClientRect();if(a.top>=o-20){t=i,n=a.top;break}}return{refDOM:t,refTop:n,stack:Gv(e.dom)}}(this);if(r){this.domObserver.stop();let t=u&&(Ov||_v)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(i.selection,e.selection);if(u){let n=_v?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=zb(this)),!o&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=wy(e.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return wv(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Vy(this,t):(Uy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function(e){let{refDOM:t,refTop:n,stack:i}=e,o=t?t.getBoundingClientRect().top:0;Xv(i,0==o?0:o-n)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof ev){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Qv(this,t.getBoundingClientRect(),e)}else Qv(this,this.coordsAtPos(this.state.selection.head,1),e);else;}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(i=e)}this.dragging=new qb(e.slice,e.move,i<0?void 0:ev.create(this.state.doc,i))}someProp(e,t){let n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let i=o[r].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){if(Ov){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Zv)return e.focus(Zv);let t=Gv(e);e.focus(null==Zv?{get preventScroll(){return Zv={preventScroll:!0},!0}}:void 0),Zv||(Zv=!1,Xv(t,0))}(this.dom),Vy(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return iy(this,e)}coordsAtPos(e){return ay(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}domAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return fy(this,t||this.state,e)}pasteHTML(e,t){return Ub(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ub(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return lb(this,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],hx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bv=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){Eb(e,t)||!xb[t.type]||!e.editable&&t.type in wb||xb[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?$v&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return bx(e,n)}let n;function i(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?bx(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Dx(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),t.translate||(t.translate="no"),[Zb.node(0,e.state.doc.content.size,t)]}function jx(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Zb.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Ax(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function Px(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Mx(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Nx.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var Fx={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ox={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Rx="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Lx="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ix=0;Ix<10;Ix++)Fx[48+Ix]=Fx[96+Ix]=String(Ix);for(Ix=1;Ix<=24;Ix++)Fx[Ix+111]="F"+Ix;for(Ix=65;Ix<=90;Ix++)Fx[Ix]=String.fromCharCode(Ix+32),Ox[Ix]=String.fromCharCode(Ix);for(var _x in Fx)Ox.hasOwnProperty(_x)||(Ox[_x]=Fx[_x]);const Vx="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),$x="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function zx(e){let t,n,i,o,r=e.split(/-(?!$)/),s=r[r.length-1];"Space"==s&&(s=" ");for(let a=0;a<r.length-1;a++){let e=r[a];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Vx?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function Bx(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Hx(e){let t=function(e){let t=Object.create(null);for(let n in e)t[zx(n)]=e[n];return t}(e);return function(e,n){let i,o=function(e){var t=!(Rx&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Lx&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Ox:Fx)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),r=t[Bx(o,n)];if(r&&r(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let i=t[Bx(o,n,!1)];if(i&&i(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!($x&&n.ctrlKey&&n.altKey)&&(i=Fx[n.keyCode])&&i!=o){let o=t[Bx(i,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}const Ux=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Wx(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const qx=(e,t,n)=>{let i=Wx(e,n);if(!i)return!1;let o=Qx(i);if(!o){let n=i.blockRange(),o=n&&Sg(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let r=o.nodeBefore;if(lw(e,o,t,-1))return!0;if(0==i.parent.content.size&&(Yx(r,"end")||ev.isSelectable(r)))for(let s=i.depth;;s--){let n=Fg(e.doc,i.before(s),i.after(s),of.empty);if(n&&n.slice.size<n.to-n.from){if(t){let i=e.tr.step(n);i.setSelection(Yx(r,"end")?Yg.findFrom(i.doc.resolve(i.mapping.map(o.pos,-1)),-1):ev.create(i.doc,o.pos-r.nodeSize)),t(i.scrollIntoView())}return!0}if(1==s||i.node(s-1).childCount>1)break}return!(!r.isAtom||o.depth!=i.depth-1)&&(t&&t(e.tr.delete(o.pos-r.nodeSize,o.pos).scrollIntoView()),!0)};function Kx(e,t,n){let i=t.nodeBefore,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let e=i.lastChild;if(!e)return!1;i=e}let r=t.nodeAfter,s=t.pos+1;for(;!r.isTextblock;s++){if(r.type.spec.isolating)return!1;let e=r.firstChild;if(!e)return!1;r=e}let a=Fg(e.doc,o,s,of.empty);if(!a||a.from!=o||a instanceof yg&&a.slice.size>=s-o)return!1;if(n){let t=e.tr.step(a);t.setSelection(Xg.create(t.doc,o)),n(t.scrollIntoView())}return!0}function Yx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let i=e;i;i="start"==t?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&1!=i.childCount)return!1}return!1}const Jx=(e,t,n)=>{let{$head:i,empty:o}=e.selection,r=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;r=Qx(i)}let s=r&&r.nodeBefore;return!(!s||!ev.isSelectable(s))&&(t&&t(e.tr.setSelection(ev.create(e.doc,r.pos-s.nodeSize)).scrollIntoView()),!0)};function Qx(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Gx(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Xx=(e,t,n)=>{let i=Gx(e,n);if(!i)return!1;let o=ew(i);if(!o)return!1;let r=o.nodeAfter;if(lw(e,o,t,1))return!0;if(0==i.parent.content.size&&(Yx(r,"start")||ev.isSelectable(r))){let n=Fg(e.doc,i.before(),i.after(),of.empty);if(n&&n.slice.size<n.to-n.from){if(t){let i=e.tr.step(n);i.setSelection(Yx(r,"start")?Yg.findFrom(i.doc.resolve(i.mapping.map(o.pos)),1):ev.create(i.doc,i.mapping.map(o.pos))),t(i.scrollIntoView())}return!0}}return!(!r.isAtom||o.depth!=i.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+r.nodeSize).scrollIntoView()),!0)},Zx=(e,t,n)=>{let{$head:i,empty:o}=e.selection,r=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;r=ew(i)}let s=r&&r.nodeAfter;return!(!s||!ev.isSelectable(s))&&(t&&t(e.tr.setSelection(ev.create(e.doc,r.pos)).scrollIntoView()),!0)};function ew(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const tw=(e,t)=>{let{$head:n,$anchor:i}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(i))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function nw(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const iw=(e,t)=>{let{$head:n,$anchor:i}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let o=n.node(-1),r=n.indexAfter(-1),s=nw(o.contentMatchAt(r));if(!s||!o.canReplaceWith(r,r,s))return!1;if(t){let i=n.after(),o=e.tr.replaceWith(i,i,s.createAndFill());o.setSelection(Yg.near(o.doc.resolve(i),1)),t(o.scrollIntoView())}return!0},ow=(e,t)=>{let n=e.selection,{$from:i,$to:o}=n;if(n instanceof nv||i.parent.inlineContent||o.parent.inlineContent)return!1;let r=nw(o.parent.contentMatchAt(o.indexAfter()));if(!r||!r.isTextblock)return!1;if(t){let n=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,s=e.tr.insert(n,r.createAndFill());s.setSelection(Xg.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},rw=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Dg(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),o=i&&Sg(i);return null!=o&&(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)};const sw=(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof ev&&e.selection.node.isBlock)return!(!n.parentOffset||!Dg(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o,r,s=[],a=!1,l=!1;for(let h=n.depth;;h--){if(n.node(h).isBlock){a=n.end(h)==n.pos+(n.depth-h),l=n.start(h)==n.pos-(n.depth-h),r=nw(n.node(h-1).contentMatchAt(n.indexAfter(h-1)));let e=aw&&aw(i.parent,a,n);s.unshift(e||(a&&r?{type:r}:null)),o=h;break}if(1==h)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof Xg||e.selection instanceof nv)&&c.deleteSelection();let u=c.mapping.map(n.pos),d=Dg(c.doc,u,s.length,s);if(d||(s[0]=r?{type:r}:null,d=Dg(c.doc,u,s.length,s)),!d)return!1;if(c.split(u,s.length,s),!a&&l&&n.node(o).type!=r){let e=c.mapping.map(n.before(o)),t=c.doc.resolve(e);r&&n.node(o-1).canReplaceWith(t.index(),t.index()+1,r)&&c.setNodeMarkup(c.mapping.map(n.before(o)),r)}return t&&t(c.scrollIntoView()),!0};var aw;function lw(e,t,n,i){let o,r,s=t.nodeBefore,a=t.nodeAfter,l=s.type.spec.isolating||a.type.spec.isolating;if(!l&&function(e,t,n){let i=t.nodeBefore,o=t.nodeAfter,r=t.index();return!!(i&&o&&i.type.compatibleContent(o.type))&&(!i.content.size&&t.parent.canReplace(r-1,r)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(r,r+1)||!o.isTextblock&&!jg(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(r=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&r.matchType(o[0]||a.type).validEnd){if(n){let i=t.pos+a.nodeSize,r=Gm.empty;for(let e=o.length-1;e>=0;e--)r=Gm.from(o[e].create(null,r));r=Gm.from(s.copy(r));let l=e.tr.step(new bg(t.pos-1,i,t.pos,i,new of(r,1,0),o.length,!0)),c=l.doc.resolve(i+2*o.length);c.nodeAfter&&c.nodeAfter.type==s.type&&jg(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let u=a.type.spec.isolating||i>0&&l?null:Yg.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),h=d&&Sg(d);if(null!=h&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(c&&Yx(a,"start",!0)&&Yx(s,"end")){let i=s,o=[];for(;o.push(i),!i.isTextblock;)i=i.lastChild;let r=a,l=1;for(;!r.isTextblock;r=r.firstChild)l++;if(i.canReplace(i.childCount,i.childCount,r.content)){if(n){let i=Gm.empty;for(let e=o.length-1;e>=0;e--)i=Gm.from(o[e].copy(i));n(e.tr.step(new bg(t.pos-o.length,t.pos+a.nodeSize,t.pos+l,t.pos+a.nodeSize-l,new of(i,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function cw(e){return function(t,n){let i=t.selection,o=e<0?i.$from:i.$to,r=o.depth;for(;o.node(r).isInline;){if(!r)return!1;r--}return!!o.node(r).isTextblock&&(n&&n(t.tr.setSelection(Xg.create(t.doc,e<0?o.start(r):o.end(r)))),!0)}}const uw=cw(-1),dw=cw(1);function hw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,i){let o=!1;for(let r=0;r<n.selection.ranges.length&&!o;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];n.doc.nodesBetween(i,s,((i,r)=>{if(o)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)o=!0;else{let t=n.doc.resolve(r),i=t.index();o=t.parent.canReplaceWith(i,i+1,e)}}))}if(!o)return!1;if(i){let o=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[i];o.setBlockType(r,s,e,t)}i(o.scrollIntoView())}return!0}}function pw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){for(let o=0;o<t.length;o++)if(t[o](e,n,i))return!0;return!1}}let mw=pw(Ux,qx,Jx),fw=pw(Ux,Xx,Zx);const gw={Enter:pw(tw,ow,rw,sw),"Mod-Enter":iw,Backspace:mw,"Mod-Backspace":mw,"Shift-Backspace":mw,Delete:fw,"Mod-Delete":fw,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new nv(e.doc))),!0)},vw={"Ctrl-h":gw.Backspace,"Alt-Backspace":gw["Mod-Backspace"],"Ctrl-d":gw.Delete,"Ctrl-Alt-Backspace":gw["Mod-Delete"],"Alt-Delete":gw["Mod-Delete"],"Alt-d":gw["Mod-Delete"],"Ctrl-a":uw,"Ctrl-e":dw};for(let n in gw)vw[n]=gw[n];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function yw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,i){let{$from:o,$to:r}=n.selection,s=o.blockRange(r);if(!s)return!1;let a=i?n.tr:null;return!!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!1,r=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=s.resolve(t.start-2);r=new xf(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new xf(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let a=Cg(r,n,i,t);if(!a)return!1;e&&function(e,t,n,i,o){let r=Gm.empty;for(let u=n.length-1;u>=0;u--)r=Gm.from(n[u].type.create(n[u].attrs,r));e.step(new bg(t.start-(i?2:0),t.end,t.start,t.end,new of(r,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=t.start+n.length-(i?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,h=!0;u<d;u++,h=!1)!h&&Dg(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize}(e,t,a,o,n);return!0}(a,s,e,t)&&(i&&i(a.scrollIntoView()),!0)}}function bw(e){return function(t,n){let{$from:i,$to:o}=t.selection,r=i.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));return!!r&&(!n||(i.node(r.depth-1).type==e?function(e,t,n,i){let o=e.tr,r=i.end,s=i.$to.end(i.depth);r<s&&(o.step(new bg(r-1,s,r,s,new of(Gm.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new xf(o.doc.resolve(i.$from.pos),o.doc.resolve(s),i.depth));const a=Sg(i);if(null==a)return!1;o.lift(i,a);let l=o.doc.resolve(o.mapping.map(r,-1)-1);jg(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos);return t(o.scrollIntoView()),!0}(t,n,e,r):function(e,t,n){let i=e.tr,o=n.parent;for(let p=n.end,m=n.endIndex-1,f=n.startIndex;m>f;m--)p-=o.child(m).nodeSize,i.delete(p-1,p+1);let r=i.doc.resolve(n.start),s=r.nodeAfter;if(i.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==o.childCount,c=r.node(-1),u=r.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Gm.empty:Gm.from(o))))return!1;let d=r.pos,h=d+s.nodeSize;return i.step(new bg(d-(a?1:0),h+(l?1:0),d+1,h-1,new of((a?Gm.empty:Gm.from(o.copy(Gm.empty))).append(l?Gm.empty:Gm.from(o.copy(Gm.empty))),a?0:1,l?0:1),a?0:1)),t(i.scrollIntoView()),!0}(t,n,r)))}}var xw=Object.defineProperty,ww=(e,t)=>{for(var n in t)xw(e,n,{get:t[n],enumerable:!0})};function kw(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:o}=n,{storedMarks:r}=n;return c(c({},t),{},{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return r},get selection(){return i},get doc(){return o},get tr(){return i=n.selection,o=n.doc,r=n.storedMarks,n}})}var Sw=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){var e=this;const{rawCommands:t,editor:n,state:i}=this,{view:o}=n,{tr:r}=i,s=this.buildProps(r);return Object.fromEntries(Object.entries(t).map((t=>{let[n,i]=t;return[n,function(){const t=i(...arguments)(s);return r.getMeta("preventDispatch")||e.hasCustomState||o.dispatch(r),t}]})))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:i,editor:o,state:r}=this,{view:s}=o,a=[],l=!!e,u=e||r.tr,d=c(c({},Object.fromEntries(Object.entries(i).map((e=>{let[i,o]=e;return[i,function(){const e=t.buildProps(u,n),i=o(...arguments)(e);return a.push(i),d}]})))),{},{run:()=>(l||!n||u.getMeta("preventDispatch")||this.hasCustomState||s.dispatch(u),a.every((e=>!0===e)))});return d}createCan(e){const{rawCommands:t,state:n}=this,i=!1,o=e||n.tr,r=this.buildProps(o,i),s=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,function(){return n(...arguments)(c(c({},r),{},{dispatch:void 0}))}]})));return c(c({},s),{},{chain:()=>this.createChain(o,i)})}buildProps(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:n,editor:i,state:o}=this,{view:r}=i,s={tr:e,editor:i,view:r,state:kw({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;return[t,function(){return n(...arguments)(s)}]})))}};return s}},Cw=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const o=this.callbacks[e];return o&&o.forEach((e=>e.apply(this,n))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}once(e,t){var n=this;const i=function(){n.off(e,i);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];t.apply(n,r)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}};function Tw(e,t){const n=new qg(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n}var Ew=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];3===i.nodeType&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):1===i.nodeType&&Ew(i)}return e};function Nw(e){if("undefined"===typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t="<body>".concat(e,"</body>"),n=(new window.DOMParser).parseFromString(t,"text/html").body;return Ew(n)}function Dw(e,t,n){if(e instanceof kf||e instanceof Gm)return e;n=c({slice:!0,parseOptions:{}},n);const i="string"===typeof e;if("object"===typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return Gm.fromArray(e.map((e=>t.nodeFromJSON(e))));const i=t.nodeFromJSON(e);return n.errorOnInvalidContent&&i.check(),i}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Dw("",t,n)}if(i){if(n.errorOnInvalidContent){let i=!1,o="";const r=new zf({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(i=!0,o="string"===typeof e?e:e.outerHTML,null)}]}})});if(n.slice?Hf.fromSchema(r).parseSlice(Nw(e),n.parseOptions):Hf.fromSchema(r).parse(Nw(e),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error("Invalid element found: ".concat(o))})}const i=Hf.fromSchema(t);return n.slice?i.parseSlice(Nw(e),n.parseOptions).content:i.parse(Nw(e),n.parseOptions)}return Dw("",t,n)}function jw(e,t){return Dw(e,t,{slice:!1,parseOptions:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},errorOnInvalidContent:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).errorOnInvalidContent})}function Aw(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}(t.$from,e)}function Pw(e,t,n){if(void 0===e.config[t]&&e.parent)return Pw(e.parent,t,n);if("function"===typeof e.config[t]){return e.config[t].bind(c(c({},n),{},{parent:e.parent?Pw(e.parent,t,n):null}))}return e.config[t]}function Mw(e){return e.map((e=>{const t=Pw(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...Mw(t())]:e})).flat(10)}function Fw(e,t){const n=Zf.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Ow(e){return"function"===typeof e}function Rw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(Ow(e)){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return t?e.bind(t)(...i):e(...i)}return e}function Lw(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function Iw(e){const t=[],{nodeExtensions:n,markExtensions:i}=Lw(e),o=[...n,...i],r={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=Pw(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:o});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((e=>{let[i,o]=e;t.push({type:n,name:i,attribute:c(c({},r),o)})}))}))}))})),o.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},i=Pw(e,"addAttributes",n);if(!i)return;const o=i();Object.entries(o).forEach((n=>{let[i,o]=n;const s=c(c({},r),o);"function"===typeof(null==s?void 0:s.default)&&(s.default=s.default()),(null==s?void 0:s.isRequired)&&void 0===(null==s?void 0:s.default)&&delete s.default,t.push({type:e.name,name:i,attribute:s})}))})),t}function _w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>!!e)).reduce(((e,t)=>{const n=c({},e);return Object.entries(t).forEach((e=>{let[t,i]=e;if(n[t])if("class"===t){const e=i?String(i).split(" "):[],o=n[t]?n[t].split(" "):[],r=e.filter((e=>!o.includes(e)));n[t]=[...o,...r].join(" ")}else if("style"===t){const e=i?i.split(";").map((e=>e.trim())).filter(Boolean):[],o=n[t]?n[t].split(";").map((e=>e.trim())).filter(Boolean):[],r=new Map;o.forEach((e=>{const[t,n]=e.split(":").map((e=>e.trim()));r.set(t,n)})),e.forEach((e=>{const[t,n]=e.split(":").map((e=>e.trim()));r.set(t,n)})),n[t]=Array.from(r.entries()).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join("; ")}else n[t]=i;else n[t]=i})),n}),{})}function Vw(e,t){return t.filter((t=>t.type===e.type.name)).filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>_w(e,t)),{})}function $w(e,t){return"style"in e?e:c(c({},e),{},{getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===i)return!1;const o=t.reduce(((e,t)=>{const i=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!==typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null===i||void 0===i?e:c(c({},e),{},{[t.name]:i})}),{});return c(c({},i),o)}})}function zw(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return("attrs"!==t||!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length&&e.constructor===Object}(n))&&(null!==n&&void 0!==n)})))}function Bw(e,t){var n;const i=Iw(e),{nodeExtensions:o,markExtensions:r}=Lw(e),s=null==(n=o.find((e=>Pw(e,"topNode"))))?void 0:n.name,a=Object.fromEntries(o.map((n=>{const o=i.filter((e=>e.type===n.name)),r={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce(((e,t)=>{const i=Pw(t,"extendNodeSchema",r);return c(c({},e),i?i(n):{})}),{}),a=zw(c(c({},s),{},{content:Rw(Pw(n,"content",r)),marks:Rw(Pw(n,"marks",r)),group:Rw(Pw(n,"group",r)),inline:Rw(Pw(n,"inline",r)),atom:Rw(Pw(n,"atom",r)),selectable:Rw(Pw(n,"selectable",r)),draggable:Rw(Pw(n,"draggable",r)),code:Rw(Pw(n,"code",r)),whitespace:Rw(Pw(n,"whitespace",r)),linebreakReplacement:Rw(Pw(n,"linebreakReplacement",r)),defining:Rw(Pw(n,"defining",r)),isolating:Rw(Pw(n,"isolating",r)),attrs:Object.fromEntries(o.map((e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]})))})),l=Rw(Pw(n,"parseHTML",r));l&&(a.parseDOM=l.map((e=>$w(e,o))));const u=Pw(n,"renderHTML",r);u&&(a.toDOM=e=>u({node:e,HTMLAttributes:Vw(e,o)}));const d=Pw(n,"renderText",r);return d&&(a.toText=d),[n.name,a]}))),l=Object.fromEntries(r.map((n=>{const o=i.filter((e=>e.type===n.name)),r={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce(((e,t)=>{const i=Pw(t,"extendMarkSchema",r);return c(c({},e),i?i(n):{})}),{}),a=zw(c(c({},s),{},{inclusive:Rw(Pw(n,"inclusive",r)),excludes:Rw(Pw(n,"excludes",r)),group:Rw(Pw(n,"group",r)),spanning:Rw(Pw(n,"spanning",r)),code:Rw(Pw(n,"code",r)),attrs:Object.fromEntries(o.map((e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]})))})),l=Rw(Pw(n,"parseHTML",r));l&&(a.parseDOM=l.map((e=>$w(e,o))));const u=Pw(n,"renderHTML",r);return u&&(a.toDOM=e=>u({mark:e,HTMLAttributes:Vw(e,o)})),[n.name,a]})));return new zf({topNode:s,nodes:a,marks:l})}function Hw(e){return e.sort(((e,t)=>{const n=Pw(e,"priority")||100,i=Pw(t,"priority")||100;return n>i?-1:n<i?1:0}))}function Uw(e){const t=Hw(Mw(e)),n=function(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return Array.from(new Set(t))}(t.map((e=>e.name)));return n.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(n.map((e=>"'".concat(e,"'"))).join(", "),"]. This can lead to issues.")),t}function Ww(e,t,n){const{from:i,to:o}=t,{blockSeparator:r="\n\n",textSerializers:s={}}=n||{};let a="";return e.nodesBetween(i,o,((e,n,l,c)=>{var u;e.isBlock&&n>i&&(a+=r);const d=null==s?void 0:s[e.type.name];if(d)return l&&(a+=d({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(a+=null==(u=null==e?void 0:e.text)?void 0:u.slice(Math.max(i,n)-n,o-n))})),a}function qw(e,t){return Ww(e,{from:0,to:e.content.size},t)}function Kw(e){return Object.fromEntries(Object.entries(e.nodes).filter((e=>{let[,t]=e;return t.spec.toText})).map((e=>{let[t,n]=e;return[t,n.spec.toText]})))}function Yw(e,t){if("string"===typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}function Jw(e,t){const n=Yw(t,e.schema),{from:i,to:o,empty:r}=e.selection,s=[];r?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,o,(e=>{s.push(...e.marks)}));const a=s.find((e=>e.type.name===n.name));return a?c({},a.attrs):{}}function Qw(e,t){if("string"===typeof e){if(!t.nodes[e])throw Error("There is no node type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.nodes[e]}return e}function Gw(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Xw(e,t){const n=Gw("string"===typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=Qw(t,e.schema),{from:i,to:o}=e.selection,r=[];e.doc.nodesBetween(i,o,(e=>{r.push(e)}));const s=r.reverse().find((e=>e.type.name===n.name));return s?c({},s.attrs):{}}(e,t):"mark"===n?Jw(e,t):{}}function Zw(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify;const n={};return e.filter((e=>{const i=t(e);return!Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=!0)}))}(e);return 1===t.length?t:t.filter(((e,n)=>{const i=t.filter(((e,t)=>t!==n));return!i.some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}))}function ek(e){const{mapping:t,steps:n}=e,i=[];return t.maps.forEach(((e,o)=>{const r=[];if(e.ranges.length)e.forEach(((e,t)=>{r.push({from:e,to:t})}));else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;r.push({from:e,to:t})}r.forEach((e=>{let{from:n,to:r}=e;const s=t.slice(o).map(n,-1),a=t.slice(o).map(r),l=t.invert().map(s,-1),c=t.invert().map(a);i.push({oldRange:{from:l,to:c},newRange:{from:s,to:a}})}))})),Zw(i)}function tk(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function nk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0};const i=Object.keys(t);return!i.length||i.every((i=>n.strict?t[i]===e[i]:tk(t[i])?t[i].test(e[i]):t[i]===e[i]))}function ik(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.find((e=>e.type===t&&nk(Object.fromEntries(Object.keys(n).map((t=>[t,e.attrs[t]]))),n)))}function ok(e,t){return!!ik(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function rk(e,t,n){var i;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(o.node&&o.node.marks.some((e=>e.type===t))||(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some((e=>e.type===t)))return;n=n||(null==(i=o.node.marks[0])?void 0:i.attrs);if(!ik([...o.node.marks],t,n))return;let r=o.index,s=e.start()+o.offset,a=r+1,l=s+o.node.nodeSize;for(;r>0&&ok([...e.parent.child(r-1).marks],t,n);)r-=1,s-=e.parent.child(r).nodeSize;for(;a<e.parent.childCount&&ok([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function sk(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach((t=>{const o=rk(n.resolve(e),t.type);o&&i.push(c({mark:t},o))})):n.nodesBetween(e,t,((e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&i.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),i}function ak(e,t){return t.nodes[e]||t.marks[e]||null}function lk(e,t,n){return Object.fromEntries(Object.entries(n).filter((n=>{let[i]=n;const o=e.find((e=>e.type===t&&e.name===i));return!!o&&o.attribute.keepOnSplit})))}function ck(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{empty:i,ranges:o}=e.selection,r=t?Yw(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!r||r.name===e.type.name)).find((e=>nk(e.attrs,n,{strict:!1})));let s=0;const a=[];if(o.forEach((t=>{let{$from:n,$to:i}=t;const o=n.pos,r=i.pos;e.doc.nodesBetween(o,r,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(o,t),i=Math.min(r,t+e.nodeSize);s+=i-n,a.push(...e.marks.map((e=>({mark:e,from:n,to:i}))))}))})),0===s)return!1;const l=a.filter((e=>!r||r.name===e.mark.type.name)).filter((e=>nk(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=a.filter((e=>!r||e.mark.type!==r&&e.mark.type.excludes(r))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=s}function uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{from:i,to:o,empty:r}=e.selection,s=t?Qw(t,e.schema):null,a=[];e.doc.nodesBetween(i,o,((e,t)=>{if(e.isText)return;const n=Math.max(i,t),r=Math.min(o,t+e.nodeSize);a.push({node:e,from:n,to:r})}));const l=o-i,c=a.filter((e=>!s||s.name===e.node.type.name)).filter((e=>nk(e.node.attrs,n,{strict:!1})));if(r)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function dk(e,t){return Array.isArray(t)?t.some((t=>("string"===typeof t?t:t.name)===e.name)):t}function hk(e,t){const{nodeExtensions:n}=Lw(t),i=n.find((t=>t.name===e));if(!i)return!1;const o=Rw(Pw(i,"group",{name:i.name,options:i.options,storage:i.storage}));return"string"===typeof o&&o.split(" ").includes("list")}function pk(e){let{checkChildren:t=!0,ignoreWhitespace:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(i=e.text)?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let i=!0;return e.content.forEach((e=>{!1!==i&&(pk(e,{ignoreWhitespace:n,checkChildren:t})||(i=!1))})),i}return!1}function mk(e){return e instanceof ev}function fk(e){return e instanceof Xg}function gk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,t),n)}function vk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return null;const n=Yg.atStart(e),i=Yg.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return i;const o=n.from,r=i.to;return"all"===t?Xg.create(e,gk(0,o,r),gk(e.content.size,o,r)):Xg.create(e,gk(t,o,r),gk(t,o,r))}var yk=class{constructor(e){this.find=e.find,this.handler=e.handler}};function bk(e){var t;const{editor:n,from:i,to:o,text:r,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(i);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let u=!1;const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,((e,t,o,r)=>{var s,a;const l=(null==(a=(s=e.type.spec).toText)?void 0:a.call(s,{node:e,pos:t,parent:o,index:r}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,i-t))})),n}(c)+r;return s.forEach((e=>{if(u)return;const t=((e,t)=>{if(tk(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i})(d,e.find);if(!t)return;const s=l.state.tr,c=kw({state:l.state,transaction:s}),h={from:i-(t[0].length-r.length),to:o},{commands:p,chain:m,can:f}=new Sw({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:m,can:f})&&s.steps.length&&(s.setMeta(a,{transform:s,from:i,to:o,text:r}),l.dispatch(s),u=!0)})),u}function xk(e){const{editor:t,rules:n}=e,i=new pv({state:{init:()=>null,apply(e,o,r){const s=e.getMeta(i);if(s)return s;const a=e.getMeta("applyInputRules");return!!a&&setTimeout((()=>{let{text:e}=a;"string"===typeof e||(e=Fw(Gm.from(e),r.schema));const{from:o}=a,s=o+e.length;bk({editor:t,from:o,to:s,text:e,rules:n,plugin:i})})),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,r,s)=>bk({editor:t,from:o,to:r,text:s,rules:n,plugin:i}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:o}=e.state.selection;o&&bk({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:i})})),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:r}=e.state.selection;return!!r&&bk({editor:t,from:r.pos,to:r.pos,text:"\n",rules:n,plugin:i})}},isInputRules:!0});return i}function wk(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function kk(e,t){const n=c({},e);return wk(e)&&wk(t)&&Object.keys(t).forEach((i=>{wk(t[i])&&wk(e[i])?n[i]=kk(e[i],t[i]):n[i]=t[i]})),n}var Sk=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=c(c({},this.config),e),this.name=this.config.name}get options(){return c({},Rw(Pw(this,"addOptions",{name:this.name}))||{})}get storage(){return c({},Rw(Pw(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.extend(c(c({},this.config),{},{addOptions:()=>kk(this.options,e)}));return t.name=this.name,t.parent=this.parent,t}extend(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new this.constructor(c(c({},this.config),e));return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Ck=class e extends Sk{constructor(){super(...arguments),this.type="mark"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}static handleExit(e){let{editor:t,mark:n}=e;const{tr:i}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const e=o.marks();if(!!!e.find((e=>(null==e?void 0:e.type.name)===n.name)))return!1;const r=e.find((e=>(null==e?void 0:e.type.name)===n.name));return r&&i.removeStoredMark(r),i.insertText(" ",o.pos),t.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}};var Tk=class{constructor(e){this.find=e.find,this.handler=e.handler}};function Ek(e){const{editor:t,state:n,from:i,to:o,rule:r,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new Sw({editor:t,state:n}),d=[];n.doc.nodesBetween(i,o,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const h=Math.max(i,t),p=Math.min(o,t+e.content.size),m=((e,t,n)=>{if(tk(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map((t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(h-t,p-t,void 0,"\ufffc"),r.find,s);m.forEach((e=>{if(void 0===e.index)return;const t=h+e.index+1,i=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(i)},p=r.handler({state:n,range:o,match:e,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(p)}))}));return d.every((e=>null!==e))}var Nk=null;function Dk(e){const{editor:t,rules:n}=e;let i,o=null,r=!1,s=!1,a="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{i="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch(FI){i=null}const l=e=>{let{state:n,from:o,to:r,rule:s,pasteEvt:l}=e;const c=n.tr,u=kw({state:n,transaction:c});if(Ek({editor:t,state:u,from:Math.max(o-1,0),to:r.b-1,rule:s,pasteEvent:l,dropEvent:i})&&c.steps.length){try{i="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch(d){i=null}return a="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null,c}},c=n.map((e=>new pv({view(e){const n=n=>{var i;o=(null==(i=e.dom.parentElement)?void 0:i.contains(n.target))?e.dom.parentElement:null,o&&(Nk=t)},i=()=>{Nk&&(Nk=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",i),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",i)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(s=o===e.dom.parentElement,i=t,!s){const e=Nk;(null==e?void 0:e.isEditable)&&setTimeout((()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})}),10)}return!1},paste:(e,t)=>{var n;const i=null==(n=t.clipboardData)?void 0:n.getData("text/html");return a=t,r=!!(null==i?void 0:i.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,i)=>{const o=t[0],c="paste"===o.getMeta("uiEvent")&&!r,u="drop"===o.getMeta("uiEvent")&&!s,d=o.getMeta("applyPasteRules"),h=!!d;if(!c&&!u&&!h)return;if(h){let{text:t}=d;"string"===typeof t||(t=Fw(Gm.from(t),i.schema));const{from:n}=d,o=n+t.length,r=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:i,from:n,to:{b:o},pasteEvt:r})}const p=n.doc.content.findDiffStart(i.doc.content),m=n.doc.content.findDiffEnd(i.doc.content);return"number"===typeof p&&m&&p!==m.b?l({rule:e,state:i,from:p,to:m,pasteEvt:a}):void 0}})));return c}var jk=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Uw(e),this.schema=Bw(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce(((e,t)=>{const n=Pw(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:ak(t.name,this.schema)});return n?c(c({},e),n()):e}),{})}get plugins(){const{editor:e}=this,t=Hw([...this.extensions].reverse()),n=[],i=[],o=t.map((t=>{const o={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:ak(t.name,this.schema)},r=[],s=Pw(t,"addKeyboardShortcuts",o);let a={};if("mark"===t.type&&Pw(t,"exitable",o)&&(a.ArrowRight=()=>Ck.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map((t=>{let[n,i]=t;return[n,()=>i({editor:e})]})));a=c(c({},a),t)}const l=new pv({props:{handleKeyDown:Hx(a)}});r.push(l);const u=Pw(t,"addInputRules",o);dk(t,e.options.enableInputRules)&&u&&n.push(...u());const d=Pw(t,"addPasteRules",o);dk(t,e.options.enablePasteRules)&&d&&i.push(...d());const h=Pw(t,"addProseMirrorPlugins",o);if(h){const e=h();r.push(...e)}return r})).flat();return[xk({editor:e,rules:n}),...Dk({editor:e,rules:i}),...o]}get attributes(){return Iw(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Lw(this.extensions);return Object.fromEntries(t.filter((e=>!!Pw(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Qw(t.name,this.schema)},o=Pw(t,"addNodeView",i);if(!o)return[];return[t.name,(i,r,s,a,l)=>{const c=Vw(i,n);return o()({node:i,view:r,getPos:s,decorations:a,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]})))}get markViews(){const{editor:e}=this,{markExtensions:t}=Lw(this.extensions);return Object.fromEntries(t.filter((e=>!!Pw(e,"addMarkView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Yw(t.name,this.schema)},o=Pw(t,"addMarkView",i);if(!o)return[];return[t.name,(i,r,s)=>{const a=Vw(i,n);return o()({mark:i,view:r,inline:s,editor:e,extension:t,HTMLAttributes:a,updateAttributes:t=>{rC(i,e,t)}})}]})))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map((e=>[e.name,e.storage]))),e.forEach((e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ak(e.name,this.schema)};if("mark"===e.type){(null==(t=Rw(Pw(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name)}const i=Pw(e,"onBeforeCreate",n),o=Pw(e,"onCreate",n),r=Pw(e,"onUpdate",n),s=Pw(e,"onSelectionUpdate",n),a=Pw(e,"onTransaction",n),l=Pw(e,"onFocus",n),c=Pw(e,"onBlur",n),u=Pw(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),r&&this.editor.on("update",r),s&&this.editor.on("selectionUpdate",s),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)}))}};jk.resolve=Uw,jk.sort=Hw,jk.flatten=Mw;ww({},{ClipboardTextSerializer:()=>Pk,Commands:()=>US,Delete:()=>WS,Drop:()=>qS,Editable:()=>KS,FocusEvents:()=>JS,Keymap:()=>QS,Paste:()=>GS,Tabindex:()=>XS,focusEventsPluginKey:()=>YS});var Ak=class e extends Sk{constructor(){super(...arguments),this.type="extension"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}},Pk=Ak.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new pv({key:new gv("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:o}=t,{ranges:r}=o,s=Math.min(...r.map((e=>e.$from.pos))),a=Math.max(...r.map((e=>e.$to.pos))),l=Kw(n);return Ww(i,{from:s,to:a},c(c({},void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{}),{},{textSerializers:l}))}}})]}}),Mk={};ww(Mk,{blur:()=>Fk,clearContent:()=>Ok,clearNodes:()=>Rk,command:()=>Lk,createParagraphNear:()=>Ik,cut:()=>_k,deleteCurrentNode:()=>Vk,deleteNode:()=>$k,deleteRange:()=>zk,deleteSelection:()=>Bk,enter:()=>Hk,exitCode:()=>Uk,extendMarkRange:()=>Wk,first:()=>qk,focus:()=>Jk,forEach:()=>Qk,insertContent:()=>Gk,insertContentAt:()=>Xk,joinBackward:()=>tS,joinDown:()=>eS,joinForward:()=>nS,joinItemBackward:()=>iS,joinItemForward:()=>oS,joinTextblockBackward:()=>rS,joinTextblockForward:()=>sS,joinUp:()=>Zk,keyboardShortcut:()=>lS,lift:()=>cS,liftEmptyBlock:()=>uS,liftListItem:()=>dS,newlineInCode:()=>hS,resetAttributes:()=>mS,scrollIntoView:()=>fS,selectAll:()=>gS,selectNodeBackward:()=>vS,selectNodeForward:()=>yS,selectParentNode:()=>bS,selectTextblockEnd:()=>xS,selectTextblockStart:()=>wS,setContent:()=>kS,setMark:()=>SS,setMeta:()=>CS,setNode:()=>TS,setNodeSelection:()=>ES,setTextSelection:()=>NS,sinkListItem:()=>DS,splitBlock:()=>AS,splitListItem:()=>PS,toggleList:()=>OS,toggleMark:()=>RS,toggleNode:()=>LS,toggleWrap:()=>IS,undoInputRule:()=>_S,unsetAllMarks:()=>VS,unsetMark:()=>$S,updateAttributes:()=>zS,wrapIn:()=>BS,wrapInList:()=>HS});var Fk=()=>e=>{let{editor:t,view:n}=e;return requestAnimationFrame((()=>{var e;t.isDestroyed||(n.dom.blur(),null==(e=null==window?void 0:window.getSelection())||e.removeAllRanges())})),!0},Ok=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t=>{let{commands:n}=t;return n.setContent("",{emitUpdate:e})}},Rk=()=>e=>{let{state:t,tr:n,dispatch:i}=e;const{selection:o}=n,{ranges:r}=o;return!i||(r.forEach((e=>{let{$from:i,$to:o}=e;t.doc.nodesBetween(i.pos,o.pos,((e,t)=>{if(e.type.isText)return;const{doc:i,mapping:o}=n,r=i.resolve(o.map(t)),s=i.resolve(o.map(t+e.nodeSize)),a=r.blockRange(s);if(!a)return;const l=Sg(a);if(e.type.isTextblock){const{defaultType:e}=r.parent.contentMatchAt(r.index());n.setNodeMarkup(a.start,e)}(l||0===l)&&n.lift(a,l)}))})),!0)},Lk=e=>t=>e(t),Ik=()=>e=>{let{state:t,dispatch:n}=e;return ow(t,n)},_k=(e,t)=>n=>{let{editor:i,tr:o}=n;const{state:r}=i,s=r.doc.slice(e.from,e.to);o.deleteRange(e.from,e.to);const a=o.mapping.map(t);return o.insert(a,s.content),o.setSelection(new Xg(o.doc.resolve(Math.max(a-1,0)))),!0},Vk=()=>e=>{let{tr:t,dispatch:n}=e;const{selection:i}=t,o=i.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1){if(r.node(s).type===o.type){if(n){const e=r.before(s),n=r.after(s);t.delete(e,n).scrollIntoView()}return!0}}return!1},$k=e=>t=>{let{tr:n,state:i,dispatch:o}=t;const r=Qw(e,i.schema),s=n.selection.$anchor;for(let e=s.depth;e>0;e-=1){if(s.node(e).type===r){if(o){const t=s.before(e),i=s.after(e);n.delete(t,i).scrollIntoView()}return!0}}return!1},zk=e=>t=>{let{tr:n,dispatch:i}=t;const{from:o,to:r}=e;return i&&n.delete(o,r),!0},Bk=()=>e=>{let{state:t,dispatch:n}=e;return Ux(t,n)},Hk=()=>e=>{let{commands:t}=e;return t.keyboardShortcut("Enter")},Uk=()=>e=>{let{state:t,dispatch:n}=e;return iw(t,n)},Wk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:i,state:o,dispatch:r}=n;const s=Yw(e,o.schema),{doc:a,selection:l}=i,{$from:c,from:u,to:d}=l;if(r){const e=rk(c,s,t);if(e&&e.from<=u&&e.to>=d){const t=Xg.create(a,e.from,e.to);i.setSelection(t)}}return!0}},qk=e=>t=>{const n="function"===typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function Kk(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function Yk(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Jk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{editor:i,view:o,tr:r,dispatch:s}=n;t=c({scrollIntoView:!0},t);const a=()=>{(Yk()||Kk())&&o.dom.focus(),requestAnimationFrame((()=>{i.isDestroyed||(o.focus(),(null==t?void 0:t.scrollIntoView)&&i.commands.scrollIntoView())}))};if(o.hasFocus()&&null===e||!1===e)return!0;if(s&&null===e&&!fk(i.state.selection))return a(),!0;const l=vk(r.doc,e)||i.state.selection,u=i.state.selection.eq(l);return s&&(u||r.setSelection(l),u&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0}},Qk=(e,t)=>n=>e.every(((e,i)=>t(e,c(c({},n),{},{index:i})))),Gk=(e,t)=>n=>{let{tr:i,commands:o}=n;return o.insertContentAt({from:i.selection.from,to:i.selection.to},e,t)},Xk=(e,t,n)=>i=>{let{tr:o,dispatch:r,editor:s}=i;var a;if(r){let i;n=c({parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);const{selection:r}=s.state,l=e=>{s.emit("contentError",{editor:s,error:e,disableCollaboration:()=>{"collaboration"in s.storage&&"object"===typeof s.storage.collaboration&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u=c({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Dw(t,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(MI){l(MI)}try{i=Dw(t,s.schema,{parseOptions:u,errorOnInvalidContent:null!=(a=n.errorOnInvalidContent)?a:s.options.enableContentCheck})}catch(MI){return l(MI),!1}let{from:d,to:h}="number"===typeof e?{from:e,to:e}:{from:e.from,to:e.to},p=!0,m=!0;if(("type"in i?[i]:i).forEach((e=>{e.check(),p=!!p&&(e.isText&&0===e.marks.length),m=!!m&&e.isBlock})),d===h&&m){const{parent:e}=o.doc.resolve(d);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(d-=1,h+=1)}let f;if(p){if(Array.isArray(t))f=t.map((e=>e.text||"")).join("");else if(t instanceof Gm){let e="";t.forEach((t=>{t.text&&(e+=t.text)})),f=e}else f="object"===typeof t&&t&&t.text?t.text:t;o.insertText(f,d,h)}else{f=i;const e=0===r.$from.parentOffset,t=r.$from.node().isText||r.$from.node().isTextblock,n=r.$from.node().content.size>0;e&&t&&n&&(d=Math.max(0,d-1)),o.replaceWith(d,h,f)}n.updateSelection&&function(e,t,n){const i=e.steps.length-1;if(i<t)return;const o=e.steps[i];if(!(o instanceof yg||o instanceof bg))return;const r=e.mapping.maps[i];let s=0;r.forEach(((e,t,n,i)=>{0===s&&(s=i)})),e.setSelection(Yg.near(e.doc.resolve(s),n))}(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:d,text:f}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:d,text:f})}return!0},Zk=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,i=e.selection,o=i instanceof ev;if(o){if(i.node.isTextblock||!jg(e.doc,i.from))return!1;n=i.from}else if(n=Pg(e.doc,i.from,-1),null==n)return!1;if(t){let i=e.tr.join(n);o&&i.setSelection(ev.create(i.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0})(t,n)},eS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,i=e.selection;if(i instanceof ev){if(i.node.isTextblock||!jg(e.doc,i.to))return!1;n=i.to}else if(n=Pg(e.doc,i.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(t,n)},tS=()=>e=>{let{state:t,dispatch:n}=e;return qx(t,n)},nS=()=>e=>{let{state:t,dispatch:n}=e;return Xx(t,n)},iS=()=>e=>{let{state:t,dispatch:n,tr:i}=e;try{const e=Pg(t.doc,t.selection.$from.pos,-1);return null!==e&&void 0!==e&&(i.join(e,2),n&&n(i),!0)}catch(o){return!1}},oS=()=>e=>{let{state:t,dispatch:n,tr:i}=e;try{const e=Pg(t.doc,t.selection.$from.pos,1);return null!==e&&void 0!==e&&(i.join(e,2),n&&n(i),!0)}catch(o){return!1}},rS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let i=Wx(e,n);if(!i)return!1;let o=Qx(i);return!!o&&Kx(e,o,t)})(t,n)},sS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let i=Gx(e,n);if(!i)return!1;let o=ew(i);return!!o&&Kx(e,o,t)})(t,n)};function aS(){return"undefined"!==typeof navigator&&/Mac/.test(navigator.platform)}var lS=e=>t=>{let{editor:n,view:i,tr:o,dispatch:r}=t;const s=function(e){const t=e.split(/-(?!$)/);let n,i,o,r,s=t[t.length-1];"Space"===s&&(s=" ");for(let a=0;a<t.length-1;a+=1){const e=t[a];if(/^(cmd|meta|m)$/i.test(e))r=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))i=!0;else if(/^s(hift)?$/i.test(e))o=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: ".concat(e));Yk()||aS()?r=!0:i=!0}}return n&&(s="Alt-".concat(s)),i&&(s="Ctrl-".concat(s)),r&&(s="Meta-".concat(s)),o&&(s="Shift-".concat(s)),s}(e).split(/-(?!$)/),a=s.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),l=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=n.captureTransaction((()=>{i.someProp("handleKeyDown",(e=>e(i,l)))}));return null==c||c.steps.forEach((e=>{const t=e.map(o.mapping);t&&r&&o.maybeStep(t)})),!0},cS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:i,dispatch:o}=n;return!!uk(i,Qw(e,i.schema),t)&&((e,t)=>{let{$from:n,$to:i}=e.selection,o=n.blockRange(i),r=o&&Sg(o);return null!=r&&(t&&t(e.tr.lift(o,r).scrollIntoView()),!0)})(i,o)}},uS=()=>e=>{let{state:t,dispatch:n}=e;return rw(t,n)},dS=e=>t=>{let{state:n,dispatch:i}=t;return bw(Qw(e,n.schema))(n,i)},hS=()=>e=>{let{state:t,dispatch:n}=e;return tw(t,n)};function pS(e,t){const n="string"===typeof t?[t]:t;return Object.keys(e).reduce(((t,i)=>(n.includes(i)||(t[i]=e[i]),t)),{})}var mS=(e,t)=>n=>{let{tr:i,state:o,dispatch:r}=n,s=null,a=null;const l=Gw("string"===typeof e?e:e.name,o.schema);return!!l&&("node"===l&&(s=Qw(e,o.schema)),"mark"===l&&(a=Yw(e,o.schema)),r&&i.selection.ranges.forEach((e=>{o.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,n)=>{s&&s===e.type&&i.setNodeMarkup(n,void 0,pS(e.attrs,t)),a&&e.marks.length&&e.marks.forEach((o=>{a===o.type&&i.addMark(n,n+e.nodeSize,a.create(pS(o.attrs,t)))}))}))})),!0)},fS=()=>e=>{let{tr:t,dispatch:n}=e;return n&&t.scrollIntoView(),!0},gS=()=>e=>{let{tr:t,dispatch:n}=e;if(n){const e=new nv(t.doc);t.setSelection(e)}return!0},vS=()=>e=>{let{state:t,dispatch:n}=e;return Jx(t,n)},yS=()=>e=>{let{state:t,dispatch:n}=e;return Zx(t,n)},bS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,{$from:i,to:o}=e.selection,r=i.sharedDepth(o);return 0!=r&&(n=i.before(r),t&&t(e.tr.setSelection(ev.create(e.doc,n))),!0)})(t,n)},xS=()=>e=>{let{state:t,dispatch:n}=e;return dw(t,n)},wS=()=>e=>{let{state:t,dispatch:n}=e;return uw(t,n)},kS=function(e){let{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:i={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o=>{let{editor:r,tr:s,dispatch:a,commands:l}=o;const{doc:c}=s;if("full"!==i.preserveWhitespace){const o=jw(e,r.schema,i,{errorOnInvalidContent:null!=t?t:r.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,o).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:i,errorOnInvalidContent:null!=t?t:r.options.enableContentCheck})}};var SS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:i,state:o,dispatch:r}=n;const{selection:s}=i,{empty:a,ranges:l}=s,u=Yw(e,o.schema);if(r)if(a){const e=Jw(o,u);i.addStoredMark(u.create(c(c({},e),t)))}else l.forEach((e=>{const n=e.$from.pos,r=e.$to.pos;o.doc.nodesBetween(n,r,((e,o)=>{const s=Math.max(o,n),a=Math.min(o+e.nodeSize,r);e.marks.find((e=>e.type===u))?e.marks.forEach((e=>{u===e.type&&i.addMark(s,a,u.create(c(c({},e.attrs),t)))})):i.addMark(s,a,u.create(t))}))}));return function(e,t,n){var i;const{selection:o}=t;let r=null;if(fk(o)&&(r=o.$cursor),r){const t=null!=(i=e.storedMarks)?i:r.marks();return!!n.isInSet(t)||!t.some((e=>e.type.excludes(n)))}const{ranges:s}=o;return s.some((t=>{let{$from:i,$to:o}=t,r=0===i.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(i.pos,o.pos,((e,t,i)=>{if(r)return!1;if(e.isInline){const t=!i||i.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some((e=>e.type.excludes(n)));r=t&&o}return!r})),r}))}(o,i,u)}},CS=(e,t)=>n=>{let{tr:i}=n;return i.setMeta(e,t),!0},TS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:i,dispatch:o,chain:r}=n;const s=Qw(e,i.schema);let a;return i.selection.$anchor.sameParent(i.selection.$head)&&(a=i.selection.$anchor.parent.attrs),s.isTextblock?r().command((e=>{let{commands:n}=e;return!!hw(s,c(c({},a),t))(i)||n.clearNodes()})).command((e=>{let{state:n}=e;return hw(s,c(c({},a),t))(n,o)})).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)}},ES=e=>t=>{let{tr:n,dispatch:i}=t;if(i){const{doc:t}=n,i=gk(e,0,t.content.size),o=ev.create(t,i);n.setSelection(o)}return!0},NS=e=>t=>{let{tr:n,dispatch:i}=t;if(i){const{doc:t}=n,{from:i,to:o}="number"===typeof e?{from:e,to:e}:e,r=Xg.atStart(t).from,s=Xg.atEnd(t).to,a=gk(i,r,s),l=gk(o,r,s),c=Xg.create(t,a,l);n.setSelection(c)}return!0},DS=e=>t=>{let{state:n,dispatch:i}=t;const o=Qw(e,n.schema);return(r=o,function(e,t){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==r));if(!o)return!1;let s=o.startIndex;if(0==s)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=r)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,i=Gm.from(n?r.create():null),s=new of(Gm.from(r.create(null,Gm.from(a.type.create(null,i)))),n?3:1,0),c=o.start,u=o.end;t(e.tr.step(new bg(c-(n?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0})(n,i);var r};function jS(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(i)}}var AS=function(){let{keepMarks:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{tr:n,state:i,dispatch:o,editor:r}=t;const{selection:s,doc:a}=n,{$from:l,$to:c}=s,u=lk(r.extensionManager.attributes,l.node().type.name,l.node().attrs);if(s instanceof ev&&s.node.isBlock)return!(!l.parentOffset||!Dg(a,l.pos))&&(o&&(e&&jS(i,r.extensionManager.splittableMarks),n.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=c.parentOffset===c.parent.content.size,h=0===l.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=Dg(n.doc,n.mapping.map(l.pos),1,p);if(p||m||!Dg(n.doc,n.mapping.map(l.pos),1,h?[{type:h}]:void 0)||(m=!0,p=h?[{type:h,attrs:u}]:void 0),o){if(m&&(s instanceof Xg&&n.deleteSelection(),n.split(n.mapping.map(l.pos),1,p),h&&!d&&!l.parentOffset&&l.parent.type!==h)){const e=n.mapping.map(l.before()),t=n.doc.resolve(e);l.node(-1).canReplaceWith(t.index(),t.index()+1,h)&&n.setNodeMarkup(n.mapping.map(l.before()),h)}e&&jS(i,r.extensionManager.splittableMarks),n.scrollIntoView()}return m}},PS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:i,state:o,dispatch:r,editor:s}=n;var a;const l=Qw(e,o.schema),{$from:u,$to:d}=o.selection,h=o.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==l)return!1;const m=s.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let e=Gm.empty;const n=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-n;t>=u.depth-3;t-=1)e=Gm.from(u.node(t).copy(e));const o=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,r=c(c({},lk(m,u.node().type.name,u.node().attrs)),t),s=(null==(a=l.contentMatch.defaultType)?void 0:a.createAndFill(r))||void 0;e=e.append(Gm.from(l.createAndFill(null,s)||void 0));const d=u.before(u.depth-(n-1));i.replace(d,u.after(-o),new of(e,4-n,0));let h=-1;i.doc.nodesBetween(d,i.doc.content.size,((e,t)=>{if(h>-1)return!1;e.isTextblock&&0===e.content.size&&(h=t+1)})),h>-1&&i.setSelection(Xg.near(i.doc.resolve(h))),i.scrollIntoView()}return!0}const f=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,g=c(c({},lk(m,p.type.name,p.attrs)),t),v=c(c({},lk(m,u.node().type.name,u.node().attrs)),t);i.delete(u.pos,d.pos);const y=f?[{type:l,attrs:g},{type:f,attrs:v}]:[{type:l,attrs:g}];if(!Dg(i.doc,u.pos,2))return!1;if(r){const{selection:e,storedMarks:t}=o,{splittableMarks:n}=s.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();if(i.split(u.pos,2,y).scrollIntoView(),!a||!r)return!0;const l=a.filter((e=>n.includes(e.type.name)));i.ensureMarks(l)}return!0}},MS=(e,t)=>{const n=Aw((e=>e.type===t))(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===i)return!0;const o=e.doc.nodeAt(i);return n.node.type!==(null==o?void 0:o.type)||!jg(e.doc,n.pos)||(e.join(n.pos),!0)},FS=(e,t)=>{const n=Aw((e=>e.type===t))(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(void 0===i)return!0;const o=e.doc.nodeAt(i);return n.node.type!==(null==o?void 0:o.type)||!jg(e.doc,i)||(e.join(i),!0)},OS=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{let{editor:r,tr:s,state:a,dispatch:l,chain:c,commands:u,can:d}=o;const{extensions:h,splittableMarks:p}=r.extensionManager,m=Qw(e,a.schema),f=Qw(t,a.schema),{selection:g,storedMarks:v}=a,{$from:y,$to:b}=g,x=y.blockRange(b),w=v||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const k=Aw((e=>hk(e.type.name,h)))(g);if(x.depth>=1&&k&&x.depth-k.depth<=1){if(k.node.type===m)return u.liftListItem(f);if(hk(k.node.type.name,h)&&m.validContent(k.node.content)&&l)return c().command((()=>(s.setNodeMarkup(k.pos,m),!0))).command((()=>MS(s,m))).command((()=>FS(s,m))).run()}return n&&w&&l?c().command((()=>{const e=d().wrapInList(m,i),t=w.filter((e=>p.includes(e.type.name)));return s.ensureMarks(t),!!e||u.clearNodes()})).wrapInList(m,i).command((()=>MS(s,m))).command((()=>FS(s,m))).run():c().command((()=>!!d().wrapInList(m,i)||u.clearNodes())).wrapInList(m,i).command((()=>MS(s,m))).command((()=>FS(s,m))).run()}},RS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=>{let{state:o,commands:r}=i;const{extendEmptyMarkRange:s=!1}=n,a=Yw(e,o.schema);return ck(o,a,t)?r.unsetMark(a,{extendEmptyMarkRange:s}):r.setMark(a,t)}},LS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=>{let{state:o,commands:r}=i;const s=Qw(e,o.schema),a=Qw(t,o.schema),l=uk(o,s,n);let u;return o.selection.$anchor.sameParent(o.selection.$head)&&(u=o.selection.$anchor.parent.attrs),l?r.setNode(a,u):r.setNode(s,c(c({},u),n))}},IS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:i,commands:o}=n;const r=Qw(e,i.schema);return uk(i,r,t)?o.lift(r):o.wrapIn(r,t)}},_S=()=>e=>{let{state:t,dispatch:n}=e;const i=t.plugins;for(let o=0;o<i.length;o+=1){const e=i[o];let r;if(e.spec.isInputRules&&(r=e.getState(t))){if(n){const e=t.tr,n=r.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(r.text){const n=e.doc.resolve(r.from).marks();e.replaceWith(r.from,r.to,t.schema.text(r.text,n))}else e.delete(r.from,r.to)}return!0}}return!1},VS=()=>e=>{let{tr:t,dispatch:n}=e;const{selection:i}=t,{empty:o,ranges:r}=i;return o||n&&r.forEach((e=>{t.removeMark(e.$from.pos,e.$to.pos)})),!0},$S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:i,state:o,dispatch:r}=n;var s;const{extendEmptyMarkRange:a=!1}=t,{selection:l}=i,c=Yw(e,o.schema),{$from:u,empty:d,ranges:h}=l;if(!r)return!0;if(d&&a){let{from:e,to:t}=l;const n=null==(s=u.marks().find((e=>e.type===c)))?void 0:s.attrs,o=rk(u,c,n);o&&(e=o.from,t=o.to),i.removeMark(e,t,c)}else h.forEach((e=>{i.removeMark(e.$from.pos,e.$to.pos,c)}));return i.removeStoredMark(c),!0}},zS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:i,state:o,dispatch:r}=n,s=null,a=null;const l=Gw("string"===typeof e?e:e.name,o.schema);return!!l&&("node"===l&&(s=Qw(e,o.schema)),"mark"===l&&(a=Yw(e,o.schema)),r&&i.selection.ranges.forEach((e=>{const n=e.$from.pos,r=e.$to.pos;let l,u,d,h;i.selection.empty?o.doc.nodesBetween(n,r,((e,t)=>{s&&s===e.type&&(d=Math.max(t,n),h=Math.min(t+e.nodeSize,r),l=t,u=e)})):o.doc.nodesBetween(n,r,((e,o)=>{o<n&&s&&s===e.type&&(d=Math.max(o,n),h=Math.min(o+e.nodeSize,r),l=o,u=e),o>=n&&o<=r&&(s&&s===e.type&&i.setNodeMarkup(o,void 0,c(c({},e.attrs),t)),a&&e.marks.length&&e.marks.forEach((s=>{if(a===s.type){const l=Math.max(o,n),u=Math.min(o+e.nodeSize,r);i.addMark(l,u,a.create(c(c({},s.attrs),t)))}})))})),u&&(void 0!==l&&i.setNodeMarkup(l,void 0,c(c({},u.attrs),t)),a&&u.marks.length&&u.marks.forEach((e=>{a===e.type&&i.addMark(d,h,a.create(c(c({},e.attrs),t)))})))})),!0)}},BS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:i,dispatch:o}=n;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,i){let{$from:o,$to:r}=n.selection,s=o.blockRange(r),a=s&&Cg(s,e,t);return!!a&&(i&&i(n.tr.wrap(s,a).scrollIntoView()),!0)}}(Qw(e,i.schema),t)(i,o)}},HS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:i,dispatch:o}=n;return yw(Qw(e,i.schema),t)(i,o)}},US=Ak.create({name:"commands",addCommands:()=>c({},Mk)}),WS=Ak.create({name:"delete",onUpdate(e){let{transaction:t,appendedTransactions:n}=e;var i,o,r;const s=()=>{var e,i,o,r;if(null!=(r=null==(o=null==(i=null==(e=this.editor.options.coreExtensionOptions)?void 0:e.delete)?void 0:i.filterTransaction)?void 0:o.call(i,t))?r:t.getMeta("y-sync$"))return;const s=Tw(t.before,[t,...n]);ek(s).forEach((e=>{s.mapping.mapResult(e.oldRange.from).deletedAfter&&s.mapping.mapResult(e.oldRange.to).deletedBefore&&s.before.nodesBetween(e.oldRange.from,e.oldRange.to,((n,i)=>{const o=i+n.nodeSize-2,r=e.oldRange.from<=i&&o<=e.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:i,to:o,newFrom:s.mapping.map(i),newTo:s.mapping.map(o),deletedRange:e.oldRange,newRange:e.newRange,partial:!r,editor:this.editor,transaction:t,combinedTransform:s})}))}));const a=s.mapping;s.steps.forEach(((e,n)=>{var i,o;if(e instanceof fg){const r=a.slice(n).map(e.from,-1),l=a.slice(n).map(e.to),c=a.invert().map(r,-1),u=a.invert().map(l),d=null==(i=s.doc.nodeAt(r-1))?void 0:i.marks.some((t=>t.eq(e.mark))),h=null==(o=s.doc.nodeAt(l))?void 0:o.marks.some((t=>t.eq(e.mark)));this.editor.emit("delete",{type:"mark",mark:e.mark,from:e.from,to:e.to,deletedRange:{from:c,to:u},newRange:{from:r,to:l},partial:Boolean(h||d),editor:this.editor,transaction:t,combinedTransform:s})}}))};null==(r=null==(o=null==(i=this.editor.options.coreExtensionOptions)?void 0:i.delete)?void 0:o.async)||r?setTimeout(s,0):s()}}),qS=Ak.create({name:"drop",addProseMirrorPlugins(){return[new pv({key:new gv("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),KS=Ak.create({name:"editable",addProseMirrorPlugins(){return[new pv({key:new gv("editable"),props:{editable:()=>this.editor.options.editable}})]}}),YS=new gv("focusEvents"),JS=Ak.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new pv({key:YS,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),QS=Ak.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((e=>{let{commands:t}=e;return[()=>t.undoInputRule(),()=>t.command((e=>{let{tr:n}=e;const{selection:i,doc:o}=n,{empty:r,$anchor:s}=i,{pos:a,parent:l}=s,c=s.parent.isTextblock&&a>0?n.doc.resolve(a-1):s,u=c.parent.type.spec.isolating,d=s.pos-s.parentOffset,h=u&&1===c.parent.childCount?d===s.pos:Yg.atStart(o).from===a;return!(!r||!l.type.isTextblock||l.textContent.length||!h||h&&"paragraph"===s.parent.type.name)&&t.clearNodes()})),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]})),t=()=>this.editor.commands.first((e=>{let{commands:t}=e;return[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]})),n={Enter:()=>this.editor.commands.first((e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]})),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=c({},n),o=c(c({},n),{},{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return Yk()||aS()?o:i},addProseMirrorPlugins(){return[new pv({key:new gv("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some((e=>e.getMeta("composition"))))return;const i=e.some((e=>e.docChanged))&&!t.doc.eq(n.doc),o=e.some((e=>e.getMeta("preventClearDocument")));if(!i||o)return;const{empty:r,from:s,to:a}=t.selection,l=Yg.atStart(t.doc).from,c=Yg.atEnd(t.doc).to;if(r||!(s===l&&a===c))return;if(!pk(n.doc))return;const u=n.tr,d=kw({state:n,transaction:u}),{commands:h}=new Sw({editor:this.editor,state:d});return h.clearNodes(),u.steps.length?u:void 0}})]}}),GS=Ak.create({name:"paste",addProseMirrorPlugins(){return[new pv({key:new gv("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),XS=Ak.create({name:"tabindex",addProseMirrorPlugins(){return[new pv({key:new gv("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),ZS=class e{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error("You can\u2019t set content on a block node. Tried to set content on ".concat(this.name," at ").concat(this.pos));t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach(((n,i)=>{const o=n.isBlock&&!n.isTextblock,r=n.isAtom&&!n.isText,s=this.pos+i+(r?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!o&&a.depth<=this.depth)return;const l=new e(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new e(a,this.editor,o,o?n:null))})),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(t).length>0){const e=i.node.attrs,n=Object.keys(t);for(let i=0;i<n.length;i+=1){const o=n[i];if(e[o]!==t[o])break}}else n=i;i=i.parent}return n}querySelector(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];if(!this.children||0===this.children.length)return i;const o=Object.keys(t);return this.children.forEach((r=>{if(!(n&&i.length>0)){if(r.node.type.name===e){const e=o.every((e=>t[e]===r.node.attrs[e]));e&&i.push(r)}n&&i.length>0||(i=i.concat(r.querySelectorAll(e,t,n)))}})),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,c(c({},this.node.attrs),e)),this.editor.view.dispatch(t)}};var eC=class extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!==typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:e=>{let{error:t}=e;throw t},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",(e=>{let{event:t,slice:n,moved:i}=e;return this.options.onDrop(t,n,i)})),this.on("paste",(e=>{let{event:t,slice:n}=e;return this.options.onPaste(t,n)})),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=vk(t,this.options.autofocus);this.editorState=dv.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"===typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)}),0)}unmount(){var e;if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,null==(e=this.css)||e.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!==typeof document&&(this.css=function(e,t,n){const i=document.querySelector("style[data-tiptap-style".concat(n?"-".concat(n):"","]"));if(null!==i)return i;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style".concat(n?"-".concat(n):""),""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=c(c({},this.options),e),this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.editorState=this.state.apply(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error("[tiptap error]: The editor view is not available. Cannot access view['".concat(t,"']. The editor may not be mounted yet."))}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Ow(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach((e=>{const t="string"===typeof e?"".concat(e,"$"):e.key;n=n.filter((e=>!e.key.startsWith(t)))})),t.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[KS,Pk.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),US,JS,QS,XS,qS,GS,WS].filter((e=>"object"!==typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name])):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new jk(n,this)}createCommandManager(){this.commandManager=new Sw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=jw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(MI){if(!(MI instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(MI.message))throw MI;this.emit("contentError",{editor:this,error:MI,disableCollaboration:()=>{"collaboration"in this.storage&&"object"===typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter((e=>"collaboration"!==e.name)),this.createExtensionManager()}}),e=jw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new Nx(e,c(c({},this.options.editorProps),{},{attributes:c({role:"textbox"},null==(t=this.options.editorProps)?void 0:t.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="tiptap ".concat(this.view.dom.className)}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)})):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),i=!this.state.selection.eq(t.selection),o=n.includes(e),r=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast((e=>e.getMeta("focus")||e.getMeta("blur"))),a=null==s?void 0:s.getMeta("focus"),l=null==s?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),e.getMeta("preventUpdate")||!n.some((e=>e.docChanged))||r.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return Xw(this.state,e)}isActive(e,t){const n="string"===typeof e?e:null,i="string"===typeof e?t:e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return uk(e,null,n)||ck(e,null,n);const i=Gw(t,e.schema);return"node"===i?uk(e,t,n):"mark"===i&&ck(e,t,n)}(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Fw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return qw(this.state.doc,{blockSeparator:t,textSerializers:c(c({},Kw(this.schema)),n)})}get isEmpty(){return pk(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ZS(t,this)}get $doc(){return this.$pos(0)}};function tC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:i,match:o}=t;const r=Rw(e.getAttributes,void 0,o);if(!1===r||null===r)return null;const{tr:s}=n,a=o[o.length-1],l=o[0];if(a){const t=l.search(/\S/),o=i.from+l.indexOf(a),c=o+a.length;if(sk(i.from,i.to,n.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>o)).length)return null;c<i.to&&s.delete(c,i.to),o>i.from&&s.delete(i.from+t,o);const u=i.from+t+a.length;s.addMark(i.from+t,u,e.type.create(r||{})),s.removeStoredMark(e.type)}}})}function nC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:i,match:o}=t;const r=Rw(e.getAttributes,void 0,o)||{},{tr:s}=n,a=i.from;let l=i.to;const c=e.type.create(r);if(o[1]){let e=a+o[0].lastIndexOf(o[1]);e>l?e=l:l=e+o[1].length;const t=o[0][o[0].length-1];s.insertText(t,a+o[0].length-1),s.replaceWith(e,l,c)}else if(o[0]){const t=e.type.isInline?a:a-1;s.insert(t,e.type.create(r)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()}})}function iC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:i,match:o}=t;const r=n.doc.resolve(i.from),s=Rw(e.getAttributes,void 0,o)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;n.tr.delete(i.from,i.to).setBlockType(i.from,i.from,e.type,s)}})}function oC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:i,match:o,chain:r}=t;const s=Rw(e.getAttributes,void 0,o)||{},a=n.tr.delete(i.from,i.to),l=a.doc.resolve(i.from).blockRange(),c=l&&Cg(l,e.type,s);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:t,storedMarks:i}=n,{splittableMarks:o}=e.editor.extensionManager,r=i||t.$to.parentOffset&&t.$from.marks();if(r){const e=r.filter((e=>o.includes(e.type.name)));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";r().updateAttributes(t,s).run()}const u=a.doc.resolve(i.from-1).nodeBefore;u&&u.type===e.type&&jg(a.doc,i.from-1)&&(!e.joinPredicate||e.joinPredicate(o,u))&&a.join(i.from-1)}})}function rC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{state:i}=t,{doc:o,tr:r}=i,s=e;o.descendants(((t,i)=>{const o=r.mapping.map(i),a=r.mapping.map(i)+t.nodeSize;let l=null;if(t.marks.forEach((e=>{if(e!==s)return!1;l=e})),!l)return;let u=!1;if(Object.keys(n).forEach((e=>{n[e]!==l.attrs[e]&&(u=!0)})),u){const t=e.type.create(c(c({},e.attrs),n));r.removeMark(o,a,e.type),r.addMark(o,a,t)}})),r.docChanged&&t.view.dispatch(r)}var sC=class e extends Sk{constructor(){super(...arguments),this.type="node"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}};function aC(e){return new Tk({find:e.find,handler:t=>{let{state:n,range:i,match:o,pasteEvent:r}=t;const s=Rw(e.getAttributes,void 0,o,r);if(!1===s||null===s)return null;const{tr:a}=n,l=o[o.length-1],c=o[0];let u=i.to;if(l){const t=c.search(/\S/),o=i.from+c.indexOf(l),r=o+l.length;if(sk(i.from,i.to,n.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>o)).length)return null;r<i.to&&a.delete(r,i.to),o>i.from&&a.delete(i.from+t,o),u=i.from+t+l.length,a.addMark(i.from+t,u,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var lC=n(756),cC=n(443);const uC=["editor","innerRef"];var dC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):t&&(t.current=e)}))}},hC=e=>{let{contentComponent:t}=e;const n=(0,qm.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,vo.jsx)(vo.Fragment,{children:Object.values(n)})};var pC=class extends t.Component{constructor(e){var n;super(e),this.editorContentRef=t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(n=e.editor)?void 0:n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,i){t=c(c({},t),{},{[n]:Wm.createPortal(i.reactElement,i.element,n)}),e.forEach((e=>e()))},removeRenderer(n){const i=c({},t);delete i[n],t=i,e.forEach((e=>e()))}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe((()=>{this.setState((e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0})),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()}))),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(!t)return;if(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!(null==(e=t.options.element)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const e=this.props,{editor:t,innerRef:n}=e,i=o(e,uC);return(0,vo.jsxs)(vo.Fragment,{children:[(0,vo.jsx)("div",c({ref:dC(n,this.editorContentRef)},i)),(null==t?void 0:t.contentComponent)&&(0,vo.jsx)(hC,{contentComponent:t.contentComponent})]})}},mC=(0,t.forwardRef)(((e,n)=>{const i=t.useMemo((()=>Math.floor(4294967295*Math.random()).toString()),[e.editor]);return t.createElement(pC,c({key:i,innerRef:n},e))})),fC=t.memo(mC),gC="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,vC=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach((e=>e()))},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};var yC="undefined"===typeof window,bC=yC||Boolean("undefined"!==typeof window&&window.next),xC=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach((e=>e()))}getInitialEditor(){return void 0===this.options.current.immediatelyRender?yC||bC?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){var e=this;const t=c(c({},this.options.current),{},{onBeforeCreate:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onBeforeCreate)?void 0:n.call(t,...o)},onBlur:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onBlur)?void 0:n.call(t,...o)},onCreate:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onCreate)?void 0:n.call(t,...o)},onDestroy:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onDestroy)?void 0:n.call(t,...o)},onFocus:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onFocus)?void 0:n.call(t,...o)},onSelectionUpdate:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onSelectionUpdate)?void 0:n.call(t,...o)},onTransaction:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onTransaction)?void 0:n.call(t,...o)},onUpdate:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onUpdate)?void 0:n.call(t,...o)},onContentError:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onContentError)?void 0:n.call(t,...o)},onDrop:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onDrop)?void 0:n.call(t,...o)},onPaste:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onPaste)?void 0:n.call(t,...o)},onDelete:function(){for(var t,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return null==(n=(t=e.options.current).onDelete)?void 0:n.call(t,...o)}});return new eC(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every((n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every(((e,n)=>{var i;return e===(null==(i=t.extensions)?void 0:i[n])})):e[n]===t[n])))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions(c(c({},this.options.current),{},{editable:this.editor.isEditable})):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);if(this.previousDeps.length===e.length&&this.previousDeps.every(((t,n)=>t===e[n])))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout((()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))}),1)}};function wC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=(0,t.useRef)(e);i.current=e;const[o]=(0,t.useState)((()=>new xC(i))),r=(0,qm.useSyncExternalStore)(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,t.useDebugValue)(r),(0,t.useEffect)(o.onRender(n)),function(e){var n;const[i]=(0,t.useState)((()=>new vC(e.editor))),o=(0,cC.useSyncExternalStoreWithSelector)(i.subscribe,i.getSnapshot,i.getServerSnapshot,e.selector,null!=(n=e.equalityFn)?n:lC);gC((()=>i.watch(e.editor)),[e.editor,i]),(0,t.useDebugValue)(o)}({editor:r,selector:t=>{let{transactionNumber:n}=t;return!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===n?0:n+1}}),r}var kC=(0,t.createContext)({editor:null});kC.Consumer;var SC=(0,t.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),CC=()=>(0,t.useContext)(SC);t.forwardRef(((e,t)=>{const{onDragStart:n}=CC(),i=e.as||"div";return(0,vo.jsx)(i,c(c({},e),{},{ref:t,"data-node-view-wrapper":"",onDragStart:n,style:c({whiteSpace:"normal"},e.style)}))}));t.createContext({markViewContentRef:()=>{}});const TC=["children"];var EC=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const n=null!=t?t:{},{children:i}=n,r=o(n,TC);if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,i]},NC=/^\s*>\s$/,DC=sC.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML(e){let{HTMLAttributes:t}=e;return EC("blockquote",c(c({},_w(this.options.HTMLAttributes,t)),{},{children:EC("slot",{})}))},addCommands(){return{setBlockquote:()=>e=>{let{commands:t}=e;return t.wrapIn(this.name)},toggleBlockquote:()=>e=>{let{commands:t}=e;return t.toggleWrap(this.name)},unsetBlockquote:()=>e=>{let{commands:t}=e;return t.lift(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[oC({find:NC,type:this.type})]}}),jC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,AC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,PC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,MC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,FC=Ck.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML(e){let{HTMLAttributes:t}=e;return EC("strong",c(c({},_w(this.options.HTMLAttributes,t)),{},{children:EC("slot",{})}))},addCommands(){return{setBold:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleBold:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetBold:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[tC({find:jC,type:this.type}),tC({find:PC,type:this.type})]},addPasteRules(){return[aC({find:AC,type:this.type}),aC({find:MC,type:this.type})]}}),OC=/(^|[^`])`([^`]+)`(?!`)/,RC=/(^|[^`])`([^`]+)`(?!`)/g,LC=Ck.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML(e){let{HTMLAttributes:t}=e;return["code",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleCode:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetCode:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[tC({find:OC,type:this.type})]},addPasteRules(){return[aC({find:RC,type:this.type})]}}),IC=/^```([a-z]+)?[\s\n]$/,_C=/^~~~([a-z]+)?[\s\n]$/,VC=sC.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,i=[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return i||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["pre",_w(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>t=>{let{commands:n}=t;return n.setNode(this.name,e)},toggleCodeBlock:e=>t=>{let{commands:n}=t;return n.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:e=>{let{editor:t}=e;if(!this.options.exitOnTripleEnter)return!1;const{state:n}=t,{selection:i}=n,{$from:o,empty:r}=i;if(!r||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith("\n\n");return!(!s||!a)&&t.chain().command((e=>{let{tr:t}=e;return t.delete(o.pos-2,o.pos),!0})).exitCode().run()},ArrowDown:e=>{let{editor:t}=e;if(!this.options.exitOnArrowDown)return!1;const{state:n}=t,{selection:i,doc:o}=n,{$from:r,empty:s}=i;if(!s||r.parent.type!==this.type)return!1;if(!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();if(void 0===a)return!1;return o.nodeAt(a)?t.commands.command((e=>{let{tr:t}=e;return t.setSelection(Yg.near(o.resolve(a))),!0})):t.commands.exitCode()}}},addInputRules(){return[iC({find:IC,type:this.type,getAttributes:e=>({language:e[1]})}),iC({find:_C,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new pv({key:new gv("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,r=null==o?void 0:o.mode;if(!n||!r)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:r},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Xg.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),$C=sC.create({name:"doc",topNode:!0,content:"block+"}),zC=sC.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML(e){let{HTMLAttributes:t}=e;return["br",_w(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>e=>{let{commands:t,chain:n,state:i,editor:o}=e;return t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:e,storedMarks:t}=i;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:r}=this.options,{splittableMarks:s}=o.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();return n().insertContent({type:this.name}).command((e=>{let{tr:t,dispatch:n}=e;if(n&&a&&r){const e=a.filter((e=>s.includes(e.type.name)));t.ensureMarks(e)}return!0})).run()}))])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),BC=sC.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:"h".concat(e),attrs:{level:e}})))},renderHTML(e){let{node:t,HTMLAttributes:n}=e;const i=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return["h".concat(i),_w(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:e=>t=>{let{commands:n}=t;return!!this.options.levels.includes(e.level)&&n.setNode(this.name,e)},toggleHeading:e=>t=>{let{commands:n}=t;return!!this.options.levels.includes(e.level)&&n.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>c(c({},e),{["Mod-Alt-".concat(t)]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>iC({find:new RegExp("^(#{".concat(Math.min(...this.options.levels),",").concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}})))}}),HC=sC.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",_w(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>e=>{let{chain:t,state:n}=e;if(!function(e,t){const{selection:n}=e,{$from:i}=n;if(n instanceof ev){const e=i.index();return i.parent.canReplaceWith(e,e+1,t)}let o=i.depth;for(;o>=0;){const e=i.index(o);if(i.node(o).contentMatchAt(e).matchType(t))return!0;o-=1}return!1}(n,n.schema.nodes[this.name]))return!1;const{selection:i}=n,{$to:o}=i,r=t();return mk(i)?r.insertContentAt(o.pos,{type:this.name}):r.insertContent({type:this.name}),r.command((e=>{let{tr:t,dispatch:n}=e;var i;if(n){const{$to:e}=t.selection,n=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(Xg.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(ev.create(t.doc,e.pos)):t.setSelection(Xg.create(t.doc,e.pos));else{const o=null==(i=e.parent.type.contentMatch.defaultType)?void 0:i.create();o&&(t.insert(n,o),t.setSelection(Xg.create(t.doc,n+1)))}t.scrollIntoView()}return!0})).run()}}},addInputRules(){return[nC({find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type})]}}),UC=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WC=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,qC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,YC=Ck.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML(e){let{HTMLAttributes:t}=e;return["em",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleItalic:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetItalic:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[tC({find:UC,type:this.type}),tC({find:qC,type:this.type})]},addPasteRules(){return[aC({find:WC,type:this.type}),aC({find:KC,type:this.type})]}});const JC="numeric",QC="ascii",GC="alpha",XC="asciinumeric",ZC="alphanumeric",eT="domain",tT="emoji",nT="scheme",iT="slashscheme",oT="whitespace";function rT(e,t){return e in t||(t[e]=[]),t[e]}function sT(e,t,n){t[JC]&&(t[XC]=!0,t[ZC]=!0),t[QC]&&(t[XC]=!0,t[GC]=!0),t[XC]&&(t[ZC]=!0),t[GC]&&(t[ZC]=!0),t[ZC]&&(t[eT]=!0),t[tT]&&(t[eT]=!0);for(const i in t){const t=rT(i,n);t.indexOf(e)<0&&t.push(e)}}function aT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.j={},this.jr=[],this.jd=null,this.t=e}aT.groups={},aT.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let i=0;i<t.jr.length;i++){const n=t.jr[i][0],o=t.jr[i][1];if(o&&n.test(e))return o}return t.jd},has(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e in this.j:!!this.go(e)},ta(e,t,n,i){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,i)},tr(e,t,n,i){let o;return i=i||aT.groups,t&&t.j?o=t:(o=new aT(t),n&&i&&sT(t,n,i)),this.jr.push([e,o]),o},ts(e,t,n,i){let o=this;const r=e.length;if(!r)return o;for(let s=0;s<r-1;s++)o=o.tt(e[s]);return o.tt(e[r-1],t,n,i)},tt(e,t,n,i){i=i||aT.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const r=t;let s,a=o.go(e);if(a?(s=new aT,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new aT,r){if(i)if(s.t&&"string"===typeof s.t){const e=Object.assign(function(e,t){const n={};for(const i in t)t[i].indexOf(e)>=0&&(n[i]=!0);return n}(s.t,i),n);sT(r,e,i)}else n&&sT(r,n,i);s.t=r}return o.j[e]=s,s}};const lT=(e,t,n,i,o)=>e.ta(t,n,i,o),cT=(e,t,n,i,o)=>e.tr(t,n,i,o),uT=(e,t,n,i,o)=>e.ts(t,n,i,o),dT=(e,t,n,i,o)=>e.tt(t,n,i,o),hT="WORD",pT="UWORD",mT="ASCIINUMERICAL",fT="ALPHANUMERICAL",gT="LOCALHOST",vT="TLD",yT="UTLD",bT="SCHEME",xT="SLASH_SCHEME",wT="NUM",kT="WS",ST="NL",CT="OPENBRACE",TT="CLOSEBRACE",ET="OPENBRACKET",NT="CLOSEBRACKET",DT="OPENPAREN",jT="CLOSEPAREN",AT="OPENANGLEBRACKET",PT="CLOSEANGLEBRACKET",MT="FULLWIDTHLEFTPAREN",FT="FULLWIDTHRIGHTPAREN",OT="LEFTCORNERBRACKET",RT="RIGHTCORNERBRACKET",LT="LEFTWHITECORNERBRACKET",IT="RIGHTWHITECORNERBRACKET",_T="FULLWIDTHLESSTHAN",VT="FULLWIDTHGREATERTHAN",$T="AMPERSAND",zT="APOSTROPHE",BT="ASTERISK",HT="AT",UT="BACKSLASH",WT="BACKTICK",qT="CARET",KT="COLON",YT="COMMA",JT="DOLLAR",QT="DOT",GT="EQUALS",XT="EXCLAMATION",ZT="HYPHEN",eE="PERCENT",tE="PIPE",nE="PLUS",iE="POUND",oE="QUERY",rE="QUOTE",sE="FULLWIDTHMIDDLEDOT",aE="SEMI",lE="SLASH",cE="TILDE",uE="UNDERSCORE",dE="EMOJI",hE="SYM";var pE=Object.freeze({__proto__:null,ALPHANUMERICAL:fT,AMPERSAND:$T,APOSTROPHE:zT,ASCIINUMERICAL:mT,ASTERISK:BT,AT:HT,BACKSLASH:UT,BACKTICK:WT,CARET:qT,CLOSEANGLEBRACKET:PT,CLOSEBRACE:TT,CLOSEBRACKET:NT,CLOSEPAREN:jT,COLON:KT,COMMA:YT,DOLLAR:JT,DOT:QT,EMOJI:dE,EQUALS:GT,EXCLAMATION:XT,FULLWIDTHGREATERTHAN:VT,FULLWIDTHLEFTPAREN:MT,FULLWIDTHLESSTHAN:_T,FULLWIDTHMIDDLEDOT:sE,FULLWIDTHRIGHTPAREN:FT,HYPHEN:ZT,LEFTCORNERBRACKET:OT,LEFTWHITECORNERBRACKET:LT,LOCALHOST:gT,NL:ST,NUM:wT,OPENANGLEBRACKET:AT,OPENBRACE:CT,OPENBRACKET:ET,OPENPAREN:DT,PERCENT:eE,PIPE:tE,PLUS:nE,POUND:iE,QUERY:oE,QUOTE:rE,RIGHTCORNERBRACKET:RT,RIGHTWHITECORNERBRACKET:IT,SCHEME:bT,SEMI:aE,SLASH:lE,SLASH_SCHEME:xT,SYM:hE,TILDE:cE,TLD:vT,UNDERSCORE:uE,UTLD:yT,UWORD:pT,WORD:hT,WS:kT});const mE=/[a-z]/,fE=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/,gE=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8])/,vE=/\d/,yE=/\s/;let bE=null,xE=null;function wE(e,t){const n=function(e){const t=[],n=e.length;let i=0;for(;i<n;){let o,r=e.charCodeAt(i),s=r<55296||r>56319||i+1===n||(o=e.charCodeAt(i+1))<56320||o>57343?e[i]:e.slice(i,i+2);t.push(s),i+=s.length}return t}(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),i=n.length,o=[];let r=0,s=0;for(;s<i;){let a=e,l=null,c=0,u=null,d=-1,h=-1;for(;s<i&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[s].length,h++),c+=n[s].length,r+=n[s].length,s++;r-=d,s-=h,c-=d,o.push({t:u.t,v:t.slice(r-c,r),s:r-c,e:r})}return o}function kE(e,t,n,i,o){let r;const s=t.length;for(let a=0;a<s-1;a++){const n=t[a];e.j[n]?r=e.j[n]:(r=new aT(i),r.jr=o.slice(),e.j[n]=r),e=r}return r=new aT(n),r.jr=o.slice(),e.j[t[s-1]]=r,r}function SE(e){const t=[],n=[];let i=0;for(;i<e.length;){let o=0;for(;"0123456789".indexOf(e[i+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(i,i+o),10);t>0;t--)n.pop();i+=o}else n.push(e[i]),i++}return t}const CE={defaultProtocol:"http",events:null,format:EE,formatHref:EE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function TE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},CE);e&&(n=Object.assign(n,e instanceof TE?e.o:e));const i=n.ignoreTags,o=[];for(let r=0;r<i.length;r++)o.push(i[r].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function EE(e){return e}TE.prototype={o:CE,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const i=null!=t;let o=this.o[e];return o?("object"===typeof o?(o=n.t in o?o[n.t]:CE[e],"function"===typeof o&&i&&(o=o(t,n))):"function"===typeof o&&i&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let i=this.o[e];return"function"===typeof i&&null!=t&&(i=i(t,n.t,n)),i},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function NE(e,t){this.t="token",this.v=e,this.tk=t}function DE(e,t){class n extends NE{constructor(t,n){super(t,n),this.t=e}}for(const i in t)n.prototype[i]=t[i];return n.t=e,n}NE.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),i=e.get("format",t,this);return n&&i.length>n?i.substring(0,n)+"\u2026":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CE.defaultProtocol;return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),i=e.get("formatHref",n,this),o=e.get("tagName",n,t),r=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=i,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:o,attributes:s,content:r,eventListeners:d}}};const jE=DE("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),AE=DE("text"),PE=DE("nl"),ME=DE("url",{isLink:!0,toHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CE.defaultProtocol;return this.hasProtocol()?this.v:"".concat(e,"://").concat(this.v)},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==gT&&e[1].t===KT}});const FE=e=>new aT(e);function OE(e,t,n){const i=n[0].s,o=n[n.length-1].e;return new e(t.slice(i,o),n)}const RE="undefined"!==typeof console&&console&&console.warn||(()=>{}),LE="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",IE={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function _E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(IE.initialized&&RE('linkifyjs: already initialized - will not register custom scheme "'.concat(e,'" ').concat(LE)),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');IE.customSchemes.push([e,t])}function VE(){IE.scanner=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};aT.groups=t;const n=new aT;null==bE&&(bE=SE("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==xE&&(xE=SE("\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2")),dT(n,"'",zT),dT(n,"{",CT),dT(n,"}",TT),dT(n,"[",ET),dT(n,"]",NT),dT(n,"(",DT),dT(n,")",jT),dT(n,"<",AT),dT(n,">",PT),dT(n,"\uff08",MT),dT(n,"\uff09",FT),dT(n,"\u300c",OT),dT(n,"\u300d",RT),dT(n,"\u300e",LT),dT(n,"\u300f",IT),dT(n,"\uff1c",_T),dT(n,"\uff1e",VT),dT(n,"&",$T),dT(n,"*",BT),dT(n,"@",HT),dT(n,"`",WT),dT(n,"^",qT),dT(n,":",KT),dT(n,",",YT),dT(n,"$",JT),dT(n,".",QT),dT(n,"=",GT),dT(n,"!",XT),dT(n,"-",ZT),dT(n,"%",eE),dT(n,"|",tE),dT(n,"+",nE),dT(n,"#",iE),dT(n,"?",oE),dT(n,'"',rE),dT(n,"/",lE),dT(n,";",aE),dT(n,"~",cE),dT(n,"_",uE),dT(n,"\\",UT),dT(n,"\u30fb",sE);const i=cT(n,vE,wT,{[JC]:!0});cT(i,vE,i);const o=cT(i,mE,mT,{[XC]:!0}),r=cT(i,fE,fT,{[ZC]:!0}),s=cT(n,mE,hT,{[QC]:!0});cT(s,vE,o),cT(s,mE,s),cT(o,vE,o),cT(o,mE,o);const a=cT(n,fE,pT,{[GC]:!0});cT(a,mE),cT(a,vE,r),cT(a,fE,a),cT(r,vE,r),cT(r,mE),cT(r,fE,r);const l=dT(n,"\n",ST,{[oT]:!0}),c=dT(n,"\r",kT,{[oT]:!0}),u=cT(n,yE,kT,{[oT]:!0});dT(n,"\ufffc",u),dT(c,"\n",l),dT(c,"\ufffc",u),cT(c,yE,u),dT(u,"\r"),dT(u,"\n"),cT(u,yE,u),dT(u,"\ufffc",u);const d=cT(n,gE,dE,{[tT]:!0});dT(d,"#"),cT(d,gE,d),dT(d,"\ufe0f",d);const h=dT(d,"\u200d");dT(h,"#"),cT(h,gE,d);const p=[[mE,s],[vE,o]],m=[[mE,null],[fE,a],[vE,r]];for(let f=0;f<bE.length;f++)kE(n,bE[f],vT,hT,p);for(let f=0;f<xE.length;f++)kE(n,xE[f],yT,pT,m);sT(vT,{tld:!0,ascii:!0},t),sT(yT,{utld:!0,alpha:!0},t),kE(n,"file",bT,hT,p),kE(n,"mailto",bT,hT,p),kE(n,"http",xT,hT,p),kE(n,"https",xT,hT,p),kE(n,"ftp",xT,hT,p),kE(n,"ftps",xT,hT,p),sT(bT,{scheme:!0,ascii:!0},t),sT(xT,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let f=0;f<e.length;f++){const t=e[f][0],i=e[f][1]?{[nT]:!0}:{[iT]:!0};t.indexOf("-")>=0?i[eT]=!0:mE.test(t)?vE.test(t)?i[XC]=!0:i[QC]=!0:i[JC]=!0,uT(n,t,t,i)}return uT(n,"localhost",gT,{ascii:!0}),n.jd=new aT(hE),{start:n,tokens:Object.assign({groups:t},pE)}}(IE.customSchemes);for(let e=0;e<IE.tokenQueue.length;e++)IE.tokenQueue[e][1]({scanner:IE.scanner});IE.parser=function(e){let{groups:t}=e;const n=t.domain.concat([$T,BT,HT,UT,WT,qT,JT,GT,ZT,wT,eE,tE,nE,iE,lE,hE,cE,uE]),i=[zT,KT,YT,QT,XT,eE,oE,rE,aE,AT,PT,CT,TT,NT,ET,DT,jT,MT,FT,OT,RT,LT,IT,_T,VT],o=[$T,zT,BT,UT,WT,qT,JT,GT,ZT,CT,TT,eE,tE,nE,iE,oE,lE,hE,cE,uE],r=FE(),s=dT(r,cE);lT(s,o,s),lT(s,t.domain,s);const a=FE(),l=FE(),c=FE();lT(r,t.domain,a),lT(r,t.scheme,l),lT(r,t.slashscheme,c),lT(a,o,s),lT(a,t.domain,a);const u=dT(a,HT);dT(s,HT,u),dT(l,HT,u),dT(c,HT,u);const d=dT(s,QT);lT(d,o,s),lT(d,t.domain,s);const h=FE();lT(u,t.domain,h),lT(h,t.domain,h);const p=dT(h,QT);lT(p,t.domain,h);const m=FE(jE);lT(p,t.tld,m),lT(p,t.utld,m),dT(u,gT,m);const f=dT(h,ZT);dT(f,ZT,f),lT(f,t.domain,h),lT(m,t.domain,h),dT(m,QT,p),dT(m,ZT,f);const g=dT(m,KT);lT(g,t.numeric,jE);const v=dT(a,ZT),y=dT(a,QT);dT(v,ZT,v),lT(v,t.domain,a),lT(y,o,s),lT(y,t.domain,a);const b=FE(ME);lT(y,t.tld,b),lT(y,t.utld,b),lT(b,t.domain,a),lT(b,o,s),dT(b,QT,y),dT(b,ZT,v),dT(b,HT,u);const x=dT(b,KT),w=FE(ME);lT(x,t.numeric,w);const k=FE(ME),S=FE();lT(k,n,k),lT(k,i,S),lT(S,n,k),lT(S,i,S),dT(b,lE,k),dT(w,lE,k);const C=dT(l,KT),T=dT(c,KT),E=dT(T,lE),N=dT(E,lE);lT(l,t.domain,a),dT(l,QT,y),dT(l,ZT,v),lT(c,t.domain,a),dT(c,QT,y),dT(c,ZT,v),lT(C,t.domain,k),dT(C,lE,k),dT(C,oE,k),lT(N,t.domain,k),lT(N,n,k),dT(N,lE,k);const D=[[CT,TT],[ET,NT],[DT,jT],[AT,PT],[MT,FT],[OT,RT],[LT,IT],[_T,VT]];for(let j=0;j<D.length;j++){const[e,t]=D[j],o=dT(k,e);dT(S,e,o),dT(o,t,k);const r=FE(ME);lT(o,n,r);const s=FE();lT(o,i),lT(r,n,r),lT(r,i,s),lT(s,n,r),lT(s,i,s),dT(r,t,k),dT(s,t,k)}return dT(r,gT,b),dT(r,ST,PE),{start:r,tokens:pE}}(IE.scanner.tokens);for(let e=0;e<IE.pluginQueue.length;e++)IE.pluginQueue[e][1]({scanner:IE.scanner,parser:IE.parser});return IE.initialized=!0,IE}function $E(e){return IE.initialized||VE(),function(e,t,n){let i=n.length,o=0,r=[],s=[];for(;o<i;){let a=e,l=null,c=null,u=0,d=null,h=-1;for(;o<i&&!(l=a.go(n[o].t));)s.push(n[o++]);for(;o<i&&(c=l||a.go(n[o].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,o++,u++;if(h<0)o-=u,o<i&&(s.push(n[o]),o++);else{s.length>0&&(r.push(OE(AE,t,s)),s=[]),o-=h,u-=h;const e=d.t,i=n.slice(o-u,o);r.push(OE(e,t,i))}}return s.length>0&&r.push(OE(AE,t,s)),r}(IE.parser.start,e,wE(IE.scanner.start,e))}function zE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&"object"===typeof t){if(n)throw Error("linkifyjs: Invalid link type ".concat(t,"; must be a string"));n=t,t=null}const i=new TE(n),o=$E(e),r=[];for(let s=0;s<o.length;s++){const e=o[s];!e.isLink||t&&e.t!==t||!i.check(e)||r.push(e.toFormattedObject(i))}return r}$E.scan=wE;var BE="[\0- \xa0\u1680\u180e\u2000-\u2029\u205f\u3000]",HE=new RegExp(BE),UE=new RegExp("".concat(BE,"$")),WE=new RegExp(BE,"g");function qE(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach((e=>{const t="string"===typeof e?e:e.scheme;t&&n.push(t)})),!e||e.replace(WE,"").match(new RegExp("^(?:(?:".concat(n.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}var KE=Ck.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach((e=>{"string"!==typeof e?_E(e.scheme,e.optionalSlashes):_E(e)}))},onDestroy(){aT.groups={},IE.scanner=null,IE.parser=null,IE.tokenQueue=[],IE.pluginQueue=[],IE.customSchemes=[],IE.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!qE(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!qE(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML(e){let{HTMLAttributes:t}=e;return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!qE(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",_w(this.options.HTMLAttributes,t),0]:["a",_w(this.options.HTMLAttributes,c(c({},t),{},{href:""})),0]},addCommands(){return{setLink:e=>t=>{let{chain:n}=t;const{href:i}=e;return!!this.options.isAllowedUri(i,{defaultValidate:e=>!!qE(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&n().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>t=>{let{chain:n}=t;const{href:i}=e||{};return!(i&&!this.options.isAllowedUri(i,{defaultValidate:e=>!!qE(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&n().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>e=>{let{chain:t}=e;return t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}}},addPasteRules(){return[aC({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:i}=this.options,o=zE(e).filter((e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!qE(e,n),protocols:n,defaultProtocol:i})));o.length&&o.forEach((e=>t.push({text:e.value,data:{href:e.href},index:e.start})))}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(function(e){return new pv({key:new gv("autolink"),appendTransaction:(t,n,i)=>{const o=t.some((e=>e.docChanged))&&!n.doc.eq(i.doc),r=t.some((e=>e.getMeta("preventAutolink")));if(!o||r)return;const{tr:s}=i;return ek(Tw(n.doc,[...t])).forEach((t=>{let{newRange:n}=t;const o=function(e,t,n){const i=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&i.push({node:e,pos:t})})),i}(i.doc,n,(e=>e.isTextblock));let r,a;if(o.length>1)r=o[0],a=i.doc.textBetween(r.pos,r.pos+r.node.nodeSize,void 0," ");else if(o.length){const e=i.doc.textBetween(n.from,n.to," "," ");if(!UE.test(e))return;r=o[0],a=i.doc.textBetween(r.pos,n.to,void 0," ")}if(r&&a){const t=a.split(HE).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],o=r.pos+a.lastIndexOf(n);if(!n)return!1;const u=$E(n).map((t=>t.toObject(e.defaultProtocol)));if(!(1===(l=u).length?l[0].isLink:3===l.length&&l[1].isLink&&["()","[]"].includes(l[0].value+l[2].value)))return!1;u.filter((e=>e.isLink)).map((e=>c(c({},e),{},{from:o+e.start+1,to:o+e.end+1}))).filter((e=>!i.schema.marks.code||!i.doc.rangeHasMark(e.from,e.to,i.schema.marks.code))).filter((t=>e.validate(t.value))).filter((t=>e.shouldAutoLink(t.value))).forEach((t=>{sk(t.from,t.to,i.doc).some((t=>t.mark.type===e.type))||s.addMark(t.from,t.to,e.type.create({href:t.href}))}))}var l})),s.steps.length?s:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!qE(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&e.push(function(e){return new pv({key:new gv("handleClickLink"),props:{handleClick:(t,n,i)=>{var o,r;if(0!==i.button)return!1;if(!t.editable)return!1;let s=null;if(i.target instanceof HTMLAnchorElement)s=i.target;else{let e=i.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;s=t.find((e=>"A"===e.nodeName))}if(!s)return!1;const a=Xw(t.state,e.type.name),l=null!=(o=null==s?void 0:s.href)?o:a.href,c=null!=(r=null==s?void 0:s.target)?r:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!s||!l)&&(window.open(l,c),!0)}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new pv({key:new gv("handlePasteLink"),props:{handlePaste:(t,n,i)=>{const{state:o}=t,{selection:r}=o,{empty:s}=r;if(s)return!1;let a="";i.content.forEach((e=>{a+=e.textContent}));const l=zE(a,{defaultProtocol:e.defaultProtocol}).find((e=>e.isLink&&e.value===a));return!(!a||!l)&&e.editor.commands.setMark(e.type,{href:l.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),YE=KE;const JE=["start"];var QE=Object.defineProperty,GE="textStyle",XE=/^\s*([-+*])\s$/,ZE=sC.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML:()=>[{tag:"ul"}],renderHTML(e){let{HTMLAttributes:t}=e;return["ul",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>e=>{let{commands:t,chain:n}=e;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(GE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=oC({find:XE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=oC({find:XE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(GE),editor:this.editor})),[e]}}),eN=sC.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML(e){let{HTMLAttributes:t}=e;return["li",_w(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)QE(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>tN,getNextListDepth:()=>nN,handleBackspace:()=>sN,handleDelete:()=>cN,hasListBefore:()=>iN,hasListItemAfter:()=>uN,hasListItemBefore:()=>oN,listItemHasSubList:()=>rN,nextListIsDeeper:()=>aN,nextListIsHigher:()=>lN});var tN=(e,t)=>{const{$from:n}=t.selection,i=Qw(e,t.schema);let o=null,r=n.depth,s=n.pos,a=null;for(;r>0&&null===a;)o=n.node(r),o.type===i?a=r:(r-=1,s-=1);return null===a?null:{$pos:t.doc.resolve(s),depth:a}},nN=(e,t)=>{const n=tN(e,t);if(!n)return!1;const[,i]=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;const o=e.doc.resolve(n);let r=i,s=null;for(;r>0&&null===s;){const e=o.node(r);(null==e?void 0:e.type.name)===t?s=e:r-=1}return[s,r]}(t,e,n.$pos.pos+4);return i},iN=(e,t,n)=>{const{$anchor:i}=e.selection,o=Math.max(0,i.pos-2),r=e.doc.resolve(o).node();return!(!r||!n.includes(r.type.name))},oN=(e,t)=>{var n;const{$anchor:i}=t.selection,o=t.doc.resolve(i.pos-2);return 0!==o.index()&&(null==(n=o.nodeBefore)?void 0:n.type.name)===e},rN=(e,t,n)=>{if(!n)return!1;const i=Qw(e,t.schema);let o=!1;return n.descendants((e=>{e.type===i&&(o=!0)})),o},sN=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!uk(e.state,t)&&iN(e.state,t,n)){const{$anchor:n}=e.state.selection,i=e.state.doc.resolve(n.before()-1),o=[];i.node().descendants(((e,n)=>{e.type.name===t&&o.push({node:e,pos:n})}));const r=o.at(-1);if(!r)return!1;const s=e.state.doc.resolve(i.start()+r.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},s.end()).joinForward().run()}if(!uk(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const i=tN(t,e.state);if(!i)return!1;const o=e.state.doc.resolve(i.$pos.pos-2).node(i.depth),r=rN(t,e.state,o);return oN(t,e.state)&&!r?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},aN=(e,t)=>{const n=nN(e,t),i=tN(e,t);return!(!i||!n)&&n>i.depth},lN=(e,t)=>{const n=nN(e,t),i=tN(e,t);return!(!i||!n)&&n<i.depth},cN=(e,t)=>{if(!uk(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:i,$anchor:o}=e.selection;if(t){const n=Aw((e=>e.type.name===t))(e.selection);if(!n)return!1;const i=e.doc.resolve(n.pos+1);return o.pos+1===i.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:i,$to:o}=n;return!(!n.empty&&i.sameParent(o))&&(aN(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():lN(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},uN=(e,t)=>{var n;const{$anchor:i}=t.selection,o=t.doc.resolve(i.pos-i.parentOffset-2);return o.index()!==o.parent.childCount-1&&(null==(n=o.nodeAfter)?void 0:n.type.name)===e},dN=Ak.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:i}=e;void 0!==t.state.schema.nodes[i]&&cN(t,i)&&(n=!0)})),n},"Mod-Delete":e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:i}=e;void 0!==t.state.schema.nodes[i]&&cN(t,i)&&(n=!0)})),n},Backspace:e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:i,wrapperNames:o}=e;void 0!==t.state.schema.nodes[i]&&sN(t,i,o)&&(n=!0)})),n},"Mod-Backspace":e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:i,wrapperNames:o}=e;void 0!==t.state.schema.nodes[i]&&sN(t,i,o)&&(n=!0)})),n}}}}),hN="textStyle",pN=/^(\d+)\.\s$/,mN=sC.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML(e){let{HTMLAttributes:t}=e;const{start:n}=t,i=o(t,JE);return 1===n?["ol",_w(this.options.HTMLAttributes,i),0]:["ol",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>e=>{let{commands:t,chain:n}=e;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(hN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=oC({find:pN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=oC({find:pN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>c({start:+e[1]},this.editor.getAttributes(hN)),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),fN=/^\s*(\[([( |x])?\])\s$/,gN=sC.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:'li[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["li",_w(this.options.HTMLAttributes,n,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?c(c({},e),{},{Tab:()=>this.editor.commands.sinkListItem(this.name)}):e},addNodeView(){return e=>{let{node:t,HTMLAttributes:n,getPos:i,editor:o}=e;const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=e=>{var t,n;l.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,l.checked))||"Task item checkbox for ".concat(e.textContent||"empty task item")};return d(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",(e=>e.preventDefault())),l.addEventListener("change",(e=>{if(!o.isEditable&&!this.options.onReadOnlyChecked)return void(l.checked=!l.checked);const{checked:n}=e.target;o.isEditable&&"function"===typeof i&&o.chain().focus(void 0,{scrollIntoView:!1}).command((e=>{let{tr:t}=e;const o=i();if("number"!==typeof o)return!1;const r=t.doc.nodeAt(o);return t.setNodeMarkup(o,void 0,c(c({},null==r?void 0:r.attrs),{},{checked:n})),!0})).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,n)||(l.checked=!l.checked))})),Object.entries(this.options.HTMLAttributes).forEach((e=>{let[t,n]=e;r.setAttribute(t,n)})),r.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),r.append(s,u),Object.entries(n).forEach((e=>{let[t,n]=e;r.setAttribute(t,n)})),{dom:r,contentDOM:u,update:e=>e.type===this.type&&(r.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,d(e),!0)}}},addInputRules(){return[oC({find:fN,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),vN=sC.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML(){return[{tag:'ul[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t}=e;return["ul",_w(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>e=>{let{commands:t}=e;return t.toggleList(this.name,this.options.itemTypeName)}}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),yN=(Ak.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(ZE.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(eN.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(dN.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(mN.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(gN.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(vN.configure(this.options.taskList)),e}}),sC.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>e=>{let{commands:t}=e;return t.setNode(this.name)}}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})),bN=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xN=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,wN=Ck.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["s",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleStrike:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetStrike:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[tC({find:bN,type:this.type})]},addPasteRules(){return[aC({find:xN,type:this.type})]}}),kN=sC.create({name:"text",group:"inline"}),SN=Ck.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["u",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleUnderline:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetUnderline:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function CN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new pv({view:t=>new TN(t,e)})}class TN{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)}))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,i=this.editorView.dom,o=i.getBoundingClientRect(),r=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let n=t.nodeBefore,i=t.nodeAfter;if(n||i){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),r=n?o.bottom:o.top;n&&i&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let a=this.width/2*s;e={left:o.left,right:o.right,top:r-a,bottom:r+a}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*r;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;a=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-a)/r+"px",this.element.style.top=(e.top-l)/s+"px",this.element.style.width=(e.right-e.left)/r+"px",this.element.style.height=(e.bottom-e.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=n&&n.type.spec.disableDropCursor,o="function"==typeof i?i(this.editorView,t,e):i;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=Mg(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class EN extends Yg{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return EN.valid(n)?new EN(n):Yg.near(n)}content(){return of.empty}eq(e){return e instanceof EN&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new EN(e.resolve(t.pos))}getBookmark(){return new NN(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),i=e.node(t);if(0!=n)for(let e=i.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(i.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),i=e.node(t);if(n!=i.childCount)for(let e=i.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(i.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!n&&EN.valid(e))return e;let i=e.pos,o=null;for(let n=e.depth;;n--){let r=e.node(n);if(t>0?e.indexAfter(n)<r.childCount:e.index(n)>0){o=r.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;i+=t;let s=e.doc.resolve(i);if(EN.valid(s))return s}for(;;){let r=t>0?o.firstChild:o.lastChild;if(!r){if(o.isAtom&&!o.isText&&!ev.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),n=!1;continue e}break}o=r,i+=t;let s=e.doc.resolve(i);if(EN.valid(s))return s}return null}}}EN.prototype.visible=!1,EN.findFrom=EN.findGapCursorFrom,Yg.jsonID("gapcursor",EN);class NN{constructor(e){this.pos=e}map(e){return new NN(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return EN.valid(t)?new EN(t):Yg.near(t)}}const DN=Hx({ArrowLeft:jN("horiz",-1),ArrowRight:jN("horiz",1),ArrowUp:jN("vert",-1),ArrowDown:jN("vert",1)});function jN(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,i,o){let r=e.selection,s=t>0?r.$to:r.$from,a=r.empty;if(r instanceof Xg){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=EN.findGapCursorFrom(s,t,a);return!!l&&(i&&i(e.tr.setSelection(new EN(l))),!0)}}function AN(e,t,n){if(!e||!e.editable)return!1;let i=e.state.doc.resolve(t);if(!EN.valid(i))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&ev.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new EN(i))),!0)}function PN(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof EN))return!1;let{$from:n}=e.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;let o=Gm.empty;for(let s=i.length-1;s>=0;s--)o=Gm.from(i[s].createAndFill(null,o));let r=e.state.tr.replace(n.pos,n.pos,new of(o,0,0));return r.setSelection(Xg.near(r.doc.resolve(n.pos+1))),e.dispatch(r),!1}function MN(e){if(!(e.selection instanceof EN))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",nx.create(e.doc,[Zb.widget(e.selection.head,t,{key:"gapcursor"})])}var FN=200,ON=function(){};ON.prototype.append=function(e){return e.length?(e=ON.from(e),!this.length&&e||e.length<FN&&this.leafAppend(e)||this.length<FN&&e.leafPrepend(this)||this.appendInner(e)):this},ON.prototype.prepend=function(e){return e.length?ON.from(e).append(this):this},ON.prototype.appendInner=function(e){return new LN(this,e)},ON.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?ON.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},ON.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},ON.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},ON.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(t,n){return i.push(e(t,n))}),t,n),i},ON.from=function(e){return e instanceof ON?e:e&&e.length?new RN(e):ON.empty};var RN=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var o=t;o<n;o++)if(!1===e(this.values[o],i+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],i+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=FN)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=FN)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ON);ON.empty=new RN([]);var LN=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),i))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,i+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,i){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,i+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,i))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(ON);const IN=ON;class _N{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,i,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),i=n.maps.length);let r,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),i=n.maps.length),i--,void c.push(e);if(n){c.push(new VN(e.map));let t,o=e.step.map(n.slice(i));o&&a.maybeStep(o).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new VN(t,void 0,void 0,l.length+c.length))),i--,t&&n.appendMap(t,i)}else a.maybeStep(e.step);return e.selection?(r=n?e.selection.map(n.slice(i)):e.selection,s=new _N(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:r}}addTransform(e,t,n,i){let o=[],r=this.eventCount,s=this.items,a=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),u=new VN(e.mapping.maps[c],l,t);(n=a&&a.merge(u))&&(u=n,c?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(r++,t=void 0),i||(a=u)}let l=r-n.depth;return l>zN&&(s=function(e,t){let n;return e.forEach(((e,i)=>{if(e.selection&&0==t--)return n=i,!1})),e.slice(n)}(s,l),r-=l),new _N(s.append(o),r)}remapping(e,t){let n=new cg;return this.items.forEach(((t,i)=>{let o=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new _N(this.items.append(e.map((e=>new VN(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),o=e.mapping,r=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),i);let a=t;this.items.forEach((t=>{let i=o.getMirror(--a);if(null==i)return;r=Math.min(r,i);let l=o.maps[i];if(t.step){let r=e.steps[i].invert(e.docs[i]),c=t.selection&&t.selection.map(o.slice(a+1,i));c&&s++,n.push(new VN(l,r,c))}else n.push(new VN(l))}),i);let l=[];for(let d=t;d<r;d++)l.push(new VN(o.maps[d]));let c=this.items.slice(0,i).append(l).append(n),u=new _N(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.remapping(0,e),n=t.maps.length,i=[],o=0;return this.items.forEach(((r,s)=>{if(s>=e)i.push(r),r.selection&&o++;else if(r.step){let e=r.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=r.selection&&r.selection.map(t.slice(n));a&&o++;let l,c=new VN(s.invert(),e,a),u=i.length-1;(l=i.length&&i[u].merge(c))?i[u]=l:i.push(c)}}else r.map&&n--}),this.items.length,0),new _N(IN.from(i.reverse()),o)}}_N.empty=new _N(IN.empty,0);class VN{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new VN(t.getMap().invert(),t,this.selection)}}}class $N{constructor(e,t,n,i,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}}const zN=20;function BN(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach(((e,n,i,o)=>t.push(i,o)));return t}function HN(e,t){if(!e)return null;let n=[];for(let i=0;i<e.length;i+=2){let o=t.map(e[i],1),r=t.map(e[i+1],-1);o<=r&&n.push(o,r)}return n}let UN=!1,WN=null;function qN(e){let t=e.plugins;if(WN!=t){UN=!1,WN=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){UN=!0;break}}return UN}const KN=new gv("history"),YN=new gv("closeHistory");function JN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new pv({key:KN,state:{init:()=>new $N(_N.empty,_N.empty,null,0,-1),apply:(t,n,i)=>function(e,t,n,i){let o,r=n.getMeta(KN);if(r)return r.historyState;n.getMeta(YN)&&(e=new $N(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(KN))return s.getMeta(KN).redo?new $N(e.done.addTransform(n,void 0,i,qN(t)),e.undone,BN(n.mapping.maps),e.prevTime,e.prevComposition):new $N(e.done,e.undone.addTransform(n,void 0,i,qN(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new $N(e.done.rebased(n,o),e.undone.rebased(n,o),HN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new $N(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),HN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),r=0==e.prevTime||!s&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,i)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&i>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),a=s?HN(e.prevRanges,n.mapping):BN(n.mapping.maps);return new $N(e.done.addTransform(n,r?t.selection.getBookmark():void 0,i,qN(t)),_N.empty,a,n.time,null==o?e.prevComposition:o)}}(n,i,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i="historyUndo"==n?GN:"historyRedo"==n?XN:null;return!!i&&(t.preventDefault(),i(e.state,e.dispatch))}}}})}function QN(e,t){return(n,i)=>{let o=KN.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(i){let r=function(e,t,n){let i=qN(t),o=KN.get(t).spec.config,r=(n?e.undone:e.done).popEvent(t,i);if(!r)return null;let s=r.selection.resolve(r.transform.doc),a=(n?e.done:e.undone).addTransform(r.transform,t.selection.getBookmark(),o,i),l=new $N(n?a:r.remaining,n?r.remaining:a,null,0,-1);return r.transform.setSelection(s).setMeta(KN,{redo:n,historyState:l})}(o,n,e);r&&i(t?r.scrollIntoView():r)}return!0}}const GN=QN(!1,!0),XN=QN(!0,!0);QN(!1,!1),QN(!0,!1);Ak.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter((e=>""!==e)).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new pv({key:new gv("characterCount"),appendTransaction:(t,n,i)=>{if(e)return;const o=this.options.limit;if(null===o||void 0===o||0===o)return void(e=!0);const r=this.storage.characters({node:i.doc});if(r>o){const t=0,n=r-o;console.warn("[CharacterCount] Initial content exceeded limit of ".concat(o," characters. Content was automatically trimmed."));const s=i.tr.deleteRange(t,n);return e=!0,s}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null===n||void 0===n)return!0;const i=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=n)return!0;if(i>n&&o>n&&o<=i)return!0;if(i>n&&o>n&&o>i)return!1;if(!e.getMeta("paste"))return!1;const r=e.selection.$head.pos,s=r-(o-n),a=r;e.deleteRange(s,a);return!(this.storage.characters({node:e.doc})>n)}})]}});var ZN=Ak.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[CN(this.options)]}}),eD=(Ak.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new pv({key:new gv("focus"),props:{decorations:e=>{let{doc:t,selection:n}=e;const{isEditable:i,isFocused:o}=this.editor,{anchor:r}=n,s=[];if(!i||!o)return nx.create(t,[]);let a=0;"deepest"===this.options.mode&&t.descendants(((e,t)=>{if(e.isText)return;if(!(r>=t&&r<=t+e.nodeSize-1))return!1;a+=1}));let l=0;return t.descendants(((e,t)=>{if(e.isText)return!1;if(!(r>=t&&r<=t+e.nodeSize-1))return!1;l+=1;if("deepest"===this.options.mode&&a-l>0||"shallowest"===this.options.mode&&l>1)return"deepest"===this.options.mode;s.push(Zb.node(t,t+e.nodeSize,{class:this.options.className}))})),nx.create(t,s)}}})]}}),Ak.create({name:"gapCursor",addProseMirrorPlugins:()=>[new pv({props:{decorations:MN,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&EN.valid(n)?new EN(n):null,handleClick:AN,handleKeyDown:DN,handleDOMEvents:{beforeinput:PN}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=Rw(Pw(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}}));Ak.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new pv({key:new gv("placeholder"),props:{decorations:e=>{let{doc:t,selection:n}=e;const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=n,r=[];if(!i)return null;const s=this.editor.isEmpty;return t.descendants(((e,t)=>{const n=o>=t&&o<=t+e.nodeSize,i=!e.isLeaf&&pk(e);if((n||!this.options.showOnlyCurrent)&&i){const i=[this.options.emptyNodeClass];s&&i.push(this.options.emptyEditorClass);const o=Zb.node(t,t+e.nodeSize,{class:i.join(" "),"data-placeholder":"function"===typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});r.push(o)}return this.options.includeChildren})),nx.create(t,r)}}})]}}),Ak.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new pv({key:new gv("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||mk(n.selection)||e.view.dragging?null:nx.create(n.doc,[Zb.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});function tD(e){let{types:t,node:n}=e;return n&&Array.isArray(t)&&t.includes(n.type)||(null==n?void 0:n.type)===t}var nD=Ak.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:[]}),addProseMirrorPlugins(){const e=new gv(this.name),t=Object.entries(this.editor.schema.nodes).map((e=>{let[,t]=e;return t})).filter((e=>(this.options.notAfter||[]).concat(this.options.node).includes(e.name)));return[new pv({key:e,appendTransaction:(t,n,i)=>{const{doc:o,tr:r,schema:s}=i,a=e.getState(i),l=o.content.size,c=s.nodes[this.options.node];if(a)return r.insert(l,c.create())},state:{init:(e,n)=>!tD({node:n.tr.doc.lastChild,types:t}),apply:(e,n)=>{if(!e.docChanged)return n;return!tD({node:e.doc.lastChild,types:t})}}})]}}),iD=Ak.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>e=>{let{state:t,dispatch:n}=e;return GN(t,n)},redo:()=>e=>{let{state:t,dispatch:n}=e;return XN(t,n)}}),addProseMirrorPlugins(){return[JN(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}}),oD=Ak.create({name:"starterKit",addExtensions(){var e,t,n,i;const o=[];return!1!==this.options.bold&&o.push(FC.configure(this.options.bold)),!1!==this.options.blockquote&&o.push(DC.configure(this.options.blockquote)),!1!==this.options.bulletList&&o.push(ZE.configure(this.options.bulletList)),!1!==this.options.code&&o.push(LC.configure(this.options.code)),!1!==this.options.codeBlock&&o.push(VC.configure(this.options.codeBlock)),!1!==this.options.document&&o.push($C.configure(this.options.document)),!1!==this.options.dropcursor&&o.push(ZN.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&o.push(eD.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&o.push(zC.configure(this.options.hardBreak)),!1!==this.options.heading&&o.push(BC.configure(this.options.heading)),!1!==this.options.undoRedo&&o.push(iD.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&o.push(HC.configure(this.options.horizontalRule)),!1!==this.options.italic&&o.push(YC.configure(this.options.italic)),!1!==this.options.listItem&&o.push(eN.configure(this.options.listItem)),!1!==this.options.listKeymap&&o.push(dN.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&o.push(KE.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&o.push(mN.configure(this.options.orderedList)),!1!==this.options.paragraph&&o.push(yN.configure(this.options.paragraph)),!1!==this.options.strike&&o.push(wN.configure(this.options.strike)),!1!==this.options.text&&o.push(kN.configure(this.options.text)),!1!==this.options.underline&&o.push(SN.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&o.push(nD.configure(null==(i=this.options)?void 0:i.trailingNode)),o}}),rD=oD,sD=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,aD=sC.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML(e){let{HTMLAttributes:t}=e;return["img",_w(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:e=>t=>{let{commands:n}=t;return n.insertContent({type:this.name,attrs:e})}}},addInputRules(){return[nC({find:sD,type:this.type,getAttributes:e=>{const[,,t,n,i]=e;return{src:n,alt:t,title:i}}})]}}),lD=aD,cD=Ck.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach((e=>{var t,n;const i=e.getAttribute("style"),o=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style","".concat(o,";").concat(i))}))})(e),{})}]},renderHTML(e){let{HTMLAttributes:t}=e;return["span",_w(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:e=>t=>{let{commands:n}=t;return n.toggleMark(this.name,e)},removeEmptyTextStyle:()=>e=>{let{tr:t}=e;const{selection:n}=t;return t.doc.nodesBetween(n.from,n.to,((e,n)=>{if(e.isTextblock)return!0;e.marks.filter((e=>e.type===this.type)).some((e=>Object.values(e.attrs).some((e=>!!e))))||t.removeMark(n,n+e.nodeSize,this.type)})),!0}}}}),uD=Ak.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:"background-color: ".concat(e.backgroundColor)}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{backgroundColor:e}).run()},unsetBackgroundColor:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}})}),dD=Ak.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:"color: ".concat(e.color)}:{}}}}]},addCommands:()=>({setColor:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{color:e}).run()},unsetColor:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}})}),hD=Ak.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:"font-family: ".concat(e.fontFamily)}:{}}}}]},addCommands:()=>({setFontFamily:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontFamily:e}).run()},unsetFontFamily:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}})}),pD=Ak.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:"font-size: ".concat(e.fontSize)}:{}}}}]},addCommands:()=>({setFontSize:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontSize:e}).run()},unsetFontSize:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}})}),mD=Ak.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:"line-height: ".concat(e.lineHeight)}:{}}}}]},addCommands:()=>({setLineHeight:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{lineHeight:e}).run()},unsetLineHeight:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}})}),fD=(Ak.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(uD.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(dD.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(hD.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(pD.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(mD.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(cD.configure(this.options.textStyle)),e}}),dD);const gD=e=>{let{editor:t}=e;return t?(0,vo.jsxs)("div",{className:"border-b border-gray-300 p-2 bg-gray-50 flex flex-wrap gap-1",children:[(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("bold")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Bold"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("italic")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Italic"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("strike")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Strike"}),(0,vo.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("heading",{level:1})?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"H1"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("heading",{level:2})?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"H2"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("heading",{level:3})?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"H3"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("paragraph")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"P"}),(0,vo.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("bulletList")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"\u2022 List"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("orderedList")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"1. List"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("blockquote")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Quote"}),(0,vo.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,vo.jsx)("button",{onClick:()=>{const e=window.prompt("Enter link URL:");e&&t.chain().focus().setLink({href:e}).run()},className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("link")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Link"}),(0,vo.jsx)("button",{onClick:()=>t.chain().focus().unsetLink().run(),disabled:!t.isActive("link"),className:"px-3 py-1 rounded text-sm font-medium bg-white text-gray-700 hover:bg-gray-100 border disabled:opacity-50",children:"Unlink"})]}):null},vD=e=>{let{content:n,onChange:i,placeholder:o="Start typing..."}=e;const r=wC({extensions:[rD,YE.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline"}}),lD,cD,fD],content:n||"",onUpdate:e=>{let{editor:t}=e;const n=t.getHTML();i(n)},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none p-4 min-h-[200px]"}}});return t.useEffect((()=>{r&&n!==r.getHTML()&&r.commands.setContent(n||"")}),[n,r]),(0,vo.jsxs)("div",{className:"border border-gray-300 rounded-lg bg-white",children:[(0,vo.jsx)(gD,{editor:r}),(0,vo.jsx)(fC,{editor:r,className:"min-h-[200px] max-h-[500px] overflow-y-auto"}),!n&&(0,vo.jsx)("div",{className:"text-gray-400 text-sm p-4 pointer-events-none",children:o})]})},yD=()=>{var e,n,i,o,r,s,a,l;const[u,d]=(0,t.useState)([]),[h,p]=(0,t.useState)("hero_section"),[m,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)("en"),[x,w]=(0,t.useState)(!0),[k,S]=(0,t.useState)(!1),[C,T]=(0,t.useState)({title:"",content:""}),E=()=>localStorage.getItem("english_fiesta_token"),N=[{value:"hero_section",label:"Hero Section"},{value:"about_page",label:"About Page"},{value:"faq_page",label:"FAQ Page"},{value:"footer",label:"Footer"},{value:"ui_text",label:"UI Text"}],D=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"es",name:"Spanish",flag:"\ud83c\uddea\ud83c\uddf8"},{code:"pt",name:"Portuguese",flag:"\ud83c\udde7\ud83c\uddf7"}];(0,t.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/content"),{headers:{Authorization:"Bearer ".concat(E())}}),t=await e.json();d(t.content_items||[]),w(!1)}catch(e){console.error("Error fetching content:",e),w(!1)}},A=async()=>{const e=prompt('Enter section key (e.g., "hero_title", "footer_copyright"):');if(e)try{if(!(await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/content?content_type=").concat(h,"&section_key=").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(E())},body:JSON.stringify({languages:{en:{title:"",content:""},es:{title:"",content:""},pt:{title:"",content:""}}})})).ok)throw new Error("Failed to create content item");j(),alert("Content item created successfully!")}catch(t){console.error("Error creating content:",t),alert("Error creating content item. Please try again.")}},P=u.filter((e=>e.content_type===h));return x?(0,vo.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,vo.jsx)("div",{className:"text-lg",children:"Loading content..."})}):(0,vo.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,vo.jsxs)("div",{className:"mb-8",children:[(0,vo.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Content Management"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"Manage all your site content across multiple languages with WYSIWYG editing."})]}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,vo.jsx)("div",{className:"lg:col-span-1",children:(0,vo.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Content Types"}),(0,vo.jsx)("div",{className:"space-y-2",children:N.map((e=>(0,vo.jsx)("button",{onClick:()=>p(e.value),className:"w-full text-left p-3 rounded-lg transition-colors ".concat(h===e.value?"bg-blue-100 text-blue-800 border border-blue-300":"hover:bg-gray-100"),children:e.label},e.value)))}),(0,vo.jsx)("button",{onClick:A,className:"w-full mt-4 bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors",children:"+ Add New Item"})]})}),(0,vo.jsx)("div",{className:"lg:col-span-1",children:(0,vo.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,vo.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:[null===(e=N.find((e=>e.value===h)))||void 0===e?void 0:e.label," Items (",P.length,")"]}),(0,vo.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[P.map((e=>(0,vo.jsxs)("div",{onClick:()=>(e=>{f(e),v(!1);const t=e.languages[y]||{title:"",content:""};T({title:t.title||"",content:t.content||""})})(e),className:"p-3 rounded-lg cursor-pointer transition-colors ".concat((null===m||void 0===m?void 0:m.id)===e.id?"bg-blue-100 border border-blue-300":"hover:bg-gray-100"),children:[(0,vo.jsx)("div",{className:"font-medium text-sm",children:e.section_key}),(0,vo.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Updated: ",new Date(e.updated_at).toLocaleDateString()]}),(0,vo.jsx)("div",{className:"flex gap-1 mt-2",children:D.map((t=>{var n,i;return(0,vo.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat(null!==(n=e.languages[t.code])&&void 0!==n&&n.title||null!==(i=e.languages[t.code])&&void 0!==i&&i.content?"bg-green-100 text-green-800":"bg-gray-100 text-gray-500"),children:[t.flag," ",t.code.toUpperCase()]},t.code)}))})]},e.id))),0===P.length&&(0,vo.jsxs)("div",{className:"text-gray-500 text-center py-8",children:["No content items found for this type.",(0,vo.jsx)("br",{}),(0,vo.jsx)("button",{onClick:A,className:"text-blue-600 hover:underline mt-2",children:"Create the first one"})]})]})]})}),(0,vo.jsx)("div",{className:"lg:col-span-2",children:m?(0,vo.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold",children:m.section_key}),(0,vo.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",null===(n=N.find((e=>e.value===m.content_type)))||void 0===n?void 0:n.label]})]}),g?(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("button",{onClick:async()=>{if(m){S(!0);try{const e=c(c({},m.languages),{},{[y]:{title:C.title,content:C.content}});if(!(await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/content/").concat(m.content_type,"/").concat(m.section_key),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(E())},body:JSON.stringify({languages:e})})).ok)throw new Error("Failed to save content");{const t=c(c({},m),{},{languages:e,updated_at:(new Date).toISOString()});f(t),d((e=>e.map((e=>e.id===m.id?t:e)))),v(!1),alert("Content saved successfully!")}}catch(e){console.error("Error saving content:",e),alert("Error saving content. Please try again.")}finally{S(!1)}}},disabled:k,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:k?"Saving...":"Save"}),(0,vo.jsx)("button",{onClick:()=>v(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]}):(0,vo.jsx)("button",{onClick:()=>{v(!0);const e=(null===m||void 0===m?void 0:m.languages[y])||{title:"",content:""};T({title:e.title||"",content:e.content||""})},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Content"})]}),(0,vo.jsxs)("div",{className:"mb-6",children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Editing Language:"}),(0,vo.jsx)("div",{className:"flex gap-2",children:D.map((e=>(0,vo.jsxs)("button",{onClick:()=>(e=>{if(b(e),m){const t=m.languages[e]||{title:"",content:""};T({title:t.title||"",content:t.content||""})}})(e.code),className:"px-4 py-2 rounded-lg transition-colors ".concat(y===e.code?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.flag," ",e.name]},e.code)))})]}),g?(0,vo.jsxs)("div",{className:"space-y-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (",null===(i=D.find((e=>e.code===y)))||void 0===i?void 0:i.name,"):"]}),(0,vo.jsx)("input",{type:"text",value:C.title,onChange:e=>T((t=>c(c({},t),{},{title:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter title..."})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content (",null===(o=D.find((e=>e.code===y)))||void 0===o?void 0:o.name,"):"]}),(0,vo.jsx)(vD,{content:C.content,onChange:e=>T((t=>c(c({},t),{},{content:e}))),placeholder:"Enter content..."})]})]}):(0,vo.jsxs)("div",{className:"space-y-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Title (",null===(r=D.find((e=>e.code===y)))||void 0===r?void 0:r.name,"):"]}),(0,vo.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(null===(s=m.languages[y])||void 0===s?void 0:s.title)||(0,vo.jsx)("span",{className:"text-gray-500 italic",children:"No title set"})})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Content (",null===(a=D.find((e=>e.code===y)))||void 0===a?void 0:a.name,"):"]}),(0,vo.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg min-h-[200px]",children:null!==(l=m.languages[y])&&void 0!==l&&l.content?(0,vo.jsx)("div",{dangerouslySetInnerHTML:{__html:m.languages[y].content}}):(0,vo.jsx)("span",{className:"text-gray-500 italic",children:"No content set"})})]})]})]}):(0,vo.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,vo.jsxs)("div",{className:"text-center py-12",children:[(0,vo.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"\ud83d\udcdd"}),(0,vo.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Content to Edit"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"Choose a content type and then select an item to start editing."})]})})})]})]})},bD=()=>{const{user:e,sessionToken:n}=yp(),[i,o]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)({name:"",slug:"",visible:!0}),[g,v]=(0,t.useState)(!1),y=async()=>{try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/topics"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();o(t.topics)}else l("Failed to fetch topics")}catch(e){l("Network error loading topics")}finally{s(!1)}};(0,t.useEffect)((()=>{y()}),[]);const b=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),x=e=>{const{name:t,value:n,type:i,checked:o}=e.target,r="checkbox"===i?o:n;f((e=>c(c({},e),{},{[t]:r},"name"===t&&{slug:b(n)})))};return r?(0,vo.jsx)("div",{className:"p-6",children:(0,vo.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,vo.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),(0,vo.jsxs)("div",{className:"space-y-3",children:[(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"})]})]})}):(0,vo.jsxs)("div",{className:"p-6",children:[(0,vo.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("span",{className:"text-3xl",children:"\ud83c\udff7\ufe0f"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Manage Topics"})]}),(0,vo.jsx)(Sc.button,{onClick:()=>p(!0),className:"bg-gradient-to-r from-fiesta-green to-green-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2795 Add Topic"})]}),a&&(0,vo.jsx)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,vo.jsx)("p",{className:"text-red-600 font-poppins",children:a})}),(0,vo.jsx)(Ep,{children:h&&(0,vo.jsxs)(Sc.div,{className:"bg-white rounded-xl shadow-lg border-2 border-fiesta-yellow p-6 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,vo.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 font-baloo",children:u?"Edit Topic":"Create New Topic"}),(0,vo.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0),l("");try{const e=u?"".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/topics/").concat(u.id):"".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/topics"),t=u?"PUT":"POST",i=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(m)});if(i.ok)await y(),f({name:"",slug:"",visible:!0}),d(null),p(!1);else{const e=await i.json();l(e.detail||"Failed to save topic")}}catch(t){l("Network error saving topic")}finally{v(!1)}},className:"space-y-4",children:[(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Topic Name *"}),(0,vo.jsx)("input",{type:"text",name:"name",value:m.name,onChange:x,placeholder:"Enter topic name",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-green focus:outline-none font-poppins"})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Slug *"}),(0,vo.jsx)("input",{type:"text",name:"slug",value:m.slug,onChange:x,placeholder:"topic-slug",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-green focus:outline-none font-poppins"})]})]}),(0,vo.jsxs)("div",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",name:"visible",id:"topicVisible",checked:m.visible,onChange:x,className:"w-4 h-4 text-fiesta-green focus:ring-fiesta-green border-gray-300 rounded"}),(0,vo.jsx)("label",{htmlFor:"topicVisible",className:"ml-2 text-sm font-medium text-gray-700 font-poppins",children:"Visible in frontend filters"})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,vo.jsx)(Sc.button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-fiesta-green to-green-500 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 font-poppins",whileHover:{scale:g?1:1.05},whileTap:{scale:g?1:.95},children:g?"Saving...":u?"Update Topic":"Create Topic"}),(0,vo.jsx)(Sc.button,{type:"button",onClick:()=>{f({name:"",slug:"",visible:!0}),d(null),p(!1),l("")},className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})]})}),(0,vo.jsx)("div",{className:"space-y-4",children:0===i.length?(0,vo.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcdd"}),(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No Topics Yet"}),(0,vo.jsx)("p",{className:"text-gray-600 font-poppins",children:"Create your first topic to get started."})]}):i.map(((e,t)=>(0,vo.jsx)(Sc.div,{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-fiesta-green hover:shadow-lg transition-shadow duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vo.jsxs)("div",{className:"flex-1",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 font-poppins",children:e.name}),(0,vo.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.visible?"\ud83d\udc41\ufe0f Visible":"\ud83d\udeab Hidden"})]}),(0,vo.jsxs)("p",{className:"text-sm text-gray-600 font-poppins",children:["Slug: ",e.slug]}),(0,vo.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vo.jsx)(Sc.button,{onClick:()=>(e=>{d(e),f({name:e.name,slug:e.slug,visible:e.visible}),p(!0)})(e),className:"text-fiesta-blue hover:text-blue-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit topic",children:"\u270f\ufe0f"}),(0,vo.jsx)(Sc.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this topic?")){v(!0);try{(await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/topics/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok?await y():l("Failed to delete topic")}catch(t){l("Network error deleting topic")}finally{v(!1)}}})(e.id),disabled:g,className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors disabled:opacity-50",whileHover:{scale:g?1:1.1},whileTap:{scale:g?1:.9},title:"Delete topic",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)))})]})},xD=()=>{const{user:e,sessionToken:n}=yp(),[i,o]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)({name:"",slug:"",visible:!0}),[g,v]=(0,t.useState)(!1),y=async()=>{try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/countries"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();o(t.countries)}else l("Failed to fetch countries")}catch(e){l("Network error loading countries")}finally{s(!1)}};(0,t.useEffect)((()=>{y()}),[]);const b=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),x=e=>{const{name:t,value:n,type:i,checked:o}=e.target,r="checkbox"===i?o:n;f((e=>c(c({},e),{},{[t]:r},"name"===t&&{slug:b(n)})))};return r?(0,vo.jsx)("div",{className:"p-6",children:(0,vo.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,vo.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),(0,vo.jsxs)("div",{className:"space-y-3",children:[(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"})]})]})}):(0,vo.jsxs)("div",{className:"p-6",children:[(0,vo.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("span",{className:"text-3xl",children:"\ud83c\udf0d"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Manage Countries"})]}),(0,vo.jsx)(Sc.button,{onClick:()=>p(!0),className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2795 Add Country"})]}),a&&(0,vo.jsx)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,vo.jsx)("p",{className:"text-red-600 font-poppins",children:a})}),(0,vo.jsx)(Ep,{children:h&&(0,vo.jsxs)(Sc.div,{className:"bg-white rounded-xl shadow-lg border-2 border-fiesta-blue p-6 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,vo.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 font-baloo",children:u?"Edit Country":"Create New Country"}),(0,vo.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0),l("");try{const e=u?"".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/countries/").concat(u.id):"".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/countries"),t=u?"PUT":"POST",i=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(m)});if(i.ok)await y(),f({name:"",slug:"",visible:!0}),d(null),p(!1);else{const e=await i.json();l(e.detail||"Failed to save country")}}catch(t){l("Network error saving country")}finally{v(!1)}},className:"space-y-4",children:[(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Country Name *"}),(0,vo.jsx)("input",{type:"text",name:"name",value:m.name,onChange:x,placeholder:"Enter country name",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none font-poppins"})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Slug *"}),(0,vo.jsx)("input",{type:"text",name:"slug",value:m.slug,onChange:x,placeholder:"country-slug",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none font-poppins"})]})]}),(0,vo.jsxs)("div",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",name:"visible",id:"countryVisible",checked:m.visible,onChange:x,className:"w-4 h-4 text-fiesta-blue focus:ring-fiesta-blue border-gray-300 rounded"}),(0,vo.jsx)("label",{htmlFor:"countryVisible",className:"ml-2 text-sm font-medium text-gray-700 font-poppins",children:"Visible in frontend filters"})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,vo.jsx)(Sc.button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 font-poppins",whileHover:{scale:g?1:1.05},whileTap:{scale:g?1:.95},children:g?"Saving...":u?"Update Country":"Create Country"}),(0,vo.jsx)(Sc.button,{type:"button",onClick:()=>{f({name:"",slug:"",visible:!0}),d(null),p(!1),l("")},className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})]})}),(0,vo.jsx)("div",{className:"space-y-4",children:0===i.length?(0,vo.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\uddfa\ufe0f"}),(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No Countries Yet"}),(0,vo.jsx)("p",{className:"text-gray-600 font-poppins",children:"Create your first country to get started."})]}):i.map(((e,t)=>(0,vo.jsx)(Sc.div,{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-fiesta-blue hover:shadow-lg transition-shadow duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vo.jsxs)("div",{className:"flex-1",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 font-poppins",children:e.name}),(0,vo.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.visible?"\ud83d\udc41\ufe0f Visible":"\ud83d\udeab Hidden"})]}),(0,vo.jsxs)("p",{className:"text-sm text-gray-600 font-poppins",children:["Slug: ",e.slug]}),(0,vo.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vo.jsx)(Sc.button,{onClick:()=>(e=>{d(e),f({name:e.name,slug:e.slug,visible:e.visible}),p(!0)})(e),className:"text-fiesta-blue hover:text-blue-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit country",children:"\u270f\ufe0f"}),(0,vo.jsx)(Sc.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this country?")){v(!0);try{(await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/countries/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok?await y():l("Failed to delete country")}catch(t){l("Network error deleting country")}finally{v(!1)}}})(e.id),disabled:g,className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors disabled:opacity-50",whileHover:{scale:g?1:1.1},whileTap:{scale:g?1:.9},title:"Delete country",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)))})]})},wD=()=>{const{user:e,sessionToken:n}=yp(),[i,o]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)({name:"",visible:!0}),[g,v]=(0,t.useState)(!1),y=async()=>{try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/guides"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();o(t.guides)}else l("Failed to fetch guides")}catch(e){l("Network error loading guides")}finally{s(!1)}};(0,t.useEffect)((()=>{y()}),[]);const b=e=>{const{name:t,value:n,type:i,checked:o}=e.target,r="checkbox"===i?o:n;f((e=>c(c({},e),{},{[t]:r})))};return r?(0,vo.jsx)("div",{className:"p-6",children:(0,vo.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,vo.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),(0,vo.jsxs)("div",{className:"space-y-3",children:[(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"})]})]})}):(0,vo.jsxs)("div",{className:"p-6",children:[(0,vo.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("span",{className:"text-3xl",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Manage Guides"})]}),(0,vo.jsx)(Sc.button,{onClick:()=>p(!0),className:"bg-gradient-to-r from-fiesta-purple to-purple-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2795 Add Guide"})]}),a&&(0,vo.jsx)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,vo.jsx)("p",{className:"text-red-600 font-poppins",children:a})}),(0,vo.jsx)(Ep,{children:h&&(0,vo.jsxs)(Sc.div,{className:"bg-white rounded-xl shadow-lg border-2 border-fiesta-purple p-6 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,vo.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 font-baloo",children:u?"Edit Guide":"Create New Guide"}),(0,vo.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0),l("");try{const e=u?"".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/guides/").concat(u.id):"".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/guides"),t=u?"PUT":"POST",i=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(m)});if(i.ok)await y(),f({name:"",visible:!0}),d(null),p(!1);else{const e=await i.json();l(e.detail||"Failed to save guide")}}catch(t){l("Network error saving guide")}finally{v(!1)}},className:"space-y-4",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Guide Name *"}),(0,vo.jsx)("input",{type:"text",name:"name",value:m.name,onChange:b,placeholder:"Enter guide/instructor name",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-purple focus:outline-none font-poppins"})]}),(0,vo.jsxs)("div",{className:"flex items-center",children:[(0,vo.jsx)("input",{type:"checkbox",name:"visible",id:"guideVisible",checked:m.visible,onChange:b,className:"w-4 h-4 text-fiesta-purple focus:ring-fiesta-purple border-gray-300 rounded"}),(0,vo.jsx)("label",{htmlFor:"guideVisible",className:"ml-2 text-sm font-medium text-gray-700 font-poppins",children:"Visible in frontend filters"})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,vo.jsx)(Sc.button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-fiesta-purple to-purple-500 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 font-poppins",whileHover:{scale:g?1:1.05},whileTap:{scale:g?1:.95},children:g?"Saving...":u?"Update Guide":"Create Guide"}),(0,vo.jsx)(Sc.button,{type:"button",onClick:()=>{f({name:"",visible:!0}),d(null),p(!1),l("")},className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})]})}),(0,vo.jsx)("div",{className:"space-y-4",children:0===i.length?(0,vo.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf93"}),(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No Guides Yet"}),(0,vo.jsx)("p",{className:"text-gray-600 font-poppins",children:"Create your first guide to get started."})]}):i.map(((e,t)=>(0,vo.jsx)(Sc.div,{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-fiesta-purple hover:shadow-lg transition-shadow duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vo.jsxs)("div",{className:"flex-1",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 font-poppins",children:e.name}),(0,vo.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.visible?"\ud83d\udc41\ufe0f Visible":"\ud83d\udeab Hidden"})]}),(0,vo.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vo.jsx)(Sc.button,{onClick:()=>(e=>{d(e),f({name:e.name,visible:e.visible}),p(!0)})(e),className:"text-fiesta-purple hover:text-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit guide",children:"\u270f\ufe0f"}),(0,vo.jsx)(Sc.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this guide?")){v(!0);try{(await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/guides/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok?await y():l("Failed to delete guide")}catch(t){l("Network error deleting guide")}finally{v(!1)}}})(e.id),disabled:g,className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors disabled:opacity-50",whileHover:{scale:g?1:1.1},whileTap:{scale:g?1:.9},title:"Delete guide",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)))})]})},kD="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),SD=()=>{const{user:e,sessionToken:n}=yp(),[i,o]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)("content"),[c,u]=(0,t.useState)(0);(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=await fp.get("".concat(kD,"/admin/users"),{headers:{Authorization:"Bearer ".concat(n)}});o(e.data.users)}catch(e){console.error("Failed to fetch users:",e)}finally{s(!1)}};return r?(0,vo.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:(0,vo.jsx)("div",{className:"text-center py-8",children:"Loading admin dashboard..."})}):(0,vo.jsxs)("div",{className:"space-y-8",children:[(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,vo.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,vo.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udc51"}),"Admin Dashboard"]}),(0,vo.jsx)("div",{className:"border-b mb-6",children:(0,vo.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,vo.jsx)("button",{onClick:()=>l("content"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("content"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcdd Content Management"}),(0,vo.jsx)("button",{onClick:()=>l("management"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("management"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83c\udfac Video Management"}),(0,vo.jsx)("button",{onClick:()=>l("upload"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("upload"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udce4 Upload Videos"}),(0,vo.jsx)("button",{onClick:()=>l("youtube"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("youtube"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcfa Add YouTube"}),(0,vo.jsx)("button",{onClick:()=>l("users"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("users"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udc65 User Management"}),(0,vo.jsx)("button",{onClick:()=>l("topics"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("topics"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83c\udff7\ufe0f Manage Topics"}),(0,vo.jsx)("button",{onClick:()=>l("countries"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("countries"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83c\udf0d Manage Countries"}),(0,vo.jsx)("button",{onClick:()=>l("guides"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("guides"===a?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udc68\u200d\ud83c\udfeb Manage Guides"})]})}),"users"===a&&(0,vo.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,vo.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,vo.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.length}),(0,vo.jsx)("div",{className:"text-sm text-blue-800",children:"Total Users"})]}),(0,vo.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,vo.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.filter((e=>"student"===e.role)).length}),(0,vo.jsx)("div",{className:"text-sm text-green-800",children:"Students"})]}),(0,vo.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,vo.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:i.filter((e=>"instructor"===e.role)).length}),(0,vo.jsx)("div",{className:"text-sm text-purple-800",children:"Instructors"})]}),(0,vo.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[(0,vo.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:i.filter((e=>"admin"===e.role)).length}),(0,vo.jsx)("div",{className:"text-sm text-yellow-800",children:"Admins"})]})]})]}),"content"===a&&(0,vo.jsx)(yD,{}),"management"===a&&(0,vo.jsx)(Um,{refreshTrigger:c}),"upload"===a&&(0,vo.jsx)($m,{onUploadSuccess:()=>{u((e=>e+1)),l("management")}}),"youtube"===a&&(0,vo.jsx)(Bm,{onAddSuccess:()=>{u((e=>e+1)),l("management")}}),"users"===a&&(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"User Management"}),(0,vo.jsx)("div",{className:"overflow-x-auto",children:(0,vo.jsxs)("table",{className:"w-full text-sm",children:[(0,vo.jsx)("thead",{children:(0,vo.jsxs)("tr",{className:"border-b",children:[(0,vo.jsx)("th",{className:"text-left py-3 px-2",children:"Name"}),(0,vo.jsx)("th",{className:"text-left py-3 px-2",children:"Email"}),(0,vo.jsx)("th",{className:"text-left py-3 px-2",children:"Current Role"}),(0,vo.jsx)("th",{className:"text-left py-3 px-2",children:"Actions"})]})}),(0,vo.jsx)("tbody",{children:i.map((t=>(0,vo.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,vo.jsx)("td",{className:"py-3 px-2",children:t.name}),(0,vo.jsx)("td",{className:"py-3 px-2",children:t.email}),(0,vo.jsx)("td",{className:"py-3 px-2",children:(0,vo.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("admin"===t.role?"bg-yellow-100 text-yellow-800":"instructor"===t.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:["admin"===t.role&&"\ud83d\udc51 ","instructor"===t.role&&"\ud83c\udf93 ","student"===t.role&&"\ud83d\udcda ",t.role]})}),(0,vo.jsx)("td",{className:"py-3 px-2",children:(0,vo.jsxs)("select",{value:t.role,onChange:e=>(async(e,t)=>{try{await fp.post("".concat(kD,"/admin/users/role"),{user_id:e,new_role:t},{headers:{Authorization:"Bearer ".concat(n)}}),d(),alert("User role updated successfully!")}catch(i){console.error("Failed to update user role:",i),alert("Failed to update user role. Please try again.")}})(t.id,e.target.value),className:"text-xs border rounded px-2 py-1 bg-white",disabled:t.id===e.id,children:[(0,vo.jsx)("option",{value:"student",children:"Student"}),(0,vo.jsx)("option",{value:"instructor",children:"Instructor"}),(0,vo.jsx)("option",{value:"admin",children:"Admin"})]})})]},t.id)))})]})})]}),"topics"===a&&(0,vo.jsx)(bD,{}),"countries"===a&&(0,vo.jsx)(xD,{}),"guides"===a&&(0,vo.jsx)(wD,{})]})},CD="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),TD=e=>{let{isOpen:n,onClose:i,onSuccess:o}=e;const[r,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)("");return n?(0,vo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,vo.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[(0,vo.jsxs)("div",{className:"text-center mb-6",children:[(0,vo.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udce7"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Stay Motivated!"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"Get learning tips, progress updates, and new video notifications!"})]}),(0,vo.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),h("");try{const e=await fp.post("".concat(CD,"/email/subscribe"),{email:r,name:a||null,source:"onboarding"});h(e.data.message),"success"!==e.data.status&&"partial_success"!==e.data.status||(o&&o(),setTimeout((()=>{i(),s(""),l(""),h("")}),2e3))}catch(c){var t,n;h((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to subscribe. Please try again.")}finally{u(!1)}},className:"space-y-4",children:[(0,vo.jsx)("div",{children:(0,vo.jsx)("input",{type:"text",placeholder:"Your Name (Optional)",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,vo.jsx)("div",{children:(0,vo.jsx)("input",{type:"email",placeholder:"Your Email Address",value:r,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,vo.jsxs)("div",{className:"flex gap-3",children:[(0,vo.jsx)("button",{type:"button",onClick:i,className:"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Maybe Later"}),(0,vo.jsx)("button",{type:"submit",disabled:c||!r,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Subscribing...":"Subscribe"})]})]}),d&&(0,vo.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm ".concat(d.includes("success")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:d}),(0,vo.jsx)("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"We'll never spam you. Unsubscribe anytime with one click."})]})}):null},ED=e=>{let{onSubscribe:n}=e;const{t:i}=Nu(),[o,r]=(0,t.useState)((()=>"true"===localStorage.getItem("email_banner_dismissed")));return o?null:(0,vo.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 mb-8 rounded-xl shadow-lg",children:(0,vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("span",{className:"text-2xl",children:"\ud83d\udcec"}),(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("h3",{className:"font-bold text-lg",children:["\ud83d\udcec ",i("stay_on_track")]}),(0,vo.jsx)("p",{className:"text-sm opacity-90",children:i("join_community")})]})]}),(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("button",{onClick:n,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:i("subscribe")}),(0,vo.jsx)("button",{onClick:()=>{r(!0),localStorage.setItem("email_banner_dismissed","true")},className:"text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-lg transition-colors",children:"\u2715"})]})]})})},ND=()=>{const[e,n]=(0,t.useState)(!1),{isAuthenticated:i,user:o}=yp();return(0,vo.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,vo.jsx)(Fp,{}),!i&&(0,vo.jsx)(Op,{}),(0,vo.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[i&&"admin"===o.role&&(0,vo.jsx)(SD,{}),!i&&(0,vo.jsx)(ED,{onSubscribe:()=>n(!0)}),(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 text-center",children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfa5"}),(0,vo.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Ready to Start Learning?"}),(0,vo.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Access our complete video library with hundreds of English learning videos organized by level, topic, and series. Perfect for learners at every stage of their journey."}),(0,vo.jsxs)("div",{className:"space-y-4",children:[(0,vo.jsx)("a",{href:"/watch",className:"inline-block bg-blue-600 text-white text-xl font-semibold px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"\ud83d\ude80 Browse Videos"}),(0,vo.jsx)("div",{className:"text-sm text-gray-500",children:"Over 100+ videos \u2022 All levels \u2022 Free and Premium content"})]})]}),i&&(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,vo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Track Progress"}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm",children:"Monitor your learning hours and build daily streaks"})]}),(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,vo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcbe"}),(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Save Videos"}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm",children:"Create your personal watchlist and access watch history"})]}),(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,vo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcda"}),(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Organized Learning"}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm",children:"Explore video series and structured learning paths"})]})]})]}),!i&&(0,vo.jsx)(TD,{isOpen:e,onClose:()=>n(!1),onSuccess:()=>{localStorage.setItem("email_subscribed","true"),n(!1)}})]})},DD="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),jD=e=>{let{video:n,isOpen:i,onClose:o,onSuccess:r}=e;const{sessionToken:s}=yp(),[a,l]=(0,t.useState)((()=>(new Date).toISOString().split("T")[0])),[c,u]=(0,t.useState)((null===n||void 0===n?void 0:n.duration_minutes)||0),[d,h]=(0,t.useState)(!1),[p]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());return i&&n?(0,vo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[(0,vo.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,vo.jsxs)("div",{className:"flex justify-between items-start",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Mark as Watched"}),(0,vo.jsxs)("p",{className:"text-gray-600 text-sm",children:['"',n.title,'"']})]}),(0,vo.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,vo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,vo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n&&!d){h(!0);try{const e=s?{Authorization:"Bearer ".concat(s)}:{},t=await fp.post("".concat(DD,"/progress/manual"),{videoId:n.id,watchedAt:a,minutesWatched:parseInt(c)},{params:{session_id:p},headers:e});r&&r(t.data),o()}catch(l){var t,i;console.error("Error marking video as watched:",l),alert((null===(t=l.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to mark video as watched. Please try again.")}finally{h(!1)}}},className:"p-6 space-y-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{htmlFor:"watchedAt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Watched"}),(0,vo.jsx)("input",{type:"date",id:"watchedAt",value:a,onChange:e=>l(e.target.value),max:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{htmlFor:"minutesWatched",className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration Watched (minutes)"}),(0,vo.jsx)("input",{type:"number",id:"minutesWatched",value:c,onChange:e=>u(e.target.value),min:"1",max:n.duration_minutes,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0}),(0,vo.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Video duration: ",n.duration_minutes," minutes"]})]}),(0,vo.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,vo.jsx)("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:d,children:"Cancel"}),(0,vo.jsx)("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":"Mark as Watched"})]})]})]})}):null},AD="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),PD=e=>{let{video:n,onVideoSelect:i}=e;const{isAuthenticated:o,isStudent:r,sessionToken:s}=yp(),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[v]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());(0,t.useEffect)((()=>{o&&r&&b(),y()}),[o,r,n.id]);const y=async()=>{try{var e;const t=s?{Authorization:"Bearer ".concat(s)}:{},i=await fp.get("".concat(AD,"/progress/").concat(v),{headers:t}),o=null===(e=i.data.recent_activity)||void 0===e?void 0:e.find((e=>e.video_id===n.id&&e.completed));m(!!o)}catch(t){console.error("Error checking video watched status:",t)}},b=async()=>{try{const e=s?{Authorization:"Bearer ".concat(s)}:{},t=await fp.get("".concat(AD,"/user/list/status/").concat(n.id),{headers:e});u(t.data.in_list)}catch(e){console.error("Error checking video list status:",e)}},x=async()=>{if(!f){g(!0);try{const e=s?{Authorization:"Bearer ".concat(s)}:{};await fp.post("".concat(AD,"/user/unmark-watched"),{video_id:n.id},{params:{session_id:v},headers:e}),m(!1)}catch(i){var e,t;console.error("Error unmarking video as watched:",i),alert((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to unmark video. Please try again.")}finally{g(!1)}}};return(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer group",children:[(0,vo.jsxs)("div",{className:"relative",onClick:()=>{!n.is_premium||r?i(n):alert("Please create an account to access premium content!")},children:[(0,vo.jsx)("img",{src:n.thumbnail_url,alt:n.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="180" viewBox="0 0 320 180"><rect width="320" height="180" fill="%23f3f4f6"/><text x="160" y="90" text-anchor="middle" fill="%236b7280" font-family="Arial" font-size="16">Video</text></svg>'}}),(0,vo.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:(0,vo.jsx)("div",{className:"w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,vo.jsx)("svg",{className:"w-6 h-6 text-blue-600 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{d:"M8 5v14l11-7z"})})})}),(0,vo.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs font-medium",children:[n.duration_minutes,"min"]}),n.is_premium&&(0,vo.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udc8e"}),"youtube"===n.video_type&&(0,vo.jsx)("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udcfa"})]}),(0,vo.jsxs)("div",{className:"p-4",children:[(0,vo.jsx)("h3",{className:"font-semibold text-gray-800 line-clamp-2 mb-2 group-hover:text-blue-600 transition-colors",children:n.title}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:n.description}),(0,vo.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,vo.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({"New Beginner":"bg-green-100 text-green-800",Beginner:"bg-blue-100 text-blue-800",Intermediate:"bg-yellow-100 text-yellow-800",Advanced:"bg-red-100 text-red-800"}[n.level]),children:n.level}),(0,vo.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs",children:n.category})]}),(0,vo.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,vo.jsxs)("span",{children:["\ud83d\udc68\u200d\ud83c\udfeb ",n.instructor_name]}),(0,vo.jsxs)("span",{children:["\ud83c\udf0d ",n.country]})]}),n.accents&&n.accents.length>0&&(0,vo.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["\ud83d\udde3\ufe0f ",n.accents.join(", ")," Accent",n.accents.length>1?"s":""]}),n.is_premium&&!o&&(0,vo.jsx)("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,vo.jsx)("div",{className:"text-xs text-yellow-800 text-center",children:"\ud83d\udc8e Premium content - Sign up to access"})}),(0,vo.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,vo.jsx)("button",{onClick:()=>{p?x():l(!0)},disabled:f,className:"flex-1 px-3 py-2 text-xs rounded-lg transition-colors disabled:opacity-50 ".concat(p?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-200 text-gray-700 hover:bg-gray-300"),title:p?"Mark as unwatched":"Mark as watched",children:f?"...":p?"\u2713 Watched":"+ Watched"}),o&&r&&(0,vo.jsx)("button",{onClick:async()=>{if(o&&r&&!d){h(!0);try{const e={Authorization:"Bearer ".concat(s)};c?(await fp.delete("".concat(AD,"/user/list/").concat(n.id),{headers:e}),u(!1)):(await fp.post("".concat(AD,"/user/list"),{video_id:n.id},{headers:e}),u(!0))}catch(i){var e,t;console.error("Error managing video list:",i),alert((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to update your list. Please try again.")}finally{h(!1)}}},disabled:d,className:"flex-1 px-3 py-2 text-xs rounded-lg transition-colors disabled:opacity-50 ".concat(c?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"),title:c?"Remove from My List":"Add to My List",children:d?"...":c?"\u2715 Remove":"+ My List"})]})]}),(0,vo.jsx)(jD,{video:n,isOpen:a,onClose:()=>l(!1),onSuccess:()=>{m(!0)}})]})},MD=e=>{let{videoId:n,onCommentSubmitted:i}=e;const[o,r]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),{user:u,isAuthenticated:d}=yp();return d&&"guest"!==u.role?(0,vo.jsx)(Sc.form,{onSubmit:async e=>{if(e.preventDefault(),o.trim()){a(!0),c("");try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/comments/").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.sessionToken)},body:JSON.stringify({text:o.trim()})});if(e.ok){const t=await e.json();r(""),i(t.comment)}else 401===e.status?c("You need to be logged in to post comments"):403===e.status?c("You need to be a student or higher to post comments"):c("Failed to post comment. Please try again.")}catch(t){c("Network error. Please try again.")}finally{a(!1)}}},className:"bg-white rounded-xl shadow-lg p-6 border-2 border-fiesta-yellow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,vo.jsxs)("div",{className:"flex items-start gap-4",children:[(0,vo.jsx)(Sc.div,{className:"flex-shrink-0",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:u.picture?(0,vo.jsx)("img",{src:u.picture,alt:u.name,className:"w-10 h-10 rounded-full border-2 border-fiesta-pink"}):(0,vo.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-fiesta-purple to-fiesta-pink flex items-center justify-center text-white font-bold font-poppins",children:u.name.charAt(0).toUpperCase()})}),(0,vo.jsxs)("div",{className:"flex-1",children:[(0,vo.jsx)("textarea",{value:o,onChange:e=>r(e.target.value),placeholder:"Share your thoughts about this video... \ud83d\udcad",className:"w-full p-4 border-2 border-gray-200 rounded-lg resize-none focus:border-fiesta-blue focus:outline-none font-poppins",rows:3,maxLength:500,disabled:s}),(0,vo.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,vo.jsxs)("span",{className:"text-xs text-gray-500 font-poppins",children:[o.length,"/500 characters"]}),l&&(0,vo.jsx)("span",{className:"text-red-500 text-sm font-poppins",children:l})]}),(0,vo.jsx)(Sc.button,{type:"submit",disabled:!o.trim()||s,className:"mt-3 px-6 py-2 rounded-full font-bold font-poppins transition-all duration-200 ".concat(!o.trim()||s?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-fiesta-pink to-fiesta-purple text-white hover:shadow-lg"),whileHover:!o.trim()||s?{}:{scale:1.05},whileTap:!o.trim()||s?{}:{scale:.95},children:s?"\ud83d\udce4 Posting...":"\ud83d\udcac Post Comment"})]})]})}):(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-r from-fiesta-blue to-fiesta-purple rounded-xl p-6 text-center text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,vo.jsx)("p",{className:"font-poppins text-lg mb-2",children:"\ud83d\udcac Join the conversation!"}),(0,vo.jsx)("p",{className:"font-poppins text-sm opacity-90 mb-4",children:"Sign up as a student to share your thoughts and connect with other learners."}),(0,vo.jsx)(Sc.button,{onClick:()=>window.location.href="/",className:"bg-fiesta-yellow text-gray-800 px-6 py-2 rounded-full font-bold font-poppins hover:bg-yellow-300 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Sign Up to Comment"})]})},FD=e=>{let{comment:n,onCommentDeleted:i,onCommentPinToggled:o}=e;const[r,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),{user:c,isAuthenticated:u}=yp(),d=u&&"admin"===c.role;return(0,vo.jsxs)(Sc.div,{className:"rounded-xl shadow-md p-4 border-l-4 hover:shadow-lg transition-shadow duration-200 ".concat(n.pinned?"bg-gradient-to-r from-fiesta-yellow from-5% to-white border-fiesta-yellow shadow-lg":"bg-white border-fiesta-blue"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.01},children:[n.pinned&&(0,vo.jsxs)(Sc.div,{className:"flex items-center gap-1 mb-3 text-fiesta-orange font-semibold text-sm",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:[(0,vo.jsx)("span",{className:"text-lg",children:"\ud83d\udccc"}),(0,vo.jsx)("span",{className:"font-poppins",children:"Pinned"})]}),(0,vo.jsxs)("div",{className:"flex items-start gap-3",children:[(0,vo.jsx)(Sc.div,{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-fiesta-green to-fiesta-blue flex items-center justify-center text-white font-bold text-sm font-poppins",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:n.user_name.charAt(0).toUpperCase()}),(0,vo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,vo.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vo.jsx)("span",{className:"font-semibold text-gray-800 font-poppins",children:n.user_name}),(0,vo.jsx)("span",{className:"text-xs text-gray-500 font-poppins",children:(e=>{const t=new Date(e),n=new Date,i=n-t,o=Math.floor(i/6e4),r=Math.floor(o/60),s=Math.floor(r/24);return o<1?"Just now":o<60?"".concat(o," minute").concat(1===o?"":"s"," ago"):r<24?"".concat(r," hour").concat(1===r?"":"s"," ago"):s<7?"".concat(s," day").concat(1===s?"":"s"," ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==n.getFullYear()?"numeric":void 0})})(n.created_at)})]}),d&&(0,vo.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vo.jsx)(Sc.button,{onClick:async()=>{l(!0);try{const e=n.pinned?"unpin":"pin",t=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/comments/").concat(n.id,"/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(c.sessionToken)}});if(t.ok){const e=await t.json();o(e.comment)}else console.error("Failed to toggle pin status")}catch(e){console.error("Error toggling pin status:",e)}finally{l(!1)}},disabled:a,className:"text-sm p-2 rounded transition-colors font-poppins ".concat(n.pinned?"text-fiesta-orange hover:text-orange-700 bg-fiesta-yellow bg-opacity-20":"text-gray-500 hover:text-fiesta-orange"),whileHover:{scale:1.1},whileTap:{scale:.9},title:n.pinned?"Unpin comment":"Pin comment",children:a?"\u23f3":n.pinned?"\ud83d\udccc":"\ud83d\udccd"}),(0,vo.jsx)(Sc.button,{onClick:async()=>{if(confirm("Are you sure you want to delete this comment?")){s(!0);try{(await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/admin/comments/").concat(n.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(c.sessionToken)}})).ok?i(n.id):console.error("Failed to delete comment")}catch(e){console.error("Error deleting comment:",e)}finally{s(!1)}}},disabled:r,className:"text-red-500 hover:text-red-700 text-sm p-2 rounded transition-colors font-poppins",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Delete comment (Admin only)",children:r?"\u23f3":"\ud83d\uddd1\ufe0f"})]})]}),(0,vo.jsx)(Sc.p,{className:"text-gray-700 leading-relaxed font-poppins",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},children:n.text}),(0,vo.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,vo.jsxs)(Sc.button,{className:"flex items-center gap-1 text-gray-500 hover:text-fiesta-pink text-sm font-poppins transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,vo.jsx)("span",{children:"\ud83d\udc4d"}),(0,vo.jsx)("span",{children:"Like"})]}),(0,vo.jsxs)(Sc.button,{className:"flex items-center gap-1 text-gray-500 hover:text-fiesta-blue text-sm font-poppins transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,vo.jsx)("span",{children:"\ud83d\udcac"}),(0,vo.jsx)("span",{children:"Reply"})]})]})]})]})]})},OD=e=>{let{videoId:n}=e;const[i,o]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),c=async()=>{try{const e=await fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/comments/").concat(n));if(e.ok){const t=await e.json();o(t.comments)}else l("Failed to load comments")}catch(e){l("Network error loading comments")}finally{s(!1)}};(0,t.useEffect)((()=>{c()}),[n]);const u=e=>{o((t=>t.filter((t=>t.id!==e))))},d=e=>{o((t=>t.map((t=>t.id===e.id?e:t)).sort(((e,t)=>e.pinned!==t.pinned?t.pinned-e.pinned:new Date(t.created_at)-new Date(e.created_at)))))},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return r?(0,vo.jsx)("div",{className:"bg-gray-50 rounded-xl p-6",children:(0,vo.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,vo.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,vo.jsxs)("div",{className:"space-y-3",children:[(0,vo.jsx)("div",{className:"h-20 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,vo.jsx)("div",{className:"h-18 bg-gray-300 rounded"})]})]})}):a?(0,vo.jsxs)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[(0,vo.jsxs)("p",{className:"text-red-600 font-poppins",children:["\u274c ",a]}),(0,vo.jsx)(Sc.button,{onClick:c,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg font-poppins hover:bg-red-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Try Again"})]}):(0,vo.jsxs)("div",{className:"space-y-6",children:[(0,vo.jsxs)(Sc.div,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,vo.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vo.jsx)("span",{className:"text-3xl",children:"\ud83d\udcac"}),(0,vo.jsx)("h3",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Comments"})]}),(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-r from-fiesta-yellow to-fiesta-orange text-gray-800 px-3 py-1 rounded-full text-sm font-bold font-poppins",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},children:[i.length," comment",1!==i.length?"s":""]})]}),(0,vo.jsx)(MD,{videoId:n,onCommentSubmitted:e=>{o((t=>[e,...t]))}}),(0,vo.jsx)(Ep,{children:i.length>0?(0,vo.jsx)(Sc.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-4",children:i.map(((e,t)=>(0,vo.jsx)(Sc.div,{variants:h,layout:!0,exit:{opacity:0,x:-100,transition:{duration:.3}},children:(0,vo.jsx)(FD,{comment:e,onCommentDeleted:u,onCommentPinToggled:d})},e.id)))}):(0,vo.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfac"}),(0,vo.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No comments yet!"}),(0,vo.jsx)("p",{className:"text-gray-600 font-poppins",children:"Be the first to share your thoughts about this video."})]})}),(0,vo.jsx)(Sc.div,{className:"flex justify-center space-x-4 opacity-60",initial:{opacity:0},animate:{opacity:.6},transition:{duration:1,delay:1},children:["\ud83d\udcad","\ud83d\udde8\ufe0f","\ud83d\udcac","\ud83c\udf89","\u2728"].map(((e,t)=>(0,vo.jsx)(Sc.span,{className:"text-2xl",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:2+.3*t,repeat:1/0,ease:"easeInOut",delay:.2*t},children:e},t)))})]})},RD="https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com",LD="".concat(RD,"/api"),ID=e=>{let{currentVideo:n,relatedVideos:i,onVideoSelect:o,currentTime:r,duration:s,progress:a,watchedSeconds:l}=e;const{isAuthenticated:c,isStudent:u,sessionToken:d}=yp(),[h,p]=(0,t.useState)(new Set),[m,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());(0,t.useEffect)((()=>{c&&(w(),k())}),[c,null===n||void 0===n?void 0:n.id,i]);const w=async()=>{try{const e=d?{Authorization:"Bearer ".concat(d)}:{},t=(await fp.get("".concat(LD,"/progress/").concat(x),{headers:e})).data,n=new Set;t.recent_activity&&t.recent_activity.forEach((e=>{e.completed&&n.add(e.video_id)})),p(n)}catch(e){console.error("Error checking watched status:",e)}},k=async()=>{if(null!==n&&void 0!==n&&n.id&&c&&u)try{const e={Authorization:"Bearer ".concat(d)},t=await fp.get("".concat(LD,"/user/list/status/").concat(n.id),{headers:e});f(t.data.in_list)}catch(e){console.error("Error checking list status:",e)}},S=e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))},C=e=>"data:image/svg+xml;base64,".concat(btoa('\n      <svg width="120" height="68" viewBox="0 0 120 68" xmlns="http://www.w3.org/2000/svg">\n        <rect width="120" height="68" fill="#f3f4f6"/>\n        <rect width="120" height="68" fill="url(#gradient)" opacity="0.1"/>\n        <defs>\n          <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">\n            <stop offset="0%" style="stop-color:#3b82f6"/>\n            <stop offset="50%" style="stop-color:#8b5cf6"/>\n            <stop offset="100%" style="stop-color:#ec4899"/>\n          </linearGradient>\n        </defs>\n        <g transform="translate(60, 34)">\n          <circle r="12" fill="#e5e7eb"/>\n          <polygon points="-4,-6 -4,6 8,0" fill="#6b7280"/>\n        </g>\n        <text x="60" y="52" text-anchor="middle" fill="#6b7280" font-family="Arial, sans-serif" font-size="8" font-weight="600">\n          '.concat(e.level||"VIDEO","\n        </text>\n      </svg>\n    "))),T=e=>({USA:"\ud83c\uddfa\ud83c\uddf8",UK:"\ud83c\uddec\ud83c\udde7",Canada:"\ud83c\udde8\ud83c\udde6",Australia:"\ud83c\udde6\ud83c\uddfa",Spain:"\ud83c\uddea\ud83c\uddf8",Mexico:"\ud83c\uddf2\ud83c\uddfd"}[e]||"\ud83c\udf0d");return(0,vo.jsxs)("aside",{className:"w-full md:w-80 bg-gray-900 text-white p-4 max-h-screen overflow-y-auto",children:[n&&(0,vo.jsxs)("div",{className:"mb-6 p-4 bg-gray-800 rounded-xl border-l-4 border-fiesta-yellow",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,vo.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,vo.jsx)("span",{className:"text-xs font-semibold text-fiesta-yellow uppercase tracking-wide",children:"Now Playing"})]}),(0,vo.jsx)("h2",{className:"text-sm font-bold text-white mb-2 line-clamp-2",children:n.title}),(0,vo.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-300 mb-3",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-1",children:[(0,vo.jsx)("span",{children:"\ud83d\udcca"}),(0,vo.jsx)("span",{children:n.level})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-1",children:[(0,vo.jsx)("span",{children:T(n.country)}),(0,vo.jsx)("span",{children:n.country})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-1",children:[(0,vo.jsx)("span",{children:"\u23f1\ufe0f"}),(0,vo.jsxs)("span",{children:[n.duration_minutes,"min"]})]}),(0,vo.jsxs)("div",{className:"flex items-center gap-1",children:[(0,vo.jsx)("span",{children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,vo.jsx)("span",{className:"truncate",children:n.instructor_name})]})]}),(0,vo.jsxs)("div",{className:"flex gap-2",children:[(0,vo.jsx)("button",{onClick:()=>(async(e,t)=>{if(!y){b(!0);try{const i=d?{Authorization:"Bearer ".concat(d)}:{};t?(await fp.post("".concat(LD,"/user/unmark-watched"),{video_id:e},{params:{session_id:x},headers:i}),p((t=>{const n=new Set(t);return n.delete(e),n}))):(await fp.post("".concat(LD,"/progress/manual"),{videoId:e,watchedAt:(new Date).toISOString().split("T")[0],minutesWatched:(null===n||void 0===n?void 0:n.duration_minutes)||30},{params:{session_id:x},headers:i}),p((t=>new Set([...t,e]))))}catch(i){console.error("Error toggling watched status:",i)}finally{b(!1)}}})(n.id,h.has(n.id)),disabled:y,className:"flex-1 px-3 py-2 text-xs rounded-lg transition-all duration-200 disabled:opacity-50 ".concat(h.has(n.id)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:y?"...":h.has(n.id)?"\u2705 Watched":"+ Mark Watched"}),c&&u&&(0,vo.jsx)("button",{onClick:async()=>{if(c&&u&&!g&&null!==n&&void 0!==n&&n.id){v(!0);try{const e={Authorization:"Bearer ".concat(d)};m?(await fp.delete("".concat(LD,"/user/list/").concat(n.id),{headers:e}),f(!1)):(await fp.post("".concat(LD,"/user/list"),{video_id:n.id},{headers:e}),f(!0))}catch(e){console.error("Error managing list:",e)}finally{v(!1)}}},disabled:g,className:"px-3 py-2 text-xs rounded-lg transition-all duration-200 disabled:opacity-50 ".concat(m?"bg-red-600 hover:bg-red-700 text-white":"bg-fiesta-blue hover:bg-blue-600 text-white"),children:g?"...":m?"\u2764\ufe0f":"\ud83d\udc99"})]})]}),(0,vo.jsxs)("div",{className:"mb-6",children:[(0,vo.jsxs)("h3",{className:"text-lg font-bold mb-4 text-white",children:["\ud83c\udf1f Up Next (",i.length,")"]}),i.length>0?(0,vo.jsx)("div",{className:"space-y-3",children:i.slice(0,8).map(((e,t)=>{const n=h.has(e.id);return(0,vo.jsx)("button",{onClick:()=>o(e),className:"w-full p-3 bg-gray-800 hover:bg-gray-700 rounded-lg text-left transition-all duration-200 group border border-gray-700 hover:border-gray-600",children:(0,vo.jsxs)("div",{className:"flex gap-3",children:[(0,vo.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,vo.jsx)("img",{src:e.thumbnail_url?"".concat(RD).concat(e.thumbnail_url):C(e),alt:e.title,className:"w-20 h-12 object-cover rounded",onError:t=>{t.target.src=C(e)}}),(0,vo.jsxs)("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-75 text-white px-1 py-0.5 rounded text-xs",children:[e.duration_minutes,"min"]}),n&&(0,vo.jsx)("div",{className:"absolute top-1 left-1 bg-green-600 text-white rounded-full w-5 h-5 flex items-center justify-center",children:(0,vo.jsx)("span",{className:"text-xs",children:"\u2713"})})]}),(0,vo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,vo.jsx)("h4",{className:"text-sm font-semibold line-clamp-2 group-hover:text-fiesta-yellow transition-colors mb-1",children:e.title}),(0,vo.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-400 mb-1",children:[(0,vo.jsxs)("span",{children:["\ud83d\udcca ",e.level]}),(0,vo.jsxs)("span",{children:[T(e.country)," ",e.country]}),e.is_premium&&(0,vo.jsx)("span",{className:"text-fiesta-yellow",children:"\ud83d\udc8e"})]}),(0,vo.jsxs)("div",{className:"text-xs text-gray-500",children:["\ud83d\udc68\u200d\ud83c\udfeb ",e.instructor_name]}),e.accents&&e.accents.length>0&&(0,vo.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udde3\ufe0f ",e.accents.join(", ")]})]})]})},e.id)}))}):(0,vo.jsxs)("div",{className:"text-center text-gray-400 py-8",children:[(0,vo.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcfa"}),(0,vo.jsx)("p",{className:"text-sm",children:"No related videos available"}),(0,vo.jsx)("p",{className:"text-xs mt-1",children:"Browse the library for more content"})]})]}),(0,vo.jsxs)("div",{className:"p-4 bg-gray-800 rounded-xl",children:[(0,vo.jsxs)("h3",{className:"text-sm font-semibold mb-3 text-fiesta-blue flex items-center gap-2",children:[(0,vo.jsx)("span",{children:"\ud83d\udcca"}),"Session Stats"]}),(0,vo.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,vo.jsxs)("div",{className:"text-center p-2 bg-gray-700 rounded",children:[(0,vo.jsx)("div",{className:"text-fiesta-yellow font-bold",children:S(r)}),(0,vo.jsx)("div",{className:"text-gray-400",children:"Current"})]}),(0,vo.jsxs)("div",{className:"text-center p-2 bg-gray-700 rounded",children:[(0,vo.jsxs)("div",{className:"text-fiesta-green font-bold",children:[Math.round(a),"%"]}),(0,vo.jsx)("div",{className:"text-gray-400",children:"Progress"})]}),(0,vo.jsxs)("div",{className:"text-center p-2 bg-gray-700 rounded",children:[(0,vo.jsx)("div",{className:"text-fiesta-orange font-bold",children:S(s)}),(0,vo.jsx)("div",{className:"text-gray-400",children:"Total"})]}),(0,vo.jsxs)("div",{className:"text-center p-2 bg-gray-700 rounded",children:[(0,vo.jsx)("div",{className:"text-fiesta-purple font-bold",children:l}),(0,vo.jsx)("div",{className:"text-gray-400",children:"Seconds"})]})]}),(0,vo.jsx)("div",{className:"mt-3",children:(0,vo.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,vo.jsx)("div",{className:"bg-gradient-to-r from-fiesta-blue to-fiesta-purple h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(a,100),"%")}})})})]})]})},_D=e=>{let{isVisible:n,onDismiss:i,watchTime:o=0,triggerThreshold:r=60}=e;const[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{sessionStorage.getItem("progress_toast_dismissed")?c(!0):o>=r&&!l&&n&&a(!0)}),[o,r,l,n]);const u=()=>{a(!1),c(!0),sessionStorage.setItem("progress_toast_dismissed","true"),i&&i()};return!s||l?null:(0,vo.jsx)(Ep,{children:(0,vo.jsx)(Sc.div,{initial:{opacity:0,y:100,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.95},transition:{type:"spring",stiffness:300,damping:25,duration:.4},className:"fixed bottom-6 right-6 z-50 max-w-sm",children:(0,vo.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-2xl overflow-hidden",children:(0,vo.jsx)("div",{className:"bg-gradient-to-r from-fiesta-blue to-fiesta-purple p-1",children:(0,vo.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,vo.jsxs)("div",{className:"flex items-start justify-between",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,vo.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-fiesta-yellow to-fiesta-orange rounded-full flex items-center justify-center flex-shrink-0",children:(0,vo.jsx)("span",{className:"text-lg",children:"\ud83d\udd12"})}),(0,vo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,vo.jsx)("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:"Track Your Progress"}),(0,vo.jsxs)("p",{className:"text-gray-600 text-xs leading-relaxed",children:["You've watched ",Math.floor(o/60),"+ minutes! Sign up to save your progress and unlock detailed analytics."]})]})]}),(0,vo.jsx)("button",{onClick:u,className:"ml-2 p-1 text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:(0,vo.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,vo.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,vo.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,vo.jsx)(Sc.button,{onClick:()=>{window.location.href="https://auth.emergentagent.com/?redirect="+encodeURIComponent(window.location.origin+"/watch")},className:"flex-1 bg-gradient-to-r from-fiesta-blue to-fiesta-purple text-white px-4 py-2 rounded-lg text-sm font-semibold hover:shadow-lg transition-all duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Sign Up Free"}),(0,vo.jsx)(Sc.button,{onClick:u,className:"px-3 py-2 text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Later"})]})]})})})})})};var VD=n(450),$D=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const zD=(e,t)=>{"undefined"!==typeof window&&!customElements.get(e)&&customElements.define(e,t)},BD=e=>{var t;return 0===e.indexOf("on")&&e[2]===(null===(t=e[2])||void 0===t?void 0:t.toUpperCase())};function HD(e,n){const i=(0,t.forwardRef)(((i,o)=>{var{children:r}=i,s=$D(i,["children"]);const[a,l]=(0,t.useState)(null),c=(0,t.useCallback)((e=>{l(e)}),[]),u=(0,t.useRef)(new Map),d=(0,t.useMemo)((()=>Object.keys(s).filter((e=>!n.has(e)&&!BD(e))).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:s[t]})),{})),[s]),h=(0,t.useMemo)((()=>Object.keys(s).filter((e=>n.has(e)||BD(e))).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:s[t]})),{})),[s]),p=(0,t.useCallback)(((e,t)=>{var n;const i=(e=>e.charAt(2).toLowerCase()+e.substring(3))(e);null===(n=u.current.get(i))||void 0===n||n(),a&&t&&(a.addEventListener(i,t),u.current.set(i,(()=>{a.removeEventListener(i,t)})))}),[a]),m=(0,t.useCallback)((()=>{u.current.forEach((e=>e())),u.current.clear()}),[]);return(0,t.useEffect)((()=>()=>{m()}),[]),(0,t.useEffect)((()=>{a&&Object.keys(h).forEach((e=>{BD(e)?p(e,h[e]):a[e]!==h[e]&&(a[e]=h[e])}))}),[a,h]),(0,t.createElement)(e,Object.assign({ref:(0,VD.A)(c,o)},d),r)}));return i.displayName=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),i}const UD=!1,WD=!0,qD=!1,KD=!0,YD=!0,JD=!0,QD=!0,GD=!0,XD=!0,ZD=!0,ej=!0,tj=!0,nj=!0,ij=!0,oj=!0,rj=!1,sj=!0,aj=!0,lj=!0,cj=!0,uj=!0,dj=!0,hj=!0,pj=!0,mj=!0,fj=!0,gj=!0,vj=!0,yj=!0,bj=!0,xj=!0,wj=!0,kj=!0,Sj=!0,Cj=!0,Tj=!0,Ej=!0,Nj=!0,Dj=!0,jj=!0,Aj=!0,Pj=!0,Mj=!0,Fj=!0,Oj=!1,Rj=!1,Lj=!1,Ij=!1,_j=!1,Vj=!1,$j=!1,zj=!1,Bj=!1,Hj=!0,Uj=!1,Wj=!0,qj=!1,Kj=!0,Yj=!0,Jj=!0,Qj=!1,Gj=!0,Xj=!0,Zj=!1,eA=!1,tA=!1,nA=!0,iA="app";let oA,rA,sA,aA,lA=0,cA=!1,uA=!1,dA=!1,hA=!1,pA=null,mA=0,fA=!1;const gA="undefined"!==typeof window?window:{},vA=(Qj&&gA.CSS,gA.document||{head:{}}),yA=(gA.HTMLElement,{$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,i)=>e.addEventListener(t,n,i),rel:(e,t,n,i)=>e.removeEventListener(t,n,i),ce:(e,t)=>new CustomEvent(e,t)}),bA=!qj||!mj||(()=>(vA.head.attachShadow+"").indexOf("[native")>-1)(),xA=(()=>{let e=!1;try{vA.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(MI){}return e})(),wA=!!Gj&&(()=>{try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replace}catch(MI){}return!1})(),kA=(e,t,n,i)=>{tj&&n&&(rj&&(n=i?n.filter((e=>{let[t]=e;return 32&t})):n.filter((e=>{let[t]=e;return!(32&t)}))),n.map((n=>{let[i,o,r]=n;const s=sj?CA(e,i):e,a=SA(t,r),l=TA(i);yA.ael(s,o,a,l),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>yA.rel(s,o,a,l)))})))},SA=(e,t)=>n=>{try{zj?256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n]):e.$hostElement$[t](n)}catch(MI){UP(MI)}},CA=(e,t)=>ij&&4&t?vA:nj&&8&t?gA:oj&&16&t?vA.body:rj&&32&t?e.parentElement:e,TA=e=>xA?{passive:0!==(1&e),capture:0!==(2&e)}:0!==(2&e),EA="s-id",NA="sty-id",DA="c-id",jA="http://www.w3.org/1999/xlink",AA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Bj&&performance.mark){const n="st:".concat(e,":").concat(t,":").concat(lA++);return performance.mark(n),()=>performance.measure("[Stencil] ".concat(e,"() <").concat(t,">"),n)}return()=>{}},PA=new WeakMap,MA=(e,t,n)=>{let i=QP.get(e);wA&&n?(i=i||new CSSStyleSheet,i.replace(t)):i=t,QP.set(e,i)},FA=(e,t,n,i)=>{let o=RA(t,n),r=QP.get(o);if(!nA)return o;if(e=11===e.nodeType?e:vA,r)if("string"===typeof r){e=e.head||e;let n,s=PA.get(e);if(s||PA.set(e,s=new Set),!s.has(o)){if(Vj&&e.host&&(n=e.querySelector("[".concat(NA,'="').concat(o,'"]'))))n.innerHTML=r;else{if(Qj&&yA.$cssShim$){n=yA.$cssShim$.createHostStyle(i,o,r,!!(10&t.$flags$));const e=n["s-sc"];e&&(o=e,s=null)}else n=vA.createElement("style"),n.innerHTML=r;(_j||Oj)&&n.setAttribute(NA,o),e.insertBefore(n,e.querySelector("link"))}s&&s.add(o)}}else Gj&&!e.adoptedStyleSheets.includes(r)&&(e.adoptedStyleSheets=[...e.adoptedStyleSheets,r]);return o},OA=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,o=AA("attachStyles",t.$tagName$),r=FA(mj&&bA&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);(mj||pj)&&gj&&10&i&&(n["s-sc"]=r,n.classList.add(r+"-h"),pj&&2&i&&n.classList.add(r+"-s")),o()},RA=(e,t)=>"sc-"+(cj&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),LA=e=>GP.map((t=>t(e))).find((e=>!!e)),IA={},_A=e=>"object"===(e=typeof e)||"function"===e,VA=function(e,t){let n=null,i=null,o=null,r=!1,s=!1,a=[];const l=t=>{for(let i=0;i<t.length;i++)n=t[i],Array.isArray(n)?l(n):null!=n&&"boolean"!==typeof n&&((r="function"!==typeof e&&!_A(n))?n=String(n):Lj&&"function"!==typeof e&&void 0===n.$flags$&&qP("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),r&&s?a[a.length-1].$text$+=n:a.push(r?$A(null,n):n),s=r)};for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];if(l(u),t&&(Lj&&"input"===e&&qA(t),Tj&&t.key&&(i=t.key),Hj&&t.name&&(o=t.name),Sj)){const e=t.className||t.class;e&&(t.class="object"!==typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}if(Lj&&a.some(BA)&&qP("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),Cj&&"function"===typeof e)return e(null===t?{}:t,a,HA);const h=$A(e,null);return h.$attrs$=t,a.length>0&&(h.$children$=a),Tj&&(h.$key$=i),Hj&&(h.$name$=o),h},$A=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return wj&&(n.$attrs$=null),Tj&&(n.$key$=null),Hj&&(n.$name$=null),n},zA={},BA=e=>e&&e.$tag$===zA,HA={forEach:(e,t)=>e.map(UA).forEach(t),map:(e,t)=>e.map(UA).map(t).map(WA)},UA=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),WA=e=>{if("function"===typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),VA(e.vtag,t,...e.vchildren||[])}const t=$A(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},qA=e=>{const t=Object.keys(e),n=t.indexOf("type"),i=t.indexOf("min"),o=t.indexOf("max"),r=t.indexOf("min"),s=t.indexOf("value");-1!==s&&(s<n||s<i||s<o||s<r)&&KP('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},KA=(e,t,n,i,o,r)=>{if(n!==i){let s=HP(e,t),a=t.toLowerCase();if(Sj&&"class"===t){const t=e.classList,o=JA(n),r=JA(i);t.remove(...o.filter((e=>e&&!r.includes(e)))),t.add(...r.filter((e=>e&&!o.includes(e))))}else if(Aj&&"style"===t){if(xj)for(const t in n)i&&null!=i[t]||(!_j&&t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in i)n&&i[t]===n[t]||(!_j&&t.includes("-")?e.style.setProperty(t,i[t]):e.style[t]=i[t])}else if(Tj&&"key"===t);else if(Nj&&"ref"===t)i&&i(e);else if(!Ej||(zj?s:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(Dj){const l=_A(i);if((s||l&&null!==i)&&!o)try{if(e.tagName.includes("-"))e[t]=i;else{let o=null==i?"":i;"list"===t?s=!1:null!=n&&e[t]==o||(e[t]=o)}}catch(MI){}let c=!1;kj&&a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),null==i||!1===i?!1===i&&""!==e.getAttribute(t)||(kj&&c?e.removeAttributeNS(jA,t):e.removeAttribute(t)):(!s||4&r||o)&&!l&&(i=!0===i?"":i,kj&&c?e.setAttributeNS(jA,t,i):e.setAttribute(t,i))}}else t="-"===t[2]?t.slice(3):HP(gA,a)?a.slice(2):a[2]+t.slice(3),n&&yA.rel(e,t,n,!1),i&&yA.ael(e,t,i,!1)}},YA=/\s/,JA=e=>e?e.split(YA):[],QA=(e,t,n,i)=>{const o=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,r=e&&e.$attrs$||IA,s=t.$attrs$||IA;if(xj)for(i in r)i in s||KA(o,i,r[i],void 0,n,t.$flags$);for(i in s)KA(o,i,r[i],s[i],n,t.$flags$)},GA=(e,t,n,i)=>{let o,r,s,a=t.$children$[n],l=0;if(Hj&&!cA&&(dA=!0,"slot"===a.$tag$&&(oA&&i.classList.add(oA+"-s"),a.$flags$|=a.$children$?2:1)),Lj&&a.$elm$&&qP("The JSX ".concat(null!==a.$text$?'"'.concat(a.$text$,'" text'):'"'.concat(a.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),Pj&&null!==a.$text$)o=a.$elm$=vA.createTextNode(a.$text$);else if(Hj&&1&a.$flags$)o=a.$elm$=Rj||_j?dP(a):vA.createTextNode("");else{if(bj&&!hA&&(hA="svg"===a.$tag$),o=a.$elm$=bj?vA.createElementNS(hA?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Hj&&2&a.$flags$?"slot-fb":a.$tag$):vA.createElement(Hj&&2&a.$flags$?"slot-fb":a.$tag$),bj&&hA&&"foreignObject"===a.$tag$&&(hA=!1),wj&&QA(null,a,hA),(mj||pj)&&null!=oA&&o["s-si"]!==oA&&o.classList.add(o["s-si"]=oA),a.$children$)for(l=0;l<a.$children$.length;++l)r=GA(e,a,l,o),r&&o.appendChild(r);bj&&("svg"===a.$tag$?hA=!1:"foreignObject"===o.tagName&&(hA=!0))}return Hj&&(o["s-hn"]=sA,3&a.$flags$&&(o["s-sr"]=!0,o["s-cr"]=rA,o["s-sn"]=a.$name$||"",s=e&&e.$children$&&e.$children$[n],s&&s.$tag$===a.$tag$&&e.$elm$&&XA(e.$elm$,!1))),o},XA=(e,t)=>{yA.$flags$|=1;const n=e.childNodes;for(let i=n.length-1;i>=0;i--){const e=n[i];e["s-hn"]!==sA&&e["s-ol"]&&(iP(e).insertBefore(e,nP(e)),e["s-ol"].remove(),e["s-ol"]=void 0,dA=!0),t&&XA(e,t)}yA.$flags$&=-2},ZA=(e,t,n,i,o,r)=>{let s,a=Hj&&e["s-cr"]&&e["s-cr"].parentNode||e;for(mj&&a.shadowRoot&&a.tagName===sA&&(a=a.shadowRoot);o<=r;++o)i[o]&&(s=GA(null,n,o,e),s&&(i[o].$elm$=s,a.insertBefore(s,Hj?nP(t):t)))},eP=(e,t,n,i,o)=>{for(;t<=n;++t)(i=e[t])&&(o=i.$elm$,cP(i),Hj&&(uA=!0,o["s-ol"]?o["s-ol"].remove():XA(o,!0)),o.remove())},tP=(e,t)=>e.$tag$===t.$tag$&&(Hj&&"slot"===e.$tag$?e.$name$===t.$name$:!Tj||e.$key$===t.$key$),nP=e=>e&&e["s-ol"]||e,iP=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,oP=(e,t)=>{const n=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,r=t.$tag$,s=t.$text$;let a;Pj&&null!==s?Pj&&Hj&&(a=n["s-cr"])?a.parentNode.textContent=s:Pj&&e.$text$!==s&&(n.data=s):(bj&&(hA="svg"===r||"foreignObject"!==r&&hA),(wj||hj)&&(fj&&"slot"===r||QA(e,t,hA)),xj&&null!==i&&null!==o?((e,t,n,i)=>{let o,r,s=0,a=0,l=0,c=0,u=t.length-1,d=t[0],h=t[u],p=i.length-1,m=i[0],f=i[p];for(;s<=u&&a<=p;)if(null==d)d=t[++s];else if(null==h)h=t[--u];else if(null==m)m=i[++a];else if(null==f)f=i[--p];else if(tP(d,m))oP(d,m),d=t[++s],m=i[++a];else if(tP(h,f))oP(h,f),h=t[--u],f=i[--p];else if(tP(d,f))!Hj||"slot"!==d.$tag$&&"slot"!==f.$tag$||XA(d.$elm$.parentNode,!1),oP(d,f),e.insertBefore(d.$elm$,h.$elm$.nextSibling),d=t[++s],f=i[--p];else if(tP(h,m))!Hj||"slot"!==d.$tag$&&"slot"!==f.$tag$||XA(h.$elm$.parentNode,!1),oP(h,m),e.insertBefore(h.$elm$,d.$elm$),h=t[--u],m=i[++a];else{if(l=-1,Tj)for(c=s;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===m.$key$){l=c;break}Tj&&l>=0?(r=t[l],r.$tag$!==m.$tag$?o=GA(t&&t[a],n,l,e):(oP(r,m),t[l]=void 0,o=r.$elm$),m=i[++a]):(o=GA(t&&t[a],n,a,e),m=i[++a]),o&&(Hj?iP(d.$elm$).insertBefore(o,nP(d.$elm$)):d.$elm$.parentNode.insertBefore(o,d.$elm$))}s>u?ZA(e,null==i[p+1]?null:i[p+1].$elm$,n,i,a,p):xj&&a>p&&eP(t,s,u)})(n,i,t,o):null!==o?(xj&&Pj&&null!==e.$text$&&(n.textContent=""),ZA(n,null,t,o,0,o.length-1)):xj&&null!==i&&eP(i,0,i.length-1),bj&&hA&&"svg"===r&&(hA=!1))},rP=e=>{let t,n,i,o,r,s,a=e.childNodes;for(n=0,i=a.length;n<i;n++)if(t=a[n],1===t.nodeType){if(t["s-sr"])for(r=t["s-sn"],t.hidden=!1,o=0;o<i;o++)if(s=a[o].nodeType,a[o]["s-hn"]!==t["s-hn"]||""!==r){if(1===s&&r===a[o].getAttribute("slot")){t.hidden=!0;break}}else if(1===s||3===s&&""!==a[o].textContent.trim()){t.hidden=!0;break}rP(t)}},sP=[],aP=e=>{let t,n,i,o,r,s,a=0,l=e.childNodes,c=l.length;for(;a<c;a++){if(t=l[a],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,o=t["s-sn"],s=i.length-1;s>=0;s--)n=i[s],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(lP(n,o)?(r=sP.find((e=>e.$nodeToRelocate$===n)),uA=!0,n["s-sn"]=n["s-sn"]||o,r?r.$slotRefNode$=t:sP.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&sP.map((e=>{lP(e.$nodeToRelocate$,n["s-sn"])&&(r=sP.find((e=>e.$nodeToRelocate$===n)),r&&!e.$slotRefNode$&&(e.$slotRefNode$=r.$slotRefNode$))}))):sP.some((e=>e.$nodeToRelocate$===n))||sP.push({$nodeToRelocate$:n}));1===t.nodeType&&aP(t)}},lP=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,cP=e=>{Nj&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(cP))},uP=(e,t)=>{const n=e.$hostElement$,i=e.$cmpMeta$,o=e.$vnode$||$A(null,null),r=BA(t)?t:VA(null,null,t);if(sA=n.tagName,Lj&&Array.isArray(t)&&t.some(BA))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(sA.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(hj&&i.$attrsToReflect$&&(r.$attrs$=r.$attrs$||{},i.$attrsToReflect$.map((e=>{let[t,i]=e;return r.$attrs$[i]=n[t]}))),r.$tag$=null,r.$flags$|=4,e.$vnode$=r,r.$elm$=o.$elm$=mj&&n.shadowRoot||n,(pj||mj)&&(oA=n["s-sc"]),Hj&&(rA=n["s-cr"],cA=bA&&0!==(1&i.$flags$),uA=!1),oP(o,r),Hj){if(yA.$flags$|=1,dA){let e,t,n,i,o,s;aP(r.$elm$);let a=0;for(;a<sP.length;a++)e=sP[a],t=e.$nodeToRelocate$,t["s-ol"]||(n=Rj||_j?hP(t):vA.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t));for(a=0;a<sP.length;a++)if(e=sP[a],t=e.$nodeToRelocate$,e.$slotRefNode$){for(i=e.$slotRefNode$.parentNode,o=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(s=n["s-nr"],s&&s["s-sn"]===t["s-sn"]&&i===s.parentNode&&(s=s.nextSibling,!s||!s["s-nr"])){o=s;break}(!o&&i!==t.parentNode||t.nextSibling!==o)&&t!==o&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),i.insertBefore(t,o))}else 1===t.nodeType&&(t.hidden=!0)}uA&&rP(r.$elm$),yA.$flags$&=-2,sP.length=0}},dP=e=>vA.createComment("<slot".concat(e.$name$?' name="'+e.$name$+'"':"","> (host=").concat(sA.toLowerCase(),")")),hP=e=>vA.createComment("org-location for "+(e.localName?"<".concat(e.localName,"> (host=").concat(e["s-hn"],")"):"[".concat(e.textContent,"]"))),pP=e=>zj?zP(e).$hostElement$:e,mP=(e,t,n)=>{const i=pP(e);return{emit:e=>(Lj&&!i.isConnected&&KP('The "'.concat(t,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),fP(i,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e}))}},fP=(e,t,n)=>{const i=yA.ce(t,n);return e.dispatchEvent(i),i},gP=(e,t)=>{eA&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},vP=(e,t)=>{if(Fj&&xj&&(e.$flags$|=16),eA&&4&e.$flags$)return void(e.$flags$|=512);gP(e,e.$ancestorComponent$);const n=()=>yP(e,t);return Fj?sM(n):n()},yP=(e,t)=>{const n=e.$hostElement$,i=AA("scheduleUpdate",e.$cmpMeta$.$tagName$),o=zj?e.$lazyInstance$:n;let r;return t?(zj&&tj&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((e=>{let[t,n]=e;return SP(o,t,n)})),e.$queuedListeners$=null)),TP(n,"componentWillLoad"),JD&&(r=SP(o,"componentWillLoad"))):(TP(n,"componentWillUpdate"),QD&&(r=SP(o,"componentWillUpdate"))),TP(n,"componentWillRender"),GD&&(r=CP(r,(()=>SP(o,"componentWillRender")))),i(),CP(r,(()=>bP(e,o,t)))},bP=async(e,t,n)=>{const i=e.$hostElement$,o=AA("update",e.$cmpMeta$.$tagName$),r=i["s-rc"];yj&&n&&OA(e);const s=AA("render",e.$cmpMeta$.$tagName$);if(Lj&&(e.$flags$|=1024),_j?await xP(e,t,i):xP(e,t,i),Qj&&yA.$cssShim$&&yA.$cssShim$.updateHost(i),Lj&&(e.$renderCount$++,e.$flags$&=-1025),_j)try{NP(i),n&&(1&e.$cmpMeta$.$flags$?i["s-en"]="":2&e.$cmpMeta$.$flags$&&(i["s-en"]="c"))}catch(MI){UP(MI,i)}if(eA&&r&&(r.map((e=>e())),i["s-rc"]=void 0),s(),o(),eA){const t=i["s-p"],n=()=>wP(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}else wP(e)},xP=(e,t,n)=>{const i=!!UD,o=!!zj,r=!!Fj,s=!!xj;try{if(pA=t,t=(i||t.render)&&t.render(),s&&r&&(e.$flags$&=-17),(s||o)&&(e.$flags$|=2),ej||hj)if(jj||hj){if(_j)return Promise.resolve(t).then((t=>uP(e,t)));uP(e,t)}else n.textContent=t}catch(MI){UP(MI,e.$hostElement$)}return pA=null,null},wP=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,i=AA("postUpdate",t),o=zj?e.$lazyInstance$:n,r=e.$ancestorComponent$;YD&&(Lj&&(e.$flags$|=1024),SP(o,"componentDidRender"),Lj&&(e.$flags$&=-1025)),TP(n,"componentDidRender"),64&e.$flags$?(KD&&(Lj&&(e.$flags$|=1024),SP(o,"componentDidUpdate"),Lj&&(e.$flags$&=-1025)),TP(n,"componentDidUpdate"),i()):(e.$flags$|=64,eA&&gj&&EP(n),WD&&(Lj&&(e.$flags$|=2048),SP(o,"componentDidLoad"),Lj&&(e.$flags$&=-2049)),TP(n,"componentDidLoad"),i(),eA&&(e.$onReadyResolve$(n),r||kP(t))),Oj&&n["s-hmr-load"]&&n["s-hmr-load"](),lj&&zj&&e.$onInstanceResolve$(n),eA&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&rM((()=>vP(e,!1))),e.$flags$&=-517)},kP=e=>{gj&&EP(vA.documentElement),tA&&(yA.$flags$|=2),rM((()=>fP(gA,"appload",{detail:{namespace:iA}}))),Bj&&performance.measure&&performance.measure("[Stencil] ".concat(iA," initial load (by ").concat(e,")"),"st:app:start")},SP=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(MI){UP(MI)}},CP=(e,t)=>e&&e.then?e.then(t):t(),TP=(e,t)=>{$j&&fP(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:iA}})},EP=e=>Wj?e.classList.add("hydrated"):Uj?e.setAttribute("hydrated",""):void 0,NP=e=>{const t=e.children;if(null!=t)for(let n=0,i=t.length;n<i;n++){const e=t[n];"function"===typeof e.connectedCallback&&e.connectedCallback(),NP(e)}},DP=(e,t,n,i,o,r,s)=>{let a,l,c,u;if(1===r.nodeType){for(a=r.getAttribute(DA),a&&(l=a.split("."),l[0]!==s&&"0"!==l[0]||(c={$flags$:0,$hostId$:l[0],$nodeId$:l[1],$depth$:l[2],$index$:l[3],$tag$:r.tagName.toLowerCase(),$elm$:r,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(c),r.removeAttribute(DA),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c,e=c,i&&"0"===c.$depth$&&(i[c.$index$]=c.$elm$))),u=r.childNodes.length-1;u>=0;u--)DP(e,t,n,i,o,r.childNodes[u],s);if(r.shadowRoot)for(u=r.shadowRoot.childNodes.length-1;u>=0;u--)DP(e,t,n,i,o,r.shadowRoot.childNodes[u],s)}else if(8===r.nodeType)l=r.nodeValue.split("."),l[1]!==s&&"0"!==l[1]||(a=l[0],c={$flags$:0,$hostId$:l[1],$nodeId$:l[2],$depth$:l[3],$index$:l[4],$elm$:r,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(c.$elm$=r.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,t.push(c),r.remove(),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c,i&&"0"===c.$depth$&&(i[c.$index$]=c.$elm$))):c.$hostId$===s&&("s"===a?(c.$tag$="slot",l[5]?r["s-sn"]=c.$name$=l[5]:r["s-sn"]="",r["s-sr"]=!0,mj&&i&&(c.$elm$=vA.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),r.parentNode.insertBefore(c.$elm$,r),r.remove(),"0"===c.$depth$&&(i[c.$index$]=c.$elm$)),n.push(c),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c):"r"===a&&(mj&&i?r.remove():Hj&&(o["s-cr"]=r,r["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=$A(null,r.textContent);t.$elm$=r,t.$index$="0",e.$children$=[t]}},jP=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)jP(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)jP(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},AP=(e,t,n,i)=>{const o=zP(e),r=zj?o.$hostElement$:e,s=o.$instanceValues$.get(t),a=o.$flags$,l=zj?o.$lazyInstance$:r;var c,u;if(c=n,u=i.$members$[t][0],n=null==c||_A(c)?c:Kj&&4&u?"false"!==c&&(""===c||!!c):Yj&&2&u?parseFloat(c):Jj&&1&u?String(c):c,(!zj||!(8&a)||void 0===s)&&n!==s&&(o.$instanceValues$.set(t,n),Lj&&(1024&o.$flags$?KP('The state/prop "'.concat(t,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",r,"\nNew value",n,"\nOld value",s):2048&o.$flags$&&KP('The state/prop "'.concat(t,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",r,"\nNew value",n,"\nOld value",s)),!zj||l)){if(Mj&&i.$watchers$&&128&a){const e=i.$watchers$[t];e&&e.map((e=>{try{l[e](n,s,t)}catch(MI){UP(MI,r)}}))}if(xj&&2===(18&a)){if(Xj&&l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,s,t))return;vP(o,!1)}}},PP=(e,t,n)=>{if(aj&&t.$members$){Mj&&e.watchers&&(t.$watchers$=e.watchers);const i=Object.entries(t.$members$),o=e.prototype;if(i.map((e=>{let[i,[r]]=e;(dj||vj)&&(31&r||(!zj||2&n)&&32&r)?Object.defineProperty(o,i,{get(){return e=i,zP(this).$instanceValues$.get(e);var e},set(e){if(Lj){const e=zP(this);0===(1&n)&&0===(8&e.$flags$)&&0!==(31&r)&&0===(1024&r)&&KP('@Prop() "'.concat(i,'" on <').concat(t.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}AP(this,i,e,t)},configurable:!0,enumerable:!0}):zj&&lj&&1&n&&64&r&&Object.defineProperty(o,i,{value(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=zP(this);return o.$onInstancePromise$.then((()=>o.$lazyInstance$[i](...t)))}})})),uj&&(!zj||1&n)){const n=new Map;o.attributeChangedCallback=function(e,t,i){yA.jmp((()=>{const t=n.get(e);this[t]=(null!==i||"boolean"!==typeof this[t])&&i}))},e.observedAttributes=i.filter((e=>{let[t,n]=e;return 15&n[0]})).map((e=>{let[i,o]=e;const r=o[1]||i;return n.set(r,i),hj&&512&o[0]&&t.$attrsToReflect$.push([i,r]),r}))}}return e},MP=async(e,t,i,o,r)=>{if((zj||_j||yj)&&0===(32&t.$flags$)){if(zj||Vj){if(t.$flags$|=32,(r=JP(i,t,o)).then){const e=((e,t)=>Bj&&performance.mark?(0===performance.getEntriesByName(e).length&&performance.mark(e),()=>{0===performance.getEntriesByName(t).length&&performance.measure(t,e)}):()=>{})("st:load:".concat(i.$tagName$,":").concat(t.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">"));r=await r,e()}if((Lj||Rj)&&!r)throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(t.$modeName$,'" was not found'));aj&&!r.isProxied&&(Mj&&(i.$watchers$=r.watchers),PP(r,i,2),r.isProxied=!0);const e=AA("createInstance",i.$tagName$);aj&&(t.$flags$|=8);try{new r(t)}catch(MI){UP(MI)}aj&&(t.$flags$&=-9),Mj&&(t.$flags$|=128),e(),FP(t.$lazyInstance$)}else r=e.constructor,t.$flags$|=160;if(yj&&r.style){let o=r.style;cj&&"string"!==typeof o&&(o=o[t.$modeName$=LA(e)],_j&&t.$modeName$&&e.setAttribute("s-mode",t.$modeName$));const s=RA(i,t.$modeName$);if(!QP.has(s)){const e=AA("registerStyles",i.$tagName$);!_j&&mj&&qj&&8&i.$flags$&&(o=await n.e(284).then(n.bind(n,284)).then((e=>e.scopeCss(o,s,!1)))),MA(s,o,!!(1&i.$flags$)),e()}}}const s=t.$ancestorComponent$,a=()=>vP(t,!0);eA&&s&&s["s-rc"]?s["s-rc"].push(a):a()},FP=e=>{zj&&XD&&SP(e,"connectedCallback")},OP=e=>{if(0===(1&yA.$flags$)){const t=zP(e),n=t.$cmpMeta$,i=AA("connectedCallback",n.$tagName$);if(rj&&kA(e,t,n.$listeners$,!0),1&t.$flags$)kA(e,t,n.$listeners$,!1),FP(t.$lazyInstance$);else{let i;if(t.$flags$|=1,Vj&&(i=e.getAttribute(EA),i)){if(mj&&bA&&1&n.$flags$){const t=cj?FA(e.shadowRoot,n,e.getAttribute("s-mode")):FA(e.shadowRoot,n);e.classList.remove(t+"-h",t+"-s")}((e,t,n,i)=>{const o=AA("hydrateClient",t),r=e.shadowRoot,s=[],a=mj&&r?[]:null,l=i.$vnode$=$A(t,null);yA.$orgLocNodes$||jP(vA.body,yA.$orgLocNodes$=new Map),e[EA]=n,e.removeAttribute(EA),DP(l,s,[],a,e,e,n),s.map((e=>{const n=e.$hostId$+"."+e.$nodeId$,i=yA.$orgLocNodes$.get(n),o=e.$elm$;i&&bA&&""===i["s-en"]&&i.parentNode.insertBefore(o,i.nextSibling),r||(o["s-hn"]=t,i&&(o["s-ol"]=i,o["s-ol"]["s-nr"]=o)),yA.$orgLocNodes$.delete(n)})),mj&&r&&a.map((e=>{e&&r.appendChild(e)})),o()})(e,n.$tagName$,i,t)}if(Hj&&!i&&(_j||(fj||mj)&&12&n.$flags$)&&RP(e),eA){let n=e;for(;n=n.parentNode||n.host;)if(Vj&&1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){gP(t,t.$ancestorComponent$=n);break}}dj&&zj&&!_j&&n.$members$&&Object.entries(n.$members$).map((t=>{let[n,[i]]=t;if(31&i&&e.hasOwnProperty(n)){const t=e[n];delete e[n],e[n]=t}})),Zj?rM((()=>MP(e,t,n))):MP(e,t,n)}i()}},RP=e=>{const t=e["s-cr"]=vA.createComment(Rj?"content-ref (host=".concat(e.localName,")"):"");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},LP=e=>{if(0===(1&yA.$flags$)){const t=zP(e),n=zj?t.$lazyInstance$:e;tj&&t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0),Qj&&yA.$cssShim$&&yA.$cssShim$.removeHost(e),zj&&ZD&&SP(n,"disconnectedCallback"),qD&&SP(n,"componentDidUnload")}},IP=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};aj&&(n.$members$=t[2]),tj&&(n.$listeners$=t[3]),Mj&&(n.$watchers$=e.$watchers$),hj&&(n.$attrsToReflect$=[]),mj&&!bA&&1&n.$flags$&&(n.$flags$|=8);const i=e.prototype.connectedCallback,o=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){BP(this,n)},connectedCallback(){OP(this),XD&&i&&i.call(this)},disconnectedCallback(){LP(this),ZD&&o&&o.call(this)}}),e.is=n.$tagName$,PP(e,n,3)},_P=e=>{bA?e.attachShadow({mode:"open"}):e.shadowRoot=e},VP=(e,t)=>t,$P=new WeakMap,zP=e=>$P.get(e),BP=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Lj&&(n.$renderCount$=0),lj&&zj&&(n.$onInstancePromise$=new Promise((e=>n.$onInstanceResolve$=e))),eA&&(n.$onReadyPromise$=new Promise((e=>n.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[]),kA(e,n,t.$listeners$,!1),$P.set(e,n)},HP=(e,t)=>t in e,UP=(e,t)=>(aA||console.error)(e,t),WP=Ij?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],qP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error(...WP,...t)},KP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn(...WP,...t)},YP=new Map,JP=(e,t,i)=>{const o=e.$tagName$.replace(/-/g,"_"),r=e.$lazyBundleId$;if(Lj&&"string"!==typeof r)return void qP("Trying to lazily load component <".concat(e.$tagName$,'> with style mode "').concat(t.$modeName$,'", but it does not exist.'));const s=!Oj&&YP.get(r);return s?s[o]:n(244)("./".concat(r,".entry.js").concat(Oj&&i?"?s-hmr="+i:"")).then((e=>(Oj||YP.set(r,e),e[o])),UP)},QP=new Map,GP=[],XP=[],ZP=[],eM=[],tM=(e,t)=>n=>{e.push(n),fA||(fA=!0,t&&4&yA.$flags$?rM(oM):yA.raf(oM))},nM=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(MI){UP(MI)}e.length=0},iM=(e,t)=>{let n=0,i=0;for(;n<e.length&&(i=performance.now())<t;)try{e[n++](i)}catch(MI){UP(MI)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},oM=()=>{if(tA&&mA++,nM(XP),tA){const e=2===(6&yA.$flags$)?performance.now()+14*Math.ceil(.1*mA):1/0;iM(ZP,e),iM(eM,e),ZP.length>0&&(eM.push(...ZP),ZP.length=0),(fA=XP.length+ZP.length+eM.length>0)?yA.raf(oM):mA=0}else nM(ZP),(fA=XP.length>0)&&yA.raf(oM)},rM=e=>{return Promise.resolve(t).then(e);var t},sM=tM(ZP,!0);function aM(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}const lM=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=e.getBoundingClientRect(),a=t.getBoundingClientRect();return s.left+n<a.right+o&&s.right+n>a.left+o&&s.top+i<a.bottom+r&&s.bottom+i>a.top+r},cM=function(){},uM=e=>null===e,dM=e=>"undefined"===typeof e,hM=e=>uM(e)||dM(e),pM=e=>hM(e)?void 0:e.constructor,mM=e=>pM(e)===Object,fM=e=>pM(e)===Number&&!Number.isNaN(e),gM=e=>pM(e)===String,vM=e=>pM(e)===Function,yM=e=>Array.isArray(e),bM=(e,t)=>Boolean(e&&t&&e instanceof t),xM=()=>{let e=cM,t=cM;const n=new Promise(((n,i)=>{e=n,t=i}));return{promise:n,resolve:e,reject:t}};function wM(e,t,n){const i=e[t];e[t]=function(){return n(),i?i.call(e):void 0}}function kM(e,t,n){let i=!1;dM(t)||(wM(e,"componentWillLoad",(()=>{t(),i=!0})),wM(e,"connectedCallback",(()=>{i&&t()}))),dM(n)||wM(e,"disconnectedCallback",(()=>{n()}))}const SM="vmFindPlayer";const CM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const i=bM(e,HTMLElement)?e:pP(e),o=xM();let r;const s=new CustomEvent(SM,{bubbles:!0,composed:!0,detail:e=>{o.resolve(e),r()}});return r=function(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,s=0,a=!1;return function l(){a||(i=setTimeout((()=>{s!==r?(e.dispatchEvent(t),s+=1,l()):null===n||void 0===n||n()}),o))}(),()=>{window.clearTimeout(i),a=!0}}(i,s,(()=>{o.reject("Could not find player for ".concat(i.nodeName))}),t,n),o.promise};var TM;!function(e){e.Audio="audio",e.Video="video"}(TM||(TM={}));const EM="vmStateChange",NM=e=>(t,n)=>{const i=bM(e,HTMLElement)?e:pP(e),o=new CustomEvent(EM,{bubbles:!0,composed:!0,detail:{by:i,prop:t,value:n}});i.dispatchEvent(o)},DM={play:"Play",pause:"Pause",playback:"Playback",scrubber:"Scrubber",scrubberLabel:"{currentTime} of {duration}",played:"Played",duration:"Duration",buffered:"Buffered",close:"Close",currentTime:"Current time",live:"LIVE",volume:"Volume",mute:"Mute",unmute:"Unmute",audio:"Audio",default:"Default",captions:"Captions",subtitlesOrCc:"Subtitles/CC",enableCaptions:"Enable subtitles/captions",disableCaptions:"Disable subtitles/captions",auto:"Auto",fullscreen:"Fullscreen",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",settings:"Settings",seekForward:"Seek forward",seekBackward:"Seek backward",seekTotal:"Seek total",normal:"Normal",none:"None",playbackRate:"Playback Rate",playbackQuality:"Playback Quality",loop:"Loop",disabled:"Disabled",off:"Off",enabled:"Enabled",pip:"Picture-in-Picture",enterPiP:"Miniplayer",exitPiP:"Expand"},jM={theme:void 0,paused:!0,playing:!1,duration:-1,currentProvider:void 0,mediaTitle:void 0,currentSrc:void 0,currentPoster:void 0,textTracks:[],currentTextTrack:-1,audioTracks:[],currentAudioTrack:-1,isTextTrackVisible:!0,shouldRenderNativeTextTracks:!0,icons:"vime",currentTime:0,autoplay:!1,ready:!1,playbackReady:!1,loop:!1,muted:!1,buffered:0,playbackRate:1,playbackRates:[1],playbackQuality:void 0,playbackQualities:[],seeking:!1,debug:!1,playbackStarted:!1,playbackEnded:!1,buffering:!1,controls:!1,isControlsActive:!1,volume:50,isFullscreenActive:!1,aspectRatio:"16:9",viewType:void 0,isAudioView:!1,isVideoView:!1,mediaType:void 0,isAudio:!1,isVideo:!1,isMobile:!1,isTouch:!1,isSettingsActive:!1,isLive:!1,isPiPActive:!1,autopause:!0,playsinline:!1,language:"en",languages:["en"],translations:{en:DM},i18n:DM},AM=new Set(["autoplay","autopause","aspectRatio","controls","theme","debug","paused","currentTime","language","loop","translations","playbackQuality","muted","playbackRate","playsinline","volume","isSettingsActive","isControlsActive","shouldRenderNativeTextTracks"]),PM=e=>AM.has(e),MM=new Set(["paused","currentTime","duration","buffered","seeking","playing","buffering","playbackReady","textTracks","currentTextTrack","audioTracks","currentAudioTrack","mediaTitle","currentSrc","currentPoster","playbackRate","playbackRates","playbackStarted","playbackEnded","playbackQuality","playbackQualities","mediaType"]),FM=e=>MM.has(e);var OM;!function(e){e.Audio="audio",e.Video="video"}(OM||(OM={}));class RM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.dispose=e}add(e){this.dispose.push(e)}empty(){this.dispose.forEach((e=>e())),this.dispose=[]}}var LM=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const IM=Symbol("vmPlayerKey"),_M=Symbol("vmNameKey"),VM=Symbol("vmRegistryKey"),$M=Symbol("vmRegistrationKey"),zM="vmComponentRegister",BM="vmComponentRegistered",HM="vmComponentDeregistered",UM=e=>bM(e,HTMLElement)?e:pP(e);function WM(e,t){const n=Symbol("vmRegistryId"),i=UM(e);i[_M]=null!==t&&void 0!==t?t:i.nodeName.toLowerCase(),i[$M]=n;const o=new CustomEvent(zM,{bubbles:!0,composed:!0,detail:i});kM(e,(()=>{i.dispatchEvent(o)}))}function qM(e){const t=pP(e),n=new Map,i=new RM;function o(e){const i=e.detail,o=UM(i);o[IM]=t,o[VM]=n,n.set(o[$M],o),t.dispatchEvent(new CustomEvent(BM,{detail:o})),kM(i,void 0,(()=>function(e){delete e[IM],delete e[VM],n.delete(e[$M]),t.dispatchEvent(new CustomEvent(HM,{detail:e}))}(o)))}t[VM]=n,kM(e,(()=>{i.add(aM(t,zM,o))}),(()=>{n.clear(),i.empty(),delete e[VM]}))}function KM(e){return UM(e)[IM]}function YM(e,t){var n,i;const o=UM(e);return Array.from(null!==(i=null===(n=o[VM])||void 0===n?void 0:n.values())&&void 0!==i?i:[]).filter((e=>e[_M]===t))}function JM(e,t,n){var i;return LM(this,void 0,void 0,(function*(){const o=yield CM(e),r=new RM,s=UM(e)[VM];function a(e){e.detail[_M]===t&&(null===n||void 0===n||n(YM(o,t)))}return Array.from(null!==(i=null===s||void 0===s?void 0:s.values())&&void 0!==i?i:[]).forEach((e=>a(new CustomEvent("",{detail:e})))),dM(o)||(r.add(aM(o,BM,a)),r.add(aM(o,HM,a))),kM(e,(()=>{}),(()=>{r.empty()})),()=>{r.empty()}}))}var QM=function(e,t,n){void 0===n&&(n=!0);var i="Function"===e.constructor.name?e.prototype:e,o=i.componentWillLoad;i.componentWillLoad=function(){var e=this,i=pP(this),r=function(){var e,t=new Promise((function(t){e=t}));return{promise:t,resolve:e}}(),s=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:t,updater:function(t,n){(t in i?i:e)[t]=n},onOpen:r}});i.dispatchEvent(s);var a=function(){if(o)return o.call(e)};return n?r.promise.then((function(){return a()})):a()}},GM=new Map,XM=function(e,t){var n=e.fields,i=e.updater;n.forEach((function(e){i(e,t[e])}))},ZM=function(e,t){var n=pP(e),i=new Map,o={wormholes:i,state:t};GM.set(e,o);var r=e.connectedCallback;e.connectedCallback=function(){GM.set(e,o),r&&r.call(e)};var s=e.disconnectedCallback;e.disconnectedCallback=function(){GM.delete(e),s&&s.call(e)},n.addEventListener("openWormhole",(function(e){e.stopPropagation();var t=e.detail,n=t.consumer,r=t.onOpen;if(!i.has(n)){if("symbol"!==typeof n){var s=n.connectedCallback,a=n.disconnectedCallback;n.connectedCallback=function(){i.set(n,e.detail),s&&s.call(n)},n.disconnectedCallback=function(){i.delete(n),a&&a.call(n)}}i.set(n,e.detail),XM(e.detail,o.state),null===r||void 0===r||r.resolve((function(){i.delete(n)}))}})),n.addEventListener("closeWormhole",(function(e){var t=e.detail;i.delete(t)}))},eF=function(e,t){var n=e.state,i=pA;if(GM.has(i)){var o=GM.get(i);o.state=n,o.wormholes.forEach((function(e){XM(e,n)}))}return t};const tF=new Set(["isFullscreenActive","isControlsActive","isTextTrackVisible","isPiPActive","isLive","isTouch","isAudio","isVideo","isAudioView","isVideoView"]),nF=new Set(["ready","playbackStarted","playbackEnded","playbackReady"]),iF=e=>tF.has(e)?"vm".concat(e.replace("is","").replace("Active",""),"Change"):nF.has(e)?"vm".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)):"vm".concat(e.charAt(0).toUpperCase()).concat(e.slice(1),"Change");function oF(e,t,n,i){const o=[];o.push(new CustomEvent(iF(t),{detail:n})),"paused"!==t||n||o.push(new CustomEvent("vmPlay")),"seeking"===t&&i&&!n&&o.push(new CustomEvent("vmSeeked")),o.forEach((t=>{e.dispatchEvent(t)}))}const rF=(e,t)=>QM(e,t);var sF;!function(e){e.Audio="audio",e.Video="video",e.HLS="hls",e.Dash="dash",e.YouTube="youtube",e.Vimeo="vimeo",e.Dailymotion="dailymotion"}(sF||(sF={}));const aF=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,lF=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i,cF=/\.(m3u8)($|\?)/i,uF=/^application\/(x-mpegURL|vnd\.apple\.mpegURL)$/i,dF=/\.(mpd)($|\?)/i,hF="vmProviderChange",pF=e=>(t,n)=>{const i=bM(e,HTMLElement)?e:pP(e),o=new CustomEvent(hF,{bubbles:!0,composed:!0,detail:{by:i,prop:t,value:n}});i.dispatchEvent(o)},mF=new Set(["ready","playing","playbackReady","playbackStarted","playbackEnded","seeking","buffered","buffering","duration","viewType","mediaTitle","mediaType","currentSrc","currentPoster","playbackRates","playbackQualities","textTracks","currentTextTrack","isTextTrackVisible","audioTracks","currentAudioTrack","isPiPActive","isFullscreenActive"]);var fF=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const gF=Symbol("vmProviderCache"),vF="vmMediaProviderConnect";function yF(e,t){return new CustomEvent(e,{bubbles:!0,composed:!0,detail:t})}function bF(e){const t=pP(e),n=new RM,i=new Map;function o(n){n.stopImmediatePropagation(),Object.keys(e).forEach((t=>{i.set(t,e[t])}));const o=n.detail,r=pP(n.detail);if(e.provider===r)return;const s=null===r||void 0===r?void 0:r.nodeName.toLowerCase().replace("vm-","");sM((()=>fF(this,void 0,void 0,(function*(){e.provider=r,e.currentProvider=Object.values(sF).find((e=>s===e)),kM(o,void 0,(()=>function(){sM((()=>fF(this,void 0,void 0,(function*(){var n;e.ready=!1,e.provider=void 0,i.clear(),null===(n=e.onProviderDisconnect)||void 0===n||n.call(e),t.dispatchEvent(yF("vmMediaProviderDisconnect"))}))))}()))}))))}function r(t){var n;t.stopImmediatePropagation();const{by:o,prop:r,value:s}=t.detail;(e=>PM(e)||mF.has(e))(r)?sM((()=>{i.set(r,s),e[r]=s})):null===(n=e.logger)||void 0===n||n.warn("".concat(o.nodeName," tried to change `").concat(r,"` but it is readonly."))}e[gF]=i,kM(e,(()=>{n.add(aM(t,vF,o)),n.add(aM(t,hF,r))}),(()=>{n.empty(),i.clear()}))}function xF(e){const t=yF(vF,e);kM(e,(()=>{pP(e).dispatchEvent(t)}))}var wF=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const kF=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.willAttach=!1,this.preload="metadata",WM(this),this.willAttach||xF(this)}getAdapter(){var e,t;return wF(this,void 0,void 0,(function*(){const n=null!==(t=yield null===(e=this.fileProvider)||void 0===e?void 0:e.getAdapter())&&void 0!==t?t:{};return n.canPlay=e=>wF(this,void 0,void 0,(function*(){return gM(e)&&aF.test(e)})),n}))}render(){return VA("vm-file",{noConnect:!0,willAttach:this.willAttach,crossOrigin:this.crossOrigin,preload:this.preload,disableRemotePlayback:this.disableRemotePlayback,mediaTitle:this.mediaTitle,viewType:OM.Audio,ref:e=>{this.fileProvider=e}},VA("slot",null))}};var SF=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const CF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.canToggleCaptionVisibility=!1,this.showIcon="captions-on",this.hideIcon="captions-off",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="c",this.i18n={},this.playbackReady=!1,this.textTracks=[],this.isTextTrackVisible=!1,WM(this),rF(this,["i18n","textTracks","isTextTrackVisible","playbackReady"])}onTextTracksChange(){var e;return SF(this,void 0,void 0,(function*(){const t=KM(this);this.canToggleCaptionVisibility=this.textTracks.length>0&&null!==(e=yield null===t||void 0===t?void 0:t.canSetTextTrackVisibility())&&void 0!==e&&e}))}componentDidLoad(){this.onTextTracksChange()}onClick(){var e;const t=KM(this);null===(e=null===t||void 0===t?void 0:t.setTextTrackVisibility)||void 0===e||e.call(t,!this.isTextTrackVisible)}render(){const e=this.isTextTrackVisible?this.i18n.disableCaptions:this.i18n.enableCaptions,t=dM(this.keys)?e:"".concat(e," (").concat(this.keys,")");return VA(zA,{hidden:!this.canToggleCaptionVisibility},VA("vm-control",{label:this.i18n.captions,keys:this.keys,hidden:!this.canToggleCaptionVisibility,pressed:this.isTextTrackVisible,onClick:this.onClick.bind(this)},VA("vm-icon",{name:this.isTextTrackVisible?this.showIcon:this.hideIcon,library:this.icons}),VA("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t)))}static get watchers(){return{textTracks:["onTextTracksChange"],playbackReady:["onTextTracksChange"]}}static get style(){return":host([hidden]){display:none}"}},TF=new Set,EF=new Set,NF=new Map;function DF(){sM((()=>{EF.forEach((e=>{const t=parseFloat(window.getComputedStyle(e).height);TF.forEach((n=>{const i=NF.get(n),o=lM(n,e),r=lM(n,e,0,t)||lM(n,e,0,-t);i.set(e,o||r?t:0)}))})),TF.forEach((e=>{const t=NF.get(e);e.style.setProperty("--vm-controls-height","".concat(Math.max(0,Math.max(...t.values())),"px"))}))}))}function jF(e){const t=pP(e);kM(e,(()=>{TF.add(t),NF.set(t,new Map),DF()}),(()=>{TF.delete(t),NF.delete(t)}))}var AF=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const PF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.sizeDisposal=new RM,this.textDisposal=new RM,this.isEnabled=!1,this.fontSize="sm",this.hidden=!1,this.isControlsActive=!1,this.isVideoView=!1,this.playbackStarted=!1,this.textTracks=[],this.currentTextTrack=-1,this.isTextTrackVisible=!0,WM(this),jF(this),rF(this,["isVideoView","playbackStarted","isControlsActive","textTracks","currentTextTrack","isTextTrackVisible"])}onEnabledChange(){this.isEnabled=this.playbackStarted&&this.isVideoView}onTextTracksChange(){const e=this.textTracks[this.currentTextTrack],t=()=>{var t;const n=Array.from(null!==(t=e.activeCues)&&void 0!==t?t:[]);this.renderCurrentCue(n[0])};this.textDisposal.empty(),hM(e)||(t(),this.textDisposal.add(aM(e,"cuechange",t)))}connectedCallback(){this.dispatch=NM(this),this.dispatch("shouldRenderNativeTextTracks",!1),this.onTextTracksChange(),this.onPlayerResize()}disconnectedCallback(){this.textDisposal.empty(),this.sizeDisposal.empty(),this.dispatch("shouldRenderNativeTextTracks",!0)}onPlayerResize(){return AF(this,void 0,void 0,(function*(){const e=yield CM(this);if(dM(e))return;const t=yield e.getContainer();new ResizeObserver((e=>{const t=e[0],{width:n}=t.contentRect;this.fontSize=n>=1360?"xl":n>=1024?"lg":n>=768?"md":"sm"})).observe(t)}))}renderCurrentCue(e){if(hM(e))return void(this.cue="");const t=document.createElement("div");t.append(e.getCueAsHTML()),this.cue=t.innerHTML.trim()}render(){return VA("div",{style:{transform:"translateY(calc(".concat(this.isControlsActive?"var(--vm-controls-height)":"24px"," * -1))")},class:{captions:!0,enabled:this.isEnabled,hidden:this.hidden,fontMd:"md"===this.fontSize,fontLg:"lg"===this.fontSize,fontXl:"xl"===this.fontSize,inactive:!this.isTextTrackVisible}},VA("span",{class:"cue"},this.cue))}static get watchers(){return{isVideoView:["onEnabledChange"],playbackStarted:["onEnabledChange"],textTracks:["onTextTracksChange"],currentTextTrack:["onTextTracksChange"]}}static get style(){return":host{position:absolute;left:0;bottom:0;width:100%;pointer-events:none;z-index:var(--vm-captions-z-index)}.captions{width:100%;text-align:center;color:var(--vm-captions-text-color);font-size:var(--vm-captions-font-size);padding:$control-spacing;display:none;pointer-events:none;transition:transform 0.4s ease-in-out, opacity 0.3s ease-in-out}.captions.enabled{display:inline-block}.captions.hidden{display:none !important}.captions.inactive{opacity:0;visibility:hidden}.captions.fontMd{font-size:var(--vm-captions-font-size-medium)}.captions.fontLg{font-size:var(--vm-captions-font-size-large)}.captions.fontXl{font-size:var(--vm-captions-font-size-xlarge)}.cue{display:inline-block;background:var(--vm-captions-cue-bg-color);border-radius:var(--vm-captions-cue-border-radius);box-decoration-break:clone;line-height:185%;padding:var(--vm-captions-cue-padding);white-space:pre-wrap;pointer-events:none}.cue>div{display:inline}.cue:empty{display:none}"}};var MF=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const FF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.useOnMobile=!1,this.paused=!0,this.isVideoView=!1,this.isMobile=!1,WM(this),rF(this,["paused","isVideoView","isMobile"])}connectedCallback(){this.dispatch=NM(this)}forceClick(){return MF(this,void 0,void 0,(function*(){this.onClick()}))}onClick(){this.dispatch("paused",!this.paused)}render(){return VA("div",{class:{clickToPlay:!0,enabled:this.isVideoView&&(!this.isMobile||this.useOnMobile)},onClick:this.onClick.bind(this)})}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-click-to-play-z-index)}.clickToPlay{display:none;width:100%;height:100%;pointer-events:none}.clickToPlay.enabled{display:inline-block;pointer-events:auto}"}};var OF=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const RF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmInteractionChange=mP(this,"vmInteractionChange",7),this.vmFocus=mP(this,"vmFocus",7),this.vmBlur=mP(this,"vmBlur",7),this.keyboardDisposal=new RM,this.showTapHighlight=!1,this.hidden=!1,this.isTouch=!1,WM(this),rF(this,["isTouch"])}onKeysChange(){return OF(this,void 0,void 0,(function*(){if(this.keyboardDisposal.empty(),dM(this.keys))return;const e=yield CM(this),t=this.keys.split("/");dM(e)||this.keyboardDisposal.add(aM(e,"keydown",(e=>{t.includes(e.key)&&this.button.click()})))}))}connectedCallback(){this.findTooltip(),this.onKeysChange()}componentWillLoad(){this.findTooltip()}disconnectedCallback(){this.keyboardDisposal.empty()}focusControl(){var e;return OF(this,void 0,void 0,(function*(){null===(e=this.button)||void 0===e||e.focus()}))}blurControl(){var e;return OF(this,void 0,void 0,(function*(){null===(e=this.button)||void 0===e||e.blur()}))}onTouchStart(){this.showTapHighlight=!0}onTouchEnd(){setTimeout((()=>{this.showTapHighlight=!1}),100)}findTooltip(){const e=this.host.querySelector("vm-tooltip");return uM(e)||(this.describedBy=e.id),e}onShowTooltip(){const e=this.findTooltip();uM(e)||(e.active=!0),this.vmInteractionChange.emit(!0)}onHideTooltip(){const e=this.findTooltip();uM(e)||(e.active=!1),this.button.blur(),this.vmInteractionChange.emit(!1)}onFocus(){this.vmFocus.emit(),this.onShowTooltip()}onBlur(){this.vmBlur.emit(),this.onHideTooltip()}onMouseEnter(){this.onShowTooltip()}onMouseLeave(){this.onHideTooltip()}render(){const e=this.expanded?"true":"false",t=this.pressed?"true":"false";return VA("button",{class:{hidden:this.hidden,notTouch:!this.isTouch,tapHighlight:this.showTapHighlight},id:this.identifier,type:"button","aria-label":this.label,"aria-haspopup":dM(this.menu)?void 0:"true","aria-controls":this.menu,"aria-expanded":dM(this.menu)?void 0:e,"aria-pressed":dM(this.pressed)?void 0:t,"aria-hidden":this.hidden?"true":"false","aria-describedby":this.describedBy,onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:e=>{this.button=e}},VA("slot",null))}get host(){return this}static get watchers(){return{keys:["onKeysChange"]}}static get style(){return"button{display:flex;align-items:center;flex-direction:row;border:var(--vm-control-border);cursor:pointer;flex-shrink:0;font-size:var(--vm-control-icon-size);color:var(--vm-control-color);background:var(--vm-control-bg, transparent);border-radius:var(--vm-control-border-radius);padding:var(--vm-control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease;transform:scale(var(--vm-control-scale, 1));touch-action:manipulation;box-sizing:border-box}button.hidden{display:none}button:focus{outline:0}button.tapHighlight{background:var(--vm-control-tap-highlight)}button.notTouch:focus,button.notTouch:hover,button.notTouch[aria-expanded='true']{background:var(--vm-control-focus-bg);color:var(--vm-control-focus-color);transform:scale(calc(var(--vm-control-scale, 1) + 0.06))}"}},LF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.space="none",WM(this)}render(){return VA("div",{class:{controlGroup:!0,spaceTop:"none"!==this.space&&"bottom"!==this.space,spaceBottom:"none"!==this.space&&"top"!==this.space}},VA("slot",null))}get host(){return this}static get style(){return":host{width:100%}.controlGroup{position:relative;width:100%;display:flex;flex-wrap:wrap;flex-direction:inherit;align-items:inherit;justify-content:inherit;box-sizing:border-box}.controlGroup.spaceTop{margin-top:var(--vm-control-group-spacing)}.controlGroup.spaceBottom{margin-bottom:var(--vm-control-group-spacing)}::slotted(*){margin-left:var(--vm-controls-spacing)}::slotted(*:first-child){margin-left:0}"}},IF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),WM(this)}static get style(){return":host{flex:1}"}};var _F=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const VF={},$F={},zF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.disposal=new RM,this.isInteracting=!1,this.hidden=!1,this.fullWidth=!1,this.fullHeight=!1,this.direction="row",this.align="center",this.justify="start",this.pin="bottomLeft",this.activeDuration=2750,this.waitForPlaybackStart=!1,this.hideWhenPaused=!1,this.hideOnMouseLeave=!1,this.isAudioView=!1,this.isSettingsActive=!1,this.playbackReady=!1,this.isControlsActive=!1,this.paused=!0,this.playbackStarted=!1,WM(this),function(e){const t=pP(e);function n(){return t.shadowRoot.querySelector(".controls")}kM(e,(()=>{const e=n();uM(e)||(EF.add(e),DF())}),(()=>{EF.delete(n()),DF()})),wM(e,"componentDidLoad",(()=>{EF.add(n()),DF()})),wM(e,"componentDidRender",DF)}(this),rF(this,["playbackReady","isAudioView","isControlsActive","isSettingsActive","paused","playbackStarted"])}connectedCallback(){this.dispatch=NM(this),this.onControlsChange(),this.setupPlayerListeners()}componentWillLoad(){this.onControlsChange()}disconnectedCallback(){this.disposal.empty(),delete $F[VF[this]],delete VF[this]}setupPlayerListeners(){return _F(this,void 0,void 0,(function*(){const e=yield CM(this);if(dM(e))return;["focus","keydown","click","touchstart","mouseleave"].forEach((t=>{this.disposal.add(aM(e,t,this.onControlsChange.bind(this)))})),this.disposal.add(aM(e,"mousemove",function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];const a=this,l=i&&dM(t);clearTimeout(t),t=setTimeout((function(){t=void 0,i||e.apply(a,r)}),n),l&&e.apply(a,r)}}(this.onControlsChange,50,!0).bind(this))),VF[this]=e}))}show(){this.dispatch("isControlsActive",!0)}hide(){this.dispatch("isControlsActive",!1)}hideWithDelay(){clearTimeout($F[VF[this]]),$F[VF[this]]=setTimeout((()=>{this.hide()}),this.activeDuration)}onControlsChange(e){if(clearTimeout($F[VF[this]]),!this.hidden&&this.playbackReady)if(this.isAudioView)this.show();else if(!this.waitForPlaybackStart||this.playbackStarted)if(this.isInteracting||this.isSettingsActive)this.show();else if(this.hideWhenPaused&&this.paused)this.hideWithDelay();else{if(!this.hideOnMouseLeave||this.paused||"mouseleave"!==(null===e||void 0===e?void 0:e.type))return this.paused?void this.show():(this.show(),void this.hideWithDelay());this.hide()}else this.hide();else this.hide()}getPosition(){if(this.isAudioView)return{};if("center"===this.pin)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const e=this.pin.split(/(?=[L|R])/).map((e=>e.toLowerCase()));return{[e[0]]:0,[e[1]]:0}}onStartInteraction(){this.isInteracting=!0}onEndInteraction(){this.isInteracting=!1}render(){return VA(zA,{video:!this.isAudioView},VA("div",{style:Object.assign(Object.assign({},this.getPosition()),{flexDirection:this.direction,alignItems:"center"===this.align?"center":"flex-".concat(this.align),justifyContent:this.justify}),class:{controls:!0,audio:this.isAudioView,hidden:this.hidden,active:this.playbackReady&&this.isControlsActive,fullWidth:this.isAudioView||this.fullWidth,fullHeight:!this.isAudioView&&this.fullHeight},onMouseEnter:this.onStartInteraction.bind(this),onMouseLeave:this.onEndInteraction.bind(this),onTouchStart:this.onStartInteraction.bind(this),onTouchEnd:this.onEndInteraction.bind(this)},VA("slot",null)))}static get watchers(){return{paused:["onControlsChange"],hidden:["onControlsChange"],isAudioView:["onControlsChange"],isInteracting:["onControlsChange"],isSettingsActive:["onControlsChange"],hideWhenPaused:["onControlsChange"],hideOnMouseLeave:["onControlsChange"],playbackStarted:["onControlsChange"],waitForPlaybackStart:["onControlsChange"],playbackReady:["onControlsChange"]}}static get style(){return":host{position:relative;width:100%;z-index:var(--vm-controls-z-index)}:host([video]){position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.controls{display:flex;width:100%;position:absolute;flex-wrap:wrap;pointer-events:auto;box-sizing:border-box;background:var(--vm-controls-bg);padding:var(--vm-controls-padding);border-radius:var(--vm-controls-border-radius);opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.controls.audio{position:relative}.controls.hidden{display:none}.controls.active{opacity:1;visibility:visible}.controls.fullWidth{width:100%}.controls.fullHeight{height:100%}::slotted(*:not(vm-control-group)){margin-left:var(--vm-controls-spacing)}::slotted(*:not(vm-control-group):first-child){margin-left:0}"}},BF=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.currentTime=0,this.i18n={},this.alwaysShowHours=!1,WM(this),rF(this,["currentTime","i18n"])}render(){return VA("vm-time",{label:this.i18n.currentTime,seconds:this.currentTime,alwaysShowHours:this.alwaysShowHours})}static get style(){return":host{display:flex;align-items:center;justify-content:center}"}};var HF,UF;const WF="undefined"!==typeof window,qF=WF?null===(HF=window.navigator)||void 0===HF?void 0:HF.userAgent.toLowerCase():"",KF=/iphone|ipad|ipod|ios|CriOS|FxiOS/.test(qF),YF=/android/.test(qF),JF=WF&&(KF||YF),QF=WF&&/(iPhone|iPod)/gi.test(null===(UF=window.navigator)||void 0===UF?void 0:UF.platform);/firefox/.test(qF);const GF=WF&&window.chrome;WF&&!GF&&(window.safari||KF||/(apple|safari)/.test(qF));const XF=()=>{if(!WF)return!1;const e=document.createElement("video");return!!document.pictureInPictureEnabled&&!e.disablePictureInPicture},ZF=()=>{if(!WF)return!1;const e=document.createElement("video");return vM(e.webkitSupportsPresentationMode)&&vM(e.webkitSetPresentationMode)&&!QF},eO=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!WF)return Promise.resolve(!1);const n=document.createElement("video");return e&&(n.setAttribute("muted",""),n.muted=!0),t&&(n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline","")),n.setAttribute("height","0"),n.setAttribute("width","0"),n.style.position="fixed",n.style.top="0",n.style.width="0",n.style.height="0",n.style.opacity="0",new Promise((e=>e(n.play()))).catch(cM),Promise.resolve(!n.paused)};const tO=e=>mM(e)?e:function(e){if(gM(e))try{return JSON.parse(e)}catch(MI){return}}(e),nO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(((n,i)=>{const o=new Image,r=()=>{delete o.onload,delete o.onerror,o.naturalWidth>=t?n(o):i(o)};Object.assign(o,{onload:r,onerror:r,src:e})}))},iO=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cM;var i;const o=document.createElement("script");o.src=e,o.onload=t,o.onerror=n;const r=document.getElementsByTagName("script")[0];null===(i=r.parentNode)||void 0===i||i.insertBefore(o,r)},oO=e=>{var t;if(!hM(t=e)&&(mM(t)||gM(t)&&t.startsWith("{")))return tO(e)},rO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!WF)return t;try{return window.decodeURIComponent(e)}catch(MI){return t}},sO=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g,aO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preconnect",n=arguments.length>2?arguments[2]:void 0;if(!WF)return!1;const i=document.createElement("link");return i.rel=t,i.href=e,dM(n)||(i.as=n),i.crossOrigin="true",document.head.append(i),!0},lO=(e,t)=>((e,t)=>{if(dM(t)||0===t.length)return e;const n=e.split("?",2);return n[0]+(dM(n[1])?"?".concat(t):"?".concat(n[1],"&").concat(t))})(e,mM(t)?(e=>{const t=[],n=(e,n)=>{t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n)))};return Object.keys(e).forEach((t=>{const i=e[t];hM(i)||(yM(i)?i.forEach((e=>n(t,e))):n(t,i))})),t.join("&")})(t):t),cO=e=>{if(gM(e))return(e=>{const t=Object.create(null);if(dM(e))return t;let n;for(;n=sO.exec(e);){const e=rO(n[1],n[1]).replace("[]",""),i=gM(n[2])?rO(n[2].replace(/\+/g," "),n[2]):"",o=t[e];o&&!yM(o)&&(t[e]=[o]),o?t[e].push(i):t[e]=i}return t})(e)},uO={},dO=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:iO;const r=e=>dM(window[e])?window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:void 0:window[e],s=r(t);return s&&i(s)?Promise.resolve(s):new Promise(((i,s)=>{if(!dM(uO[e]))return void uO[e].push({resolve:i,reject:s});uO[e]=[{resolve:i,reject:s}];const a=t=>{uO[e].forEach((e=>e.resolve(t)))};if(!dM(n)){const e=window[n];window[n]=function(){dM(e)||e(),a(r(t))}}o(e,(()=>{dM(n)&&a(r(t))}),(t=>{uO[e].forEach((e=>{e.reject(t)})),delete uO[e]}))}))},hO=function(e){return rF(e,["autoplay","controls","language","muted","logger","loop","aspectRatio","playsinline",...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])};var pO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const mO=new Map,fO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmLoadStart=mP(this,"vmLoadStart",7),this.vmError=mP(this,"vmError",7),this.defaultInternalState={},this.internalState={currentTime:0,volume:0,muted:!1,isAdsPlaying:!1,playbackReady:!1},this.embedSrc="",this.mediaTitle="",this.shouldAutoplayQueue=!1,this.showUpNextQueue=!1,this.showShareButtons=!1,this.showDailymotionLogo=!1,this.showVideoInfo=!0,this.language="en",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,WM(this),xF(this),hO(this)}onVideoIdChange(){this.internalState=Object.assign({},this.defaultInternalState),this.videoId?(this.embedSrc="".concat(this.getOrigin(),"/embed/video/").concat(this.videoId,"?api=1"),this.fetchVideoInfo=this.getVideoInfo(),this.pendingMediaTitleCall=xM()):this.embedSrc=""}onControlsChange(){this.internalState.playbackReady&&this.remoteControl("controls",this.controls)}onCustomPosterChange(){this.dispatch("currentPoster",this.poster)}connectedCallback(){this.dispatch=pF(this),this.dispatch("viewType",OM.Video),this.onVideoIdChange(),this.internalState.muted=this.muted,this.defaultInternalState=Object.assign({},this.internalState)}componentWillLoad(){this.initialMuted=this.muted}getOrigin(){return"https://www.dailymotion.com"}getPreconnections(){return[this.getOrigin(),"https://static1.dmcdn.net"]}remoteControl(e,t){return this.embed.postMessage({command:e,parameters:t?[t]:[]})}buildParams(){return{autoplay:this.autoplay,mute:this.initialMuted,controls:this.controls,"queue-autoplay-next":this.shouldAutoplayQueue,"queue-enable":this.showUpNextQueue,"sharing-enable":this.showShareButtons,syndication:this.syndication,"ui-highlight":this.color,"ui-logo":this.showDailymotionLogo,"ui-start-screen-info":this.showVideoInfo}}getVideoInfo(){return pO(this,void 0,void 0,(function*(){if(mO.has(this.videoId))return mO.get(this.videoId);return window.fetch("".concat("https://api.dailymotion.com","/video/").concat(this.videoId,"?fields=duration,thumbnail_1080_url")).then((e=>e.json())).then((e=>{const t=e.thumbnail_1080_url,n=parseFloat(e.duration);return mO.set(this.videoId,{poster:t,duration:n}),{poster:t,duration:n}}))}))}onEmbedSrcChange(){this.vmLoadStart.emit(),this.dispatch("viewType",OM.Video)}onEmbedMessage(e){var t,n;const i=e.detail;switch(i.event){case"playback_ready":this.onControlsChange(),this.dispatch("currentSrc",this.embedSrc),this.dispatch("mediaType",TM.Video),Promise.all([this.fetchVideoInfo,null===(t=this.pendingMediaTitleCall)||void 0===t?void 0:t.promise]).then((e=>{let[t,n]=e;var i,o;this.dispatch("duration",null!==(i=null===t||void 0===t?void 0:t.duration)&&void 0!==i?i:-1),this.dispatch("currentPoster",null!==(o=this.poster)&&void 0!==o?o:null===t||void 0===t?void 0:t.poster),this.dispatch("mediaTitle",n),this.dispatch("playbackReady",!0)}));break;case"videochange":null===(n=this.pendingMediaTitleCall)||void 0===n||n.resolve(i.title);break;case"start":this.dispatch("paused",!1),this.dispatch("playbackStarted",!0),this.dispatch("buffering",!0);break;case"video_start":this.remoteControl("muted",this.internalState.muted),this.remoteControl("volume",this.internalState.volume),this.internalState.currentTime>0&&this.remoteControl("seek",this.internalState.currentTime);break;case"play":this.dispatch("paused",!1);break;case"pause":this.dispatch("paused",!0),this.dispatch("playing",!1),this.dispatch("buffering",!1);break;case"playing":this.dispatch("playing",!0),this.dispatch("buffering",!1);break;case"video_end":this.loop?setTimeout((()=>{this.remoteControl("play")}),300):this.dispatch("playbackEnded",!0);break;case"timeupdate":this.dispatch("currentTime",parseFloat(i.time));break;case"volumechange":this.dispatch("muted","true"===i.muted),this.dispatch("volume",Math.floor(100*parseFloat(i.volume)));break;case"seeking":this.dispatch("currentTime",parseFloat(i.time)),this.dispatch("seeking",!0);break;case"seeked":this.dispatch("currentTime",parseFloat(i.time)),this.dispatch("seeking",!1);break;case"waiting":this.dispatch("buffering",!0);break;case"progress":this.dispatch("buffered",parseFloat(i.time));break;case"durationchange":this.dispatch("duration",parseFloat(i.duration));break;case"qualitiesavailable":this.dispatch("playbackQualities",i.qualities.map((e=>"".concat(e,"p"))));break;case"qualitychange":this.dispatch("playbackQuality","".concat(i.quality,"p"));break;case"fullscreenchange":this.dispatch("isFullscreenActive","true"===i.fullscreen);break;case"error":this.vmError.emit(i.error)}}getAdapter(){return pO(this,void 0,void 0,(function*(){const e=/(?:dai\.ly|dailymotion|dailymotion\.com)\/(?:video\/|embed\/|)(?:video\/|)((?:\w)+)/;return{getInternalPlayer:()=>pO(this,void 0,void 0,(function*(){return this.embed})),play:()=>pO(this,void 0,void 0,(function*(){this.remoteControl("play")})),pause:()=>pO(this,void 0,void 0,(function*(){this.remoteControl("pause")})),canPlay:t=>pO(this,void 0,void 0,(function*(){return gM(t)&&e.test(t)})),setCurrentTime:e=>pO(this,void 0,void 0,(function*(){e!==this.internalState.currentTime&&(this.internalState.currentTime=e,this.remoteControl("seek",e))})),setMuted:e=>pO(this,void 0,void 0,(function*(){this.internalState.muted=e,this.remoteControl("muted",e)})),setVolume:e=>pO(this,void 0,void 0,(function*(){this.internalState.volume=e/100,this.dispatch("volume",e),this.remoteControl("volume",e/100)})),canSetPlaybackQuality:()=>pO(this,void 0,void 0,(function*(){return!0})),setPlaybackQuality:e=>pO(this,void 0,void 0,(function*(){this.remoteControl("quality",e.slice(0,-1))})),canSetFullscreen:()=>pO(this,void 0,void 0,(function*(){return!0})),enterFullscreen:()=>pO(this,void 0,void 0,(function*(){this.remoteControl("fullscreen",!0)})),exitFullscreen:()=>pO(this,void 0,void 0,(function*(){this.remoteControl("fullscreen",!1)}))}}))}render(){return VA("vm-embed",{embedSrc:this.embedSrc,mediaTitle:this.mediaTitle,origin:this.getOrigin(),params:this.buildParams(),decoder:cO,preconnections:this.getPreconnections(),onVmEmbedMessage:this.onEmbedMessage.bind(this),onVmEmbedSrcChange:this.onEmbedSrcChange.bind(this),ref:e=>{this.embed=e}})}static get watchers(){return{videoId:["onVideoIdChange"],controls:["onControlsChange"],poster:["onCustomPosterChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}"}};var gO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const vO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmLoadStart=mP(this,"vmLoadStart",7),this.vmError=mP(this,"vmError",7),this.textTracksDisposal=new RM,this.hasAttached=!1,this.version="latest",this.config={},this.autoplay=!1,this.preload="metadata",this.enableTextTracksByDefault=!0,this.shouldRenderNativeTextTracks=!0,this.isTextTrackVisible=!0,this.currentTextTrack=-1,WM(this),xF(this),rF(this,["autoplay","shouldRenderNativeTextTracks","isTextTrackVisible","currentTextTrack"])}onSrcChange(){var e;this.hasAttached&&(this.vmLoadStart.emit(),null===(e=this.dash)||void 0===e||e.attachSource(this.src))}onShouldRenderNativeTextTracks(){var e;this.shouldRenderNativeTextTracks?this.textTracksDisposal.empty():this.hideCurrentTextTrack(),null===(e=this.dash)||void 0===e||e.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks)}onTextTrackChange(){var e,t;if(this.shouldRenderNativeTextTracks&&!dM(this.dash)&&(this.dash.setTextTrack(this.isTextTrackVisible?this.currentTextTrack:-1),!this.isTextTrackVisible)){const n=Array.from(null!==(t=null===(e=this.mediaEl)||void 0===e?void 0:e.textTracks)&&void 0!==t?t:[])[this.currentTextTrack];"hidden"===(null===n||void 0===n?void 0:n.mode)&&this.dispatch("currentTextTrack",-1)}}connectedCallback(){this.dispatch=pF(this),this.mediaEl&&this.setupDash()}disconnectedCallback(){this.textTracksDisposal.empty(),this.destroyDash()}setupDash(){return gO(this,void 0,void 0,(function*(){try{const e=this.libSrc||"https://cdn.jsdelivr.net/npm/dashjs@".concat(this.version,"/dist/dash.all.min.js"),t=yield dO(e,"dashjs");this.dash=t.MediaPlayer(this.config).create(),this.dash.initialize(this.mediaEl,null,this.autoplay),this.dash.setTextDefaultEnabled(this.enableTextTracksByDefault),this.dash.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks),this.dash.on(t.MediaPlayer.events.PLAYBACK_METADATA_LOADED,(()=>{this.dispatch("mediaType",TM.Video),this.dispatch("currentSrc",this.src),this.dispatchLevels(),this.listenToTextTracksForChanges(),this.dispatch("playbackReady",!0)})),this.dash.on(t.MediaPlayer.events.TRACK_CHANGE_RENDERED,(()=>{this.shouldRenderNativeTextTracks||this.hideCurrentTextTrack()})),this.dash.on(t.MediaPlayer.events.ERROR,(e=>{this.vmError.emit(e)})),this.hasAttached=!0}catch(MI){this.vmError.emit(MI)}}))}destroyDash(){var e;return gO(this,void 0,void 0,(function*(){null===(e=this.dash)||void 0===e||e.reset(),this.hasAttached=!1}))}onMediaElChange(e){return gO(this,void 0,void 0,(function*(){this.destroyDash(),dM(e.detail)||(this.mediaEl=e.detail,yield this.setupDash())}))}levelToPlaybackQuality(e){return-1===e?"Auto":"".concat(e.height,"p")}findLevelIndexFromQuality(e){return this.dash.getBitrateInfoListFor("video").findIndex((t=>this.levelToPlaybackQuality(t)===e))}dispatchLevels(){try{const e=this.dash.getBitrateInfoListFor("video");(null===e||void 0===e?void 0:e.length)>0&&(this.dispatch("playbackQualities",["Auto",...e.map(this.levelToPlaybackQuality)]),this.dispatch("playbackQuality","Auto"))}catch(MI){this.vmError.emit(MI)}}listenToTextTracksForChanges(){var e,t,n;if(this.textTracksDisposal.empty(),dM(this.mediaEl)||this.shouldRenderNativeTextTracks)return;const i=null!==(n=(null===(t=null===(e=this.dash)||void 0===e?void 0:e.getCurrentTrackFor("text"))||void 0===t?void 0:t.index)-1)&&void 0!==n?n:-1;this.currentTextTrack=i,this.dispatch("currentTextTrack",i),this.textTracksDisposal.add(aM(this.mediaEl.textTracks,"change",this.onTextTracksChange.bind(this)))}getTextTracks(){var e,t;return Array.from(null!==(t=null===(e=this.mediaEl)||void 0===e?void 0:e.textTracks)&&void 0!==t?t:[])}hideCurrentTextTrack(){const e=this.getTextTracks();e[this.currentTextTrack]&&this.isTextTrackVisible&&(e[this.currentTextTrack].mode="hidden")}onTextTracksChange(){this.hideCurrentTextTrack(),this.dispatch("textTracks",this.getTextTracks()),this.dispatch("isTextTrackVisible",this.isTextTrackVisible),this.dispatch("currentTextTrack",this.currentTextTrack)}getAdapter(){var e,t;return gO(this,void 0,void 0,(function*(){const n=null!==(t=yield null===(e=this.videoProvider)||void 0===e?void 0:e.getAdapter())&&void 0!==t?t:{},i=n.canPlay;return Object.assign(Object.assign({},n),{getInternalPlayer:()=>gO(this,void 0,void 0,(function*(){return this.dash})),canPlay:e=>gO(this,void 0,void 0,(function*(){var t;return gM(e)&&dF.test(e)||null!==(t=null===i||void 0===i?void 0:i(e))&&void 0!==t&&t})),canSetPlaybackQuality:()=>gO(this,void 0,void 0,(function*(){var e,t;try{return(null===(t=null===(e=this.dash)||void 0===e?void 0:e.getBitrateInfoListFor("video"))||void 0===t?void 0:t.length)>0}catch(MI){return this.vmError.emit(MI),!1}})),setPlaybackQuality:e=>gO(this,void 0,void 0,(function*(){if(!dM(this.dash)){const t=this.findLevelIndexFromQuality(e);this.dash.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:-1===t}}}}),t>=0&&this.dash.setQualityFor("video",t),this.dispatch("playbackQuality",e)}})),setCurrentTextTrack:e=>gO(this,void 0,void 0,(function*(){var t;this.shouldRenderNativeTextTracks?n.setCurrentTextTrack(e):(this.currentTextTrack=e,null===(t=this.dash)||void 0===t||t.setTextTrack(e),this.onTextTracksChange())})),setTextTrackVisibility:e=>gO(this,void 0,void 0,(function*(){var t;this.shouldRenderNativeTextTracks?n.setTextTrackVisibility(e):(this.isTextTrackVisible=e,null===(t=this.dash)||void 0===t||t.enableText(e),this.onTextTracksChange())}))})}))}render(){return VA("vm-video",{willAttach:!0,crossOrigin:this.crossOrigin,preload:this.preload,poster:this.poster,controlsList:this.controlsList,autoPiP:this.autoPiP,disablePiP:this.disablePiP,hasCustomTextManager:!this.shouldRenderNativeTextTracks,disableRemotePlayback:this.disableRemotePlayback,mediaTitle:this.mediaTitle,ref:e=>{this.videoProvider=e}})}static get watchers(){return{src:["onSrcChange"],hasAttached:["onSrcChange"],shouldRenderNativeTextTracks:["onShouldRenderNativeTextTracks"],isTextTrackVisible:["onTextTrackChange"],currentTextTrack:["onTextTrackChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}"}};var yO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const bO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.canSetFullscreen=!1,this.useOnMobile=!1,this.isFullscreenActive=!0,this.isVideoView=!1,this.playbackReady=!1,this.isMobile=!1,this.clicks=0,WM(this),rF(this,["playbackReady","isFullscreenActive","isVideoView","isMobile"])}onPlaybackReadyChange(){return yO(this,void 0,void 0,(function*(){const e=yield CM(this);dM(e)||(this.canSetFullscreen=yield e.canSetFullscreen())}))}onTriggerClickToPlay(){return yO(this,void 0,void 0,(function*(){const[e]=YM(this,"vm-click-to-play");yield null===e||void 0===e?void 0:e.forceClick()}))}onToggleFullscreen(){return yO(this,void 0,void 0,(function*(){const e=yield CM(this);dM(e)||(this.isFullscreenActive?e.exitFullscreen():e.enterFullscreen())}))}onClick(){this.clicks+=1,1===this.clicks&&setTimeout((()=>{1===this.clicks?this.onTriggerClickToPlay():this.onToggleFullscreen(),this.clicks=0}),300)}render(){return VA("div",{class:{dblClickFullscreen:!0,enabled:this.playbackReady&&this.canSetFullscreen&&this.isVideoView&&(!this.isMobile||this.useOnMobile)},onClick:this.onClick.bind(this)})}static get watchers(){return{playbackReady:["onPlaybackReadyChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-dbl-click-fullscreen-z-index)}.dblClickFullscreen{display:none;width:100%;height:100%;pointer-events:none}.dblClickFullscreen.enabled{display:inline-block;pointer-events:auto}"}},xO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.activeDuration=2750,this.waitForPlaybackStart=!1,this.hideWhenPaused=!1,this.hideOnMouseLeave=!1,this.isMobile=!1,this.isLive=!1,this.isAudioView=!1,this.isVideoView=!1,WM(this),rF(this,["theme","isMobile","isAudioView","isVideoView","isLive"])}buildAudioControls(){return VA("vm-controls",{fullWidth:!0},VA("vm-playback-control",{tooltipDirection:"right"}),VA("vm-volume-control",null),!this.isLive&&VA("vm-current-time",null),this.isLive&&VA("vm-control-spacer",null),!this.isLive&&VA("vm-scrubber-control",null),this.isLive&&VA("vm-live-indicator",null),!this.isLive&&VA("vm-end-time",null),!this.isLive&&VA("vm-settings-control",{tooltipDirection:"left"}),VA("div",{style:{marginLeft:"0",paddingRight:"2px"}}))}buildMobileVideoControls(){return VA(VP,null,VA("vm-scrim",{gradient:"up"}),VA("vm-controls",{pin:"topLeft",fullWidth:!0,activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused},VA("vm-control-spacer",null),VA("vm-volume-control",null),!this.isLive&&VA("vm-caption-control",null),!this.isLive&&VA("vm-settings-control",null),this.isLive&&VA("vm-fullscreen-control",null)),VA("vm-controls",{pin:"center",justify:"center",activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused},VA("vm-playback-control",{style:{"--vm-control-scale":"1.3"}})),!this.isLive&&VA("vm-controls",{pin:"bottomLeft",fullWidth:!0,activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused},VA("vm-control-group",null,VA("vm-current-time",null),VA("vm-control-spacer",null),VA("vm-end-time",null),VA("vm-fullscreen-control",null)),VA("vm-control-group",{space:"top"},VA("vm-scrubber-control",null))))}buildDesktopVideoControls(){return VA(VP,null,"light"!==this.theme&&VA("vm-scrim",{gradient:"up"}),VA("vm-controls",{fullWidth:!0,pin:"bottomRight",activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused,hideOnMouseLeave:this.hideOnMouseLeave},!this.isLive&&VA("vm-control-group",null,VA("vm-scrubber-control",null)),VA("vm-control-group",{space:this.isLive?"none":"top"},VA("vm-playback-control",{tooltipDirection:"right"}),VA("vm-volume-control",null),!this.isLive&&VA("vm-time-progress",null),VA("vm-control-spacer",null),!this.isLive&&VA("vm-caption-control",null),this.isLive&&VA("vm-live-indicator",null),VA("vm-pip-control",null),!this.isLive&&VA("vm-settings-control",null),VA("vm-fullscreen-control",{tooltipDirection:"left"}))))}render(){return this.isAudioView?this.buildAudioControls():this.isVideoView&&this.isMobile?this.buildMobileVideoControls():this.isVideoView?this.buildDesktopVideoControls():null}static get style(){return":host{display:contents;pointer-events:none;z-index:var(--vm-controls-z-index)}"}};var wO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const kO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.textTracksDisposal=new RM,this.canSetPlaybackRate=!1,this.canSetPlaybackQuality=!1,this.canSetTextTrack=!1,this.canSetAudioTrack=!1,this.pin="bottomRight",this.i18n={},this.playbackReady=!1,this.playbackRate=1,this.playbackRates=[1],this.isVideoView=!1,this.playbackQualities=[],this.textTracks=[],this.currentTextTrack=-1,this.audioTracks=[],this.currentAudioTrack=-1,this.isTextTrackVisible=!0,WM(this),rF(this,["i18n","playbackReady","playbackRate","playbackRates","playbackQuality","playbackQualities","isVideoView","textTracks","currentTextTrack","isTextTrackVisible","audioTracks","currentAudioTrack"])}onPlaybackReady(){return wO(this,void 0,void 0,(function*(){const e=yield CM(this);dM(e)||(this.canSetPlaybackQuality=yield e.canSetPlaybackQuality(),this.canSetPlaybackRate=yield e.canSetPlaybackRate())}))}onAudioTracksChange(){var e;return wO(this,void 0,void 0,(function*(){const t=KM(this);this.canSetAudioTrack=null!==(e=yield null===t||void 0===t?void 0:t.canSetAudioTrack())&&void 0!==e&&e}))}onTextTracksChange(){var e;return wO(this,void 0,void 0,(function*(){const t=KM(this);this.canSetTextTrack=null!==(e=yield null===t||void 0===t?void 0:t.canSetTextTrack())&&void 0!==e&&e}))}connectedCallback(){this.dispatch=NM(this)}componentDidLoad(){this.onTextTracksChange()}disconnectedCallback(){this.textTracksDisposal.empty()}onPlaybackRateSelect(e){const t=e.target;this.dispatch("playbackRate",parseFloat(t.value))}buildPlaybackRateSubmenu(){if(this.playbackRates.length<=1||!this.canSetPlaybackRate)return VA("vm-menu-item",{label:this.i18n.playbackRate,hint:this.i18n.normal});const e=e=>1===e?this.i18n.normal:"".concat(e);return VA("vm-submenu",{label:this.i18n.playbackRate,hint:e(this.playbackRate)},VA("vm-menu-radio-group",{value:"".concat(this.playbackRate),onVmCheck:this.onPlaybackRateSelect.bind(this)},this.playbackRates.map((t=>VA("vm-menu-radio",{label:e(t),value:"".concat(t)})))))}onPlaybackQualitySelect(e){const t=e.target;this.dispatch("playbackQuality",t.value)}buildPlaybackQualitySubmenu(){var e;if(this.playbackQualities.length<=1||!this.canSetPlaybackQuality)return VA("vm-menu-item",{label:this.i18n.playbackQuality,hint:null!==(e=this.playbackQuality)&&void 0!==e?e:this.i18n.auto});const t=e=>{const t=parseInt(e.slice(0,-1),10);return t>=2160?"UHD":t>=1080?"HD":void 0};return VA("vm-submenu",{label:this.i18n.playbackQuality,hint:this.playbackQuality},VA("vm-menu-radio-group",{value:this.playbackQuality,onVmCheck:this.onPlaybackQualitySelect.bind(this)},this.playbackQualities.map((e=>VA("vm-menu-radio",{label:e,value:e,badge:t(e)})))))}onTextTrackSelect(e){const t=e.target,n=parseInt(t.value,10),i=KM(this);-1!==n?(null===i||void 0===i||i.setTextTrackVisibility(!0),null===i||void 0===i||i.setCurrentTextTrack(n)):null===i||void 0===i||i.setTextTrackVisibility(!1)}buildTextTracksSubmenu(){var e,t,n;return this.textTracks.length<=1||!this.canSetTextTrack?VA("vm-menu-item",{label:this.i18n.subtitlesOrCc,hint:null!==(t=null===(e=this.textTracks[this.currentTextTrack])||void 0===e?void 0:e.label)&&void 0!==t?t:this.i18n.none}):VA("vm-submenu",{label:this.i18n.subtitlesOrCc,hint:this.isTextTrackVisible?null===(n=this.textTracks[this.currentTextTrack])||void 0===n?void 0:n.label:this.i18n.off},VA("vm-menu-radio-group",{value:"".concat(this.isTextTrackVisible?this.currentTextTrack:-1),onVmCheck:this.onTextTrackSelect.bind(this)},[VA("vm-menu-radio",{label:this.i18n.off,value:"-1"})].concat(this.textTracks.map(((e,t)=>VA("vm-menu-radio",{label:e.label,value:"".concat(t)}))))))}onAudioTrackSelect(e){const t=e.target,n=parseInt(t.value,10),i=KM(this);null===i||void 0===i||i.setCurrentAudioTrack(n)}buildAudioTracksMenu(){var e,t,n;return this.audioTracks.length<=1||!this.canSetAudioTrack?VA("vm-menu-item",{label:this.i18n.audio,hint:null!==(t=null===(e=this.audioTracks[this.currentAudioTrack])||void 0===e?void 0:e.label)&&void 0!==t?t:this.i18n.default}):VA("vm-submenu",{label:this.i18n.audio,hint:null===(n=this.audioTracks[this.currentAudioTrack])||void 0===n?void 0:n.label},VA("vm-menu-radio-group",{value:"".concat(this.currentAudioTrack),onVmCheck:this.onAudioTrackSelect.bind(this)},this.audioTracks.map(((e,t)=>VA("vm-menu-radio",{label:e.label,value:"".concat(t)})))))}render(){return VA("vm-settings",{pin:this.pin},this.buildAudioTracksMenu(),this.buildPlaybackRateSubmenu(),this.buildPlaybackQualitySubmenu(),this.isVideoView&&this.buildTextTracksSubmenu(),VA("slot",null))}static get watchers(){return{playbackReady:["onPlaybackReady","onAudioTracksChange","onTextTracksChange"],audioTracks:["onAudioTracksChange"],textTracks:["onTextTracksChange"]}}static get style(){return":host{z-index:var(--vm-menu-z-index)}"}},SO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.noClickToPlay=!1,this.noDblClickFullscreen=!1,this.noCaptions=!1,this.noPoster=!1,this.noSpinner=!1,this.noControls=!1,this.noSettings=!1,this.noLoadingScreen=!1,WM(this)}render(){return VA("vm-ui",null,!this.noClickToPlay&&VA("vm-click-to-play",null),!this.noDblClickFullscreen&&VA("vm-dbl-click-fullscreen",null),!this.noCaptions&&VA("vm-captions",null),!this.noPoster&&VA("vm-poster",null),!this.noSpinner&&VA("vm-spinner",null),!this.noLoadingScreen&&VA("vm-loading-screen",null),!this.noControls&&VA("vm-default-controls",null),!this.noSettings&&VA("vm-default-settings",null),VA("slot",null))}static get style(){return":host{display:contents;pointer-events:none}"}};class CO{constructor(e,t,n){var i;this.el=e,this.attributes=t,this.onLoad=n,this.hasLoaded=!1,hM(this.el)||(this.intersectionObs=this.canObserveIntersection()?new IntersectionObserver(this.onIntersection.bind(this)):void 0,this.mutationObs=this.canObserveMutations()?new MutationObserver(this.onMutation.bind(this)):void 0,null===(i=this.mutationObs)||void 0===i||i.observe(this.el,{childList:!0,subtree:!0,attributeFilter:this.attributes}),this.lazyLoad())}didLoad(){return this.hasLoaded}destroy(){var e,t;null===(e=this.intersectionObs)||void 0===e||e.disconnect(),null===(t=this.mutationObs)||void 0===t||t.disconnect()}canObserveIntersection(){return WF&&window.IntersectionObserver}canObserveMutations(){return WF&&window.MutationObserver}lazyLoad(){var e;this.canObserveIntersection()?null===(e=this.intersectionObs)||void 0===e||e.observe(this.el):this.load()}onIntersection(e){e.forEach((e=>{(e.intersectionRatio>0||e.isIntersecting)&&(this.load(),this.intersectionObs.unobserve(e.target))}))}onMutation(){this.hasLoaded&&this.load()}getLazyElements(){return(hM(this.el.shadowRoot)?this.el:this.el.shadowRoot).querySelectorAll(".lazy")}load(){window.requestAnimationFrame((()=>{this.getLazyElements().forEach(this.loadEl.bind(this))}))}loadEl(e){var t,n;null===(t=this.intersectionObs)||void 0===t||t.unobserve(e),this.hasLoaded=!0,null===(n=this.onLoad)||void 0===n||n.call(this,e)}}var TO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let EO=0;const NO=new Set,DO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmEmbedSrcChange=mP(this,"vmEmbedSrcChange",3),this.vmEmbedMessage=mP(this,"vmEmbedMessage",3),this.vmEmbedLoaded=mP(this,"vmEmbedLoaded",3),this.srcWithParams="",this.hasEnteredViewport=!1,this.embedSrc="",this.mediaTitle="",this.params="",this.preconnections=[],WM(this)}onEmbedSrcChange(){this.srcWithParams=gM(this.embedSrc)&&this.embedSrc.length>0?lO(this.embedSrc,this.params):void 0}srcWithParamsChange(){dM(this.srcWithParams)||this.hasEnteredViewport||NO.has(this.embedSrc)||aO(this.srcWithParams)&&NO.add(this.embedSrc),this.vmEmbedSrcChange.emit(this.srcWithParams)}preconnectionsChange(){this.hasEnteredViewport||this.preconnections.filter((e=>!NO.has(e))).forEach((e=>{aO(e)&&NO.add(e)}))}connectedCallback(){this.lazyLoader=new CO(this.host,["data-src"],(e=>{const t=e.getAttribute("data-src");e.removeAttribute("src"),uM(t)||e.setAttribute("src",t)})),this.onEmbedSrcChange(),this.genIframeId()}disconnectedCallback(){this.lazyLoader.destroy()}onWindowMessage(e){var t,n,i;if(!(e.source===(null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)&&(!gM(this.origin)||this.origin===e.origin)))return;const o=null!==(i=null===(n=this.decoder)||void 0===n?void 0:n.call(this,e.data))&&void 0!==i?i:e.data;o&&this.vmEmbedMessage.emit(o)}postMessage(e,t){var n,i;return TO(this,void 0,void 0,(function*(){null===(i=null===(n=this.iframe)||void 0===n?void 0:n.contentWindow)||void 0===i||i.postMessage(JSON.stringify(e),null!==t&&void 0!==t?t:"*")}))}onLoad(){this.vmEmbedLoaded.emit()}genIframeId(){EO+=1,this.id="vm-iframe-".concat(EO)}render(){return VA("iframe",{id:this.id,class:"lazy",title:this.mediaTitle,"data-src":this.srcWithParams,allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture;",onLoad:this.onLoad.bind(this),ref:e=>{this.iframe=e}})}get host(){return this}static get watchers(){return{embedSrc:["onEmbedSrcChange"],params:["onEmbedSrcChange"],srcWithParams:["srcWithParamsChange"],preconnections:["preconnectionsChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}iframe{position:absolute;top:0;left:0;border:0;width:100%;height:100%;user-select:none}"}},jO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.duration=-1,this.i18n={},this.alwaysShowHours=!1,WM(this),rF(this,["duration","i18n"])}render(){return VA("vm-time",{label:this.i18n.duration,seconds:Math.max(0,this.duration),alwaysShowHours:this.alwaysShowHours})}static get style(){return":host{display:flex;align-items:center;justify-content:center}"}};var AO={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},PO=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],MO=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],FO=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],OO="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},RO="fullscreenEnabled"in OO&&Object.keys(AO)||PO[0]in OO&&PO||MO[0]in OO&&MO||FO[0]in OO&&FO||[],LO={requestFullscreen:function(e){return e[RO[AO.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[RO[AO.requestFullscreen]]},get exitFullscreen(){return OO[RO[AO.exitFullscreen]].bind(OO)},get fullscreenPseudoClass(){return":"+RO[AO.fullscreen]},addEventListener:function(e,t,n){return OO.addEventListener(RO[AO[e]],t,n)},removeEventListener:function(e,t,n){return OO.removeEventListener(RO[AO[e]],t,n)},get fullscreenEnabled(){return Boolean(OO[RO[AO.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return OO[RO[AO.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return OO[("on"+RO[AO.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return OO[("on"+RO[AO.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return OO[("on"+RO[AO.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return OO[("on"+RO[AO.fullscreenerror]).toLowerCase()]=e}};function IO(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map((function(e){e(n)})),(i=e.get("*"))&&i.slice().map((function(e){e(t,n)}))}}}var _O=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class VO{constructor(e){this.host=e,this.disposal=new RM,this.emitter=IO()}get isSupported(){return this.isSupportedNatively}get isSupportedNatively(){return LO.fullscreenEnabled}get isFullscreen(){return this.isNativeFullscreen}get isNativeFullscreen(){if(LO.fullscreenElement===this.host)return!0;try{return this.host.matches(LO.fullscreenPseudoClass)}catch(e){return!1}}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}destroy(){return _O(this,void 0,void 0,(function*(){this.isFullscreen&&(yield this.exitFullscreen()),this.disposal.empty(),this.emitter.all.clear()}))}addFullscreenChangeEventListener(e){return this.isSupported?aM(LO,"fullscreenchange",e):cM}addFullscreenErrorEventListener(e){return this.isSupported?aM(LO,"fullscreenerror",e):cM}requestFullscreen(){return _O(this,void 0,void 0,(function*(){if(!this.isFullscreen)return this.throwIfNoFullscreenSupport(),this.disposal.add(this.addFullscreenChangeEventListener(this.handleFullscreenChange.bind(this))),this.disposal.add(this.addFullscreenErrorEventListener(this.handleFullscreenError.bind(this))),this.makeEnterFullscreenRequest()}))}makeEnterFullscreenRequest(){return _O(this,void 0,void 0,(function*(){return LO.requestFullscreen(this.host)}))}handleFullscreenChange(){this.isFullscreen||this.disposal.empty(),this.emitter.emit("change",this.isFullscreen)}handleFullscreenError(e){this.emitter.emit("error",e)}exitFullscreen(){return _O(this,void 0,void 0,(function*(){if(this.isFullscreen)return this.throwIfNoFullscreenSupport(),this.makeExitFullscreenRequest()}))}makeExitFullscreenRequest(){return _O(this,void 0,void 0,(function*(){return LO.exitFullscreen()}))}throwIfNoFullscreenSupport(){if(!this.isSupported)throw Error("Fullscreen API is not enabled or supported in this environment.")}}var $O=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class zO extends VO{constructor(e,t){super(e),this.host=e,this.presentationController=t}get isFullscreen(){return this.presentationController.isFullscreenMode}get isSupported(){return this.presentationController.isSupported}makeEnterFullscreenRequest(){return $O(this,void 0,void 0,(function*(){return this.presentationController.setPresentationMode("fullscreen")}))}makeExitFullscreenRequest(){return $O(this,void 0,void 0,(function*(){return this.presentationController.setPresentationMode("inline")}))}addFullscreenChangeEventListener(){return this.isSupported?(this.presentationController.on("change",this.handlePresentationModeChange.bind(this)),()=>{this.presentationController.off("change",this.handlePresentationModeChange.bind(this))}):cM}handlePresentationModeChange(){this.handleFullscreenChange()}addFullscreenErrorEventListener(){return cM}}var BO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class HO{constructor(e){this.host=e,this.disposal=new RM,this.emitter=IO();const t=e.disconnectedCallback;e.disconnectedCallback=()=>BO(this,void 0,void 0,(function*(){yield this.destroy(),null===t||void 0===t||t.call(e)}))}get videoElement(){var e;if("video"===(null===(e=this.host.mediaEl)||void 0===e?void 0:e.tagName.toLowerCase()))return this.host.mediaEl}get presentationMode(){var e;return null===(e=this.videoElement)||void 0===e?void 0:e.webkitPresentationMode}get isInlineMode(){return"inline"===this.presentationMode}get isPictureInPictureMode(){return"inline"===this.presentationMode}get isFullscreenMode(){return"fullscreen"===this.presentationMode}get isSupported(){var e,t,n;return KF&&vM(null===(e=this.videoElement)||void 0===e?void 0:e.webkitSetPresentationMode)&&null!==(n=null===(t=this.videoElement)||void 0===t?void 0:t.webkitSupportsFullscreen)&&void 0!==n&&n}setPresentationMode(e){var t,n;null===(n=null===(t=this.videoElement)||void 0===t?void 0:t.webkitSetPresentationMode)||void 0===n||n.call(t,e)}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}destroy(){this.setPresentationMode("inline"),this.disposal.empty()}addPresentationModeChangeEventListener(){return!this.isSupported||hM(this.videoElement)?cM:aM(this.videoElement,"webkitpresentationmodechanged",this.handlePresentationModeChange.bind(this))}handlePresentationModeChange(){this.emitter.emit("change",this.presentationMode)}}var UO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const WO=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.vmLoadStart=mP(this,"vmLoadStart",7),this.vmError=mP(this,"vmError",7),this.vmMediaElChange=mP(this,"vmMediaElChange",7),this.vmSrcSetChange=mP(this,"vmSrcSetChange",7),this.textTracksDisposal=new RM,this.wasPausedBeforeSeeking=!0,this.currentSrcSet=[],this.mediaQueryDisposal=new RM,this.willAttach=!1,this.preload="metadata",this.playbackRates=[.25,.5,.75,1,1.25,1.5,2],this.language="en",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,this.noConnect=!1,this.paused=!0,this.currentTime=0,this.volume=0,this.playbackReady=!1,this.playbackStarted=!1,this.presentationController=new HO(this),this.fullscreenController=new zO(this,this.presentationController),this.currentTextTrack=-1,this.hasCustomTextManager=!1,this.isTextTrackVisible=!0,this.shouldRenderNativeTextTracks=!0,WM(this),xF(this),hO(this,["playbackReady","playbackStarted","currentTime","volume","paused","currentTextTrack","isTextTrackVisible","shouldRenderNativeTextTracks"]),JM(this,"vm-poster",(e=>{[this.vmPoster]=e}))}onMediaTitleChange(){this.dispatch("mediaTitle",this.mediaTitle)}onPosterChange(){var e;this.playbackStarted||null===(e=this.mediaEl)||void 0===e||e.load()}onViewTypeChange(){this.dispatch("viewType",this.viewType)}connectedCallback(){this.initLazyLoader(),this.dispatch=pF(this),this.onViewTypeChange(),this.onPosterChange(),this.onMediaTitleChange(),this.addPresentationControllerListeners()}componentDidRender(){this.prevMediaEl!==this.mediaEl&&(this.prevMediaEl=this.mediaEl,this.vmMediaElChange.emit(this.mediaEl),this.presentationController.addPresentationModeChangeEventListener())}componentDidLoad(){this.onViewTypeChange()}disconnectedCallback(){var e;this.mediaQueryDisposal.empty(),this.textTracksDisposal.empty(),this.cancelTimeUpdates(),null===(e=this.lazyLoader)||void 0===e||e.destroy(),this.wasPausedBeforeSeeking=!0}initLazyLoader(){this.lazyLoader=new CO(this.host,["data-src","data-poster"],(()=>{if(hM(this.mediaEl))return;const e=this.mediaEl.getAttribute("data-poster");uM(e)||this.mediaEl.setAttribute("poster",e),this.refresh(),this.didSrcSetChange()}))}refresh(){if(hM(this.mediaEl))return;const{children:e}=this.mediaEl;for(let t=0;t<=e.length-1;t+=1){const n=e[t],i=n.getAttribute("data-src")||n.getAttribute("src")||n.getAttribute("data-vs");n.removeAttribute("src"),uM(i)||(n.setAttribute("data-vs",i),n.setAttribute("src",i))}}didSrcSetChange(){if(hM(this.mediaEl))return;const e=Array.from(this.mediaEl.querySelectorAll("source")).map((e=>{var t;return{src:e.getAttribute("data-vs"),media:null!==(t=e.getAttribute("data-media"))&&void 0!==t?t:void 0,ref:e}})),t=this.currentSrcSet.length!==e.length||e.some(((e,t)=>this.currentSrcSet[t].src!==e.src));t&&(this.currentSrcSet=e,this.onSrcSetChange())}onSrcSetChange(){var e;this.textTracksDisposal.empty(),this.mediaQueryDisposal.empty(),this.vmLoadStart.emit(),this.vmSrcSetChange.emit(this.currentSrcSet),this.willAttach||null===(e=this.mediaEl)||void 0===e||e.load()}hasCustomPoster(){return!KF&&!dM(this.vmPoster)}cancelTimeUpdates(){fM(this.timeRAF)&&window.cancelAnimationFrame(this.timeRAF),this.timeRAF=void 0}requestTimeUpdates(){var e,t;this.dispatch("currentTime",null!==(t=null===(e=this.mediaEl)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0),this.timeRAF=window.requestAnimationFrame((()=>{this.requestTimeUpdates()}))}getMediaType(){const{currentSrc:e}=this.mediaEl;return aF.test(e)?TM.Audio:lF.test(e)||cF.test(e)?TM.Video:void 0}onLoadedMetadata(){this.mediaEl.volume=this.volume/100,this.listenToTextTracksForChanges(),this.onTextTracksChange(),this.onProgress(),this.dispatch("currentPoster",this.poster),this.dispatch("duration",this.mediaEl.duration),this.dispatch("playbackRates",this.playbackRates),this.willAttach||(this.dispatch("currentSrc",this.mediaEl.currentSrc),this.dispatch("mediaType",this.getMediaType()),this.dispatch("playbackReady",!0))}onProgress(){const{buffered:e,duration:t}=this.mediaEl,n=0===e.length?0:e.end(e.length-1);this.dispatch("buffered",n>t?t:n)}onPlay(){this.requestTimeUpdates(),this.dispatch("paused",!1),this.playbackStarted||this.dispatch("playbackStarted",!0)}onPause(){this.cancelTimeUpdates(),this.dispatch("paused",!0),this.dispatch("buffering",!1)}onPlaying(){this.dispatch("playing",!0),this.dispatch("buffering",!1)}onSeeking(){this.wasPausedBeforeSeeking||(this.wasPausedBeforeSeeking=this.mediaEl.paused),this.dispatch("currentTime",this.mediaEl.currentTime),this.dispatch("seeking",!0)}onSeeked(){(0!==this.currentTime||this.playbackStarted)&&(this.dispatch("seeking",!1),this.playbackStarted&&this.wasPausedBeforeSeeking||this.attemptToPlay(),this.wasPausedBeforeSeeking=!0)}onRateChange(){this.dispatch("playbackRate",this.mediaEl.playbackRate)}onVolumeChange(){this.dispatch("muted",this.mediaEl.muted),this.dispatch("volume",100*this.mediaEl.volume)}onDurationChange(){this.dispatch("duration",this.mediaEl.duration)}onWaiting(){this.dispatch("buffering",!0)}onSuspend(){this.dispatch("buffering",!1)}onEnded(){this.loop||this.dispatch("playbackEnded",!0)}onError(){this.vmError.emit(this.mediaEl.error)}attemptToPlay(){var e;try{null===(e=this.mediaEl)||void 0===e||e.play()}catch(MI){this.vmError.emit(MI)}}togglePiPInChrome(e){var t;return e?null===(t=this.mediaEl)||void 0===t?void 0:t.requestPictureInPicture():document.exitPictureInPicture()}togglePiPInSafari(e){var t,n;const i=e?"picture-in-picture":"inline";if(!(null===(t=this.mediaEl)||void 0===t?void 0:t.webkitSupportsPresentationMode(i)))throw new Error("PiP API is not available.");return null===(n=this.mediaEl)||void 0===n?void 0:n.webkitSetPresentationMode(i)}togglePiP(e){return UO(this,void 0,void 0,(function*(){if(XF())return this.togglePiPInChrome(e);if(ZF())return this.togglePiPInSafari(e);throw new Error("PiP API is not available.")}))}onEnterPiP(){this.dispatch("isPiPActive",!0)}onLeavePiP(){this.dispatch("isPiPActive",!1)}addPresentationControllerListeners(){this.presentationController.on("change",(e=>{this.dispatch("isPiPActive","picture-in-picture"===e),this.dispatch("isFullscreenActive","fullscreen"===e)}))}getAdapter(){return UO(this,void 0,void 0,(function*(){return{getInternalPlayer:()=>UO(this,void 0,void 0,(function*(){return this.mediaEl})),play:()=>UO(this,void 0,void 0,(function*(){var e;return null===(e=this.mediaEl)||void 0===e?void 0:e.play()})),pause:()=>UO(this,void 0,void 0,(function*(){var e;return null===(e=this.mediaEl)||void 0===e?void 0:e.pause()})),canPlay:e=>UO(this,void 0,void 0,(function*(){return gM(e)&&(aF.test(e)||lF.test(e))})),setCurrentTime:e=>UO(this,void 0,void 0,(function*(){this.mediaEl&&(this.mediaEl.currentTime=e)})),setMuted:e=>UO(this,void 0,void 0,(function*(){this.mediaEl&&(this.mediaEl.muted=e)})),setVolume:e=>UO(this,void 0,void 0,(function*(){this.mediaEl&&(this.mediaEl.volume=e/100)})),canSetPlaybackRate:()=>UO(this,void 0,void 0,(function*(){return!0})),setPlaybackRate:e=>UO(this,void 0,void 0,(function*(){this.mediaEl&&(this.mediaEl.playbackRate=e)})),canSetPiP:()=>UO(this,void 0,void 0,(function*(){return XF()||ZF()})),enterPiP:()=>this.togglePiP(!0),exitPiP:()=>this.togglePiP(!1),canSetFullscreen:()=>UO(this,void 0,void 0,(function*(){return this.fullscreenController.isSupported})),enterFullscreen:()=>this.fullscreenController.requestFullscreen(),exitFullscreen:()=>this.fullscreenController.exitFullscreen(),setCurrentTextTrack:e=>UO(this,void 0,void 0,(function*(){e!==this.currentTextTrack&&this.toggleTextTrackModes(e)})),setTextTrackVisibility:e=>UO(this,void 0,void 0,(function*(){this.isTextTrackVisible=e,this.toggleTextTrackModes(this.currentTextTrack)}))}}))}onHasCustomTextManagerChange(){this.hasCustomTextManager?this.textTracksDisposal.empty():this.playbackReady&&this.listenToTextTracksForChanges()}onShouldRenderNativeTextTracksChange(){this.hasCustomTextManager||this.toggleTextTrackModes(this.currentTextTrack)}onProviderConnect(e){this.noConnect&&e.stopImmediatePropagation()}onProviderDisconnect(e){this.noConnect&&e.stopImmediatePropagation()}getFilteredTextTracks(){const e=[],t=Array.from(this.mediaEl.textTracks);for(let n=0;n<t.length;n+=1){const i=t[n];"subtitles"!==i.kind&&"captions"!==i.kind||!i.label||e.push(t[n])}return e}listenToTextTracksForChanges(){this.hasCustomTextManager||(this.textTracksDisposal.empty(),dM(this.mediaEl)||this.textTracksDisposal.add(aM(this.mediaEl.textTracks,"change",this.onTextTracksChange.bind(this))))}onTextTracksChange(){var e;const t=this.getFilteredTextTracks();let n=-1;for(let i=0;i<t.length;i+=1)if("hidden"===t[i].mode)n=i;else if("showing"===t[i].mode){n=i;break}this.shouldRenderNativeTextTracks||"showing"!==(null===(e=t[n])||void 0===e?void 0:e.mode)?(this.shouldRenderNativeTextTracks&&(this.isTextTrackVisible=-1!==n&&"showing"===t[n].mode,this.dispatch("isTextTrackVisible",this.isTextTrackVisible)),this.dispatch("textTracks",t),this.dispatch("currentTextTrack",this.shouldRenderNativeTextTracks&&!this.isTextTrackVisible?-1:n)):t[n].mode="hidden"}toggleTextTrackModes(e){if(hM(this.mediaEl))return;const{textTracks:t}=this.mediaEl;if(-1===e)Array.from(t).forEach((e=>{e.mode="disabled"}));else{const e=t[this.currentTextTrack];e&&(e.mode="disabled")}const n=t[e];n&&(n.mode=this.isTextTrackVisible&&this.shouldRenderNativeTextTracks?"showing":"hidden"),this.dispatch("currentTextTrack",this.shouldRenderNativeTextTracks&&!this.isTextTrackVisible?-1:e),this.dispatch("isTextTrackVisible",this.isTextTrackVisible)}render(){const e={autoplay:this.autoplay,muted:this.muted,playsinline:this.playsinline,playsInline:this.playsinline,"x5-playsinline":this.playsinline,"webkit-playsinline":this.playsinline,controls:this.controls,crossorigin:""===this.crossOrigin?"anonymous":this.crossOrigin,controlslist:this.controlsList,"data-poster":this.hasCustomPoster()?void 0:this.poster,loop:this.loop,preload:this.preload,disablePictureInPicture:this.disablePiP,autoPictureInPicture:this.autoPiP,disableRemotePlayback:this.disableRemotePlayback,"x-webkit-airplay":this.disableRemotePlayback?"deny":"allow",ref:e=>{this.mediaEl=e},onLoadedMetadata:this.onLoadedMetadata.bind(this),onProgress:this.onProgress.bind(this),onPlay:this.onPlay.bind(this),onPause:this.onPause.bind(this),onPlaying:this.onPlaying.bind(this),onSeeking:this.onSeeking.bind(this),onSeeked:this.onSeeked.bind(this),onRateChange:this.onRateChange.bind(this),onVolumeChange:this.onVolumeChange.bind(this),onDurationChange:this.onDurationChange.bind(this),onWaiting:this.onWaiting.bind(this),onSuspend:this.onSuspend.bind(this),onEnded:this.onEnded.bind(this),onError:this.onError.bind(this)},t=VA("audio",Object.assign({class:"lazy"},e),VA("slot",null),"Your browser does not support the",VA("code",null,"audio"),"element."),n=VA("video",Object.assign({class:"lazy"},e,{onenterpictureinpicture:this.onEnterPiP.bind(this),onleavepictureinpicture:this.onLeavePiP.bind(this)}),VA("slot",null),"Your browser does not support the",VA("code",null,"video"),"element.");return this.viewType===OM.Audio?t:n}get host(){return this}static get watchers(){return{mediaTitle:["onMediaTitleChange"],poster:["onPosterChange"],viewType:["onViewTypeChange"],hasCustomTextManager:["onHasCustomTextManagerChange"],shouldRenderNativeTextTracks:["onShouldRenderNativeTextTracksChange"]}}static get style(){return"audio.sc-vm-file,video.sc-vm-file{border-radius:inherit;vertical-align:middle;width:100%;outline:0}video.sc-vm-file{position:absolute;top:0;left:0;border:0;height:100%;user-select:none}"}};var qO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const KO=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.canSetFullscreen=!1,this.enterIcon="fullscreen-enter",this.exitIcon="fullscreen-exit",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="f",this.isFullscreenActive=!1,this.i18n={},this.playbackReady=!1,WM(this),rF(this,["isFullscreenActive","playbackReady","i18n"])}onPlaybackReadyChange(){var e;return qO(this,void 0,void 0,(function*(){const t=KM(this);this.canSetFullscreen=null!==(e=yield null===t||void 0===t?void 0:t.canSetFullscreen())&&void 0!==e&&e}))}componentDidLoad(){this.onPlaybackReadyChange()}onClick(){const e=KM(this);this.isFullscreenActive?null===e||void 0===e||e.exitFullscreen():null===e||void 0===e||e.enterFullscreen()}render(){const e=this.isFullscreenActive?this.i18n.exitFullscreen:this.i18n.enterFullscreen,t=dM(this.keys)?e:"".concat(e," (").concat(this.keys,")");return VA(zA,{hidden:!this.canSetFullscreen},VA("vm-control",{label:this.i18n.fullscreen,keys:this.keys,pressed:this.isFullscreenActive,hidden:!this.canSetFullscreen,onClick:this.onClick.bind(this)},VA("vm-icon",{name:this.isFullscreenActive?this.exitIcon:this.enterIcon,library:this.icons}),VA("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t)))}static get watchers(){return{playbackReady:["onPlaybackReadyChange"]}}static get style(){return":host([hidden]){display:none}"}};var YO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const JO=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.vmLoadStart=mP(this,"vmLoadStart",7),this.vmError=mP(this,"vmError",7),this.hasAttached=!1,this.version="latest",this.preload="metadata",this.playbackReady=!1,WM(this),xF(this),rF(this,["playbackReady"])}connectedCallback(){this.dispatch=pF(this),this.mediaEl&&this.setupHls()}disconnectedCallback(){this.destroyHls()}get src(){if(hM(this.videoProvider))return;const e=this.videoProvider.querySelectorAll("source"),t=Array.from(e).find((e=>cF.test(e.src)||uF.test(e.type)));return null===t||void 0===t?void 0:t.src}setupHls(){return YO(this,void 0,void 0,(function*(){if(dM(this.hls))try{const e=this.libSrc||"https://cdn.jsdelivr.net/npm/hls.js@".concat(this.version,"/dist/hls.min.js"),t=yield dO(e,"Hls");if(!t.isSupported())return void this.vmError.emit("hls.js is not supported");this.hls=new t(this.config),this.hls.on(t.Events.MEDIA_ATTACHED,(()=>{this.hasAttached=!0,this.onSrcChange()})),this.hls.on(t.Events.AUDIO_TRACKS_UPDATED,(()=>{this.dispatch("audioTracks",this.hls.audioTracks),this.dispatch("currentAudioTrack",this.hls.audioTrack)})),this.hls.on(t.Events.AUDIO_TRACK_SWITCHED,(()=>{this.dispatch("currentAudioTrack",this.hls.audioTrack)})),this.hls.on(t.Events.ERROR,((e,n)=>{if(n.fatal)switch(n.type){case t.ErrorTypes.NETWORK_ERROR:this.hls.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:this.hls.recoverMediaError();break;default:this.destroyHls()}this.vmError.emit({event:e,data:n})})),this.hls.on(t.Events.MANIFEST_PARSED,(()=>{this.dispatch("mediaType",TM.Video),this.dispatch("currentSrc",this.src),this.dispatchLevels()})),this.hls.on(t.Events.LEVEL_LOADED,((e,t)=>{this.playbackReady||(this.dispatch("duration",t.details.totalduration),this.dispatch("playbackReady",!0))})),this.hls.attachMedia(this.mediaEl)}catch(MI){this.vmError.emit(MI)}}))}dispatchLevels(){this.hls.levels&&0!==this.hls.levels.length&&(this.dispatch("playbackQualities",["Auto",...this.hls.levels.map(this.levelToPlaybackQuality)]),this.dispatch("playbackQuality","Auto"))}levelToPlaybackQuality(e){return-1===e?"Auto":"".concat(e.height,"p")}findLevelIndexFromQuality(e){return this.hls.levels.findIndex((t=>this.levelToPlaybackQuality(t)===e))}destroyHls(){var e;null===(e=this.hls)||void 0===e||e.destroy(),this.hasAttached=!1}onMediaElChange(e){return YO(this,void 0,void 0,(function*(){this.destroyHls(),dM(e.detail)||(this.mediaEl=e.detail,setTimeout((()=>YO(this,void 0,void 0,(function*(){yield this.setupHls()}))),50))}))}onSrcChange(){var e;return YO(this,void 0,void 0,(function*(){this.hasAttached&&this.hls.url!==this.src&&(this.vmLoadStart.emit(),null===(e=this.hls)||void 0===e||e.loadSource(this.src))}))}getAdapter(){var e,t;return YO(this,void 0,void 0,(function*(){const n=null!==(t=yield null===(e=this.videoProvider)||void 0===e?void 0:e.getAdapter())&&void 0!==t?t:{},i=n.canPlay;return Object.assign(Object.assign({},n),{getInternalPlayer:()=>YO(this,void 0,void 0,(function*(){return this.hls})),canPlay:e=>YO(this,void 0,void 0,(function*(){var t;return gM(e)&&cF.test(e)||null!==(t=null===i||void 0===i?void 0:i(e))&&void 0!==t&&t})),canSetPlaybackQuality:()=>YO(this,void 0,void 0,(function*(){var e,t;return(null===(t=null===(e=this.hls)||void 0===e?void 0:e.levels)||void 0===t?void 0:t.length)>0})),setPlaybackQuality:e=>YO(this,void 0,void 0,(function*(){dM(this.hls)||(this.hls.currentLevel=this.findLevelIndexFromQuality(e),this.dispatch("playbackQuality",e))})),setCurrentAudioTrack:e=>YO(this,void 0,void 0,(function*(){dM(this.hls)||(this.hls.audioTrack=e)}))})}))}render(){return VA("vm-video",{willAttach:!0,crossOrigin:this.crossOrigin,preload:this.preload,poster:this.poster,controlsList:this.controlsList,autoPiP:this.autoPiP,disablePiP:this.disablePiP,disableRemotePlayback:this.disableRemotePlayback,mediaTitle:this.mediaTitle,ref:e=>{this.videoProvider=e}},VA("slot",null))}},QO="https://cdn.jsdelivr.net/npm/@vime/core@latest/icons",GO=new Map(Object.entries({vime:e=>"".concat(QO,"/vime/vm-").concat(e,".svg"),material:e=>"".concat(QO,"/material/md-").concat(e,".svg")})),XO=new Set;var ZO=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const eR=new Map;var tR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const nR=new DOMParser,iR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmLoad=mP(this,"vmLoad",7),this.vmError=mP(this,"vmError",7),this.icons="material",WM(this),function(e){const t=pP(e);kM(e,(()=>{XO.add(t)}),(()=>{XO.delete(t)}))}(this)}handleChange(){this.setIcon()}connectedCallback(){rF(this,["icons"])}componentDidLoad(){this.setIcon()}redraw(){return tR(this,void 0,void 0,(function*(){this.setIcon()}))}getLabel(){let e="";return this.label?e=this.label:this.name?e=this.name.replace(/-/g," "):this.src&&(e=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.svg/i,"")),e}setIcon(){var e;return tR(this,void 0,void 0,(function*(){const t=(n=null!==(e=this.library)&&void 0!==e?e:this.icons,GO.get(n));var n;let i=this.src;if(this.name&&t&&(i=t(this.name)),i)try{const e=yield(e=>{if(eR.has(e))return eR.get(e);const t=fetch(e).then((e=>ZO(void 0,void 0,void 0,(function*(){if(e.ok){const t=document.createElement("div");t.innerHTML=yield e.text();const n=t.firstElementChild;return{ok:e.ok,status:e.status,svg:n&&"svg"===n.tagName.toLowerCase()?n.outerHTML:""}}return{ok:e.ok,status:e.status}}))));return eR.set(e,t),t})(i);if(e.ok){const t=nR.parseFromString(e.svg,"text/html").body.querySelector("svg");t?(this.svg=t.outerHTML,this.vmLoad.emit()):(this.svg="",this.vmError.emit({status:e.status}))}}catch(UF){this.vmError.emit()}}))}render(){return VA("div",{class:"icon",role:"img","aria-label":this.getLabel(),innerHTML:this.svg})}static get watchers(){return{name:["handleChange"],src:["handleChange"],library:["handleChange"],icons:["handleChange"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;transition:var(--vm-icon-transition);transform:var(--vm-icon-transform);fill:var(--vm-icon-fill, currentColor);stroke:var(--vm-icon-stroke)}"}},oR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.icons="material",WM(this),rF(this,["icons"])}handleUpdate(){this.register()}connectedCallback(){this.register()}disconnectedCallback(){var e;dM(this.name)||(e=this.name,GO.delete(e))}register(){var e,t,n;t=null!==(e=this.name)&&void 0!==e?e:this.icons,n=this.name?this.resolver:void 0,dM(n)||GO.set(t,n),XO.forEach((e=>{e.library===t&&e.redraw()}))}get host(){return this}static get watchers(){return{name:["handleUpdate"],resolver:["handleUpdate"],icons:["handleUpdate"]}}},rR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.isLive=!1,this.i18n={},WM(this),rF(this,["isLive","i18n"])}render(){return VA("div",{class:{liveIndicator:!0,hidden:!this.isLive}},VA("div",{class:"indicator"}),this.i18n.live)}static get style(){return".liveIndicator{display:flex;align-items:center;font-size:13px;font-weight:bold;letter-spacing:0.6px;color:var(--vm-control-color)}.liveIndicator.hidden{display:none}.indicator{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:var(--vm-live-indicator-color, red)}"}},sR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.playbackReady=!1,this.hideDots=!1,WM(this),rF(this,["playbackReady"])}render(){return VA("div",{class:{loadingScreen:!0,inactive:this.playbackReady}},VA("slot",null),!this.hideDots&&VA("div",{class:"dotPulse"}))}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-loading-screen-z-index);display:flex;align-items:center;justify-content:center}.loadingScreen{opacity:100;transition:var(--vm-fade-transition)}.loadingScreen.inactive{opacity:0}.dotPulse{position:relative;left:-9999px;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color);box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n    var(--vm-loading-screen-dot-color);animation:dotPulse var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 6)}.dotPulse::before,.dotPulse::after{content:'';display:inline-block;position:absolute;top:0;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color)}.dotPulse::before{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n    var(--vm-loading-screen-dot-color);animation:dotPulseBefore var(--vm-loading-screen-pulse-duration) infinite\n    linear;animation-delay:0s}.dotPulse::after{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n    var(--vm-loading-screen-dot-color);animation:dotPulseAfter var(--vm-loading-screen-pulse-duration) infinite\n    linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 3)}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9984px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9984px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulse{0%{box-shadow:9999px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9999px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9999px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:10014px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:10014px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}}"}};function aR(e){if(dM(e))return[];const t=["vm-menu-item","vm-menu-radio-group","vm-submenu"];return Array.from(null!==e&&void 0!==e?e:[]).filter((e=>t.includes(e.tagName.toLowerCase()))).map((e=>function(e){return"vm-submenu"!==e.tagName.toLowerCase()?e:e.shadowRoot.querySelector("vm-menu-item")}(e))).map((e=>function(e){var t;if("vm-menu-radio-group"!==e.tagName.toLowerCase())return e;const n=e.shadowRoot.querySelector("slot");return Array.from(null!==(t=null===n||void 0===n?void 0:n.assignedElements())&&void 0!==t?t:[]).filter((e=>"vm-menu-radio"===e.tagName.toLowerCase())).map((e=>e.shadowRoot.querySelector("vm-menu-item")))}(e))).reduce(((e,t)=>e.concat(t)),[])}var lR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const cR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmOpen=mP(this,"vmOpen",7),this.vmClose=mP(this,"vmClose",7),this.vmFocus=mP(this,"vmFocus",7),this.vmBlur=mP(this,"vmBlur",7),this.vmActiveSubmenuChange=mP(this,"vmActiveSubmenuChange",7),this.vmActiveMenuItemChange=mP(this,"vmActiveMenuItemChange",7),this.vmMenuHeightChange=mP(this,"vmMenuHeightChange",3),this.hasDisconnected=!1,this.active=!1,WM(this)}onActiveMenuitemChange(){this.vmActiveMenuItemChange.emit(this.activeMenuItem)}onActiveSubmenuChange(){this.vmActiveSubmenuChange.emit(this.activeSubmenu)}onActiveChange(){var e;this.hasDisconnected||(this.active?this.vmOpen.emit(this.host):this.vmClose.emit(this.host),"vm-menu-item"===(null===(e=this.controller)||void 0===e?void 0:e.tagName.toLowerCase())&&(this.controller.expanded=!0))}connectedCallback(){this.hasDisconnected=!1}componentDidRender(){sM((()=>{this.hasDisconnected||this.calculateHeight()}))}disconnectedCallback(){this.controller=void 0,this.hasDisconnected=!0}focusMenu(){var e;return lR(this,void 0,void 0,(function*(){null===(e=this.menu)||void 0===e||e.focus()}))}blurMenu(){var e;return lR(this,void 0,void 0,(function*(){null===(e=this.menu)||void 0===e||e.blur()}))}getActiveMenuItem(){return lR(this,void 0,void 0,(function*(){return this.activeMenuItem}))}setActiveMenuItem(e){return lR(this,void 0,void 0,(function*(){null===e||void 0===e||e.focusItem(),this.activeMenuItem=e}))}calculateHeight(){var e,t;return lR(this,void 0,void 0,(function*(){let n=0;if(this.activeSubmenu){const t=yield this.activeSubmenu.getMenu();n=null!==(e=yield null===t||void 0===t?void 0:t.calculateHeight())&&void 0!==e?e:0,n+=(yield this.activeSubmenu.getControllerHeight())}else{const e=(null===(t=this.container)||void 0===t?void 0:t.firstChild).assignedElements({flatten:!0});null===e||void 0===e||e.forEach((e=>{n+=parseFloat(window.getComputedStyle(e).height)}))}return this.vmMenuHeightChange.emit(n),n}))}onOpenSubmenu(e){e.stopPropagation(),dM(this.activeSubmenu)||(this.activeSubmenu.active=!1),this.activeSubmenu=e.detail,this.getChildren().forEach((e=>{e!==this.activeSubmenu&&(e.style.opacity="0",e.style.visibility="hidden")})),sM((()=>{this.activeSubmenu.active=!0}))}onCloseSubmenu(e){null===e||void 0===e||e.stopPropagation(),dM(this.activeSubmenu)||(this.activeSubmenu.active=!1),this.getChildren().forEach((e=>{e!==this.activeSubmenu&&(e.style.opacity="",e.style.visibility="")})),sM((()=>{this.activeSubmenu=void 0}))}onWindowClick(){this.onCloseSubmenu(),this.onClose()}onWindowKeyDown(e){this.active&&"Escape"===e.key&&(this.onCloseSubmenu(),this.onClose(),this.focusController())}getChildren(){var e;const t=null===(e=this.host.shadowRoot.querySelector("slot"))||void 0===e?void 0:e.assignedElements({flatten:!0});return null!==t&&void 0!==t?t:[]}getMenuItems(){var e;return aR(null===(e=this.host.shadowRoot.querySelector("slot"))||void 0===e?void 0:e.assignedElements({flatten:!0}))}focusController(){var e,t,n,i,o;dM(null===(e=this.controller)||void 0===e?void 0:e.focusItem)?dM(null===(n=this.controller)||void 0===n?void 0:n.focusControl)?null===(o=this.controller)||void 0===o||o.focus():null===(i=this.controller)||void 0===i||i.focusControl():null===(t=this.controller)||void 0===t||t.focusItem()}triggerMenuItem(){var e;dM(this.activeMenuItem)||(this.activeMenuItem.click(),null===(e=this.activeMenuItem.menu)||void 0===e||e.focusMenu())}onClose(){this.activeMenuItem=void 0,this.active=!1}onClick(e){e.stopPropagation()}onFocus(){var e;this.active=!0,[this.activeMenuItem]=this.getMenuItems(),null===(e=this.activeMenuItem)||void 0===e||e.focusItem(),this.vmFocus.emit()}onBlur(){this.vmBlur.emit()}foucsMenuItem(e,t){t<0&&(t=e.length-1),t>e.length-1&&(t=0),this.activeMenuItem=e[t],this.activeMenuItem.focusItem()}onKeyDown(e){if(!this.active)return;e.preventDefault(),e.stopPropagation();const t=this.getMenuItems();let n=t.findIndex((e=>e===this.activeMenuItem));switch(e.key){case"Escape":case"ArrowLeft":this.onClose(),this.focusController();break;case"ArrowDown":case"Tab":this.foucsMenuItem(t,n+=1);break;case"ArrowUp":this.foucsMenuItem(t,n-=1);break;case"ArrowRight":case"Enter":case" ":this.triggerMenuItem();break;case"Home":case"PageUp":this.foucsMenuItem(t,0);break;case"End":case"PageDown":this.foucsMenuItem(t,t.length-1)}}render(){var e,t,n;return VA("div",{id:this.identifier,class:{menu:!0,slideIn:!dM(this.slideInDirection),slideInFromLeft:"left"===this.slideInDirection,slideInFromRight:"right"===this.slideInDirection},role:"menu",tabindex:"-1","aria-labelledby":null!==(t=null===(e=this.controller)||void 0===e?void 0:e.identifier)&&void 0!==t?t:null===(n=this.controller)||void 0===n?void 0:n.id,"aria-hidden":this.active?"false":"true",onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onClick:this.onClick.bind(this),onKeyDown:this.onKeyDown.bind(this),ref:e=>{this.menu=e}},VA("div",{class:"container",ref:e=>{this.container=e}},VA("slot",null)))}get host(){return this}static get watchers(){return{activeMenuItem:["onActiveMenuitemChange"],activeSubmenu:["onActiveSubmenuChange"],active:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:var(--vm-menu-z-index)}:host([active]){pointer-events:auto;z-index:calc(var(--vm-menu-z-index) + 1)}.menu{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;transition:var(--vm-menu-transition)}.menu.slideIn{transform:translateX(0)}.menu[aria-hidden='true'].slideInFromLeft{transform:translateX(-100%)}.menu[aria-hidden='true'].slideInFromRight{transform:translateX(100%)}.container{display:flex;flex-direction:column;position:relative;text-align:left;width:100%;height:100%;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight)}.menu:focus{outline:0}"}};var uR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const dR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmFocus=mP(this,"vmFocus",7),this.vmBlur=mP(this,"vmBlur",7),this.showTapHighlight=!1,this.hidden=!1,this.checkIcon="check",this.isTouch=!1,WM(this),rF(this,["isTouch"])}focusItem(){var e;return uR(this,void 0,void 0,(function*(){null===(e=this.menuItem)||void 0===e||e.focus()}))}blurItem(){var e;return uR(this,void 0,void 0,(function*(){null===(e=this.menuItem)||void 0===e||e.blur()}))}getHeight(){return uR(this,void 0,void 0,(function*(){return parseFloat(this.menuItem?window.getComputedStyle(this.menuItem).height:"0")}))}onClick(){hM(this.menu)||(this.menu.active=!this.expanded)}onFocus(){this.vmFocus.emit()}onBlur(){this.vmBlur.emit()}onTouchStart(){this.showTapHighlight=!0}onTouchEnd(){setTimeout((()=>{this.showTapHighlight=!1}),100)}onMouseLeave(){var e;null===(e=this.menuItem)||void 0===e||e.blur()}render(){var e,t,n,i;const o=!dM(this.checked),r=!dM(this.menu),s=this.expanded?"true":"false",a=this.checked?"true":"false",l=o&&!dM(this.checkIcon),c=r&&this.expanded,u=r&&!this.expanded,d=!dM(this.hint)&&!o&&(!r||!this.expanded),h=!dM(this.badge)&&!d&&!u,p=d||u;return VA("div",{class:{menuItem:!0,notTouch:!this.isTouch,tapHighlight:this.showTapHighlight,showDivider:r&&null!==(e=this.expanded)&&void 0!==e&&e},id:this.identifier,role:o?"menuitemradio":"menuitem",tabindex:"0","aria-label":this.label,"aria-hidden":this.hidden?"true":"false","aria-haspopup":r?"true":void 0,"aria-controls":null!==(n=null===(t=this.menu)||void 0===t?void 0:t.identifier)&&void 0!==n?n:null===(i=this.menu)||void 0===i?void 0:i.id,"aria-expanded":r?s:void 0,"aria-checked":o?a:void 0,onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:e=>{this.menuItem=e}},l&&VA("vm-icon",{name:this.checkIcon,library:this.icons}),c&&VA("span",{class:"arrow left"}),this.label,p&&VA("span",{class:"spacer"}),d&&VA("span",{class:"hint"},this.hint),h&&VA("span",{class:"badge"},this.badge),u&&VA("span",{class:"arrow right"}))}get host(){return this}static get style(){return":host{display:block}.menuItem{display:flex;position:relative;align-items:center;flex-direction:row;cursor:pointer;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight);padding:var(--vm-menu-item-padding);touch-action:manipulation;box-sizing:border-box}.menuItem:focus{outline:0}.menuItem.hidden{display:none}.menuItem.tapHighlight{background:var(--vm-menu-item-tap-highlight)}.menuItem.showDivider{border-bottom:0.5px solid var(--vm-menu-item-divider-color)}.menuItem.notTouch:hover,.menuItem.notTouch:focus{outline:0;color:var(--vm-menu-item-focus-color);background-color:var(--vm-menu-item-focus-bg)}.menuItem[aria-expanded='true']{position:absolute;z-index:2;top:0;width:100%}.menuItem[aria-hidden='true']{display:none}.menuItem[aria-checked='true'] vm-icon{opacity:1;visibility:visible}vm-icon{display:inline-block}vm-icon{fill:currentColor;pointer-events:none;font-size:var(--vm-menu-item-check-icon-size);margin-right:10px;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.hint{display:inline-block;margin-left:auto;overflow:hidden;pointer-events:none;margin-right:6px;font-size:var(--vm-menu-item-hint-font-size);opacity:var(--vm-menu-item-hint-opacity);color:var(--vm-menu-item-hint-color)}.badge{display:inline-block;line-height:1;overflow:hidden;pointer-events:none;margin-left:6px;color:var(--vm-menu-item-badge-color);background:var(--vm-menu-item-badge-bg);font-size:var(--vm-menu-item-badge-font-size)}.spacer{flex:1}.arrow{color:var(--vm-menu-item-arrow-color);border:2px solid;padding:2px;display:inline-block;border-width:0 2px 2px 0}.arrow.left{margin-right:6px;transform:rotate(135deg)}.arrow.right{transform:rotate(-45deg);opacity:0.38}"}},hR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmCheck=mP(this,"vmCheck",7),this.checked=!1,this.checkIcon="check",WM(this)}onClick(){this.checked=!0,this.vmCheck.emit()}render(){return VA("vm-menu-item",{label:this.label,checked:this.checked,badge:this.badge,checkIcon:this.checkIcon,icons:this.icons,onClick:this.onClick.bind(this)})}},pR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmCheck=mP(this,"vmCheck",7),WM(this)}onValueChange(){var e;null===(e=this.findRadios())||void 0===e||e.forEach((e=>{e.checked=e.value===this.value}))}connectedCallback(){this.onValueChange()}componentDidLoad(){this.onValueChange()}onSelectionChange(e){const t=e.target;this.value=t.value}findRadios(){var e;return null===(e=this.host.shadowRoot.querySelector("slot"))||void 0===e?void 0:e.assignedElements()}render(){return VA("slot",null)}get host(){return this}static get watchers(){return{value:["onValueChange"]}}},mR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmFocus=mP(this,"vmFocus",7),this.vmBlur=mP(this,"vmBlur",7),this.lowVolumeIcon="volume-low",this.highVolumeIcon="volume-high",this.mutedIcon="volume-mute",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="m",this.volume=50,this.muted=!1,this.i18n={},WM(this),rF(this,["muted","volume","i18n"])}connectedCallback(){this.dispatch=NM(this)}getIcon(){const e=this.volume<50?this.lowVolumeIcon:this.highVolumeIcon;return this.muted||0===this.volume?this.mutedIcon:e}onClick(){this.dispatch("muted",!this.muted)}render(){const e=this.muted?this.i18n.unmute:this.i18n.mute,t=dM(this.keys)?e:"".concat(e," (").concat(this.keys,")");return VA("vm-control",{label:this.i18n.mute,pressed:this.muted,keys:this.keys,onClick:this.onClick.bind(this)},VA("vm-icon",{name:this.getIcon(),library:this.icons}),VA("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t))}};var fR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const gR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.canSetPiP=!1,this.enterIcon="pip-enter",this.exitIcon="pip-exit",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="p",this.isPiPActive=!1,this.i18n={},this.playbackReady=!1,WM(this),rF(this,["isPiPActive","playbackReady","i18n"])}onPlaybackReadyChange(){var e;return fR(this,void 0,void 0,(function*(){const t=KM(this);this.canSetPiP=null!==(e=yield null===t||void 0===t?void 0:t.canSetPiP())&&void 0!==e&&e}))}componentDidLoad(){this.onPlaybackReadyChange()}onClick(){const e=KM(this);this.isPiPActive?null===e||void 0===e||e.exitPiP():null===e||void 0===e||e.enterPiP()}render(){const e=this.isPiPActive?this.i18n.exitPiP:this.i18n.enterPiP,t=dM(this.keys)?e:"".concat(e," (").concat(this.keys,")");return VA(zA,{hidden:!this.canSetPiP},VA("vm-control",{label:this.i18n.pip,keys:this.keys,pressed:this.isPiPActive,hidden:!this.canSetPiP,onClick:this.onClick.bind(this)},VA("vm-icon",{name:this.isPiPActive?this.exitIcon:this.enterIcon,library:this.icons}),VA("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t)))}static get watchers(){return{playbackReady:["onPlaybackReadyChange"]}}static get style(){return":host([hidden]){display:none}"}},vR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.playIcon="play",this.pauseIcon="pause",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="k",this.paused=!0,this.i18n={},WM(this),rF(this,["paused","i18n"])}connectedCallback(){this.dispatch=NM(this)}onClick(){this.dispatch("paused",!this.paused)}render(){const e=this.paused?this.i18n.play:this.i18n.pause,t=dM(this.keys)?e:"".concat(e," (").concat(this.keys,")");return VA("vm-control",{label:this.i18n.playback,keys:this.keys,pressed:!this.paused,onClick:this.onClick.bind(this)},VA("vm-icon",{name:this.paused?this.playIcon:this.pauseIcon,library:this.icons}),VA("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t))}};class yR{constructor(){this.silent=!1}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.silent||dM(console)||console.log("[Vime tip]:",...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.silent||dM(console)||console.error("[Vime warn]:",...t)}}const bR=new Set;function xR(e){const t=pP(e),n=new Map;kM(e,(()=>{Object.keys(jM).forEach((t=>{n.set(t,e[t])}))}),(()=>{n.clear()}));const{componentDidRender:i}=e;e.componentDidRender=function(){null===i||void 0===i||i();const o=Array.from(n.keys());for(let i=0;i<o.length;i+=1){const r=o[i],s=n.get(r),a=e[r];s!==a&&(oF(t,r,a,s),n.set(r,a))}}}var wR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const kR=new Set(["currentTime","paused"]);function SR(e){const t=pP(e),n=new RM,i=new Map;let o=[];let r=!1;function s(t){null===t||void 0===t||t.stopImmediatePropagation(),r?(o=[],sM((()=>{Object.keys(jM).filter(FM).forEach((t=>{e[t]=jM[t]}))}))):r=!0}function a(t){var n;return wR(this,void 0,void 0,(function*(){t.stopImmediatePropagation();const{by:i,prop:o,value:r}=t.detail;if(PM(o)){if(!e.playbackStarted&&kR.has(o)){const t=yield e.adapter;"paused"!==o||r||null===t||void 0===t||t.play(),"currentTime"===o&&(null===t||void 0===t||t.play(),null===t||void 0===t||t.setCurrentTime(r))}sM((()=>{e[o]=r}))}else null===(n=e.logger)||void 0===n||n.warn("".concat(i.nodeName," tried to change `").concat(o,"` but it is readonly."))}))}const{onProviderDisconnect:l}=e;return e.onProviderDisconnect=function(){s(),l&&l.call(e)},kM(e,(()=>{Object.keys(jM).forEach((t=>{i.set(t,e[t])})),n.add(aM(t,"vmLoadStart",s)),n.add(aM(t,EM,a))}),(()=>{i.clear(),n.empty()})),wM(e,"componentWillRender",(()=>wR(this,void 0,void 0,(function*(){e.playbackReady&&o.length>0&&(yield function(){return wR(this,void 0,void 0,(function*(){const t=yield e.adapter;if(!dM(t)){for(let e=0;e<o.length;e+=1)yield o[e](t);o=[]}}))}())})))),function(n,i){return wR(this,void 0,void 0,(function*(){if(!function(t,n){var i;return n!==(null===(i=e[gF])||void 0===i?void 0:i.get(t))}(n,e[n]))return;const r=e[n],s=e=>wR(this,void 0,void 0,(function*(){var n;try{yield null===(n=null===e||void 0===e?void 0:e[i])||void 0===n?void 0:n.call(e,r)}catch(MI){t.dispatchEvent(new CustomEvent("vmError",{detail:MI}))}}));e.playbackReady?yield s(yield e.adapter):o.push(s)}))}}var CR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let TR=0;const ER=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmThemeChange=mP(this,"vmThemeChange",7),this.vmPausedChange=mP(this,"vmPausedChange",7),this.vmPlay=mP(this,"vmPlay",7),this.vmPlayingChange=mP(this,"vmPlayingChange",7),this.vmSeekingChange=mP(this,"vmSeekingChange",7),this.vmSeeked=mP(this,"vmSeeked",7),this.vmBufferingChange=mP(this,"vmBufferingChange",7),this.vmDurationChange=mP(this,"vmDurationChange",7),this.vmCurrentTimeChange=mP(this,"vmCurrentTimeChange",7),this.vmReady=mP(this,"vmReady",7),this.vmPlaybackReady=mP(this,"vmPlaybackReady",7),this.vmPlaybackStarted=mP(this,"vmPlaybackStarted",7),this.vmPlaybackEnded=mP(this,"vmPlaybackEnded",7),this.vmBufferedChange=mP(this,"vmBufferedChange",7),this.vmError=mP(this,"vmError",7),this.vmLoadStart=mP(this,"vmLoadStart",7),this.vmCurrentProviderChange=mP(this,"vmCurrentProviderChange",7),this.vmCurrentSrcChange=mP(this,"vmCurrentSrcChange",7),this.vmCurrentPosterChange=mP(this,"vmCurrentPosterChange",7),this.vmMediaTitleChange=mP(this,"vmMediaTitleChange",7),this.vmControlsChange=mP(this,"vmControlsChange",7),this.vmPlaybackRateChange=mP(this,"vmPlaybackRateChange",7),this.vmPlaybackRatesChange=mP(this,"vmPlaybackRatesChange",7),this.vmPlaybackQualityChange=mP(this,"vmPlaybackQualityChange",7),this.vmPlaybackQualitiesChange=mP(this,"vmPlaybackQualitiesChange",7),this.vmMutedChange=mP(this,"vmMutedChange",7),this.vmVolumeChange=mP(this,"vmVolumeChange",7),this.vmViewTypeChange=mP(this,"vmViewTypeChange",7),this.vmMediaTypeChange=mP(this,"vmMediaTypeChange",7),this.vmLiveChange=mP(this,"vmLiveChange",7),this.vmTouchChange=mP(this,"vmTouchChange",7),this.vmLanguageChange=mP(this,"vmLanguageChange",7),this.vmI18nChange=mP(this,"vmI18nChange",7),this.vmTranslationsChange=mP(this,"vmTranslationsChange",7),this.vmLanguagesChange=mP(this,"vmLanguagesChange",7),this.vmFullscreenChange=mP(this,"vmFullscreenChange",7),this.vmPiPChange=mP(this,"vmPiPChange",7),this.vmTextTracksChange=mP(this,"vmTextTracksChange",7),this.vmCurrentTextTrackChange=mP(this,"vmCurrentTextTrackChange",7),this.vmTextTrackVisibleChange=mP(this,"vmTextTrackVisibleChange",7),this.vmAudioTracksChange=mP(this,"vmAudioTracksChange",7),this.vmCurrentAudioTrackChange=mP(this,"vmCurrentAudioTrackChange",7),this.disposal=new RM,this.logger=new yR,this.icons="vime",this.paused=!0,this.playing=!1,this.duration=-1,this.currentTime=0,this.autoplay=!1,this.ready=!1,this.playbackReady=!1,this.loop=!1,this.muted=!1,this.buffered=0,this.playbackRate=1,this.lastRateCheck=1,this.playbackRates=[1],this.playbackQualities=[],this.seeking=!1,this.debug=!1,this.playbackStarted=!1,this.playbackEnded=!1,this.buffering=!1,this.controls=!1,this.isControlsActive=!1,this.isSettingsActive=!1,this.volume=50,this.isFullscreenActive=!1,this.aspectRatio="16:9",this.isAudioView=!1,this.isVideoView=!1,this.isAudio=!1,this.isVideo=!1,this.isLive=!1,this.isMobile=!1,this.isTouch=!1,this.isPiPActive=!1,this.textTracks=[],this.currentTextTrack=-1,this.isTextTrackVisible=!0,this.shouldRenderNativeTextTracks=!0,this.audioTracks=[],this.currentAudioTrack=-1,this.autopause=!0,this.playsinline=!1,this.language="en",this.translations={en:DM},this.languages=["en"],this.i18n=DM,function(e){const t=pP(e);let n;kM(e,(()=>{n=aM(t,SM,(e=>{e.stopPropagation(),e.detail(t)}))}),(()=>{null===n||void 0===n||n()}))}(this),qM(this),function(e){const t=pP(e);kM(e,(()=>{bR.add(t)}),(()=>{bR.delete(t)}))}(this),bF(this),xR(this),this.safeAdapterCall=SR(this)}get adapter(){var e;return null===(e=this.provider)||void 0===e?void 0:e.getAdapter()}onContainerChange(){var e;null===(e=this.fullscreenController)||void 0===e||e.destroy(),dM(this.container)||(this.fullscreenController=new VO(this.container),this.fullscreenController.on("change",(e=>{this.isFullscreenActive=e,e&&this.rotateDevice()})),this.fullscreenController.on("error",(e=>{this.vmError.emit(e)})))}onPausedChange(){this.paused?this.playing=!1:function(e){const t=pP(e);bR.forEach((e=>{e!==t&&e.autopause&&(e.paused=!0)}))}(this),this.safeAdapterCall("paused",this.paused?"pause":"play")}onDurationChange(){this.isLive=this.duration===1/0}onCurrentTimeChange(){const e=this.playbackReady?this.duration:1/0;this.currentTime=Math.max(0,Math.min(this.currentTime,e)),this.safeAdapterCall("currentTime","setCurrentTime")}onPlaybackReadyChange(){this.ready||(this.ready=!0)}onMutedChange(){this.safeAdapterCall("muted","setMuted")}onPlaybackRateChange(e,t){var n,i;return CR(this,void 0,void 0,(function*(){if(e!==this.lastRateCheck){if(!(yield null===(i=null===(n=yield this.adapter)||void 0===n?void 0:n.canSetPlaybackRate)||void 0===i?void 0:i.call(n)))return this.logger.log("provider cannot change `playbackRate`."),this.lastRateCheck=t,void(this.playbackRate=t);if(!this.playbackRates.includes(e))return this.logger.log("invalid `playbackRate` of ".concat(e,", ")+"valid values are [".concat(this.playbackRates.join(", "),"]")),this.lastRateCheck=t,void(this.playbackRate=t);this.lastRateCheck=e,this.safeAdapterCall("playbackRate","setPlaybackRate")}}))}onPlaybackQualityChange(e,t){var n,i;return CR(this,void 0,void 0,(function*(){if(!dM(e)&&e!==this.lastQualityCheck){if(!(yield null===(i=null===(n=yield this.adapter)||void 0===n?void 0:n.canSetPlaybackQuality)||void 0===i?void 0:i.call(n)))return this.logger.log("provider cannot change `playbackQuality`."),this.lastQualityCheck=t,void(this.playbackQuality=t);if(!this.playbackQualities.includes(e))return this.logger.log("invalid `playbackQuality` of ".concat(e,", ")+"valid values are [".concat(this.playbackQualities.join(", "),"]")),this.lastQualityCheck=t,void(this.playbackQuality=t);this.lastQualityCheck=e,this.safeAdapterCall("playbackQuality","setPlaybackQuality")}}))}onDebugChange(){this.logger.silent=!this.debug}onVolumeChange(){return CR(this,void 0,void 0,(function*(){this.volume=Math.max(0,Math.min(this.volume,100)),this.safeAdapterCall("volume","setVolume")}))}onViewTypeChange(){this.isAudioView=this.viewType===OM.Audio,this.isVideoView=this.viewType===OM.Video}onMediaTypeChange(){this.isAudio=this.mediaType===TM.Audio,this.isVideo=this.mediaType===TM.Video}onLanguageChange(e,t){if(!this.languages.includes(this.language))return this.logger.log("invalid `language` of ".concat(this.language,", ")+"valid values are [".concat(this.languages.join(", "),"]")),void(this.language=t);this.i18n=this.translations[this.language]}onTranslationsChange(){Object.assign(this.translations,{en:DM}),this.languages=Object.keys(this.translations),this.i18n=this.translations[this.language]}onError(e){this.logger.warn(e.detail)}getProvider(){return CR(this,void 0,void 0,(function*(){return this.provider}))}getAdapter(){return CR(this,void 0,void 0,(function*(){return this.adapter}))}play(){var e;return CR(this,void 0,void 0,(function*(){return null===(e=yield this.adapter)||void 0===e?void 0:e.play()}))}pause(){var e;return CR(this,void 0,void 0,(function*(){return null===(e=yield this.adapter)||void 0===e?void 0:e.pause()}))}canPlay(e){var t,n;return CR(this,void 0,void 0,(function*(){return null!==(n=null===(t=yield this.adapter)||void 0===t?void 0:t.canPlay(e))&&void 0!==n&&n}))}canAutoplay(){return CR(this,void 0,void 0,(function*(){return eO()}))}canMutedAutoplay(){return CR(this,void 0,void 0,(function*(){return eO(!0)}))}canSetPlaybackRate(){var e,t,n;return CR(this,void 0,void 0,(function*(){return null!==(n=null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.canSetPlaybackRate)||void 0===t?void 0:t.call(e))&&void 0!==n&&n}))}canSetPlaybackQuality(){var e,t,n;return CR(this,void 0,void 0,(function*(){return null!==(n=null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.canSetPlaybackQuality)||void 0===t?void 0:t.call(e))&&void 0!==n&&n}))}canSetFullscreen(){var e,t,n;return CR(this,void 0,void 0,(function*(){return this.fullscreenController.isSupported||null!==(n=null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.canSetFullscreen)||void 0===t?void 0:t.call(e))&&void 0!==n&&n}))}enterFullscreen(e){var t,n,i;return CR(this,void 0,void 0,(function*(){if(!this.isVideoView)throw Error("Cannot enter fullscreen on an audio player view.");if(this.fullscreenController.isSupported)return this.fullscreenController.requestFullscreen();const o=yield this.adapter;if(null!==(n=yield null===(t=null===o||void 0===o?void 0:o.canSetFullscreen)||void 0===t?void 0:t.call(o))&&void 0!==n&&n)return null===(i=null===o||void 0===o?void 0:o.enterFullscreen)||void 0===i?void 0:i.call(o,e);throw Error("Fullscreen API is not available.")}))}exitFullscreen(){var e,t;return CR(this,void 0,void 0,(function*(){return this.fullscreenController.isSupported?this.fullscreenController.exitFullscreen():null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.exitFullscreen)||void 0===t?void 0:t.call(e)}))}canSetPiP(){var e,t,n;return CR(this,void 0,void 0,(function*(){return null!==(n=null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.canSetPiP)||void 0===t?void 0:t.call(e))&&void 0!==n&&n}))}enterPiP(){var e,t;return CR(this,void 0,void 0,(function*(){if(!this.isVideoView)throw Error("Cannot enter PiP mode on an audio player view.");if(!(yield this.canSetPiP()))throw Error("Picture-in-Picture API is not available.");return null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.enterPiP)||void 0===t?void 0:t.call(e)}))}exitPiP(){var e,t;return CR(this,void 0,void 0,(function*(){return null===(t=null===(e=yield this.adapter)||void 0===e?void 0:e.exitPiP)||void 0===t?void 0:t.call(e)}))}canSetAudioTrack(){var e;return CR(this,void 0,void 0,(function*(){return!dM(null===(e=yield this.adapter)||void 0===e?void 0:e.setCurrentAudioTrack)}))}setCurrentAudioTrack(e){var t,n;return CR(this,void 0,void 0,(function*(){null===(n=null===(t=yield this.adapter)||void 0===t?void 0:t.setCurrentAudioTrack)||void 0===n||n.call(t,e)}))}canSetTextTrack(){var e;return CR(this,void 0,void 0,(function*(){return!dM(null===(e=yield this.adapter)||void 0===e?void 0:e.setCurrentTextTrack)}))}setCurrentTextTrack(e){var t,n;return CR(this,void 0,void 0,(function*(){null===(n=null===(t=yield this.adapter)||void 0===t?void 0:t.setCurrentTextTrack)||void 0===n||n.call(t,e)}))}canSetTextTrackVisibility(){var e;return CR(this,void 0,void 0,(function*(){return!dM(null===(e=yield this.adapter)||void 0===e?void 0:e.setTextTrackVisibility)}))}setTextTrackVisibility(e){var t,n;return CR(this,void 0,void 0,(function*(){null===(n=null===(t=yield this.adapter)||void 0===t?void 0:t.setTextTrackVisibility)||void 0===n||n.call(t,e)}))}extendLanguage(e,t){var n;return CR(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign({},this.translations),{[e]:Object.assign(Object.assign({},null!==(n=this.translations[e])&&void 0!==n?n:{}),t)});this.translations=i}))}connectedCallback(){var e;this.onPausedChange(),this.onCurrentTimeChange(),this.onVolumeChange(),this.onMutedChange(),this.onDebugChange(),this.onContainerChange(),this.onTranslationsChange(),this.onLanguageChange(this.language,jM.language),this.disposal.add((e=e=>{this.isMobile=e},!WF||dM(window.ResizeObserver)?(e(JF),cM):(e(window.innerWidth<=480||JF),aM(window,"resize",(function(){e(window.innerWidth<=480||JF)}))))),this.disposal.add((e=>{if(!WF)return cM;let t=0;const n=aM(document,"touchstart",(()=>{t=(new Date).getTime(),e(!0)}),!0),i=aM(document,"mousemove",(()=>{(new Date).getTime()-t<500||e(!1)}),!0);return()=>{n(),i()}})((e=>{this.isTouch=e})))}componentWillLoad(){ZM(this,this.getPlayerState())}disconnectedCallback(){var e;null===(e=this.fullscreenController)||void 0===e||e.destroy(),this.disposal.empty()}rotateDevice(){return CR(this,void 0,void 0,(function*(){if(this.isMobile&&WF&&window.screen.orientation&&window.screen.orientation.lock)try{this.isFullscreenActive?yield window.screen.orientation.lock("landscape"):yield window.screen.orientation.unlock()}catch(e){this.vmError.emit(e)}}))}getPlayerState(){const e={},t=Object.keys(jM);for(let n=0;n<t.length;n+=1)e[t[n]]=this[t[n]];return e}calcAspectRatio(){const[e,t]=/\d{1,2}:\d{1,2}/.test(this.aspectRatio)?this.aspectRatio.split(":"):[16,9];return 100/Number(e)*Number(t)}getContainer(){return CR(this,void 0,void 0,(function*(){return this.container}))}callAdapter(e,t){return CR(this,void 0,void 0,(function*(){return(yield this.adapter)[e](t)}))}hasCustomControls(){return function(e,t){var n;const i=UM(e)[VM];return Array.from(null!==(n=null===i||void 0===i?void 0:i.values())&&void 0!==n?n:[]).some((e=>e[_M]===t))}(this,"vm-controls")}genId(){var e;const t=null===(e=this.host)||void 0===e?void 0:e.id;return gM(t)&&t.length>0?t:(TR+=1,"vm-player-".concat(TR))}render(){const e="".concat(this.isAudioView?"Audio Player":"Video Player")+"".concat(dM(this.mediaTitle)?"":" - ".concat(this.mediaTitle)),t=!KF||!this.isVideoView||this.playsinline&&!this.isFullscreenActive;t||(this.controls=!0);const n=t&&this.hasCustomControls()&&this.isVideoView&&!this.paused&&!this.isControlsActive,i=!this.controls&&t&&this.isVideoView;return VA(zA,{id:this.genId(),idle:n,mobile:this.isMobile,touch:this.isTouch,live:this.isLive,audio:this.isAudioView,video:this.isVideoView,pip:this.isPiPActive,fullscreen:this.isFullscreenActive},VA("div",{"aria-label":e,"aria-hidden":this.ready?"false":"true","aria-busy":this.playbackReady?"false":"true",class:{player:!0,idle:n,audio:this.isAudioView,video:this.isVideoView,fullscreen:this.isFullscreenActive},style:{paddingBottom:this.isVideoView?"".concat(this.calcAspectRatio(),"%"):void 0},ref:e=>{sM((()=>{this.container=e}))}},i&&VA("div",{class:"blocker"}),VA(eF,{state:this.getPlayerState()},VA("slot",null))))}get host(){return this}static get watchers(){return{container:["onContainerChange"],paused:["onPausedChange"],duration:["onDurationChange"],currentTime:["onCurrentTimeChange"],playbackReady:["onPlaybackReadyChange"],muted:["onMutedChange"],playbackRate:["onPlaybackRateChange"],playbackQuality:["onPlaybackQualityChange"],debug:["onDebugChange"],volume:["onVolumeChange"],viewType:["onViewTypeChange"],isAudioView:["onViewTypeChange"],isVideoView:["onViewTypeChange"],mediaType:["onMediaTypeChange"],language:["onLanguageChange"],translations:["onTranslationsChange"]}}static get style(){return".player{box-sizing:border-box;direction:ltr;font-family:var(--vm-player-font-family);-moz-osx-font-smoothing:auto;-webkit-font-smoothing:subpixel-antialiased;-webkit-tap-highlight-color:transparent;font-variant-numeric:tabular-nums;font-weight:500;line-height:1.7;width:100%;display:block;max-width:100%;min-width:275px;min-height:40px;position:relative;text-shadow:none;outline:0;transition:box-shadow 0.3s ease;box-shadow:var(--vm-player-box-shadow);border-radius:var(--vm-player-border-radius)}.player.idle{cursor:none}.player.audio{background-color:transparent !important}.player.video{height:0;overflow:hidden;background-color:var(--vm-player-bg, #000)}.player.fullscreen{margin:0;border-radius:0;width:100%;height:100%;padding-bottom:0 !important}.blocker{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;z-index:var(--vm-blocker-z-index)}"}},NR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmLoaded=mP(this,"vmLoaded",3),this.vmWillShow=mP(this,"vmWillShow",3),this.vmWillHide=mP(this,"vmWillHide",3),this.isHidden=!0,this.isActive=!1,this.hasLoaded=!1,this.fit="cover",this.isVideoView=!1,this.playbackStarted=!1,this.currentTime=0,WM(this),rF(this,["mediaTitle","currentPoster","playbackStarted","currentTime","isVideoView"])}onCurrentPosterChange(){var e;this.hasLoaded=!1,null===(e=this.lazyLoader)||void 0===e||e.onMutation()}connectedCallback(){this.lazyLoader=new CO(this.host,["data-src","src"],(e=>{const t=e.getAttribute("data-src");e.removeAttribute("src"),uM(t)||e.setAttribute("src",t)})),this.onEnabledChange(),this.onActiveChange()}disconnectedCallback(){this.lazyLoader.destroy()}onVisibilityChange(){!this.isHidden&&this.isActive?this.vmWillShow.emit():this.vmWillHide.emit()}onEnabledChange(){this.isHidden=!this.isVideoView,this.onVisibilityChange()}onActiveChange(){this.isActive=!this.playbackStarted||this.currentTime<=.1,this.onVisibilityChange()}onPosterLoad(){this.vmLoaded.emit(),this.hasLoaded=!0}render(){return VA("div",{class:{poster:!0,hidden:this.isHidden,active:this.isActive&&this.hasLoaded}},VA("img",{class:"lazy","data-src":this.currentPoster,alt:dM(this.mediaTitle)?"Media Poster":"".concat(this.mediaTitle," Poster"),style:{objectFit:this.fit},onLoad:this.onPosterLoad.bind(this)}))}get host(){return this}static get watchers(){return{currentPoster:["onCurrentPosterChange"],isVideoView:["onEnabledChange"],currentTime:["onActiveChange"],playbackStarted:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-poster-z-index)}.poster{width:100%;height:100%;background:#000;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.poster.hidden{display:none}.poster.active{opacity:1;visibility:visible}img{width:100%;height:100%;pointer-events:none}"}},DR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.isVideoView=!1,this.isControlsActive=!1,WM(this),rF(this,["isVideoView","isControlsActive"])}render(){return VA("div",{class:{scrim:!0,gradient:!dM(this.gradient),gradientUp:"up"===this.gradient,gradientDown:"down"===this.gradient,hidden:!this.isVideoView,active:this.isControlsActive}})}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-scrim-z-index)}.scrim{position:absolute;width:100%;background:var(--vm-scrim-bg);display:inline-block;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.scrim.gradient{height:258px;background:none;background-position:bottom;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAECCAYAAAA/9r2TAAABKklEQVQ4T2XI50cFABiF8dvee++67b33uM17b1MkkSSSSBJJJIkkkkQSSSKJ9Efmeb8cr86HH88JBP4thkfEkiKOFPGkSCCNRE8SKZJJkUIaqZ40UqSTIoMUmaSR5ckmRQ4pckkjz5NPigJSFJKiiDSKPSWkKCVFGWmUeypIUUmKKlJUk0aNJ0iKWlLUkUa9p4EUjaRoIkUzabR4WknRRop20ujwdJKiixTdpOghjV5PHyn6STFAGoOeIVIMk2KEFKOkMeYZJ8UEKUKkMemZIsU0KWZIMUsac54wKSKkiJLGvGeBFIukWCLFMrkCq7AG67ABm7AF27ADu7AH+3AAh3AEx3ACp3AG53ABl3AF13ADt3AH9/AAj/AEz/ACr/AG7/ABn/AF3/ADv39LujSyJPVJ0QAAAABJRU5ErkJggg==')}.scrim.gradientUp{top:unset;bottom:0}.scrim.gradientDown{transform:rotate(180deg)}.scrim.hidden{display:none}.scrim.active{opacity:1;visibility:visible}"}},jR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e=>"0".concat(e).slice(-2),i=(o=e,Math.trunc(o/60/60%60));var o;const r=(e=>Math.trunc(e/60%60))(e),s=(e=>Math.trunc(e%60))(e);return"".concat(t||i>0?"".concat(i,":"):"").concat(n(r),":").concat(n(s))};var AR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const PR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.keyboardDisposal=new RM,this.timestamp="",this.endTime=0,this.alwaysShowHours=!1,this.hideTooltip=!1,this.currentTime=0,this.duration=-1,this.noKeyboard=!1,this.buffering=!1,this.buffered=0,this.i18n={},WM(this),rF(this,["i18n","currentTime","duration","buffering","buffered"])}onNoKeyboardChange(){return AR(this,void 0,void 0,(function*(){if(this.keyboardDisposal.empty(),this.noKeyboard)return;const e=yield CM(this);if(dM(e))return;this.keyboardDisposal.add(aM(e,"keydown",(e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;e.preventDefault();const t="ArrowLeft"===e.key?Math.max(0,this.currentTime-5):Math.min(this.duration,this.currentTime+5);this.dispatch("currentTime",t)})))}))}onDurationChange(){this.endTime=Math.max(0,this.duration)}connectedCallback(){this.dispatch=NM(this),this.timestamp=jR(this.currentTime,this.alwaysShowHours),this.onNoKeyboardChange()}disconnectedCallback(){this.keyboardDisposal.empty()}setTooltipPosition(e){var t,n;const i=null===(n=null===(t=this.tooltip.shadowRoot)||void 0===t?void 0:t.querySelector(".tooltip"))||void 0===n?void 0:n.getBoundingClientRect(),o=this.slider.getBoundingClientRect(),r=parseFloat(window.getComputedStyle(this.slider).getPropertyValue("--vm-slider-thumb-width")),s=i.width/2-r/2,a=o.width-i.width/2-r/2,l=Math.max(s,Math.min(e,a));this.tooltip.style="--vm-tooltip-left: ".concat(l,"px")}onSeek(e){this.dispatch("currentTime",e.detail)}onSeeking(e){if(this.duration<0||this.tooltip.hidden)return;if("mouseleave"===e.type)return this.getSliderInput().blur(),void(this.tooltip.active=!1);const t=this.host.getBoundingClientRect(),n=Math.max(0,Math.min(100,100/t.width*(e.pageX-t.left)));this.timestamp=jR(this.duration/100*n,this.alwaysShowHours),this.setTooltipPosition(n/100*t.width),this.tooltip.active||(this.getSliderInput().focus(),this.tooltip.active=!0)}getSliderInput(){var e;return null===(e=this.slider.shadowRoot)||void 0===e?void 0:e.querySelector("input")}render(){const e=this.i18n.scrubberLabel.replace(/{currentTime}/,jR(this.currentTime)).replace(/{duration}/,jR(this.endTime));return VA("div",{class:"scrubber",onMouseEnter:this.onSeeking.bind(this),onMouseLeave:this.onSeeking.bind(this),onMouseMove:this.onSeeking.bind(this),onTouchMove:()=>{this.getSliderInput().focus()},onTouchEnd:()=>{this.getSliderInput().blur()}},VA("vm-slider",{step:.01,max:this.endTime,value:this.currentTime,label:this.i18n.scrubber,valueText:e,onVmValueChange:this.onSeek.bind(this),ref:e=>{this.slider=e}}),VA("progress",{class:{loading:this.buffering},min:0,max:this.endTime,value:this.buffered,"aria-label":this.i18n.buffered,"aria-valuemin":"0","aria-valuemax":this.endTime,"aria-valuenow":this.buffered,"aria-valuetext":"".concat((this.endTime>0?this.buffered/this.endTime:0).toFixed(0),"%")},"% buffered"),VA("vm-tooltip",{hidden:this.hideTooltip,ref:e=>{this.tooltip=e}},this.timestamp))}get host(){return this}static get watchers(){return{noKeyboard:["onNoKeyboardChange"],duration:["onDurationChange"]}}static get style(){return":host{--vm-tooltip-spacing:var(--vm-scrubber-tooltip-spacing);flex:1;position:relative;cursor:pointer;pointer-events:auto;box-sizing:border-box;left:calc(var(--vm-slider-thumb-width) / 2);margin-right:var(--vm-slider-thumb-width);margin-bottom:var(--vm-slider-track-height)}@keyframes progress{to{background-position:var(--vm-scrubber-loading-stripe-size) 0}}.scrubber{position:relative;width:100%}vm-slider,progress{margin-left:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);margin-right:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);width:calc(100% + var(--vm-slider-thumb-width));height:var(--vm-slider-track-height)}vm-slider:hover,progress:hover{cursor:pointer}vm-slider{position:absolute;top:0;left:0;z-index:3}progress{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;position:absolute;left:0;top:50%;padding:0;color:var(--vm-scrubber-buffered-bg);height:var(--vm-slider-track-height)}progress::-webkit-progress-bar{background:transparent}progress::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-ms-fill{border-radius:100px;transition:width 0.2s ease}progress.loading{animation:progress 1s linear infinite;background-image:linear-gradient(\n    -45deg,\n    var(--vm-scrubber-loading-stripe-color) 25%,\n    transparent 25%,\n    transparent 50%,\n    var(--vm-scrubber-loading-stripe-color) 50%,\n    var(--vm-scrubber-loading-stripe-color) 75%,\n    transparent 75%,\n    transparent\n  );background-repeat:repeat-x;background-size:var(--vm-scrubber-loading-stripe-size)\n    var(--vm-scrubber-loading-stripe-size);color:transparent;background-color:transparent}"}};var MR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let FR=0;const OR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.disposal=new RM,this.menuHeight=0,this.pin="bottomRight",this.active=!1,this.isMobile=!1,this.isAudioView=!1,WM(this),jF(this),rF(this,["isMobile","isAudioView"])}onActiveChange(){this.dispatch("isSettingsActive",this.active),dM(this.controller)||(this.controller.expanded=this.active)}connectedCallback(){this.dispatch=NM(this),FR+=1,this.id="vm-settings-".concat(FR)}disconnectedCallback(){this.disposal.empty()}setController(e){return MR(this,void 0,void 0,(function*(){this.controller=e,this.controller.menu=this.id,this.disposal.empty(),this.disposal.add(aM(this.controller,"click",(()=>{this.active=!this.active}))),this.disposal.add(aM(this.controller,"keydown",(e=>{"Enter"===e.key&&(this.active||this.menu.focusMenu())})))}))}getPosition(){if(this.isAudioView)return{right:"0",bottom:"calc(var(--vm-controls-height, 0) + 4px)"};const e=this.pin.split(/(?=[L|R])/).map((e=>e.toLowerCase()));return{[e.includes("top")?"top":"bottom"]:"var(--vm-controls-height, 0)",[e.includes("left")?"left":"right"]:"8px"}}onOpen(e){var t;(null===(t=e.detail)||void 0===t?void 0:t.identifier)===this.id&&(this.active=!0)}onClose(e){var t;(null===(t=e.detail)||void 0===t?void 0:t.identifier)===this.id&&(this.active=!1)}onHeightChange(e){this.menuHeight=e.detail}render(){return VA("div",{style:Object.assign({},this.getPosition()),class:{settings:!0,active:this.active,mobile:this.isMobile}},VA("div",{class:"container",style:{height:"".concat(this.menuHeight,"px")}},VA("vm-menu",{identifier:this.id,active:this.active,controller:this.controller,onVmOpen:this.onOpen.bind(this),onVmClose:this.onClose.bind(this),onVmMenuHeightChange:this.onHeightChange.bind(this),ref:e=>{this.menu=e}},VA("slot",null))))}get host(){return this}static get watchers(){return{active:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:none;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color)\n    var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;pointer-events:auto;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}"}};var RR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let LR=0;const IR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.icon="settings",this.tooltipPosition="top",this.expanded=!1,this.i18n={},this.hideTooltip=!1,WM(this),rF(this,["i18n"])}onComponentsChange(){dM(this.vmSettings)||this.vmSettings.setController(this.host)}connectedCallback(){LR+=1,this.id="vm-settings-control-".concat(LR),JM(this,"vm-settings",(e=>{[this.vmSettings]=e}))}focusControl(){var e;return RR(this,void 0,void 0,(function*(){null===(e=this.control)||void 0===e||e.focusControl()}))}blurControl(){var e;return RR(this,void 0,void 0,(function*(){null===(e=this.control)||void 0===e||e.blurControl()}))}render(){const e=!dM(this.menu);return VA("div",{class:{settingsControl:!0,hidden:!e,active:e&&this.expanded}},VA("vm-control",{identifier:this.id,menu:this.menu,hidden:!e,expanded:this.expanded,label:this.i18n.settings,ref:e=>{this.control=e}},VA("vm-icon",{name:this.icon,library:this.icons}),VA("vm-tooltip",{hidden:this.hideTooltip||this.expanded,position:this.tooltipPosition,direction:this.tooltipDirection},this.i18n.settings)))}get host(){return this}static get watchers(){return{vmSettings:["onComponentsChange"]}}static get style(){return".settingsControl.hidden{display:none}.settingsControl{--vm-icon-transition:transform 0.3s ease}.settingsControl.active{--vm-icon-transform:rotate(90deg)}"}},_R=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.hidden=!1,this.effect="sheen",this.ready=!1,WM(this),rF(this,["ready"])}onReadyChange(){this.ready?setTimeout((()=>{this.hidden=!0}),500):this.hidden=!1}render(){return VA("div",{class:{skeleton:!0,hidden:this.hidden,sheen:"sheen"===this.effect}},VA("div",{class:"indicator"}))}static get watchers(){return{ready:["onReadyChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-skeleton-z-index)}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton{width:100%;height:100%;display:flex;min-height:1rem;pointer-events:auto}.sheen.hidden{opacity:0;visibility:hidden;transition:var(--vm-fade-transition);pointer-events:none}.indicator{flex:1 1 auto;background:var(--vm-skeleton-color)}.skeleton.sheen .indicator{background:linear-gradient(\n    270deg,\n    var(--vm-skeleton-sheen-color),\n    var(--vm-skeleton-color),\n    var(--vm-skeleton-color),\n    var(--vm-skeleton-sheen-color)\n  );background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}"}},VR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmValueChange=mP(this,"vmValueChange",7),this.vmFocus=mP(this,"vmFocus",7),this.vmBlur=mP(this,"vmBlur",7),this.step=1,this.min=0,this.max=10,this.value=5,WM(this)}getPercentage(){return"".concat(this.value/this.max*100,"%")}onValueChange(e){var t;const n=parseFloat(null===(t=e.target)||void 0===t?void 0:t.value);this.vmValueChange.emit(n)}calcTouchedValue(e){const t=e.target,n=e.changedTouches[0],i=parseFloat(t.getAttribute("min")),o=parseFloat(t.getAttribute("max")),r=parseFloat(t.getAttribute("step")),s=o-i;let a;const l=t.getBoundingClientRect(),c=parseFloat(window.getComputedStyle(this.host).getPropertyValue("--vm-slider-thumb-width")),u=100/l.width*(c/2)/100;a=100/l.width*(n.clientX-l.left),a=Math.max(0,Math.min(a,100)),a<50?a-=(100-2*a)*u:a>50&&(a+=2*(a-50)*u);const d=s*(a/100);return r>=1?i+Math.round(d/r)*r:i+parseFloat(d.toFixed(2))}onTouch(e){const t=e.target;t.disabled||(e.preventDefault(),this.value=this.calcTouchedValue(e),this.vmValueChange.emit(this.value),t.dispatchEvent(new window.Event("touchend"===e.type?"change":"input",{bubbles:!0})))}render(){var e;return VA("div",{class:"slider",style:{"--vm-value":this.getPercentage()}},VA("input",{type:"range",step:this.step,min:this.min,max:this.max,value:this.value,autocomplete:"off","aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-valuetext":null!==(e=this.valueText)&&void 0!==e?e:this.getPercentage(),"aria-orientation":"horizontal",onInput:this.onValueChange.bind(this),onFocus:()=>{this.vmFocus.emit()},onBlur:()=>{this.vmBlur.emit()},onTouchStart:this.onTouch.bind(this),onTouchMove:this.onTouch.bind(this),onTouchEnd:this.onTouch.bind(this)}))}get host(){return this}static get style(){return":host{width:100%}.slider{width:100%}input{width:100%;-webkit-appearance:none;background:transparent;border:0;outline:0;cursor:pointer;box-sizing:border-box;border-radius:calc(var(--vm-slider-thumb-height) * 2);user-select:none;-webkit-user-select:none;touch-action:manipulation;color:var(--vm-slider-value-color);display:block;height:var(--vm-slider-track-height);margin:0;padding:0;transition:box-shadow 0.3s ease}input::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(\n    to right,\n    currentColor var(--vm-value, 0%),\n    transparent var(--vm-value, 0%)\n  );background-color:var(--vm-slider-track-color)}input::-webkit-slider-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);-webkit-appearance:none;margin-top:calc(\n    0px -\n      calc(\n        calc(var(--vm-slider-thumb-height) - var(--vm-slider-track-height)) / 2\n      )\n  )}input::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-color:var(--vm-slider-track-color)}input::-moz-range-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow)}input::-moz-range-progress{background:currentColor;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height)}input::-ms-track{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;color:transparent;background-color:var(--vm-slider-track-color)}input::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none}input::-ms-fill-lower{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}input::-ms-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);margin-top:0}input::-ms-tooltip{display:none}input:hover::-webkit-slider-runnable-track{height:var(--vm-slider-track-focused-height)}input:hover::-moz-range-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-upper{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-lower{height:var(--vm-slider-track-focused-height)}input:hover::-webkit-slider-thumb{opacity:1}input:hover::-moz-range-thumb{opacity:1}input:hover::-ms-thumb{opacity:1}input:focus{outline:0}input:focus::-webkit-slider-runnable-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-moz-range-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-ms-track{outline:0;height:var(--vm-slider-track-focused-height)}input::-moz-focus-outer{border:0}"}},$R=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmWillShow=mP(this,"vmWillShow",3),this.vmWillHide=mP(this,"vmWillHide",3),this.blacklist=[sF.YouTube],this.isHidden=!0,this.isActive=!1,this.isVideoView=!1,this.showWhenMediaLoading=!1,this.playbackReady=!1,this.buffering=!1,WM(this),rF(this,["isVideoView","buffering","playbackReady","currentProvider"])}onVideoViewChange(){this.isHidden=!this.isVideoView,this.onVisiblityChange()}onActiveChange(){this.isActive=this.buffering||this.showWhenMediaLoading&&!this.playbackReady,this.onVisiblityChange()}onVisiblityChange(){!this.isHidden&&this.isActive?this.vmWillShow.emit():this.vmWillHide.emit()}render(){return VA("div",{class:{spinner:!0,hidden:this.isHidden||this.blacklist.includes(this.currentProvider),active:this.isActive}},VA("div",{class:{spin:!0,active:this.isActive}},"Loading..."))}static get watchers(){return{isVideoView:["onVideoViewChange"],buffering:["onActiveChange"],playbackReady:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-spinner-z-index)}.spinner{width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.spinner.hidden{display:none}.spinner.active{opacity:1;visibility:visible}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.spin{background:transparent;margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;pointer-events:none;border-top:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-left:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-right:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);border-bottom:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);transform:translateZ(0)}.spin.active{animation:spin var(--vm-spinner-spin-duration) infinite\n    var(--vm-spinner-spin-timing-func)}.spin,.spin::after{border-radius:50%;width:var(--vm-spinner-width);height:var(--vm-spinner-height)}"}};var zR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let BR=0;const HR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmOpenSubmenu=mP(this,"vmOpenSubmenu",7),this.vmCloseSubmenu=mP(this,"vmCloseSubmenu",7),this.slideInDirection="right",this.active=!1,WM(this)}connectedCallback(){this.genId()}getController(){return zR(this,void 0,void 0,(function*(){return this.controller}))}getMenu(){return zR(this,void 0,void 0,(function*(){return this.menu}))}getControllerHeight(){var e,t;return zR(this,void 0,void 0,(function*(){return null!==(t=null===(e=this.controller)||void 0===e?void 0:e.getHeight())&&void 0!==t?t:0}))}getControllerHeightSync(){var e;const t=null===(e=this.controller)||void 0===e?void 0:e.shadowRoot.querySelector("[role='menuitem']");return t?parseFloat(window.getComputedStyle(t).height):0}onMenuOpen(){this.active=!0,this.vmOpenSubmenu.emit(this.host)}onMenuClose(){this.active=!1,this.vmCloseSubmenu.emit(this.host)}genId(){BR+=1,this.id="vm-submenu-".concat(BR)}getControllerId(){return"".concat(this.id,"-controller")}render(){return VA("div",null,VA("vm-menu-item",{identifier:this.getControllerId(),menu:this.menu,label:this.label,hint:this.hint,expanded:this.active,ref:e=>{sM((()=>{this.controller=e}))}}),VA("vm-menu",{identifier:this.id,controller:this.controller,active:this.active,slideInDirection:this.slideInDirection,onVmOpen:this.onMenuOpen.bind(this),onVmClose:this.onMenuClose.bind(this),ref:e=>{sM((()=>{this.menu=e}))},style:{top:"".concat(this.getControllerHeightSync()+1,"px")}},VA("slot",null)))}get host(){return this}},UR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.seconds=0,this.alwaysShowHours=!1,WM(this)}render(){return VA("div",{class:"time","aria-label":this.label},jR(Math.max(0,this.seconds),this.alwaysShowHours))}static get style(){return".time{display:flex;align-items:center;color:var(--vm-time-color);font-size:var(--vm-time-font-size);font-weight:var(--vm-time-font-weight)}"}},WR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.separator="/",this.alwaysShowHours=!1,WM(this)}render(){return VA("div",{class:"timeProgress"},VA("vm-current-time",{alwaysShowHours:this.alwaysShowHours}),VA("span",{class:"separator"},this.separator),VA("vm-end-time",{alwaysShowHours:this.alwaysShowHours}))}static get style(){return".timeProgress{display:flex;width:100%;height:100%;align-items:center;color:var(--vm-time-color)}.separator{margin:0 4px}"}};let qR=0;const KR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.hasLoaded=!1,this.hidden=!1,this.active=!1,this.position="top",this.isTouch=!1,this.isMobile=!1,WM(this),rF(this,["isTouch","isMobile"])}componentDidLoad(){this.hasLoaded=!0}getId(){const e=this.host.id;return gM(e)&&e.length>0?e:(qR+=1,"vm-tooltip-".concat(qR))}render(){return VA("div",{id:this.getId(),role:"tooltip","aria-hidden":!this.active||this.isTouch||this.isMobile?"true":"false",class:{tooltip:!0,hidden:!this.hasLoaded||this.hidden,onTop:"top"===this.position,onBottom:"bottom"===this.position,growLeft:"left"===this.direction,growRight:"right"===this.direction}},VA("slot",null))}get host(){return this}static get style(){return":host{display:contents;z-index:var(--vm-tooltip-z-index)}.tooltip{left:var(--vm-tooltip-left, 50%);transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--vm-tooltip-bg);border-radius:var(--vm-tooltip-border-radius);box-sizing:border-box;box-shadow:var(--vm-tooltip-box-shadow);color:var(--vm-tooltip-color);font-size:var(--vm-tooltip-font-size);padding:var(--vm-tooltip-padding);transition:opacity var(--vm-tooltip-fade-duration)\n    var(--vm-tooltip-fade-timing-func)}.tooltip[aria-hidden='false']{opacity:1;visibility:visible}.tooltip.hidden{display:none}.tooltip.onTop{bottom:100%;margin-bottom:var(--vm-tooltip-spacing)}.tooltip.onBottom{top:100%;margin-top:var(--vm-tooltip-spacing)}.tooltip.growLeft{left:auto;right:0;transform:none}.tooltip.growRight{left:0;transform:none}"}},YR=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.isVideoView=!1,this.playsinline=!1,this.isFullscreenActive=!1,WM(this),rF(this,["isVideoView","playsinline","isFullscreenActive"])}render(){const e=!KF||!this.isVideoView||this.playsinline&&!this.isFullscreenActive;return VA("div",{class:{ui:!0,hidden:!e,video:this.isVideoView}},e&&VA("slot",null))}static get style(){return":host{z-index:var(--vm-ui-z-index)}.ui{width:100%;pointer-events:none}.ui.hidden{display:none}.ui.video{position:absolute;top:0;left:0;height:100%}"}};var JR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const QR=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.willAttach=!1,this.hasCustomTextManager=!1,this.preload="metadata",WM(this),xF(this)}onProviderConnect(e){this.willAttach&&e.stopImmediatePropagation()}onProviderDisconnect(e){this.willAttach&&e.stopImmediatePropagation()}getAdapter(){var e;return JR(this,void 0,void 0,(function*(){return null===(e=this.fileProvider)||void 0===e?void 0:e.getAdapter()}))}render(){return VA("vm-file",{noConnect:!0,willAttach:this.willAttach,crossOrigin:this.crossOrigin,poster:this.poster,preload:this.preload,controlsList:this.controlsList,autoPiP:this.autoPiP,disablePiP:this.disablePiP,disableRemotePlayback:this.disableRemotePlayback,hasCustomTextManager:this.hasCustomTextManager,mediaTitle:this.mediaTitle,viewType:OM.Video,ref:e=>{this.fileProvider=e}},VA("slot",null))}};var GR;!function(e){e.Play="play",e.Pause="pause",e.Seeking="seeking",e.Seeked="seeked",e.TimeUpdate="timeupdate",e.VolumeChange="volumechange",e.DurationChange="durationchange",e.FullscreenChange="fullscreenchange",e.CueChange="cuechange",e.Progress="progress",e.Error="error",e.PlaybackRateChange="playbackratechange",e.Loaded="loaded",e.BufferStart="bufferstart",e.BufferEnd="bufferend",e.TextTrackChange="texttrackchange",e.Waiting="waiting",e.Ended="ended"}(GR||(GR={}));var XR=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const ZR=new Map,eL=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmLoadStart=mP(this,"vmLoadStart",7),this.vmError=mP(this,"vmError",7),this.defaultInternalState={},this.volume=50,this.hasLoaded=!1,this.internalState={paused:!0,playing:!1,seeking:!1,currentTime:0,buffered:0,playbackStarted:!1,playRequest:!1},this.embedSrc="",this.mediaTitle="",this.byline=!0,this.portrait=!0,this.noAutoAspectRatio=!1,this.cookies=!0,this.language="en",this.aspectRatio="16:9",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,WM(this),xF(this),hO(this)}onVideoIdChange(){this.cancelTimeUpdates(),this.videoId?(this.embedSrc="".concat(this.getOrigin(),"/video/").concat(this.videoId),this.pendingDurationCall=xM(),this.pendingMediaTitleCall=xM(),this.fetchVideoInfo=this.getVideoInfo()):this.embedSrc=""}onCustomPosterChange(){this.dispatch("currentPoster",this.poster)}connectedCallback(){this.dispatch=pF(this),this.dispatch("viewType",OM.Video),this.onVideoIdChange(),this.defaultInternalState=Object.assign({},this.internalState)}componentWillLoad(){this.initialMuted=this.muted}disconnectedCallback(){this.cancelTimeUpdates(),this.pendingPlayRequest=void 0}getOrigin(){return"https://player.vimeo.com"}getPreconnections(){return[this.getOrigin(),"https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"]}remoteControl(e,t){return this.embed.postMessage({method:e,value:t})}buildParams(){return{byline:this.byline,color:this.color,portrait:this.portrait,autopause:!1,transparent:!1,autoplay:this.autoplay,muted:this.initialMuted,playsinline:this.playsinline,dnt:!this.cookies}}getVideoInfo(){return XR(this,void 0,void 0,(function*(){return ZR.has(this.videoId)?ZR.get(this.videoId):window.fetch("https://vimeo.com/api/oembed.json?url=".concat(this.embedSrc)).then((e=>e.json())).then((e=>{var t;const n=null===(t=null===e||void 0===e?void 0:e.thumbnail_url)||void 0===t?void 0:t.match(/vimeocdn.com\/video\/(.*)?_/)[1],i={poster:"https://i.vimeocdn.com/video/".concat(n,"_1920x1080.jpg"),width:null===e||void 0===e?void 0:e.width,height:null===e||void 0===e?void 0:e.height};return ZR.set(this.videoId,i),i}))}))}onTimeChange(e){this.internalState.currentTime!==e&&(this.dispatch("currentTime",e),Math.abs(this.internalState.currentTime-e)>1.5&&(this.internalState.seeking=!0,this.dispatch("seeking",!0),this.internalState.playing&&this.internalState.buffered<e&&this.dispatch("buffering",!0),window.clearTimeout(this.pendingPlayRequest),this.internalState.paused||(this.internalState.playRequest=!0),this.remoteControl(this.internalState.playbackStarted?"pause":"play")),this.internalState.currentTime=e)}cancelTimeUpdates(){fM(this.timeRAF)&&window.cancelAnimationFrame(this.timeRAF)}requestTimeUpdates(){this.remoteControl("getCurrentTime"),this.timeRAF=window.requestAnimationFrame((()=>{this.requestTimeUpdates()}))}onSeeked(){this.internalState.seeking&&(this.dispatch("seeking",!1),this.internalState.seeking=!1,this.internalState.playRequest&&window.setTimeout((()=>{this.remoteControl("play")}),150))}onVimeoMethod(e,t){var n,i;switch(e){case"getCurrentTime":this.internalState.seeking||this.onTimeChange(t);break;case"getDuration":null===(n=this.pendingDurationCall)||void 0===n||n.resolve(t);break;case"getVideoTitle":null===(i=this.pendingMediaTitleCall)||void 0===i||i.resolve(t)}}onLoaded(){var e,t;this.hasLoaded||(this.pendingPlayRequest=void 0,this.internalState=Object.assign({},this.defaultInternalState),this.dispatch("currentSrc",this.embedSrc),this.dispatch("mediaType",TM.Video),this.remoteControl("getDuration"),this.remoteControl("getVideoTitle"),Promise.all([this.fetchVideoInfo,null===(e=this.pendingDurationCall)||void 0===e?void 0:e.promise,null===(t=this.pendingMediaTitleCall)||void 0===t?void 0:t.promise]).then((e=>{let[t,n,i]=e;var o,r,s;this.requestTimeUpdates(),this.dispatch("aspectRatio","".concat(null!==(o=null===t||void 0===t?void 0:t.width)&&void 0!==o?o:16,":").concat(null!==(r=null===t||void 0===t?void 0:t.height)&&void 0!==r?r:9)),this.dispatch("currentPoster",null!==(s=this.poster)&&void 0!==s?s:null===t||void 0===t?void 0:t.poster),this.dispatch("duration",null!==n&&void 0!==n?n:-1),this.dispatch("mediaTitle",i),this.dispatch("playbackReady",!0)})),this.hasLoaded=!0)}onVimeoEvent(e,t){switch(e){case"ready":Object.values(GR).forEach((e=>{this.remoteControl("addEventListener",e)}));break;case"loaded":this.onLoaded();break;case"play":this.onLoaded(),this.internalState.paused=!1,this.dispatch("paused",!1);break;case"playProgress":this.internalState.playing||(this.dispatch("playing",!0),this.internalState.playing=!0,this.internalState.playbackStarted=!0,this.pendingPlayRequest=window.setTimeout((()=>{this.internalState.playRequest=!1,this.pendingPlayRequest=void 0}),1e3)),this.dispatch("buffering",!1),this.onSeeked();break;case"pause":this.internalState.paused=!0,this.internalState.playing=!1,this.dispatch("paused",!0),this.dispatch("buffering",!1);break;case"loadProgress":this.internalState.buffered=t.seconds,this.dispatch("buffered",t.seconds);break;case"bufferstart":this.dispatch("buffering",!0),this.internalState.paused&&(this.internalState.paused=!1,this.dispatch("paused",!1),this.dispatch("playbackStarted",!0));break;case"bufferend":this.dispatch("buffering",!1),this.internalState.paused&&this.onSeeked();break;case"volumechange":if(t.volume>0){const e=Math.floor(100*t.volume);this.dispatch("muted",!1),this.volume!==e&&(this.volume=e,this.dispatch("volume",this.volume))}else this.dispatch("muted",!0);break;case"durationchange":this.dispatch("duration",t.duration);break;case"playbackratechange":this.dispatch("playbackRate",t.playbackRate);break;case"fullscreenchange":this.dispatch("isFullscreenActive",t.fullscreen);break;case"finish":this.loop?(this.remoteControl("setCurrentTime",0),setTimeout((()=>{this.remoteControl("play")}),200)):this.dispatch("playbackEnded",!0);break;case"error":this.vmError.emit(t)}}onEmbedSrcChange(){this.hasLoaded=!1,this.vmLoadStart.emit(),this.dispatch("viewType",OM.Video)}onEmbedMessage(e){const t=e.detail;dM(t.event)||this.onVimeoEvent(t.event,t.data),dM(t.method)||this.onVimeoMethod(t.method,t.value)}adjustPosition(){if(this.controls)return{};const[e,t]=this.aspectRatio.split(":").map((e=>parseInt(e,10))),n=(240-100/e*t)/4.8;return{paddingBottom:"".concat(240,"%"),transform:"translateY(-".concat(n+.02,"%)")}}getAdapter(){return XR(this,void 0,void 0,(function*(){const e=/vimeo(?:\.com|)\/([0-9]{9,})/,t=/vimeo\.com\/external\/[0-9]+\..+/;return{getInternalPlayer:()=>XR(this,void 0,void 0,(function*(){return this.embed})),play:()=>XR(this,void 0,void 0,(function*(){this.remoteControl("play")})),pause:()=>XR(this,void 0,void 0,(function*(){this.remoteControl("pause")})),canPlay:n=>XR(this,void 0,void 0,(function*(){return gM(n)&&!t.test(n)&&e.test(n)})),setCurrentTime:e=>XR(this,void 0,void 0,(function*(){e!==this.internalState.currentTime&&this.remoteControl("setCurrentTime",e)})),setMuted:e=>XR(this,void 0,void 0,(function*(){e||(this.volume=this.volume>0?this.volume:30),this.remoteControl("setVolume",e?0:this.volume/100)})),setVolume:e=>XR(this,void 0,void 0,(function*(){this.muted?this.dispatch("volume",e):this.remoteControl("setVolume",e/100)})),canSetPlaybackRate:()=>XR(this,void 0,void 0,(function*(){return!1})),setPlaybackRate:e=>XR(this,void 0,void 0,(function*(){this.remoteControl("setPlaybackRate",e)}))}}))}render(){return VA("vm-embed",{class:{hideControls:!this.controls},style:this.adjustPosition(),embedSrc:this.embedSrc,mediaTitle:this.mediaTitle,origin:this.getOrigin(),params:this.buildParams(),decoder:oO,preconnections:this.getPreconnections(),onVmEmbedMessage:this.onEmbedMessage.bind(this),onVmEmbedSrcChange:this.onEmbedSrcChange.bind(this),ref:e=>{this.embed=e}})}static get watchers(){return{videoId:["onVideoIdChange"],poster:["onCustomPosterChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}vm-embed{position:absolute;top:0;left:0;width:100%;height:100%}vm-embed.hideControls{display:block;width:100%;height:auto;position:relative}"}};var tL=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const nL=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.keyboardDisposal=new RM,this.prevMuted=!1,this.currentVolume=50,this.isSliderActive=!1,this.lowVolumeIcon="volume-low",this.highVolumeIcon="volume-high",this.mutedIcon="volume-mute",this.tooltipPosition="top",this.hideTooltip=!1,this.muteKeys="m",this.noKeyboard=!1,this.muted=!1,this.volume=50,this.isMobile=!1,this.i18n={},WM(this),rF(this,["volume","muted","isMobile","i18n"])}onNoKeyboardChange(){return tL(this,void 0,void 0,(function*(){if(this.keyboardDisposal.empty(),this.noKeyboard)return;const e=yield CM(this);dM(e)||this.keyboardDisposal.add(aM(e,"keydown",(e=>{if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;const t="ArrowUp"===e.key?Math.min(100,this.volume+5):Math.max(0,this.volume-5);this.dispatch("volume",parseInt("".concat(t),10))})))}))}onPlayerVolumeChange(){this.currentVolume=this.muted?0:this.volume,!this.muted&&this.prevMuted&&0===this.volume&&this.dispatch("volume",30),this.prevMuted=this.muted}connectedCallback(){this.prevMuted=this.muted,this.dispatch=NM(this),this.onNoKeyboardChange()}disconnectedCallback(){this.keyboardDisposal.empty()}onShowSlider(){clearTimeout(this.hideSliderTimeout),this.isSliderActive=!0}onHideSlider(){this.hideSliderTimeout=setTimeout((()=>{this.isSliderActive=!1}),100)}onVolumeChange(e){const t=e.detail;this.currentVolume=t,this.dispatch("volume",t),this.dispatch("muted",0===t)}onKeyDown(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}render(){return VA("div",{class:"volumeControl",onMouseEnter:this.onShowSlider.bind(this),onMouseLeave:this.onHideSlider.bind(this)},VA("vm-mute-control",{keys:this.muteKeys,lowVolumeIcon:this.lowVolumeIcon,highVolumeIcon:this.highVolumeIcon,mutedIcon:this.mutedIcon,icons:this.icons,tooltipPosition:this.tooltipPosition,tooltipDirection:this.tooltipDirection,hideTooltip:this.hideTooltip,onVmFocus:this.onShowSlider.bind(this),onVmBlur:this.onHideSlider.bind(this)}),VA("vm-slider",{class:{hidden:this.isMobile,active:this.isSliderActive},step:5,max:100,value:this.currentVolume,label:this.i18n.volume,onKeyDown:this.onKeyDown.bind(this),onVmFocus:this.onShowSlider.bind(this),onVmBlur:this.onHideSlider.bind(this),onVmValueChange:this.onVolumeChange.bind(this)}))}static get watchers(){return{noKeyboard:["onNoKeyboardChange"],muted:["onPlayerVolumeChange"],volume:["onPlayerVolumeChange"]}}static get style(){return".volumeControl{align-items:center;display:flex;position:relative;pointer-events:auto;box-sizing:border-box}vm-slider{width:75px;height:100%;margin:0;max-width:0;position:relative;z-index:3;transition:margin 0.2s cubic-bezier(0.4, 0, 1, 1),\n    max-width 0.2s cubic-bezier(0.4, 0, 1, 1);margin-left:calc(var(--vm-control-spacing) / 2) !important;visibility:hidden}vm-slider:hover{cursor:pointer}vm-slider.hidden{display:none}vm-slider.active{max-width:75px;visibility:visible;margin:0 calc(var(--vm-control-spacing) / 2)}"}},iL=e=>{switch(e){case"unknown":default:return;case"tiny":return"144p";case"small":return"240p";case"medium":return"360p";case"large":return"480p";case"hd720":return"720p";case"hd1080":return"1080p";case"highres":return"1440p";case"max":return"2160p"}};var oL=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(MI){r(MI)}}function a(e){try{l(i.throw(e))}catch(MI){r(MI)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const rL=new Map,sL=class extends HTMLElement{constructor(){super(),this.__registerHost(),_P(this),this.vmLoadStart=mP(this,"vmLoadStart",7),this.defaultInternalState={},this.internalState={paused:!0,duration:0,seeking:!1,playbackReady:!1,playbackStarted:!1,currentTime:0,lastTimeUpdate:0,playbackRate:1,state:-1},this.embedSrc="",this.mediaTitle="",this.cookies=!1,this.showFullscreenControl=!0,this.language="en",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,WM(this),xF(this),hO(this)}onVideoIdChange(){this.videoId?(this.embedSrc="".concat(this.getOrigin(),"/embed/").concat(this.videoId),this.fetchPosterURL=this.findPosterURL()):this.embedSrc=""}onCustomPosterChange(){this.dispatch("currentPoster",this.poster)}connectedCallback(){this.dispatch=pF(this),this.dispatch("viewType",OM.Video),this.onVideoIdChange(),this.defaultInternalState=Object.assign({},this.internalState)}componentWillLoad(){this.initialMuted=this.muted}getAdapter(){return oL(this,void 0,void 0,(function*(){const e=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/;return{getInternalPlayer:()=>oL(this,void 0,void 0,(function*(){return this.embed})),play:()=>oL(this,void 0,void 0,(function*(){this.remoteControl("playVideo")})),pause:()=>oL(this,void 0,void 0,(function*(){this.remoteControl("pauseVideo")})),canPlay:t=>oL(this,void 0,void 0,(function*(){return gM(t)&&e.test(t)})),setCurrentTime:e=>oL(this,void 0,void 0,(function*(){e!==this.internalState.currentTime&&this.remoteControl("seekTo",e)})),setMuted:e=>oL(this,void 0,void 0,(function*(){e?this.remoteControl("mute"):this.remoteControl("unMute")})),setVolume:e=>oL(this,void 0,void 0,(function*(){this.remoteControl("setVolume",e)})),canSetPlaybackRate:()=>oL(this,void 0,void 0,(function*(){return!0})),setPlaybackRate:e=>oL(this,void 0,void 0,(function*(){this.remoteControl("setPlaybackRate",e)}))}}))}getOrigin(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}getPreconnections(){return[this.getOrigin(),"https://www.google.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net","https://s.ytimg.com","https://i.ytimg.com"]}remoteControl(e,t){return this.embed.postMessage({event:"command",func:e,args:t?[t]:void 0})}buildParams(){return{enablejsapi:1,cc_lang_pref:this.language,hl:this.language,fs:this.showFullscreenControl?1:0,controls:this.controls?1:0,disablekb:this.controls?0:1,iv_load_policy:this.controls?1:3,mute:this.initialMuted?1:0,playsinline:this.playsinline?1:0,autoplay:this.autoplay?1:0}}onEmbedSrcChange(){this.vmLoadStart.emit(),this.dispatch("viewType",OM.Video)}onEmbedLoaded(){window.setTimeout((()=>this.embed.postMessage({event:"listening"})),100)}findPosterURL(){return oL(this,void 0,void 0,(function*(){if(rL.has(this.videoId))return rL.get(this.videoId);const e=e=>"https://i.ytimg.com/vi/".concat(this.videoId,"/").concat(e,".jpg");return nO(e("maxresdefault"),121).catch((()=>nO(e("sddefault"),121))).catch((()=>nO(e("hqdefault"),121))).then((e=>{const t=e.src;return rL.set(this.videoId,t),t}))}))}onCued(){this.internalState.playbackReady||(this.internalState=Object.assign({},this.defaultInternalState),this.dispatch("currentSrc",this.embedSrc),this.dispatch("mediaType",TM.Video),this.fetchPosterURL.then((e=>{var t;this.dispatch("currentPoster",null!==(t=this.poster)&&void 0!==t?t:e),this.dispatch("playbackReady",!0)})),this.internalState.playbackReady=!0)}onPlayerStateChange(e){if(this.internalState.playbackReady&&-1===e)return this.internalState.paused=!0,this.internalState.playbackStarted=!1,this.dispatch("buffering",!1),this.dispatch("paused",!0),void this.dispatch("playbackStarted",!1);const t=1===e,n=3===e;switch(this.dispatch("buffering",n),this.internalState.paused&&(n||t)&&(this.internalState.paused=!1,this.dispatch("paused",!1),this.internalState.playbackStarted||(this.dispatch("playbackStarted",!0),this.internalState.playbackStarted=!0)),e){case 5:this.onCued();break;case 1:this.onCued(),this.dispatch("playing",!0);break;case 2:this.internalState.paused=!0,this.dispatch("paused",!0);break;case 0:this.loop?window.setTimeout((()=>{this.remoteControl("playVideo")}),150):(this.dispatch("playbackEnded",!0),this.internalState.paused=!0,this.dispatch("paused",!0))}this.internalState.state=e}calcCurrentTime(e){let t=e;if(0===this.internalState.state)return this.internalState.duration;if(1===this.internalState.state){const e=(Date.now()/1e3-this.defaultInternalState.lastTimeUpdate)*this.internalState.playbackRate;e>0&&(t+=Math.min(e,1))}return t}onTimeChange(e){const t=this.calcCurrentTime(e);this.dispatch("currentTime",t),Math.abs(this.internalState.currentTime-t)>1.5&&(this.internalState.seeking=!0,this.dispatch("seeking",!0)),this.internalState.currentTime=t}onBufferedChange(e){this.dispatch("buffered",e),this.internalState.seeking&&e>this.internalState.currentTime&&window.setTimeout((()=>{this.internalState.seeking=!1,this.dispatch("seeking",!1)}),this.internalState.paused?100:0)}onEmbedMessage(e){const t=e.detail,{info:n}=t;var i;n&&(mM(n.videoData)&&this.dispatch("mediaTitle",n.videoData.title),fM(n.duration)&&(this.internalState.duration=n.duration,this.dispatch("duration",n.duration)),yM(n.availablePlaybackRates)&&this.dispatch("playbackRates",n.availablePlaybackRates),fM(n.playbackRate)&&(this.internalState.playbackRate=n.playbackRate,this.dispatch("playbackRate",n.playbackRate)),fM(n.currentTime)&&this.onTimeChange(n.currentTime),fM(n.currentTimeLastUpdated)&&(this.internalState.lastTimeUpdate=n.currentTimeLastUpdated),fM(n.videoLoadedFraction)&&this.onBufferedChange(n.videoLoadedFraction*this.internalState.duration),fM(n.volume)&&this.dispatch("volume",n.volume),i=n.muted,pM(i)===Boolean&&this.dispatch("muted",n.muted),yM(n.availableQualityLevels)&&this.dispatch("playbackQualities",n.availableQualityLevels.map((e=>iL(e)))),gM(n.playbackQuality)&&this.dispatch("playbackQuality",iL(n.playbackQuality)),fM(n.playerState)&&this.onPlayerStateChange(n.playerState))}render(){return VA("vm-embed",{embedSrc:this.embedSrc,mediaTitle:this.mediaTitle,origin:this.getOrigin(),params:this.buildParams(),decoder:oO,preconnections:this.getPreconnections(),onVmEmbedLoaded:this.onEmbedLoaded.bind(this),onVmEmbedMessage:this.onEmbedMessage.bind(this),onVmEmbedSrcChange:this.onEmbedSrcChange.bind(this),ref:e=>{this.embed=e}})}static get watchers(){return{cookies:["onVideoIdChange"],videoId:["onVideoIdChange"],poster:["onCustomPosterChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}"}},aL=IP(kF,[4,"vm-audio",{willAttach:[4,"will-attach"],crossOrigin:[1,"cross-origin"],preload:[1],disableRemotePlayback:[4,"disable-remote-playback"],mediaTitle:[1,"media-title"]}]),lL=IP(CF,[1,"vm-caption-control",{showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],icons:[1],keys:[1],i18n:[16],playbackReady:[4,"playback-ready"],textTracks:[16],isTextTrackVisible:[4,"is-text-track-visible"],canToggleCaptionVisibility:[32]}]),cL=IP(PF,[1,"vm-captions",{hidden:[4],isControlsActive:[4,"is-controls-active"],isVideoView:[4,"is-video-view"],playbackStarted:[4,"playback-started"],textTracks:[16],currentTextTrack:[2,"current-text-track"],isTextTrackVisible:[4,"is-text-track-visible"],isEnabled:[32],cue:[32],fontSize:[32]}]),uL=IP(FF,[1,"vm-click-to-play",{useOnMobile:[4,"use-on-mobile"],paused:[4],isVideoView:[4,"is-video-view"],isMobile:[4,"is-mobile"]}]),dL=IP(RF,[1,"vm-control",{keys:[1],identifier:[1],hidden:[4],label:[1],menu:[1],expanded:[4],pressed:[4],isTouch:[4,"is-touch"],describedBy:[32],showTapHighlight:[32]}]),hL=IP(LF,[1,"vm-control-group",{space:[1]}]),pL=IP(IF,[1,"vm-control-spacer"]),mL=IP(zF,[1,"vm-controls",{hidden:[4],fullWidth:[4,"full-width"],fullHeight:[4,"full-height"],direction:[1],align:[1],justify:[1],pin:[513],activeDuration:[2,"active-duration"],waitForPlaybackStart:[4,"wait-for-playback-start"],hideWhenPaused:[4,"hide-when-paused"],hideOnMouseLeave:[4,"hide-on-mouse-leave"],isAudioView:[4,"is-audio-view"],isSettingsActive:[4,"is-settings-active"],playbackReady:[4,"playback-ready"],isControlsActive:[4,"is-controls-active"],paused:[4],playbackStarted:[4,"playback-started"],isInteracting:[32]}]),fL=IP(BF,[1,"vm-current-time",{currentTime:[2,"current-time"],i18n:[16],alwaysShowHours:[4,"always-show-hours"]}]),gL=IP(fO,[1,"vm-dailymotion",{videoId:[1,"video-id"],shouldAutoplayQueue:[4,"should-autoplay-queue"],showUpNextQueue:[4,"show-up-next-queue"],showShareButtons:[4,"show-share-buttons"],color:[1],syndication:[1],showDailymotionLogo:[4,"show-dailymotion-logo"],showVideoInfo:[4,"show-video-info"],language:[1],autoplay:[4],controls:[4],poster:[1],logger:[16],loop:[4],muted:[4],playsinline:[4],embedSrc:[32],mediaTitle:[32]}]),vL=IP(vO,[1,"vm-dash",{src:[1],version:[1],libSrc:[1,"lib-src"],config:[16],autoplay:[4],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],mediaTitle:[1,"media-title"],enableTextTracksByDefault:[4,"enable-text-tracks-by-default"],shouldRenderNativeTextTracks:[4,"should-render-native-text-tracks"],isTextTrackVisible:[4,"is-text-track-visible"],currentTextTrack:[2,"current-text-track"],hasAttached:[32]},[[0,"vmMediaElChange","onMediaElChange"]]]),yL=IP(bO,[1,"vm-dbl-click-fullscreen",{useOnMobile:[4,"use-on-mobile"],isFullscreenActive:[4,"is-fullscreen-active"],isVideoView:[4,"is-video-view"],playbackReady:[4,"playback-ready"],isMobile:[4,"is-mobile"],canSetFullscreen:[32]}]),bL=IP(xO,[1,"vm-default-controls",{activeDuration:[2,"active-duration"],waitForPlaybackStart:[4,"wait-for-playback-start"],hideWhenPaused:[4,"hide-when-paused"],hideOnMouseLeave:[4,"hide-on-mouse-leave"],theme:[1],isMobile:[4,"is-mobile"],isLive:[4,"is-live"],isAudioView:[4,"is-audio-view"],isVideoView:[4,"is-video-view"]}]),xL=IP(kO,[1,"vm-default-settings",{pin:[513],i18n:[16],playbackReady:[4,"playback-ready"],playbackRate:[2,"playback-rate"],playbackRates:[16],isVideoView:[4,"is-video-view"],playbackQuality:[1,"playback-quality"],playbackQualities:[16],textTracks:[16],currentTextTrack:[2,"current-text-track"],audioTracks:[16],currentAudioTrack:[2,"current-audio-track"],isTextTrackVisible:[4,"is-text-track-visible"],canSetPlaybackRate:[32],canSetPlaybackQuality:[32],canSetTextTrack:[32],canSetAudioTrack:[32]}]),wL=IP(SO,[1,"vm-default-ui",{noClickToPlay:[4,"no-click-to-play"],noDblClickFullscreen:[4,"no-dbl-click-fullscreen"],noCaptions:[4,"no-captions"],noPoster:[4,"no-poster"],noSpinner:[4,"no-spinner"],noControls:[4,"no-controls"],noSettings:[4,"no-settings"],noLoadingScreen:[4,"no-loading-screen"]}]),kL=IP(DO,[1,"vm-embed",{embedSrc:[1,"embed-src"],mediaTitle:[1,"media-title"],params:[1],origin:[1],preconnections:[16],decoder:[16],srcWithParams:[32],hasEnteredViewport:[32]},[[8,"message","onWindowMessage"]]]),SL=IP(jO,[1,"vm-end-time",{duration:[2],i18n:[16],alwaysShowHours:[4,"always-show-hours"]}]),CL=IP(WO,[6,"vm-file",{willAttach:[4,"will-attach"],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],mediaTitle:[1,"media-title"],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],viewType:[1,"view-type"],playbackRates:[16],language:[1],autoplay:[4],controls:[4],logger:[16],loop:[4],muted:[4],playsinline:[4],noConnect:[4,"no-connect"],paused:[4],currentTime:[2,"current-time"],volume:[2],playbackReady:[4,"playback-ready"],playbackStarted:[4,"playback-started"],currentTextTrack:[2,"current-text-track"],hasCustomTextManager:[4,"has-custom-text-manager"],isTextTrackVisible:[4,"is-text-track-visible"],shouldRenderNativeTextTracks:[4,"should-render-native-text-tracks"],vmPoster:[32]},[[0,"vmMediaProviderConnect","onProviderConnect"],[0,"vmMediaProviderDisconnect","onProviderDisconnect"]]]),TL=IP(KO,[1,"vm-fullscreen-control",{enterIcon:[1,"enter-icon"],exitIcon:[1,"exit-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],isFullscreenActive:[4,"is-fullscreen-active"],i18n:[16],playbackReady:[4,"playback-ready"],canSetFullscreen:[32]}]),EL=IP(JO,[4,"vm-hls",{version:[1],libSrc:[1,"lib-src"],config:[8],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],playbackReady:[4,"playback-ready"],mediaTitle:[1,"media-title"],hasAttached:[32]},[[0,"vmMediaElChange","onMediaElChange"],[0,"vmSrcSetChange","onSrcChange"]]]),NL=IP(iR,[1,"vm-icon",{name:[1],src:[1],label:[1],library:[1],icons:[1],svg:[32]}]),DL=IP(oR,[1,"vm-icon-library",{name:[1],resolver:[16],icons:[1]}]),jL=IP(rR,[1,"vm-live-indicator",{isLive:[4,"is-live"],i18n:[16]}]),AL=IP(sR,[1,"vm-loading-screen",{playbackReady:[4,"playback-ready"],hideDots:[4,"hide-dots"]}]),PL=IP(cR,[1,"vm-menu",{active:[1540],identifier:[1],controller:[16],slideInDirection:[1,"slide-in-direction"],activeMenuItem:[32],activeSubmenu:[32]},[[0,"vmOpenSubmenu","onOpenSubmenu"],[0,"vmCloseSubmenu","onCloseSubmenu"],[8,"click","onWindowClick"],[8,"keydown","onWindowKeyDown"]]]),ML=IP(dR,[1,"vm-menu-item",{identifier:[1],hidden:[4],label:[1],menu:[16],expanded:[4],checked:[4],hint:[1],badge:[1],checkIcon:[1,"check-icon"],icons:[1],isTouch:[4,"is-touch"],showTapHighlight:[32]}]),FL=IP(hR,[1,"vm-menu-radio",{label:[1],value:[1],checked:[1028],badge:[1],checkIcon:[1,"check-icon"],icons:[1]}]),OL=IP(pR,[1,"vm-menu-radio-group",{value:[1025]},[[0,"vmCheck","onSelectionChange"]]]),RL=IP(mR,[1,"vm-mute-control",{lowVolumeIcon:[1,"low-volume-icon"],highVolumeIcon:[1,"high-volume-icon"],mutedIcon:[1,"muted-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],volume:[2],muted:[4],i18n:[16]}]),LL=IP(gR,[1,"vm-pip-control",{enterIcon:[1,"enter-icon"],exitIcon:[1,"exit-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],isPiPActive:[4,"is-pi-p-active"],i18n:[16],playbackReady:[4,"playback-ready"],canSetPiP:[32]}]),IL=IP(vR,[1,"vm-playback-control",{playIcon:[1,"play-icon"],pauseIcon:[1,"pause-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],paused:[4],i18n:[16]}]),_L=IP(ER,[1,"vm-player",{logger:[16],theme:[513],icons:[513],paused:[1028],playing:[1028],duration:[1026],mediaTitle:[1025,"media-title"],currentProvider:[1025,"current-provider"],currentSrc:[1025,"current-src"],currentPoster:[1025,"current-poster"],currentTime:[1026,"current-time"],autoplay:[4],ready:[1540],playbackReady:[1028,"playback-ready"],loop:[4],muted:[1028],buffered:[1026],playbackRate:[1026,"playback-rate"],playbackRates:[1040],playbackQuality:[1025,"playback-quality"],playbackQualities:[1040],seeking:[1028],debug:[4],playbackStarted:[1028,"playback-started"],playbackEnded:[1028,"playback-ended"],buffering:[1028],controls:[4],isControlsActive:[4,"is-controls-active"],isSettingsActive:[1028,"is-settings-active"],volume:[1026],isFullscreenActive:[1028,"is-fullscreen-active"],aspectRatio:[1025,"aspect-ratio"],viewType:[1025,"view-type"],isAudioView:[1028,"is-audio-view"],isVideoView:[1028,"is-video-view"],mediaType:[1025,"media-type"],isAudio:[1028,"is-audio"],isVideo:[1028,"is-video"],isLive:[1028,"is-live"],isMobile:[1028,"is-mobile"],isTouch:[1028,"is-touch"],isPiPActive:[1028,"is-pi-p-active"],textTracks:[16],currentTextTrack:[2,"current-text-track"],isTextTrackVisible:[4,"is-text-track-visible"],shouldRenderNativeTextTracks:[4,"should-render-native-text-tracks"],audioTracks:[16],currentAudioTrack:[2,"current-audio-track"],autopause:[4],playsinline:[4],language:[1025],translations:[1040],languages:[1040],i18n:[1040],container:[32]},[[0,"vmError","onError"]]]),VL=IP(NR,[1,"vm-poster",{fit:[1],isVideoView:[4,"is-video-view"],currentPoster:[1,"current-poster"],mediaTitle:[1,"media-title"],playbackStarted:[4,"playback-started"],currentTime:[2,"current-time"],isHidden:[32],isActive:[32],hasLoaded:[32]}]),$L=IP(DR,[1,"vm-scrim",{gradient:[1],isVideoView:[4,"is-video-view"],isControlsActive:[4,"is-controls-active"]}]),zL=IP(PR,[1,"vm-scrubber-control",{alwaysShowHours:[4,"always-show-hours"],hideTooltip:[4,"hide-tooltip"],currentTime:[2,"current-time"],duration:[2],noKeyboard:[4,"no-keyboard"],buffering:[4],buffered:[2],i18n:[16],timestamp:[32],endTime:[32]}]),BL=IP(OR,[1,"vm-settings",{pin:[513],active:[1540],isMobile:[4,"is-mobile"],isAudioView:[4,"is-audio-view"],menuHeight:[32]}]),HL=IP(IR,[1,"vm-settings-control",{icon:[1],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],menu:[1],expanded:[4],i18n:[16],hideTooltip:[4,"hide-tooltip"],vmSettings:[32]}]),UL=IP(_R,[1,"vm-skeleton",{effect:[1],ready:[4],hidden:[32]}]),WL=IP(VR,[1,"vm-slider",{step:[2],min:[2],max:[2],value:[2],valueText:[1,"value-text"],label:[1]}]),qL=IP($R,[1,"vm-spinner",{isVideoView:[4,"is-video-view"],currentProvider:[1,"current-provider"],showWhenMediaLoading:[4,"show-when-media-loading"],playbackReady:[4,"playback-ready"],buffering:[4],isHidden:[32],isActive:[32]}]),KL=IP(HR,[1,"vm-submenu",{label:[1],hint:[1],slideInDirection:[1,"slide-in-direction"],active:[1540],menu:[32],controller:[32]}]),YL=IP(UR,[1,"vm-time",{label:[1],seconds:[2],alwaysShowHours:[4,"always-show-hours"]}]),JL=IP(WR,[1,"vm-time-progress",{separator:[1],alwaysShowHours:[4,"always-show-hours"]}]),QL=IP(KR,[1,"vm-tooltip",{hidden:[4],active:[4],position:[1],direction:[1],isTouch:[4,"is-touch"],isMobile:[4,"is-mobile"]}]),GL=IP(YR,[1,"vm-ui",{isVideoView:[4,"is-video-view"],playsinline:[4],isFullscreenActive:[4,"is-fullscreen-active"]}]),XL=IP(QR,[4,"vm-video",{willAttach:[4,"will-attach"],hasCustomTextManager:[4,"has-custom-text-manager"],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],mediaTitle:[1,"media-title"]},[[0,"vmMediaProviderConnect","onProviderConnect"],[0,"vmMediaProviderDisconnect","onProviderDisconnect"]]]),ZL=IP(eL,[1,"vm-vimeo",{videoId:[1,"video-id"],byline:[4],color:[1],portrait:[4],noAutoAspectRatio:[4,"no-auto-aspect-ratio"],poster:[1],cookies:[4],language:[1],aspectRatio:[1,"aspect-ratio"],autoplay:[4],controls:[4],logger:[16],loop:[4],muted:[4],playsinline:[4],embedSrc:[32],mediaTitle:[32]}]),eI=IP(nL,[1,"vm-volume-control",{lowVolumeIcon:[1,"low-volume-icon"],highVolumeIcon:[1,"high-volume-icon"],mutedIcon:[1,"muted-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],muteKeys:[1,"mute-keys"],noKeyboard:[4,"no-keyboard"],muted:[4],volume:[2],isMobile:[4,"is-mobile"],i18n:[16],currentVolume:[32],isSliderActive:[32]}]),tI=IP(sL,[1,"vm-youtube",{cookies:[4],videoId:[1,"video-id"],showFullscreenControl:[4,"show-fullscreen-control"],poster:[1],language:[1],autoplay:[4],controls:[4],logger:[16],loop:[4],muted:[4],playsinline:[4],embedSrc:[32],mediaTitle:[32]}]);zD("vm-audio",aL),zD("vm-file",CL);HD("vm-audio",new Set(["willAttach","crossOrigin","preload","disableRemotePlayback","mediaTitle"]));zD("vm-caption-control",lL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL);HD("vm-caption-control",new Set(["showIcon","hideIcon","tooltipPosition","tooltipDirection","hideTooltip","icons","keys","i18n","playbackReady","textTracks","isTextTrackVisible"]));zD("vm-captions",cL);HD("vm-captions",new Set(["hidden","isControlsActive","isVideoView","playbackStarted","textTracks","currentTextTrack","isTextTrackVisible"]));zD("vm-click-to-play",uL);HD("vm-click-to-play",new Set(["useOnMobile","paused","isVideoView","isMobile"]));zD("vm-control",dL);HD("vm-control",new Set(["keys","identifier","hidden","label","menu","expanded","pressed","isTouch"]));zD("vm-control-group",hL);HD("vm-control-group",new Set(["space"]));zD("vm-control-spacer",pL);HD("vm-control-spacer",new Set([]));zD("vm-controls",mL);HD("vm-controls",new Set(["hidden","fullWidth","fullHeight","direction","align","justify","pin","activeDuration","waitForPlaybackStart","hideWhenPaused","hideOnMouseLeave","isAudioView","isSettingsActive","playbackReady","isControlsActive","paused","playbackStarted"]));zD("vm-current-time",fL),zD("vm-time",YL);HD("vm-current-time",new Set(["currentTime","i18n","alwaysShowHours"]));zD("vm-dailymotion",gL),zD("vm-embed",kL);HD("vm-dailymotion",new Set(["videoId","shouldAutoplayQueue","showUpNextQueue","showShareButtons","color","syndication","showDailymotionLogo","showVideoInfo","language","autoplay","controls","poster","logger","loop","muted","playsinline"]));zD("vm-dash",vL),zD("vm-file",CL),zD("vm-video",XL);HD("vm-dash",new Set(["src","version","libSrc","config","autoplay","crossOrigin","preload","poster","controlsList","autoPiP","disablePiP","disableRemotePlayback","mediaTitle","enableTextTracksByDefault","shouldRenderNativeTextTracks","isTextTrackVisible","currentTextTrack"]));zD("vm-dbl-click-fullscreen",yL);HD("vm-dbl-click-fullscreen",new Set(["useOnMobile","isFullscreenActive","isVideoView","playbackReady","isMobile"]));zD("vm-default-controls",bL),zD("vm-caption-control",lL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL),zD("vm-control-group",hL),zD("vm-control-spacer",pL),zD("vm-controls",mL),zD("vm-current-time",fL),zD("vm-time",YL),zD("vm-end-time",SL),zD("vm-fullscreen-control",TL),zD("vm-live-indicator",jL),zD("vm-mute-control",RL),zD("vm-pip-control",LL),zD("vm-playback-control",IL),zD("vm-scrim",$L),zD("vm-scrubber-control",zL),zD("vm-slider",WL),zD("vm-settings-control",HL),zD("vm-time-progress",JL),zD("vm-volume-control",eI);HD("vm-default-controls",new Set(["activeDuration","waitForPlaybackStart","hideWhenPaused","hideOnMouseLeave","theme","isMobile","isLive","isAudioView","isVideoView"]));zD("vm-default-settings",xL),zD("vm-icon",NL),zD("vm-menu",PL),zD("vm-menu-item",ML),zD("vm-menu-radio",FL),zD("vm-menu-radio-group",OL),zD("vm-settings",BL),zD("vm-submenu",KL);HD("vm-default-settings",new Set(["pin","i18n","playbackReady","playbackRate","playbackRates","isVideoView","playbackQuality","playbackQualities","textTracks","currentTextTrack","audioTracks","currentAudioTrack","isTextTrackVisible"]));zD("vm-default-ui",wL),zD("vm-caption-control",lL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL),zD("vm-captions",cL),zD("vm-click-to-play",uL),zD("vm-control-group",hL),zD("vm-control-spacer",pL),zD("vm-controls",mL),zD("vm-current-time",fL),zD("vm-time",YL),zD("vm-dbl-click-fullscreen",yL),zD("vm-default-controls",bL),zD("vm-end-time",SL),zD("vm-fullscreen-control",TL),zD("vm-live-indicator",jL),zD("vm-mute-control",RL),zD("vm-pip-control",LL),zD("vm-playback-control",IL),zD("vm-scrim",$L),zD("vm-scrubber-control",zL),zD("vm-slider",WL),zD("vm-settings-control",HL),zD("vm-time-progress",JL),zD("vm-volume-control",eI),zD("vm-default-settings",xL),zD("vm-menu",PL),zD("vm-menu-item",ML),zD("vm-menu-radio",FL),zD("vm-menu-radio-group",OL),zD("vm-settings",BL),zD("vm-submenu",KL),zD("vm-loading-screen",AL),zD("vm-poster",VL),zD("vm-spinner",qL),zD("vm-ui",GL);const nI=HD("vm-default-ui",new Set(["noClickToPlay","noDblClickFullscreen","noCaptions","noPoster","noSpinner","noControls","noSettings","noLoadingScreen"]));zD("vm-embed",kL);HD("vm-embed",new Set(["embedSrc","mediaTitle","params","origin","preconnections","decoder"]));zD("vm-end-time",SL),zD("vm-time",YL);HD("vm-end-time",new Set(["duration","i18n","alwaysShowHours"]));zD("vm-file",CL);HD("vm-file",new Set(["willAttach","crossOrigin","preload","poster","mediaTitle","controlsList","autoPiP","disablePiP","disableRemotePlayback","viewType","playbackRates","language","autoplay","controls","logger","loop","muted","playsinline","noConnect","paused","currentTime","volume","playbackReady","playbackStarted","currentTextTrack","hasCustomTextManager","isTextTrackVisible","shouldRenderNativeTextTracks"]));zD("vm-fullscreen-control",TL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL);HD("vm-fullscreen-control",new Set(["enterIcon","exitIcon","icons","tooltipPosition","tooltipDirection","hideTooltip","keys","isFullscreenActive","i18n","playbackReady"]));zD("vm-hls",EL),zD("vm-file",CL),zD("vm-video",XL);HD("vm-hls",new Set(["version","libSrc","config","crossOrigin","preload","poster","controlsList","autoPiP","disablePiP","disableRemotePlayback","playbackReady","mediaTitle"]));zD("vm-icon",NL);HD("vm-icon",new Set(["name","src","label","library","icons"]));zD("vm-icon-library",DL);HD("vm-icon-library",new Set(["name","resolver","icons"]));zD("vm-live-indicator",jL);HD("vm-live-indicator",new Set(["isLive","i18n"]));zD("vm-loading-screen",AL);HD("vm-loading-screen",new Set(["playbackReady","hideDots"]));zD("vm-menu",PL);HD("vm-menu",new Set(["active","identifier","controller","slideInDirection"]));zD("vm-menu-item",ML),zD("vm-icon",NL);HD("vm-menu-item",new Set(["identifier","hidden","label","menu","expanded","checked","hint","badge","checkIcon","icons","isTouch"]));zD("vm-menu-radio",FL),zD("vm-icon",NL),zD("vm-menu-item",ML);HD("vm-menu-radio",new Set(["label","value","checked","badge","checkIcon","icons"]));zD("vm-menu-radio-group",OL);HD("vm-menu-radio-group",new Set(["value"]));zD("vm-mute-control",RL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL);HD("vm-mute-control",new Set(["lowVolumeIcon","highVolumeIcon","mutedIcon","icons","tooltipPosition","tooltipDirection","hideTooltip","keys","volume","muted","i18n"]));zD("vm-pip-control",LL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL);HD("vm-pip-control",new Set(["enterIcon","exitIcon","icons","tooltipPosition","tooltipDirection","hideTooltip","keys","isPiPActive","i18n","playbackReady"]));zD("vm-playback-control",IL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL);HD("vm-playback-control",new Set(["playIcon","pauseIcon","icons","tooltipPosition","tooltipDirection","hideTooltip","keys","paused","i18n"]));zD("vm-player",_L);const iI=HD("vm-player",new Set(["logger","theme","icons","paused","playing","duration","mediaTitle","currentProvider","currentSrc","currentPoster","currentTime","autoplay","ready","playbackReady","loop","muted","buffered","playbackRate","playbackRates","playbackQuality","playbackQualities","seeking","debug","playbackStarted","playbackEnded","buffering","controls","isControlsActive","isSettingsActive","volume","isFullscreenActive","aspectRatio","viewType","isAudioView","isVideoView","mediaType","isAudio","isVideo","isLive","isMobile","isTouch","isPiPActive","textTracks","currentTextTrack","isTextTrackVisible","shouldRenderNativeTextTracks","audioTracks","currentAudioTrack","autopause","playsinline","language","translations","languages","i18n"]));zD("vm-poster",VL);HD("vm-poster",new Set(["fit","isVideoView","currentPoster","mediaTitle","playbackStarted","currentTime"]));zD("vm-scrim",$L);HD("vm-scrim",new Set(["gradient","isVideoView","isControlsActive"]));zD("vm-scrubber-control",zL),zD("vm-slider",WL),zD("vm-tooltip",QL);HD("vm-scrubber-control",new Set(["alwaysShowHours","hideTooltip","currentTime","duration","noKeyboard","buffering","buffered","i18n"]));zD("vm-settings",BL),zD("vm-menu",PL);HD("vm-settings",new Set(["pin","active","isMobile","isAudioView"]));zD("vm-settings-control",HL),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-tooltip",QL);HD("vm-settings-control",new Set(["icon","icons","tooltipPosition","tooltipDirection","menu","expanded","i18n","hideTooltip"]));zD("vm-skeleton",UL);HD("vm-skeleton",new Set(["effect","ready"]));zD("vm-slider",WL);HD("vm-slider",new Set(["step","min","max","value","valueText","label"]));zD("vm-spinner",qL);HD("vm-spinner",new Set(["isVideoView","currentProvider","showWhenMediaLoading","playbackReady","buffering"]));zD("vm-submenu",KL),zD("vm-icon",NL),zD("vm-menu",PL),zD("vm-menu-item",ML);HD("vm-submenu",new Set(["label","hint","slideInDirection","active"]));zD("vm-time",YL);HD("vm-time",new Set(["label","seconds","alwaysShowHours"]));zD("vm-time-progress",JL),zD("vm-current-time",fL),zD("vm-time",YL),zD("vm-end-time",SL);HD("vm-time-progress",new Set(["separator","alwaysShowHours"]));zD("vm-tooltip",QL);HD("vm-tooltip",new Set(["hidden","active","position","direction","isTouch","isMobile"]));zD("vm-ui",GL);HD("vm-ui",new Set(["isVideoView","playsinline","isFullscreenActive"]));zD("vm-video",XL),zD("vm-file",CL);const oI=HD("vm-video",new Set(["willAttach","hasCustomTextManager","crossOrigin","preload","poster","controlsList","autoPiP","disablePiP","disableRemotePlayback","mediaTitle"]));zD("vm-vimeo",ZL),zD("vm-embed",kL);HD("vm-vimeo",new Set(["videoId","byline","color","portrait","noAutoAspectRatio","poster","cookies","language","aspectRatio","autoplay","controls","logger","loop","muted","playsinline"]));zD("vm-volume-control",eI),zD("vm-control",dL),zD("vm-icon",NL),zD("vm-mute-control",RL),zD("vm-tooltip",QL),zD("vm-slider",WL);HD("vm-volume-control",new Set(["lowVolumeIcon","highVolumeIcon","mutedIcon","icons","tooltipPosition","tooltipDirection","hideTooltip","muteKeys","noKeyboard","muted","volume","isMobile","i18n"]));zD("vm-youtube",tI),zD("vm-embed",kL);HD("vm-youtube",new Set(["cookies","videoId","showFullscreenControl","poster","language","autoplay","controls","logger","loop","muted","playsinline"]));const rI=nI,sI=iI,aI=oI;const lI="https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com",cI="".concat(lI,"/api"),uI=e=>{let{video:n,onClose:i,onVideoEnd:o,relatedVideos:r=[],onVideoSelect:s}=e;const{isAuthenticated:a,sessionToken:l,isStudent:c}=yp(),[u,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(0),[m,f]=(0,t.useState)(0),[g,v]=(0,t.useState)(0),[y]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})()),[b,x]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),S=(0,t.useRef)(new Set),C=(0,t.useRef)(null),T=(0,t.useRef)(null),E=(0,t.useRef)(0);(0,t.useEffect)((()=>{a||k(!0)}),[a]),(0,t.useEffect)((()=>(u&&a?T.current=setInterval((()=>{N()}),5e3):T.current&&clearInterval(T.current),()=>{T.current&&clearInterval(T.current)})),[u,a]);const N=async()=>{if(!C.current||!a)return;const e=Math.floor(h/60);if(e>E.current){E.current=e;try{const t=l?{Authorization:"Bearer ".concat(l)}:{};await fp.post("".concat(cI,"/videos/").concat(n.id,"/watch"),{watched_minutes:e+1},{params:{session_id:y},headers:t}),v(e+1)}catch(t){console.error("Error tracking watch time:",t)}}},D=m>0?h/m*100:0;return(0,vo.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-start justify-center overflow-y-auto",children:[(0,vo.jsxs)("div",{className:"w-full max-w-7xl bg-white min-h-full",children:[(0,vo.jsx)("button",{onClick:i,className:"absolute top-4 right-4 z-60 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-colors",children:(0,vo.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),(0,vo.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 bg-black",children:[(0,vo.jsxs)("div",{className:"flex-1 sticky top-0 z-10 bg-black",children:["youtube"===n.video_type&&n.youtube_video_id&&(0,vo.jsx)("div",{className:"aspect-video",children:(0,vo.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(n.youtube_video_id,"?autoplay=1&rel=0"),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:n.title})}),"youtube"!==n.video_type&&(0,vo.jsxs)(sI,{ref:C,autoplay:!1,controls:!0,playsInline:!0,onVmTimeUpdate:e=>{const t=Math.floor(e.detail.currentTime);p(t),console.log("\ud83d\udccc Current Time:",t),S.current.has(t)||(S.current.add(t),console.log("\u2705 New second logged:",t))},onVmPlay:()=>{console.log("\u25b6\ufe0f Video playing"),d(!0)},onVmPause:()=>{console.log("\u23f8\ufe0f Video paused"),d(!1)},onVmEnded:()=>{console.log("\ud83c\udfc1 Video ended"),d(!1),o&&o()},onVmDurationChange:e=>{const t=e.detail.duration;f(t),console.log("\u23f1\ufe0f Duration set:",t)},className:"aspect-video",children:[(0,vo.jsx)(aI,{crossOrigin:"",poster:n.thumbnail_url?"".concat(lI).concat(n.thumbnail_url):void 0,children:(0,vo.jsx)("source",{"data-src":"".concat(lI).concat(n.video_url||"/api/files/videos/".concat(n.id,".mp4")),type:"video/mp4"})}),(0,vo.jsx)(rI,{})]})]}),(0,vo.jsx)(ID,{currentVideo:n,relatedVideos:r,onVideoSelect:e=>{e&&"object"===typeof e&&(console.log("\u27a1\ufe0f Loading next video:",e.title),s?s(e):i())},currentTime:h,duration:m,progress:D,watchedSeconds:S.current.size})]}),(0,vo.jsxs)("div",{className:"bg-white p-6",children:[(0,vo.jsxs)("div",{className:"mb-8",children:[(0,vo.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4 font-baloo",children:n.title}),(0,vo.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4",children:[(0,vo.jsxs)("span",{className:"bg-fiesta-blue text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83d\udcca ",n.level]}),(0,vo.jsxs)("span",{className:"bg-fiesta-green text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83d\udcc2 ",n.category]}),(0,vo.jsxs)("span",{className:"bg-fiesta-purple text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83d\udc68\u200d\ud83c\udfeb ",n.instructor_name]}),(0,vo.jsxs)("span",{className:"bg-fiesta-orange text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83c\udf0d ",n.country]}),n.is_premium&&(0,vo.jsx)("span",{className:"bg-fiesta-yellow text-gray-800 px-3 py-1 rounded-full text-sm font-poppins font-bold",children:"\ud83d\udc8e Premium"})]}),(0,vo.jsx)("p",{className:"text-gray-600 leading-relaxed font-poppins",children:n.description})]}),(0,vo.jsx)(OD,{videoId:n.id})]})]}),(0,vo.jsx)(_D,{isVisible:w&&!a,watchTime:S.current.size,onDismiss:()=>k(!1)}),(0,vo.jsx)(jD,{video:n,isOpen:b,onClose:()=>x(!1),onSuccess:()=>{x(!1)}})]})},dI=e=>{let{filters:n,onFilterChange:i,onSearch:o}=e;const[r,s]=(0,t.useState)(""),[a,l]=(0,t.useState)({topics:[],countries:[],guides:[]}),[c,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const[e,t,n]=await Promise.all([fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/filters/topics")),fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/filters/countries")),fetch("".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api/filters/guides"))]),[i,o,r]=await Promise.all([e.json(),t.json(),n.json()]);l({topics:i.topics||[],countries:o.countries||[],guides:r.guides||[]})}catch(e){console.error("Error fetching filter options:",e),l({topics:[],countries:[],guides:[]})}finally{u(!1)}})()}),[]);return(0,vo.jsxs)(Sc.div,{className:"bg-white rounded-2xl shadow-2xl p-6 mb-8 border-4 border-fiesta-yellow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,vo.jsx)("span",{className:"text-3xl",children:"\ud83d\udd0d"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-fiesta-blue to-fiesta-purple bg-clip-text text-transparent font-baloo",children:"Filter Videos"})]}),(0,vo.jsx)("form",{onSubmit:e=>{e.preventDefault(),o(r)},className:"mb-6",children:(0,vo.jsxs)("div",{className:"flex gap-3",children:[(0,vo.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search videos, instructors, or topics...",value:r,onChange:e=>s(e.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-fiesta-blue focus:ring-2 focus:ring-fiesta-blue/20 transition-all font-poppins"}),(0,vo.jsx)(Sc.button,{type:"submit",className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Search"})]})}),(0,vo.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udcca Sort By"}),(0,vo.jsxs)("select",{value:n.sort_by||"newest",onChange:e=>i("sort_by",e.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-purple focus:ring-2 focus:ring-fiesta-purple/20 transition-all font-poppins",children:[(0,vo.jsx)("option",{value:"newest",children:"\ud83d\udcc5 Newest"}),(0,vo.jsx)("option",{value:"popular",children:"\u2b50 Popular"}),(0,vo.jsx)("option",{value:"shortest",children:"\u26a1 Shortest"}),(0,vo.jsx)("option",{value:"longest",children:"\ud83d\udd50 Longest"})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udcca Levels"}),(0,vo.jsxs)("select",{value:n.level||"",onChange:e=>i("level",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-green focus:ring-2 focus:ring-fiesta-green/20 transition-all font-poppins",children:[(0,vo.jsx)("option",{value:"",children:"All Levels"}),(0,vo.jsx)("option",{value:"New Beginner",children:"\ud83c\udf31 New Beginner"}),(0,vo.jsx)("option",{value:"Beginner",children:"\ud83d\udcda Beginner"}),(0,vo.jsx)("option",{value:"Intermediate",children:"\ud83d\udcd6 Intermediate"}),(0,vo.jsx)("option",{value:"Advanced",children:"\ud83c\udf93 Advanced"})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83c\udf0d Countries"}),(0,vo.jsxs)("select",{value:n.country||"",onChange:e=>i("country",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-blue focus:ring-2 focus:ring-fiesta-blue/20 transition-all font-poppins",disabled:c,children:[(0,vo.jsx)("option",{value:"",children:"All Countries"}),a.countries.map((e=>(0,vo.jsxs)("option",{value:e.slug,children:["\ud83c\udf0d ",e.name]},e.id)))]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udc68\u200d\ud83c\udfeb Guides"}),(0,vo.jsxs)("select",{value:n.guide||"",onChange:e=>i("guide",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-purple focus:ring-2 focus:ring-fiesta-purple/20 transition-all font-poppins",disabled:c,children:[(0,vo.jsx)("option",{value:"",children:"All Guides"}),a.guides.map((e=>(0,vo.jsxs)("option",{value:e.name,children:["\ud83d\udc68\u200d\ud83c\udfeb ",e.name]},e.id)))]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83c\udff7\ufe0f Topics"}),(0,vo.jsxs)("select",{value:n.topic||"",onChange:e=>i("topic",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-green focus:ring-2 focus:ring-fiesta-green/20 transition-all font-poppins",disabled:c,children:[(0,vo.jsx)("option",{value:"",children:"All Topics"}),a.topics.map((e=>(0,vo.jsxs)("option",{value:e.slug,children:["\ud83c\udff7\ufe0f ",e.name]},e.id)))]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udcc2 Category"}),(0,vo.jsxs)("select",{value:n.category||"",onChange:e=>i("category",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-orange focus:ring-2 focus:ring-fiesta-orange/20 transition-all font-poppins",children:[(0,vo.jsx)("option",{value:"",children:"All Categories"}),(0,vo.jsx)("option",{value:"Conversation",children:"\ud83d\udcac Conversation"}),(0,vo.jsx)("option",{value:"Grammar",children:"\ud83d\udcdd Grammar"}),(0,vo.jsx)("option",{value:"Vocabulary",children:"\ud83d\udcda Vocabulary"}),(0,vo.jsx)("option",{value:"Pronunciation",children:"\ud83d\udde3\ufe0f Pronunciation"}),(0,vo.jsx)("option",{value:"Culture",children:"\ud83c\udf0d Culture"}),(0,vo.jsx)("option",{value:"Business",children:"\ud83d\udcbc Business"})]})]})]}),c&&(0,vo.jsxs)(Sc.div,{className:"flex items-center justify-center mt-4 text-gray-500",initial:{opacity:0},animate:{opacity:1},children:[(0,vo.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-fiesta-blue border-t-transparent mr-3"}),(0,vo.jsx)("span",{className:"font-poppins text-sm",children:"Loading filter options..."})]}),(0,vo.jsx)(Sc.div,{className:"mt-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:(0,vo.jsx)(Sc.button,{onClick:()=>{i("level",null),i("category",null),i("country",null),i("guide",null),i("topic",null),i("sort_by","newest"),s(""),o("")},className:"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 px-6 py-2 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83d\udd04 Clear All Filters"})})]})},hI="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),pI=()=>{const[e,n]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[r,s]=(0,t.useState)(null),[a,l]=(0,t.useState)({level:"",category:"",country:"",guide:"",topic:"",search:"",sort_by:"newest"});(0,t.useEffect)((()=>{u()}),[a]);const u=async()=>{o(!0);try{const e=new URLSearchParams;Object.entries(a).forEach((t=>{let[n,i]=t;null!==i&&""!==i&&e.append(n,i)}));const t=await fp.get("".concat(hI,"/videos?").concat(e.toString()));n(t.data.videos)}catch(e){console.error("Error fetching videos:",e)}finally{o(!1)}},d=e=>{s(e)},h=()=>{s(null)};if(r){const t=e.filter((e=>e.id!==r.id));return(0,vo.jsx)(uI,{video:r,onClose:h,onVideoEnd:()=>{s(null)},relatedVideos:t,onVideoSelect:d})}return(0,vo.jsxs)("div",{children:[(0,vo.jsx)(dI,{filters:a,onFilterChange:(e,t)=>{l((n=>c(c({},n),{},{[e]:t})))},onSearch:e=>{l((t=>c(c({},t),{},{search:e})))}}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,vo.jsxs)("h3",{className:"text-lg font-semibold text-gray-700",children:[e.length," video",1!==e.length?"s":""," available"]})}),i?(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map((e=>(0,vo.jsxs)("div",{className:"animate-pulse",children:[(0,vo.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===e.length?(0,vo.jsxs)("div",{className:"text-center py-12",children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfa5"}),(0,vo.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No videos found"}),(0,vo.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search criteria."})]}):(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e=>(0,vo.jsx)(PD,{video:e,onVideoSelect:d},e.id)))})]})]})},mI="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),fI=()=>{const[e,n]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[r,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{o(!0);try{const e=(await fp.get("".concat(mI,"/videos"))).data.videos,t=new Map;e.forEach((e=>{if(e.series_id){t.has(e.series_id)||t.set(e.series_id,{id:e.series_id,title:"".concat(e.instructor_name," Series"),description:"A series of videos by ".concat(e.instructor_name),level:e.level,instructor_name:e.instructor_name,category:e.category,country:e.country,videos:[],total_duration:0,thumbnail_url:e.thumbnail_url});const n=t.get(e.series_id);n.videos.push(e),n.total_duration+=e.duration_minutes}else t.set(e.id,{id:e.id,title:e.title,description:e.description,level:e.level,instructor_name:e.instructor_name,category:e.category,country:e.country,videos:[e],total_duration:e.duration_minutes,thumbnail_url:e.thumbnail_url,is_single_video:!0})}));const i=Array.from(t.values()).sort(((e,t)=>e.videos.length!==t.videos.length?t.videos.length-e.videos.length:e.title.localeCompare(t.title)));n(i)}catch(e){console.error("Error fetching series:",e)}finally{o(!1)}},u=()=>{s(null),l(null)},d=e=>{l(e)},h=()=>{l(null)};return a?(0,vo.jsx)(uI,{video:a,onClose:h,onVideoEnd:()=>{if(r){const e=r.videos.findIndex((e=>e.id===a.id));e<r.videos.length-1?l(r.videos[e+1]):l(null)}else l(null)}}):r?(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,vo.jsxs)("button",{onClick:u,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4 transition-colors",children:[(0,vo.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to All Series"]}),(0,vo.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,vo.jsx)("img",{src:r.thumbnail_url,alt:r.title,className:"w-full md:w-64 h-36 object-cover rounded-lg",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="144" viewBox="0 0 256 144"><rect width="256" height="144" fill="%23f3f4f6"/><text x="128" y="72" text-anchor="middle" fill="%236b7280" font-family="Arial" font-size="14">Series</text></svg>'}}),(0,vo.jsxs)("div",{className:"flex-1",children:[(0,vo.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:r.title}),(0,vo.jsx)("p",{className:"text-gray-600 mb-4",children:r.description}),(0,vo.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("span",{className:"text-gray-500",children:"Videos:"}),(0,vo.jsx)("div",{className:"font-semibold text-blue-600",children:r.videos.length})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("span",{className:"text-gray-500",children:"Total Duration:"}),(0,vo.jsxs)("div",{className:"font-semibold text-green-600",children:[r.total_duration,"min"]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("span",{className:"text-gray-500",children:"Level:"}),(0,vo.jsx)("div",{className:"font-semibold text-purple-600",children:r.level})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("span",{className:"text-gray-500",children:"Instructor:"}),(0,vo.jsx)("div",{className:"font-semibold text-orange-600",children:r.instructor_name})]})]})]})]})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:["Videos in this ",r.is_single_video?"collection":"series"," (",r.videos.length,")"]}),(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.videos.sort(((e,t)=>(e.series_order||0)-(t.series_order||0))).map(((e,t)=>(0,vo.jsxs)("div",{className:"relative",children:[!r.is_single_video&&(0,vo.jsxs)("div",{className:"absolute top-2 left-2 z-10 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:["#",e.series_order||t+1]}),(0,vo.jsx)(PD,{video:e,onVideoSelect:d})]},e.id)))})]})]}):(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,vo.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Video Series & Collections"}),(0,vo.jsx)("p",{className:"text-gray-600",children:"Discover organized learning paths and themed collections. Perfect for structured learning or exploring topics in depth."})]}),(0,vo.jsx)("div",{children:i?(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>(0,vo.jsxs)("div",{className:"animate-pulse",children:[(0,vo.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===e.length?(0,vo.jsxs)("div",{className:"text-center py-12",children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcda"}),(0,vo.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No series available yet"}),(0,vo.jsx)("p",{className:"text-gray-500",children:"Check back later for organized learning collections."})]}):(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>(0,vo.jsxs)("div",{onClick:()=>(e=>{s(e)})(e),className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer group",children:[(0,vo.jsxs)("div",{className:"relative",children:[(0,vo.jsx)("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="180" viewBox="0 0 320 180"><rect width="320" height="180" fill="%23f3f4f6"/><text x="160" y="90" text-anchor="middle" fill="%236b7280" font-family="Arial" font-size="16">Series</text></svg>'}}),(0,vo.jsxs)("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:[e.videos.length," video",e.videos.length>1?"s":""]}),!e.is_single_video&&(0,vo.jsx)("div",{className:"absolute top-2 left-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udcda SERIES"}),(0,vo.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[e.total_duration,"min total"]})]}),(0,vo.jsxs)("div",{className:"p-4",children:[(0,vo.jsx)("h3",{className:"font-semibold text-gray-800 line-clamp-2 mb-2 group-hover:text-blue-600 transition-colors",children:e.title}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:e.description}),(0,vo.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,vo.jsxs)("span",{children:["\ud83d\udc68\u200d\ud83c\udfeb ",e.instructor_name]}),(0,vo.jsxs)("span",{children:["\ud83d\udcca ",e.level]})]}),(0,vo.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-1",children:[(0,vo.jsxs)("span",{children:["\ud83c\udf0d ",e.country]}),(0,vo.jsxs)("span",{children:["\ud83d\udcc1 ",e.category]})]})]})]},e.id)))})})]})},gI="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),vI=()=>{const{isAuthenticated:e,sessionToken:n}=yp(),[i,o]=(0,t.useState)("saved"),[r,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[p]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());(0,t.useEffect)((()=>{e?m():u(!1)}),[e,i]);const m=async()=>{u(!0);try{if("saved"===i){const e=n?{Authorization:"Bearer ".concat(n)}:{},t=await fp.get("".concat(gI,"/user/list"),{headers:e});s(t.data.videos||[])}else if("history"===i){const e=(await fp.get("".concat(gI,"/progress/").concat(p))).data;if(e.recent_activity){const t=[...new Set(e.recent_activity.map((e=>e.video_id)))].map((async t=>{try{const i=(await fp.get("".concat(gI,"/videos"))).data.videos.find((e=>e.id===t));if(i){var n;const o=e.recent_activity.filter((e=>e.video_id===t));i.watch_history={total_minutes_watched:o.reduce(((e,t)=>e+(t.minutes_watched||0)),0),last_watched:null===(n=o[o.length-1])||void 0===n?void 0:n.date,watch_count:o.length}}return i}catch(i){return null}})),n=(await Promise.all(t)).filter(Boolean);l(n)}}}catch(e){console.error("Error fetching my list data:",e)}finally{u(!1)}},f=e=>{h(e)},g=()=>{h(null)};return e?d?(0,vo.jsx)(uI,{video:d,onClose:g,onVideoEnd:()=>h(null)}):(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,vo.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"My List"}),(0,vo.jsx)("div",{className:"border-b border-gray-200",children:(0,vo.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,vo.jsx)("button",{onClick:()=>o("saved"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("saved"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcbe Saved Videos"}),(0,vo.jsx)("button",{onClick:()=>o("history"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("history"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcfa Watch History"})]})})]}),(0,vo.jsx)("div",{children:"saved"===i?(0,vo.jsxs)("div",{children:[(0,vo.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,vo.jsxs)("h3",{className:"text-lg font-semibold text-gray-700",children:["Saved for Later (",r.length,")"]})}),c?(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,vo.jsxs)("div",{className:"animate-pulse",children:[(0,vo.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===r.length?(0,vo.jsxs)("div",{className:"text-center py-12",children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcbe"}),(0,vo.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No saved videos yet"}),(0,vo.jsx)("p",{className:"text-gray-500 mb-6",children:"Videos you save will appear here for easy access later."}),(0,vo.jsx)("a",{href:"/watch",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Browse Videos to Save"})]}):(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((t=>(0,vo.jsxs)("div",{className:"relative",children:[(0,vo.jsx)(PD,{video:t,onVideoSelect:f}),(0,vo.jsx)("button",{onClick:()=>(async t=>{if(e)try{const e={Authorization:"Bearer ".concat(n)};await fp.delete("".concat(gI,"/user/list/").concat(t),{headers:e}),"saved"===i&&m()}catch(s){var o,r;console.error("Error removing video from list:",s),alert((null===(o=s.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.detail)||"Failed to remove video from list. Please try again.")}})(t.id),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",title:"Remove from saved",children:(0,vo.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{d:"M6 18L18 6M6 6l12 12",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]},t.id)))})]}):(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vo.jsxs)("h3",{className:"text-lg font-semibold text-gray-700",children:["Recently Watched (",a.length,")"]}),a.length>0&&(0,vo.jsx)("button",{onClick:()=>{window.confirm("Clear all watch history? This cannot be undone.")&&l([])},className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Clear All History"})]}),c?(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,vo.jsxs)("div",{className:"animate-pulse",children:[(0,vo.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,vo.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===a.length?(0,vo.jsxs)("div",{className:"text-center py-12",children:[(0,vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcfa"}),(0,vo.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No watch history yet"}),(0,vo.jsx)("p",{className:"text-gray-500 mb-6",children:"Videos you watch will appear here with your progress."}),(0,vo.jsx)("a",{href:"/watch",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Watching Videos"})]}):(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.sort(((e,t)=>{var n,i;return new Date((null===(n=t.watch_history)||void 0===n?void 0:n.last_watched)||0)-new Date((null===(i=e.watch_history)||void 0===i?void 0:i.last_watched)||0)})).map((t=>{var o,r;return(0,vo.jsxs)("div",{className:"relative",children:[(0,vo.jsx)(PD,{video:t,onVideoSelect:f}),(0,vo.jsxs)("div",{className:"absolute bottom-16 left-2 right-2 bg-black bg-opacity-75 text-white p-2 rounded text-xs",children:[(0,vo.jsxs)("div",{children:["\u23f1\ufe0f Watched: ",(null===(o=t.watch_history)||void 0===o?void 0:o.total_minutes_watched)||0,"min"]}),(0,vo.jsxs)("div",{children:["\ud83d\udcc5 Last: ",null!==(r=t.watch_history)&&void 0!==r&&r.last_watched?new Date(t.watch_history.last_watched).toLocaleDateString():"Unknown"]})]}),(0,vo.jsx)("button",{onClick:()=>{window.confirm("Remove this video from your watch history?")&&(async t=>{if(e)try{await fp.delete("".concat(gI,"/user/watch-history/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}),"history"===i&&m()}catch(o){console.error("Error removing from history:",o)}})(t.id)},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",title:"Remove from history",children:(0,vo.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{d:"M6 18L18 6M6 6l12 12",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]},t.id)}))})]})})]}):(0,vo.jsxs)("div",{className:"text-center py-16",children:[(0,vo.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udd10"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sign in to access My List"}),(0,vo.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Create an account to save videos for later and track your watch history across all your devices."}),(0,vo.jsxs)("div",{className:"space-y-4",children:[(0,vo.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md mx-auto",children:[(0,vo.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"With an account you can:"}),(0,vo.jsxs)("ul",{className:"text-blue-700 space-y-1 text-sm",children:[(0,vo.jsx)("li",{children:"\u2022 Save videos and series to watch later"}),(0,vo.jsx)("li",{children:"\u2022 View your complete watch history"}),(0,vo.jsx)("li",{children:"\u2022 Track learning progress across devices"}),(0,vo.jsx)("li",{children:"\u2022 Get personalized recommendations"})]})]}),(0,vo.jsx)("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Sign Up / Login"})]})]})},yI=()=>{const[e,n]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1),[r,s]=(0,t.useState)(null);return(0,vo.jsxs)("div",{className:"mb-8",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Language Level"}),(0,vo.jsxs)("div",{className:"group relative",children:[(0,vo.jsx)("svg",{className:"w-5 h-5 text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,vo.jsxs)("div",{className:"absolute bottom-6 left-0 hidden group-hover:block bg-gray-800 text-white text-sm rounded-lg p-3 whitespace-nowrap z-10 shadow-lg",children:[(0,vo.jsxs)("div",{className:"max-w-xs",children:["Coming from a related language (e.g. French, Spanish)? The standard roadmap applies.",(0,vo.jsx)("br",{}),"Coming from an unrelated language (e.g. Arabic or Korean)? Expect to take twice as long."]}),(0,vo.jsx)("div",{className:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{level:1,title:"Starting from zero",hours:0,words:0,videoType:"New Beginner",color:"from-red-100 to-red-200",borderColor:"border-red-300",titleColor:"text-red-600",whatYouCanDo:"The sounds of the language sound weird to your ears. You can't tell many of those sounds apart from each other. When hearing the language, it's hard for you to know when one word ends and when the next one begins.",whatYouNeedToDo:"Listen A LOT. The listening needs to be very comprehensible. The best materials are classes or videos where the teachers speak in the language, but make it easy to understand by using a lot of drawings, pictures, and gestures.",whatYouAreLearning:"You mostly learn individual nouns for concrete things: car, nose, elephant. Action verbs: walk, eat, sing. Adjectives for simple emotions and sensations: happy, scared, cold.",fullDescription:{whatYouCanDo:"The sounds of the language sound weird to your ears. You can't tell many of those sounds apart from each other. When hearing the language, it's hard for you to know when one word ends and when the next one begins. Even when you guess what a sentence means, many times you can't guess at the meaning of the different parts. You can't say any words and be confident that a native speaker would understand you.",whatYouNeedToDo:"Listen A LOT. The listening needs to be very comprehensible. The best materials are classes or videos where the teachers speak in the language, but make it easy to understand by using a lot of drawings, pictures, and gestures. Crosstalk is the most efficient activity that you can do, if you can find speakers of the language. Reading is not recommended until later on, especially if you care about having clear pronunciation. Practicing writing or speaking is not recommended yet.",whatYouAreLearning:"You mostly learn individual nouns for concrete things: car, nose, elephant. Action verbs: walk, eat, sing. Adjectives for simple emotions and sensations: happy, scared, cold. Adjectives for physical properties: blue, tall, fat, beautiful. Interjections are the clearest words early on: Hey! Wow! Hi! You may learn the numbers early on, but this depends quite a lot on the kind of content you listen to."}},{level:2,title:"You know some common words",hours:50,words:300,videoType:"Beginner",color:"from-orange-100 to-orange-200",borderColor:"border-orange-300",titleColor:"text-orange-600",whatYouCanDo:'You understand some common words, even if you are not 100% sure how to pronounce them. You can now guess the meaning of some 2-word sentences, like "go home", or "eat cake".',whatYouNeedToDo:"Listen A LOT. You are still best served with Crosstalk or classes or videos where the teacher(s) speak in a very comprehensible way. However, with a few words under your belt you are better prepared to make the most of that input.",whatYouAreLearning:"More verbs, since nouns help you understand them. Still mostly nouns and verbs for concrete things. Many expressions are learned as a chunk. You don't know what their parts mean yet.",fullDescription:{whatYouCanDo:'You understand some common words, even if you are not 100% sure how to pronounce them. You can now guess the meaning of some 2-word sentences, like "go home", or "eat cake". There are only a few words that you could produce yourself. For many words, you\'re still not sure what sounds they\'re made of.',whatYouNeedToDo:"Listen A LOT. You are still best served with Crosstalk or classes or videos where the teacher(s) speak in a very comprehensible way. However, with a few words under your belt you are better prepared to make the most of that input. Those words will help you understand the rest of the input you are listening to. Reading not recommended yet.",whatYouAreLearning:"More verbs, since nouns help you understand them. Still mostly nouns and verbs for concrete things. Many expressions are learned as a chunk. You don't know what their parts mean yet. Grammar for basic sentence order. Many common function words will remain unclear for a long time."}},{level:3,title:"You can follow topics that are adapted for learners",hours:150,words:1500,videoType:"Intermediate",color:"from-yellow-100 to-yellow-200",borderColor:"border-yellow-300",titleColor:"text-yellow-700",whatYouCanDo:"You can now understand people if they stay within certain topics. They still need to talk to you in a way that's appropriate for you, but you know many words, and you don't rely exclusively on visual information.",whatYouNeedToDo:"Listen A LOT. Now you can listen to videos or classes in which the teacher doesn't use as much visual input, and may even be able to take advantage of really easy audios and podcasts that are catered to learners at your level.",whatYouAreLearning:"Because you are starting to get used to what the language sounds like, and what kinds of sound combinations to expect, you start learning words faster, without needing to hear them so many times.",fullDescription:{whatYouCanDo:"You can now understand people if they stay within certain topics. They still need to talk to you in a way that's appropriate for you, but you know many words, and you don't rely exclusively on visual information. You still aren't completely used to the sounds of the language. You have a good intuition for basic grammar, like sentence order. You can sometimes feel it when other learners make mistakes. It sounds wrong somehow. You can now say quite a few words and that will already be useful when traveling to the country.",whatYouNeedToDo:"Listen A LOT. Now you can listen to videos or classes in which the teacher doesn't use as much visual input, and may even be able to take advantage of really easy audios and podcasts that are catered to learners at your level. Crosstalk is still the best way to spend your time. At this level it becomes easier than before to do crosstalk over the internet using video call software, so you won't need to find native speakers where you live anymore. Reading is still not recommended if you care about your final achievement in pronunciation, but it starts becoming possible to understand lower level graded readers.",whatYouAreLearning:"Because you are starting to get used to what the language sounds like, and what kinds of sound combinations to expect, you start learning words faster, without needing to hear them so many times. You learn nouns faster and faster. Knowing a decent amount of nouns helps you also learn more adjectives. You start learning more abstract terms for feelings, appearance, and more abstract verbs: to need, to have to, to be good at, etc. You are now getting used to more complicated grammar faster."}},{level:4,title:"You can understand a person speaking to you patiently",hours:300,words:3e3,videoType:"Intermediate",color:"from-green-100 to-green-200",borderColor:"border-green-300",titleColor:"text-green-600",whatYouCanDo:"You're at the intermediate level! You can understand a patient native speaker. You still miss some words, but the speaker can explain their meaning to you without resorting to translation.",whatYouNeedToDo:"Listen A LOT. You can understand videos or classes in which the teacher doesn't use any visual cues, and can now benefit from listening extensively to audios and podcasts for learners everywhere you go, anytime you can.",whatYouAreLearning:"Surprisingly, in this phase you learn many common function words that are taught right at the beginning of most language courses. These words are used very frequently, but carry very little meaning.",fullDescription:{whatYouCanDo:"You're at the intermediate level! You can understand a patient native speaker. You still miss some words, but the speaker can explain their meaning to you without resorting to translation. You can understand a range of daily topics without visual support like drawings or pictures. The sounds of the language are becoming clearer now, and you are getting used to how the sounds are likely to be combined. That helps with retaining new words. If you tried speaking at a store, you could get your point across most of the time, but you still struggle producing even some basic words. Making friends in the language is now possible, but you need to find people who are quite patient, because not everybody will want to make that effort. Depending on your tolerance for getting negative reactions, you may want to wait a bit longer before speaking.",whatYouNeedToDo:"Listen A LOT. You can understand videos or classes in which the teacher doesn't use any visual cues, and can now benefit from listening extensively to audios and podcasts for learners everywhere you go, anytime you can. Crosstalk is still the best, most efficient way to improve. You can now make friends with whom you communicate only in the target language. While you will learn a lot when listening to people speak to you, speaking this early will invariably result in hard-to-fix non-native pronunciation, noticeably bad grammar, and poor word usage. If you really want to start having conversations with people it's recommended that you don't try to actively practice grammar or vocabulary, but rather speak in single words or simple sentences that come to mind easily. Reading is still not recommended if you care about your final achievement in pronunciation. By now you could understand slightly more difficult books, but still mostly just graded readers.",whatYouAreLearning:"Surprisingly, in this phase you learn many common function words that are taught right at the beginning of most language courses. These words are used very frequently, but carry very little meaning. For example: the verb \"to be\" (or equivalent), prepositions (in, at, on), conjunctions (therefore, so, and), and even some pronouns. Once you become aware of a new word, you'll encounter it everywhere. At this point you may start feeling that there are many more words that you don't know than words you do know. The exposure to less controlled speech allows you to notice many new words. Don't worry, you'll eventually also acquire those words the same way you acquired all the words you have learned until now. By this point you are full on acquiring all kinds of vocabulary, both concrete and abstract."}},{level:5,title:"You can understand native speakers speaking to you normally",hours:600,words:5e3,videoType:"Intermediate/Advanced",color:"from-blue-100 to-blue-200",borderColor:"border-blue-300",titleColor:"text-blue-600",whatYouCanDo:"You can understand people well when they speak directly to you. They won't need to adapt their speech for you. Understanding a conversation between native speakers is still hard.",whatYouNeedToDo:"Listen A LOT. You'll be able to understand more advanced materials for learners. Listen to audios and podcasts daily if you want to learn fast. Crosstalk is still as good as always.",whatYouAreLearning:"This level can feel frustratingly similar to the previous one. You will still feel that there are many more words that you don't know than words you do know. You'll now feel many more instances of finally understanding that word that you have been hearing since forever.",fullDescription:{whatYouCanDo:"You can understand people well when they speak directly to you. They won't need to adapt their speech for you. Understanding a conversation between native speakers is still hard. You'll almost understand TV programs in the language, because you understand so many of the words, but they are still hard enough to leave you frustrated or bored. Conversation can be tiresome, and if you try to speak you can feel a bit like a child, since it will be hard to express abstract concepts and complex thoughts. You understand most of the words used during daily conversation, but you still can't use many yourself. If you try to speak the language, it will feel like you are missing many important words. However, you can, often, already speak with the correct intonation patterns of the language, without knowing why, and even make a distinction between similar sounds in the language when you say them out loud.",whatYouNeedToDo:"Listen A LOT. You'll be able to understand more advanced materials for learners. Listen to audios and podcasts daily if you want to learn fast. Crosstalk is still as good as always. You may start feeling you are not getting much out of getting input about daily life topics. Try getting input about new topics. Easier TV programs and cartoons should be accessible too. The purists who want to get really close to a native speaker and get a really good accent may still want to hold off on speaking and reading for a little more, but if you do start speaking and reading it's not a big deal by this point. You'll still end up with better pronunciation and fluency than the vast majority of learners. If you want to start reading, by this point you'll be able to understand books targeted at children of lower grade levels, and you can skip over graded readers. If you start reading, try setting every gadget you own (PC, phone, Google and Facebook settings, etc.) to the target language, and following speakers of the language on social media.",whatYouAreLearning:"This level can feel frustratingly similar to the previous one. You will still feel that there are many more words that you don't know than words you do know. You'll now feel many more instances of finally understanding that word that you have been hearing since forever. It may feel like these words are infinite, but no! Continue doing what you are doing and you'll little by little fill in all the missing gaps. For some words, you'll even wonder why you hadn't learned such a basic word yet. Learning abstract words (democracy, absence, patience) will be your bread and butter, as will be learning more and more grammatical connectors. At this level you'll mostly finish up the grammar and the different sentence types. While still not being able to make the most complex sentences yourself, you'll become able to understand almost every type of sentence."}},{level:6,title:"You are comfortable with daily conversation",hours:1e3,words:7e3,videoType:"Advanced",color:"from-indigo-100 to-indigo-200",borderColor:"border-indigo-300",titleColor:"text-indigo-600",whatYouCanDo:"You can really have fun with the language at this point. You are conversationally fluent for daily purposes of living in the country and you can get by at the bank, at the hospital, at the post office, or looking for an apartment to rent.",whatYouNeedToDo:"Listen and read A LOT. It's also a good idea to get massive input in authentic media, be it TV, podcasts, radio, movies, etc. If you can't find a lot of easy media in the target language, you may find that videos and audios for learners are still more efficient for acquiring new vocabulary until you get a bit better.",whatYouAreLearning:"You may find the odd common word that you haven't learned yet, but by now your known vocabulary pretty much covers everything that you will usually want to say during everyday conversation. If you make friends and have real conversations, or watch certain TV shows, you will now be learning a lot of slang.",fullDescription:{whatYouCanDo:"You can really have fun with the language at this point. You are conversationally fluent for daily purposes of living in the country and you can get by at the bank, at the hospital, at the post office, or looking for an apartment to rent. In spite of that odd word that is not quite there when you need it, you can always manage to get your point across in one way or another, and by now you are already making complex longer phrases. At this level, for the first time, you start feeling like you are actually thinking about what you want to say, and not about how you want to say it, even though you may fall back on thinking about how you say things, especially in stressful situations or when feeling self-conscious. Using humor in the language is much easier now. You can understand TV shows about daily life quite well (80 to 90%). Shows about families, friends, etc. Unscripted shows will usually also be easier to understand than scripted shows, as long as they are not too chaotic or rely too much on cultural knowledge. Thrillers and other genres will still be hard.",whatYouNeedToDo:"Listen and read A LOT. It's also a good idea to get massive input in authentic media, be it TV, podcasts, radio, movies, etc. If you can't find a lot of easy media in the target language, you may find that videos and audios for learners are still more efficient for acquiring new vocabulary until you get a bit better. If your target language has many common words with a language you already know you may be able to understand quite well things like TED talks and university lectures. Lots of reading is also recommended if you want to be literate and if you care about reading. You'll still want to read books that are targeted at elementary school children, although maybe you don't need to stick to the lower grades. Nonfiction will often be much easier to understand than fiction. By this point, speaking and reading are completely unrestricted, and it's really encouraged to make friends in the language. If you live in the country, join as many social activities as you can. Live in a shared apartment, go to bars, join dance classes, a sports team, anything! Set your PC, phone, and all your online profiles to your target language. Make a list of daily things you do in your own language, and find alternatives to do them in your target language.",whatYouAreLearning:"You may find the odd common word that you haven't learned yet, but by now your known vocabulary pretty much covers everything that you will usually want to say during everyday conversation. If you make friends and have real conversations, or watch certain TV shows, you will now be learning a lot of slang. By now, your knowledge will cover most sentence structures and grammatical words, so you will rarely learn these anymore, unless they are specific to certain registers of the language. You will mostly learn specific vocabulary used in formal speech or in writing. Most words that you learn now will be words that are used in more formal registers of speech like in the news, words used in formal writing, literary writing, or technical terms used in the specific fields that you are interested in: politics, technology, science, or 13th century woodblock prints. If your language doesn't share a lot of its specialized vocabulary with your new language, you may still have to work on this for a long while."}},{level:7,title:"You can use the language effectively for all practical purposes",hours:1500,words:"12,000+",videoType:"Advanced",color:"from-purple-100 to-purple-200",borderColor:"border-purple-300",titleColor:"text-purple-600",whatYouCanDo:"You can understand any general content effortlessly, including newspapers, novels, and all types of TV shows and movies. You might still struggle with technical texts in unfamiliar fields, heavy regional slang, and shows with intricate plots.",whatYouNeedToDo:"Listen and read A LOT. Add variety to what you read and listen to. By this point it's easy to find media in the target language that you understand very well, but it's also easy to get comfortable and not seek new challenges.",whatYouAreLearning:"You will continue learning slang, and learning about the culture, and that will allow you to understand more and more cultural references. You can explore other regional dialects of the language, ancient literary versions of the language, or vocabulary in other technical or scientific fields that you may want to learn about.",fullDescription:{whatYouCanDo:"You can understand any general content effortlessly, including newspapers, novels, and all types of TV shows and movies. You might still struggle with technical texts in unfamiliar fields, heavy regional slang, and shows with intricate plots. You speak fluently and effortlessly, without thinking about the language. While native speakers might still detect a slight accent, your clarity and fluidity make your speech easy to understand, and no one considers you a learner anymore. You may still make some mistakes, or miss a specific word here and there, but it doesn't hinder you from being an effective member of society.",whatYouNeedToDo:"Listen and read A LOT. Add variety to what you read and listen to. By this point it's easy to find media in the target language that you understand very well, but it's also easy to get comfortable and not seek new challenges. If you want to continue improving, simply do things that you have never done before. Try reading a book by a new author, try watching a show about a topic that you're unfamiliar with (about space, about the Middle Ages, about lawyers, etc). If you live in the country, try joining activities that are new to you: a sports team, an improv group, comedy nights, etc.",whatYouAreLearning:"You will continue learning slang, and learning about the culture, and that will allow you to understand more and more cultural references. You can explore other regional dialects of the language, ancient literary versions of the language, or vocabulary in other technical or scientific fields that you may want to learn about. You will still encounter new idioms and proverbs, but they will almost always be clear from the context. And of course, you can start learning your next language! \ud83d\ude80"}}].map((e=>(0,vo.jsxs)("div",{onClick:()=>(e=>{s(e),o(!0)})(e),className:"bg-gradient-to-br ".concat(e.color," rounded-xl shadow-sm hover:shadow-md transition-all duration-200 p-6 cursor-pointer border ").concat(e.borderColor," hover:scale-105"),children:[(0,vo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,vo.jsxs)("h3",{className:"text-lg font-bold ".concat(e.titleColor),children:["Level ",e.level]}),(0,vo.jsxs)("div",{className:"text-sm text-gray-500",children:[e.hours,"h \u2022 ","string"===typeof e.words?e.words:e.words.toLocaleString()," words"]})]}),(0,vo.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:e.title}),(0,vo.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:[(0,vo.jsx)("span",{className:"font-medium text-purple-600",children:"Recommended:"})," ",e.videoType]}),(0,vo.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h5",{className:"font-semibold text-gray-700 mb-1",children:"What you can do"}),(0,vo.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.whatYouCanDo})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h5",{className:"font-semibold text-gray-700 mb-1",children:"What you need to do"}),(0,vo.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.whatYouNeedToDo})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h5",{className:"font-semibold text-gray-700 mb-1",children:"What you're learning"}),(0,vo.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.whatYouAreLearning})]})]}),(0,vo.jsx)("div",{className:"mt-4 text-blue-600 text-sm font-medium",children:"Click to read more \u2192"})]},e.level)))}),(0,vo.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg text-sm text-gray-600",children:[(0,vo.jsx)("p",{className:"mb-2",children:(0,vo.jsxs)("em",{children:["Level system utilized with appreciation from ",(0,vo.jsx)("a",{href:"https://www.dreamingspanish.com/method",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Dreaming Spanish"})]})}),(0,vo.jsx)("p",{children:(0,vo.jsx)("a",{href:"https://customer-assets.emergentagent.com/job_dynacontent-hub/artifacts/sdn3qri0_Language_Learning_Roadmap_by_Dreaming_Spanish%20%281%29.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"\ud83d\udcc4 Download full roadmap"})})]}),i&&r&&(0,vo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[(0,vo.jsx)("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:(0,vo.jsxs)("div",{className:"flex justify-between items-start",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("h2",{className:"text-2xl font-bold text-blue-600 mb-2",children:["Level ",r.level]}),(0,vo.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:r.title}),(0,vo.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,vo.jsxs)("span",{children:[(0,vo.jsx)("strong",{children:"Hours:"})," ",r.hours]}),(0,vo.jsxs)("span",{children:[(0,vo.jsx)("strong",{children:"Words:"})," ","string"===typeof r.words?r.words:r.words.toLocaleString()]}),(0,vo.jsxs)("span",{children:[(0,vo.jsx)("strong",{children:"Videos:"})," ",r.videoType]})]})]}),(0,vo.jsx)("button",{onClick:()=>{o(!1),s(null)},className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,vo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,vo.jsxs)("div",{className:"p-6 space-y-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"What you can do"}),(0,vo.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.fullDescription.whatYouCanDo})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"What you need to do"}),(0,vo.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.fullDescription.whatYouNeedToDo})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"What you're learning"}),(0,vo.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.fullDescription.whatYouAreLearning})]})]})]})})]})},bI="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),xI=()=>{const{isAuthenticated:e}=yp(),[n,i]=(0,t.useState)(null),[o,r]=(0,t.useState)(!0),[s]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})()),[a,l]=(0,t.useState)("week");(0,t.useEffect)((()=>{e&&c()}),[e]);const c=async()=>{r(!0);try{const e=await fp.get("".concat(bI,"/progress/").concat(s));i(e.data)}catch(e){console.error("Error fetching progress data:",e),i({stats:{total_minutes_watched:0,platform_minutes:0,manual_minutes:0,current_streak:0,longest_streak:0,personal_best_day:0,level_progress:{},milestones_achieved:[],manual_activity_breakdown:{}},recent_activity:[],total_videos_watched:0,total_manual_activities:0,breakdown:{platform_hours:0,manual_hours:0,total_hours:0}})}finally{r(!1)}},u=(()=>{const e=[],t=new Date;for(let i={week:7,month:30,all:90}[a]-1;i>=0;i--){const o=new Date(t);o.setDate(o.getDate()-i);const r=o.toISOString().split("T")[0];let s=0;if(n&&n.recent_activity){const e=n.recent_activity.find((e=>e.date===r));e&&(s=e.minutes||0)}e.push({date:r,dateLabel:o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),minutes:s})}return e})(),d=Math.max(...u.map((e=>e.minutes)),30);if(!e)return(0,vo.jsxs)("div",{className:"text-center py-16",children:[(0,vo.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udcca"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sign in to view your Progress"}),(0,vo.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Track your learning journey with detailed progress analytics, time tracking, and achievement milestones."}),(0,vo.jsx)("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Sign Up / Login"})]});if(o)return(0,vo.jsx)("div",{className:"space-y-8",children:[1,2,3].map((e=>(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[(0,vo.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,vo.jsx)("div",{className:"h-40 bg-gray-200 rounded"})]},e)))});const{stats:h,breakdown:p}=n;return(0,vo.jsxs)("div",{className:"space-y-8",children:[(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-xl shadow-sm p-6 border border-blue-100",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,vo.jsx)("img",{src:"/english-fiesta-logo.png",alt:"English Fiesta",className:"w-8 h-8"}),(0,vo.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Learning Overview"})]}),(0,vo.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[(0,vo.jsx)("div",{className:"text-2xl mb-2",children:"\u23f1\ufe0f"}),(0,vo.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[p.total_hours,"h"]}),(0,vo.jsx)("div",{className:"text-sm text-blue-800",children:"Total Hours"})]}),(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[(0,vo.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd25"}),(0,vo.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h.current_streak}),(0,vo.jsx)("div",{className:"text-sm text-green-800",children:"Day Streak"})]}),(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[(0,vo.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfc6"}),(0,vo.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.floor(h.personal_best_day/60),"h ",h.personal_best_day%60,"m"]}),(0,vo.jsx)("div",{className:"text-sm text-purple-800",children:"Personal Best"})]}),(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4",children:[(0,vo.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfa5"}),(0,vo.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:n.total_videos_watched}),(0,vo.jsx)("div",{className:"text-sm text-orange-800",children:"Videos Watched"})]})]})]}),(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-sm p-6 border border-blue-100",children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("img",{src:"/english-fiesta-logo.png",alt:"English Fiesta",className:"w-8 h-8"}),(0,vo.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Learning Activity"})]}),(0,vo.jsx)("div",{className:"flex bg-white/70 backdrop-blur rounded-lg p-1 shadow-sm",children:[{key:"week",label:"7 Days"},{key:"month",label:"30 Days"},{key:"all",label:"90 Days"}].map((e=>{let{key:t,label:n}=e;return(0,vo.jsx)("button",{onClick:()=>l(t),className:"px-3 py-1 rounded-md text-sm font-medium transition-all ".concat(a===t?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:n},t)}))})]}),(0,vo.jsx)("div",{className:"h-80 flex items-end justify-between gap-2 bg-white/60 backdrop-blur rounded-lg p-6 shadow-inner",children:0===u.length?(0,vo.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[(0,vo.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,vo.jsxs)("p",{className:"text-sm text-center",children:["No activity data yet.",(0,vo.jsx)("br",{}),"Start watching videos to see your progress!"]})]}):u.map(((e,t)=>{const n=e.minutes>0?Math.max(e.minutes/d*100,8):3;return(0,vo.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-[16px] max-w-[32px]",children:[(0,vo.jsxs)("div",{className:"rounded-t w-full mb-2 hover:shadow-lg transition-all cursor-pointer relative group ".concat(e.minutes>0?"bg-gradient-to-t from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600":"bg-gray-200 hover:bg-gray-300"),style:{height:"".concat(n,"%"),minHeight:"4px"},title:"".concat(e.dateLabel,": ").concat(e.minutes,"min"),children:[(0,vo.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10",children:[e.dateLabel,": ",e.minutes,"min"]}),e.minutes>0&&(0,vo.jsxs)("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs font-bold text-gray-700 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.minutes,"m"]})]}),(0,vo.jsx)("div",{className:"text-xs text-gray-600 text-center leading-tight",children:"week"===a?e.dateLabel.split(" ")[1]:e.dateLabel.split(" ")[0].slice(0,3)})]},e.date)}))}),(0,vo.jsx)("div",{className:"mt-4 text-center text-sm text-gray-600",children:(0,vo.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,vo.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded"}),(0,vo.jsx)("span",{children:"Daily minutes watched \u2022 Hover for details"})]})})]}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-xl shadow-sm p-6 border border-green-100",children:[(0,vo.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Learning Sources"}),(0,vo.jsxs)("div",{className:"space-y-4",children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,vo.jsx)("span",{className:"text-gray-700",children:"English Fiesta videos"})]}),(0,vo.jsxs)("span",{className:"font-semibold text-blue-600",children:[p.platform_hours,"h"]})]}),(0,vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,vo.jsx)("span",{className:"text-gray-700",children:"Outside Videos"})]}),(0,vo.jsxs)("span",{className:"font-semibold text-green-600",children:[p.manual_hours,"h"]})]}),(0,vo.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-4",children:(0,vo.jsxs)("div",{className:"flex h-full rounded-full overflow-hidden",children:[(0,vo.jsx)("div",{className:"bg-blue-500",style:{width:"".concat(p.platform_hours/p.total_hours*100,"%")}}),(0,vo.jsx)("div",{className:"bg-green-500",style:{width:"".concat(p.manual_hours/p.total_hours*100,"%")}})]})})]})]}),(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,vo.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Progress by Level"}),Object.keys(h.level_progress).length>0?(0,vo.jsx)("div",{className:"space-y-3",children:Object.entries(h.level_progress).map((e=>{let[t,n]=e;const i=Math.floor(n/60),o=n%60,r=n/h.total_minutes_watched*100;return(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,vo.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t}),(0,vo.jsxs)("span",{className:"text-sm text-gray-600",children:[i,"h ",o,"m"]})]}),(0,vo.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,vo.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(r,"%")}})})]},t)}))}):(0,vo.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,vo.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcca"}),(0,vo.jsx)("p",{children:"Start watching videos to see level progress"})]})]})]}),h.milestones_achieved.length>0&&(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-sm p-6 border border-yellow-100",children:[(0,vo.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent mb-4",children:"\ud83c\udfc6 Achievements"}),(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.milestones_achieved.map(((e,t)=>(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4 text-center",children:[(0,vo.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf89"}),(0,vo.jsx)("div",{className:"font-semibold text-yellow-800",children:e})]},t)))})]}),(0,vo.jsx)(yI,{}),Object.keys(h.manual_activity_breakdown||{}).some((e=>h.manual_activity_breakdown[e]>0))&&(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-sm p-6 border border-purple-100",children:[(0,vo.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Outside Learning Videos"}),(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(h.manual_activity_breakdown||{}).map((e=>{let[t,n]=e;return n>0&&(0,vo.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,vo.jsxs)("div",{className:"text-2xl mb-2",children:["Movies/TV Shows"===t&&"\ud83c\udfac","Audiobooks/Podcasts"===t&&"\ud83c\udfa7","Talking with friends"===t&&"\ud83d\udcac"]}),(0,vo.jsx)("div",{className:"font-semibold text-green-800",children:t}),(0,vo.jsxs)("div",{className:"text-green-600",children:[Math.floor(n/60),"h ",n%60,"m"]})]},t)}))})]})]})},wI="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),kI=e=>{let{isOpen:n,onClose:i,currentGoal:o,onGoalUpdated:r}=e;const{sessionToken:s}=yp(),[a,l]=(0,t.useState)(o||30),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)("preset"),[p,m]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n&&o&&([15,30,60].includes(o)?(h("preset"),l(o)):(h("custom"),u(o.toString()),l(o)))}),[n,o]);return n?(0,vo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,vo.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[(0,vo.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,vo.jsxs)("div",{className:"flex justify-between items-start",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Set Daily Goal"}),(0,vo.jsx)("p",{className:"text-gray-600 text-sm",children:"How many minutes do you want to watch each day?"})]}),(0,vo.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,vo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,vo.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=a;if("custom"===d){const e=parseInt(c);if(isNaN(e)||e<1||e>480)return void alert("Please enter a valid goal between 1 and 480 minutes.");t=e}if(t!==o){m(!0);try{const e={Authorization:"Bearer ".concat(s)};await fp.post("".concat(wI,"/user/daily-goal"),{daily_minutes_goal:t},{headers:e}),r&&r(),i()}catch(u){var n,l;console.error("Error updating daily goal:",u),alert((null===(n=u.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.detail)||"Failed to update daily goal. Please try again.")}finally{m(!1)}}else i()},className:"p-6 space-y-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose a preset goal:"}),(0,vo.jsx)("div",{className:"space-y-2",children:[{value:15,label:"Casual",description:"15 min/day"},{value:30,label:"Learner",description:"30 min/day"},{value:60,label:"Serious",description:"60 min/day"}].map((e=>(0,vo.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,vo.jsx)("input",{type:"radio",name:"goalType",checked:"preset"===d&&a===e.value,onChange:()=>{return t=e.value,h("preset"),l(t),void u("");var t},className:"text-purple-600 focus:ring-purple-500"}),(0,vo.jsx)("div",{className:"ml-3 flex-1",children:(0,vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vo.jsx)("span",{className:"font-medium text-gray-800",children:e.label}),(0,vo.jsx)("span",{className:"text-purple-600 font-semibold",children:e.description})]})})]},e.value)))})]}),(0,vo.jsxs)("div",{children:[(0,vo.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,vo.jsx)("input",{type:"radio",name:"goalType",checked:"custom"===d,onChange:()=>{h("custom"),u(a.toString())},className:"text-purple-600 focus:ring-purple-500"}),(0,vo.jsx)("div",{className:"ml-3 flex-1",children:(0,vo.jsx)("span",{className:"font-medium text-gray-800",children:"Custom Goal"})})]}),"custom"===d&&(0,vo.jsxs)("div",{className:"mt-3 ml-6",children:[(0,vo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,vo.jsx)("input",{type:"number",value:c,onChange:e=>{const t=e.target.value;u(t);const n=parseInt(t);!isNaN(n)&&n>0&&l(n)},min:"1",max:"480",placeholder:"Enter minutes",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:"custom"===d}),(0,vo.jsx)("span",{className:"text-gray-600 text-sm",children:"minutes/day"})]}),(0,vo.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Between 1 and 480 minutes (8 hours)"})]})]}),(0,vo.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vo.jsx)("span",{className:"text-purple-800 font-medium",children:"Your new daily goal:"}),(0,vo.jsxs)("span",{className:"text-purple-600 font-bold text-lg",children:["custom"===d&&c?parseInt(c)||0:a," minutes"]})]})}),(0,vo.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,vo.jsx)("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:p,children:"Cancel"}),(0,vo.jsx)("button",{type:"submit",disabled:p||"custom"===d&&(!c||parseInt(c)<1||parseInt(c)>480),className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Goal"})]})]})]})}):null},SI="".concat("https://8b327d29-9141-457c-a4de-e4e6a559d756.preview.emergentagent.com","/api"),CI=()=>{const{isAuthenticated:e,isStudent:n,sessionToken:i}=yp(),[o,r]=(0,t.useState)(null),[s,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e&&n?u():a(!1)}),[e,n]);const u=async()=>{try{const e={Authorization:"Bearer ".concat(i)},t=await fp.get("".concat(SI,"/user/daily-goal"),{headers:e});r(t.data)}catch(e){console.error("Error fetching daily goal data:",e)}finally{a(!1)}};if(!e||!n)return null;if(s)return(0,vo.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 px-4",children:(0,vo.jsx)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:(0,vo.jsx)("div",{className:"flex items-center space-x-4",children:(0,vo.jsx)("div",{className:"animate-pulse bg-white bg-opacity-30 h-4 w-32 rounded"})})})});if(!o)return null;const d=Math.min(o.progress_percentage,100),h=o.goal_completed;return(0,vo.jsxs)(vo.Fragment,{children:[(0,vo.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 px-4 shadow-sm",children:[(0,vo.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,vo.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,vo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,vo.jsx)("span",{className:"text-sm font-medium",children:"Daily Goal:"}),(0,vo.jsxs)("span",{className:"text-lg font-bold",children:[o.minutes_watched_today," / ",o.daily_goal," min"]}),h&&(0,vo.jsx)("span",{className:"text-yellow-300 ml-2",children:"\ud83c\udf89"})]}),(0,vo.jsx)("div",{className:"flex-1 max-w-md",children:(0,vo.jsx)("div",{className:"bg-white bg-opacity-30 rounded-full h-3 overflow-hidden",children:(0,vo.jsx)("div",{className:"h-full transition-all duration-500 ".concat(h?"bg-yellow-400":"bg-white"),style:{width:"".concat(d,"%")}})})}),o.streak_days>0&&(0,vo.jsxs)("div",{className:"hidden sm:flex items-center space-x-1 bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[(0,vo.jsx)("span",{className:"text-yellow-300",children:"\ud83d\udd25"}),(0,vo.jsxs)("span",{className:"text-sm font-medium",children:[o.streak_days," day",1!==o.streak_days?"s":""]})]})]}),(0,vo.jsx)("button",{onClick:()=>c(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-2 transition-colors ml-4",title:"Edit daily goal",children:(0,vo.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,vo.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})})]}),o.streak_days>0&&(0,vo.jsx)("div",{className:"sm:hidden flex justify-center mt-2",children:(0,vo.jsxs)("div",{className:"flex items-center space-x-1 bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[(0,vo.jsx)("span",{className:"text-yellow-300",children:"\ud83d\udd25"}),(0,vo.jsxs)("span",{className:"text-sm font-medium",children:[o.streak_days," day",1!==o.streak_days?"s":""," streak"]})]})})]}),(0,vo.jsx)(kI,{isOpen:l,onClose:()=>c(!1),currentGoal:o.daily_goal,onGoalUpdated:()=>{u()}})]})},TI=()=>{var e;const{isAuthenticated:n,user:i}=yp(),[o,r]=(0,t.useState)("watch"),s=[{id:"watch",label:"\ud83c\udfa5 Watch",icon:"\ud83c\udfa5",component:pI},{id:"series",label:"\ud83d\udcda Series",icon:"\ud83d\udcda",component:fI},{id:"mylist",label:"\ud83d\udcbe My List",icon:"\ud83d\udcbe",component:vI,authRequired:!0},...n?[{id:"progress",label:"\ud83d\udcca Progress",icon:"\ud83d\udcca",component:xI,authRequired:!0}]:[]],a=(null===(e=s.find((e=>e.id===o)))||void 0===e?void 0:e.component)||pI;return(0,vo.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,vo.jsx)(CI,{}),(0,vo.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,vo.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"English Fiesta Videos"}),(0,vo.jsx)("p",{className:"text-gray-600 mt-2",children:"Learn English naturally through comprehensible input"})]}),(0,vo.jsx)("div",{className:"text-right",children:n?(0,vo.jsxs)("div",{className:"text-sm",children:[(0,vo.jsxs)("div",{className:"font-semibold text-gray-800",children:["Welcome back, ",i.name,"!"]}),(0,vo.jsxs)("div",{className:"text-gray-500",children:["admin"===i.role&&"\ud83d\udc51 ","instructor"===i.role&&"\ud83c\udf93 ","student"===i.role&&"\ud83d\udcda ",i.role," \u2022 Tracking enabled"]})]}):(0,vo.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[(0,vo.jsx)("div",{className:"font-semibold text-blue-800 mb-1",children:"\ud83d\udd10 Not logged in"}),(0,vo.jsx)("div",{className:"text-blue-600",children:"Log in to track your progress!"})]})})]}),(0,vo.jsx)("div",{className:"border-b border-gray-200",children:(0,vo.jsx)("nav",{className:"-mb-px flex space-x-1 md:space-x-8 overflow-x-auto",children:s.map((e=>(0,vo.jsxs)("button",{onClick:()=>r(e.id),className:"whitespace-nowrap py-3 px-1 md:px-3 border-b-2 font-medium text-sm transition-colors ".concat(o===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,vo.jsxs)("span",{className:"hidden md:inline",children:[e.icon," "]}),e.label]},e.id)))})})]})}),!n&&(0,vo.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:(0,vo.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,vo.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,vo.jsxs)("div",{children:[(0,vo.jsx)("h3",{className:"font-bold text-lg",children:"Track Your Learning Progress!"}),(0,vo.jsx)("p",{className:"text-sm opacity-90",children:"Create an account to track hours, save videos to My List, and unlock the Progress tab"})]})]}),(0,vo.jsx)("a",{href:"/",className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-sm",children:"Sign Up / Login"})]})})}),(0,vo.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,vo.jsx)(a,{})})]})},EI=()=>{const{i18n:e}=Nu(),{content:t,loading:n,getContentForLanguage:i}=Dp("about_page"),o={journey:{title:"Greg's Personal Language Learning Journey",paragraphs:["Greg's journey with language learning started like many others \u2014 full of effort, repetition, and frustration. He spent years memorizing vocabulary, drilling grammar rules, and trying to piece together conversations from textbooks and apps. Despite all that effort, real communication always felt just out of reach.","That changed when he discovered the method of Comprehensible Input.","For the first time, language began to feel alive. Through real messages, authentic conversations, and content he could actually understand, English and other languages opened up in a way they never had before. He wasn't just learning words \u2014 he was learning culture, building connection, and truly experiencing the language.","This transformation sparked a mission: to build a space where learners all over the world could experience that same breakthrough. That space became English Fiesta \u2014 a platform designed to help people learn naturally, joyfully, and meaningfully."]},mission:{title:"Our Mission",content:"English Fiesta is here to help you learn English the way your brain was designed to learn \u2014 through real, meaningful input. No memorization. No pressure. Just natural understanding."}},r=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";if(n||null===t||void 0===t||!t.items)return null;const r=t.items.find((t=>t.section_key===e));return r?i(r,o):null},s=r("journey_title","title")||o.journey.title,a=r("journey_content"),l=r("mission_title","title")||o.mission.title,c=r("mission_content")||o.mission.content;return(0,vo.jsx)("div",{className:"bg-white py-16",children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,vo.jsxs)("div",{className:"mb-16",children:[(0,vo.jsx)("h2",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:s}),(0,vo.jsx)("div",{className:"prose prose-lg max-w-none",children:a?(0,vo.jsx)("div",{dangerouslySetInnerHTML:{__html:a}}):o.journey.paragraphs.map(((e,t)=>(0,vo.jsx)("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:e.includes("Comprehensible Input")?(0,vo.jsxs)(vo.Fragment,{children:[e.split("Comprehensible Input")[0],(0,vo.jsx)("strong",{children:"Comprehensible Input"}),e.split("Comprehensible Input")[1]]}):e.includes("culture")&&e.includes("connection")?(0,vo.jsxs)(vo.Fragment,{children:[e.split("culture")[0],(0,vo.jsx)("strong",{children:"culture"}),e.split("culture")[1].split("connection")[0],(0,vo.jsx)("strong",{children:"connection"}),e.split("connection")[1]]}):e.includes("English Fiesta")?(0,vo.jsxs)(vo.Fragment,{children:[e.split("English Fiesta")[0],(0,vo.jsx)("strong",{children:"English Fiesta"}),e.split("English Fiesta")[1]]}):e},t)))})]}),(0,vo.jsxs)("div",{className:"mb-16 bg-blue-50 rounded-2xl p-8",children:[(0,vo.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:l}),(0,vo.jsx)("div",{className:"text-xl text-gray-700 text-center leading-relaxed",children:c?(0,vo.jsx)("div",{dangerouslySetInnerHTML:{__html:c}}):(0,vo.jsx)("p",{children:o.mission.content.includes("natural understanding")?(0,vo.jsxs)(vo.Fragment,{children:[o.mission.content.split("natural understanding")[0],(0,vo.jsx)("strong",{children:"natural understanding"}),o.mission.content.split("natural understanding")[1]]}):o.mission.content})})]}),(0,vo.jsxs)("div",{className:"mb-16",children:[(0,vo.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"How It Works"}),(0,vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{icon:"\ud83c\udfa5",text:"Watch real, comprehensible videos"},{icon:"\u23f1",text:"Track your time"},{icon:"\ud83e\udde0",text:"Learn naturally"},{icon:"\ud83d\udde3",text:"Hear real accents"},{icon:"\ud83d\udcac",text:"Join the experience"}].map(((e,t)=>(0,vo.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-6",children:[(0,vo.jsx)("div",{className:"text-3xl mb-3",children:e.icon}),(0,vo.jsx)("h4",{className:"font-semibold mb-2",children:e.text})]},t)))})]}),(0,vo.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white text-center",children:[(0,vo.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Our Vision"}),(0,vo.jsxs)("p",{className:"text-lg leading-relaxed mb-6",children:["We believe language learning should be ",(0,vo.jsx)("strong",{children:"joyful"}),", ",(0,vo.jsx)("strong",{children:"personal"}),", and ",(0,vo.jsx)("strong",{children:"real"}),"."]}),(0,vo.jsx)("p",{className:"text-lg leading-relaxed mb-6",children:"English Fiesta isn't just a tool \u2014 it's a movement to make English learning accessible and empowering for people everywhere, no matter their background or starting level."}),(0,vo.jsx)("p",{className:"text-lg leading-relaxed",children:"Join us \u2014 and start learning in a way that finally works."})]}),n&&(0,vo.jsx)("div",{className:"text-center mt-8 text-gray-500",children:"Loading content..."})]})})},NI=e=>{let{question:t,answer:n,isOpen:i,onToggle:o}=e;return(0,vo.jsxs)("div",{className:"border border-gray-200 rounded-lg mb-4",children:[(0,vo.jsx)("button",{onClick:o,className:"w-full text-left p-6 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-gray-50 transition-colors",children:(0,vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,vo.jsx)("h3",{className:"text-lg font-semibold text-gray-800 pr-4",children:t}),(0,vo.jsx)("span",{className:"text-2xl transform transition-transform ".concat(i?"rotate-180":""),children:"\u25bc"})]})}),i&&(0,vo.jsx)("div",{className:"px-6 pb-6",children:(0,vo.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:n})})]})},DI=()=>{const{i18n:e,t:n}=Nu(),[i,o]=(0,t.useState)(null),{content:r,loading:s,getContentForLanguage:a}=Dp("faq_page"),l=[{section:"English Fiesta Basics",items:[{question:"What is English Fiesta?",answer:"English Fiesta is a language-learning platform that helps you acquire English naturally through engaging videos and conversations, rather than traditional grammar drills or memorization."},{question:"How does English Fiesta work?",answer:"We use a method called Comprehensible Input, where learners watch videos they can mostly understand, even as beginners. Over time, you absorb grammar, vocabulary, and pronunciation by exposure \u2014 not by force."},{question:"Can I actually learn English with Comprehensible Input?",answer:"Yes \u2014 and research supports it. When you understand what you hear or read in a language, your brain naturally picks it up the way children do. It's a slower beginning, but results in deeper fluency and confidence over time \u2014 without needing to study flashcards or grammar rules directly."}]},{section:"Comprehensible Input",items:[{question:"What is input?",answer:"Input is any language you hear or read. When you listen to someone speak or read a book, you're receiving input. Input is the fuel your brain uses to acquire language."},{question:"What is Comprehensible Input?",answer:"Comprehensible Input is language you can mostly understand \u2014 even if you don't know every word. It's simple, clear communication that's just slightly above your level. This kind of input helps your brain naturally absorb vocabulary, grammar, and pronunciation over time."}]}],c=(()=>{if(s||null===r||void 0===r||!r.items)return l;const e=r.items.filter((e=>e.section_key.startsWith("faq_section_")));return 0===e.length?l:e.map((e=>{const t=a(e),n=a(e,"title");try{const e=JSON.parse(t||"[]");return{section:n||"FAQ Section",items:Array.isArray(e)?e:[]}}catch(MI){return console.warn("Failed to parse FAQ section content:",MI),{section:n||"FAQ Section",items:[]}}})).filter((e=>e.items.length>0))})();let u=0;return(0,vo.jsx)("div",{className:"bg-gray-50 py-16",children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,vo.jsxs)("div",{className:"text-center mb-12",children:[(0,vo.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:n("faq")}),(0,vo.jsx)("p",{className:"text-lg text-gray-600",children:"Everything you need to know about English Fiesta and Comprehensible Input"})]}),c.map(((e,t)=>(0,vo.jsxs)("div",{className:"mb-12",children:[(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center bg-blue-100 py-3 rounded-lg",children:e.section}),(0,vo.jsx)("div",{className:"space-y-4",children:e.items.map((e=>{const t=u++;return(0,vo.jsx)(NI,{question:e.question,answer:e.answer,isOpen:i===t,onToggle:()=>{var e;o(i===(e=t)?null:e)}},t)}))})]},t))),(0,vo.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white text-center mt-16",children:[(0,vo.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Still have questions?"}),(0,vo.jsx)("p",{className:"text-lg mb-6",children:"We're here to help you on your English learning journey"}),(0,vo.jsx)("a",{href:"mailto:support@englishfiesta.com",className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block",children:n("contact_us")})]}),s&&(0,vo.jsx)("div",{className:"text-center mt-8 text-gray-500",children:"Loading FAQ content..."})]})})},jI=()=>(0,vo.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-fiesta-yellow via-white to-fiesta-orange py-16",children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,vo.jsxs)(Sc.div,{className:"text-center mb-12",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[(0,vo.jsx)(Sc.h1,{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-fiesta-pink via-fiesta-purple to-fiesta-blue bg-clip-text text-transparent font-baloo",whileHover:{scale:1.05},transition:{type:"spring",stiffness:200},children:"\ud83e\udd1d Join the English Fiesta Team"}),(0,vo.jsxs)("div",{className:"relative",children:[(0,vo.jsx)(Sc.div,{className:"absolute -top-10 -left-10 text-4xl opacity-60",animate:{y:[0,-10,0],rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,vo.jsx)(Sc.div,{className:"absolute -top-8 -right-8 text-3xl opacity-60",animate:{y:[0,15,0],rotate:[0,-15,15,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:"\u2728"})]})]}),(0,vo.jsxs)(Sc.div,{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 border-4 border-fiesta-yellow relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.2},children:[(0,vo.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-fiesta-pink to-fiesta-purple opacity-10 rounded-full transform translate-x-8 -translate-y-8"}),(0,vo.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-fiesta-blue to-fiesta-green opacity-10 rounded-full transform -translate-x-6 translate-y-6"}),(0,vo.jsxs)(Sc.div,{className:"relative z-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:[(0,vo.jsxs)(Sc.p,{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8 font-poppins",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.5},children:["We're looking for creative, passionate collaborators who believe in ",(0,vo.jsx)("span",{className:"font-bold text-fiesta-purple",children:"Comprehensible Input"})," and our mission to make language learning joyful and accessible."]}),(0,vo.jsxs)(Sc.p,{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-12 font-poppins",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.6},children:["Whether you're an ",(0,vo.jsx)("span",{className:"font-bold text-fiesta-green",children:"instructor"}),", ",(0,vo.jsx)("span",{className:"font-bold text-fiesta-blue",children:"designer"}),", ",(0,vo.jsx)("span",{className:"font-bold text-fiesta-purple",children:"developer"}),", ",(0,vo.jsx)("span",{className:"font-bold text-fiesta-pink",children:"translator"}),", or ",(0,vo.jsx)("span",{className:"font-bold text-fiesta-orange",children:"supporter"}),"\u2014we'd love to hear from you!"]}),(0,vo.jsx)(Sc.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-6 mb-12",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.7},children:[{emoji:"\ud83c\udf93",role:"Instructor",color:"from-fiesta-green to-green-400"},{emoji:"\ud83c\udfa8",role:"Designer",color:"from-fiesta-blue to-blue-400"},{emoji:"\ud83d\udcbb",role:"Developer",color:"from-fiesta-purple to-purple-400"},{emoji:"\ud83c\udf0d",role:"Translator",color:"from-fiesta-pink to-pink-400"},{emoji:"\ud83e\udd1d",role:"Supporter",color:"from-fiesta-orange to-orange-400"}].map(((e,t)=>(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-br ".concat(e.color," rounded-xl p-4 text-center text-white shadow-lg"),whileHover:{scale:1.1,rotate:[0,-5,5,0],boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:200},children:[(0,vo.jsx)("div",{className:"text-3xl mb-2",children:e.emoji}),(0,vo.jsx)("div",{className:"font-semibold text-sm font-poppins",children:e.role})]},t)))}),(0,vo.jsxs)(Sc.div,{className:"text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},children:[(0,vo.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 font-baloo",children:"Ready to Join the Fiesta?"}),(0,vo.jsxs)(Sc.a,{href:"mailto:englishfiestateam@gmail.com",className:"inline-flex items-center bg-gradient-to-r from-fiesta-pink to-fiesta-purple text-white px-8 py-4 rounded-full font-bold text-lg shadow-2xl transition-all duration-300",whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(236, 72, 153, 0.4)"},whileTap:{scale:.95},children:[(0,vo.jsx)("span",{className:"mr-3 text-2xl",children:"\ud83d\udce7"}),(0,vo.jsx)("span",{className:"font-poppins",children:"englishfiestateam@gmail.com"})]}),(0,vo.jsx)(Sc.p,{className:"text-gray-600 mt-6 font-poppins",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},children:"Tell us about yourself and how you'd like to contribute to the English Fiesta community!"})]})]})]}),(0,vo.jsx)(Sc.div,{className:"flex justify-center mt-12 space-x-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:1.2},children:["\ud83c\udf89","\ud83c\udf1f","\ud83d\udcab","\ud83c\udf8a","\u2728"].map(((e,t)=>(0,vo.jsx)(Sc.div,{className:"text-4xl",animate:{y:[0,-20,0],rotate:[0,360]},transition:{duration:3+.5*t,repeat:1/0,ease:"easeInOut",delay:.2*t},children:e},t)))})]})}),AI=()=>(0,vo.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-fiesta-blue via-white to-fiesta-purple py-16",children:(0,vo.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,vo.jsxs)(Sc.div,{className:"text-center mb-16",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[(0,vo.jsxs)(Sc.div,{className:"flex items-center justify-center gap-4 mb-6",whileHover:{scale:1.05},transition:{type:"spring",stiffness:200},children:[(0,vo.jsx)(Sc.img,{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-16 h-16 md:w-20 md:h-20",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),(0,vo.jsx)("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-fiesta-pink via-fiesta-purple to-fiesta-blue bg-clip-text text-transparent font-baloo",children:"Join a Class"})]}),(0,vo.jsx)(Sc.p,{className:"text-xl md:text-2xl text-gray-700 font-poppins max-w-3xl mx-auto",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:"with an English Fiesta Instructor"}),(0,vo.jsxs)("div",{className:"relative",children:[(0,vo.jsx)(Sc.div,{className:"absolute -top-10 -left-20 text-4xl opacity-60",animate:{y:[0,-15,0],rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf93"}),(0,vo.jsx)(Sc.div,{className:"absolute -top-8 -right-16 text-3xl opacity-60",animate:{y:[0,20,0],rotate:[0,-15,15,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:"\ud83d\udcac"})]})]}),(0,vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-yellow via-yellow-200 to-yellow-300 rounded-2xl shadow-2xl p-8 border-4 border-yellow-400 relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.3},whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(250, 204, 21, 0.4)"},children:[(0,vo.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white opacity-20 rounded-full transform translate-x-8 -translate-y-8"}),(0,vo.jsx)(Sc.div,{className:"text-6xl mb-6 text-center",whileHover:{scale:1.2,rotate:[0,-10,10,0]},transition:{duration:.3},children:"\ud83e\udde0"}),(0,vo.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center font-baloo",children:"Crosstalk"}),(0,vo.jsx)("p",{className:"text-sm text-gray-700 mb-2 text-center font-poppins font-semibold",children:"(Spanish Speakers Only)"}),(0,vo.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6 font-poppins text-center",children:"You speak Spanish, instructor speaks English. Focused on listening and understanding \u2014 no pressure to speak."}),(0,vo.jsx)(Sc.a,{href:"#crosstalk",className:"block w-full bg-gradient-to-r from-fiesta-orange to-orange-500 text-white py-4 px-6 rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300 font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83c\udfaf Join a Class"})]}),(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-blue via-blue-200 to-blue-300 rounded-2xl shadow-2xl p-8 border-4 border-blue-400 relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.5},whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(56, 189, 248, 0.4)"},children:[(0,vo.jsx)("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white opacity-20 rounded-full transform -translate-x-6 translate-y-6"}),(0,vo.jsx)(Sc.div,{className:"text-6xl mb-6 text-center",whileHover:{scale:1.2,rotate:[0,15,-15,0]},transition:{duration:.3},children:"\ud83d\udde3\ufe0f"}),(0,vo.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center font-baloo",children:"English Conversation"}),(0,vo.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6 font-poppins text-center",children:"Fully in English. Practice fluency, vocabulary, and pronunciation."}),(0,vo.jsx)(Sc.a,{href:"#conversation",className:"block w-full bg-gradient-to-r from-fiesta-green to-green-500 text-white py-4 px-6 rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300 font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83c\udfaf Join a Class"})]}),(0,vo.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-purple via-purple-200 to-purple-300 rounded-2xl shadow-2xl p-8 border-4 border-purple-400 relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.7},whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(168, 85, 247, 0.4)"},children:[(0,vo.jsx)("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full transform -translate-x-10 -translate-y-10"}),(0,vo.jsx)(Sc.div,{className:"text-6xl mb-6 text-center",whileHover:{scale:1.2,rotate:[0,-15,15,0]},transition:{duration:.3},children:"\ud83c\udfac"}),(0,vo.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center font-baloo",children:"1-on-1 Comprehensible Input"}),(0,vo.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6 font-poppins text-center",children:"Like English Fiesta videos \u2014 slow, level-matched English with visuals."}),(0,vo.jsx)(Sc.a,{href:"#ci",className:"block w-full bg-gradient-to-r from-fiesta-pink to-pink-500 text-white py-4 px-6 rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300 font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83c\udfaf Join a Class"})]})]}),(0,vo.jsx)(Sc.div,{className:"max-w-md mx-auto",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.9},children:(0,vo.jsxs)("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 rounded-2xl shadow-xl p-8 border-4 border-gray-500 relative overflow-hidden opacity-75",children:[(0,vo.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-10"}),(0,vo.jsx)(Sc.div,{className:"text-6xl mb-6 text-center opacity-60",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"\ud83d\udd12"}),(0,vo.jsx)("h3",{className:"text-2xl font-bold text-gray-700 mb-2 text-center font-baloo",children:"Group Classes"}),(0,vo.jsx)(Sc.div,{className:"bg-fiesta-orange text-white px-4 py-2 rounded-full text-sm font-bold text-center mb-4 font-poppins",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Coming Soon!"}),(0,vo.jsx)("p",{className:"text-gray-600 leading-relaxed text-center font-poppins",children:"Interactive group learning experiences with fellow English learners."})]})}),(0,vo.jsx)(Sc.div,{className:"flex justify-center mt-16 space-x-8",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:1.2},children:["\ud83c\udf93","\ud83d\udcac","\ud83c\udf1f","\ud83c\udfaf","\u2728"].map(((e,t)=>(0,vo.jsx)(Sc.div,{className:"text-5xl opacity-60",animate:{y:[0,-30,0],rotate:[0,360]},transition:{duration:4+.5*t,repeat:1/0,ease:"easeInOut",delay:.3*t},children:e},t)))})]})}),PI=()=>(0,vo.jsx)(bp,{children:(0,vo.jsx)(ut,{children:(0,vo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col font-poppins",children:[(0,vo.jsx)(Np,{}),(0,vo.jsx)(Sc.main,{className:"flex-1",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,vo.jsxs)(je,{children:[(0,vo.jsx)(Ne,{path:"/",element:(0,vo.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,vo.jsx)(ND,{})})}),(0,vo.jsx)(Ne,{path:"/watch",element:(0,vo.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,vo.jsx)(TI,{})})}),(0,vo.jsx)(Ne,{path:"/about",element:(0,vo.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,vo.jsx)(EI,{})})}),(0,vo.jsx)(Ne,{path:"/faq",element:(0,vo.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,vo.jsx)(DI,{})})}),(0,vo.jsx)(Ne,{path:"/join",element:(0,vo.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,vo.jsx)(jI,{})})}),(0,vo.jsx)(Ne,{path:"/book",element:(0,vo.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,vo.jsx)(AI,{})})})]})}),(0,vo.jsx)(Pp,{}),(0,vo.jsx)(Mp,{})]})})});i.createRoot(document.getElementById("root")).render((0,vo.jsx)(t.StrictMode,{children:(0,vo.jsx)(PI,{})}))})()})();
//# sourceMappingURL=main.59afdaf1.js.map