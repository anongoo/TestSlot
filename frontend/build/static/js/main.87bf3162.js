/*! For license information please see main.87bf3162.js.LICENSE.txt */
(()=>{var e={628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},756:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(("_owner"!==s||!t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case p:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var E,A,T=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign;function M(e){if(void 0===E)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||"",A=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+E+e+A}var F=!1;function P(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?M(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return e=P(e.type,!1);case 11:return e=P(e.type.render,!1);case 1:return e=P(e.type,!0);default:return""}}function R(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function _(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function B(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function I(e){if(_(e)!==e)throw Error(s(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var V=Array.isArray,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},$=[],W=-1;function q(e){return{current:e}}function K(e){0>W||(e.current=$[W],$[W]=null,W--)}function Y(e,t){W++,$[W]=e.current,e.current=t}var J=q(null),G=q(null),Q=q(null),X=q(null);function Z(e,t){switch(Y(Q,t),Y(G,e),Y(J,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Gu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Qu(e=Gu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(J),Y(J,t)}function ee(){K(J),K(G),K(Q)}function te(e){null!==e.memoizedState&&Y(X,e);var t=J.current,n=Qu(t,e.type);t!==n&&(Y(G,e),Y(J,n))}function ne(e){G.current===e&&(K(J),K(G)),X.current===e&&(K(X),Rd._currentValue=U)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function xe(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=128,Ce=4194304;function je(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~i)?r=je(n):0!==(o&=a)?r=je(o):e||0!==(s=a&~s)&&(r=je(s)):0!==(a=n&~i)?r=je(a):0!==o?r=je(o):e||0!==(s=n&~s)&&(r=je(s)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||32===i&&0!==(4194176&s))?t:r}function De(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Te(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:Qd(e.type)}var _e=Math.random().toString(36).slice(2),Be="__reactFiber$"+_e,Ie="__reactProps$"+_e,ze="__reactContainer$"+_e,Ve="__reactEvents$"+_e,He="__reactListeners$"+_e,Ue="__reactHandles$"+_e,$e="__reactResources$"+_e,We="__reactMarker$"+_e;function qe(e){delete e[Be],delete e[Ie],delete e[Ve],delete e[He],delete e[Ue]}function Ke(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Be])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Be]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ge(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[We]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function st(e,t,n){if(i=t,re.call(ot,i)||!re.call(it,i)&&(rt.test(i)?ot[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(V(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Ft=null;function Pt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ie]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Rt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Mt||null!==Ft)&&(Bc(),Mt&&(t=Mt,e=Ft,Ft=Mt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function _t(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ie]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Bt=!1;if(nt)try{var It={};Object.defineProperty(It,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(wp){Bt=!1}var zt=null,Vt=null,Ht=null;function Ut(){if(Ht)return Ht;var e,t,n=Vt,r=n.length,i="value"in zt?zt.value:zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function qt(){return!1}function Kt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:qt,this.isPropagationStopped=qt,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Yt,Jt,Gt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Kt(Qt),Zt=O({},Qt,{view:0,detail:0}),en=Kt(Zt),tn=O({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gt&&(Gt&&"mousemove"===e.type?(Yt=e.screenX-Gt.screenX,Jt=e.screenY-Gt.screenY):Jt=Yt=0,Gt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),nn=Kt(tn),rn=Kt(O({},tn,{dataTransfer:0})),on=Kt(O({},Zt,{relatedTarget:0})),sn=Kt(O({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Kt(O({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(O({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function hn(){return pn}var fn=Kt(O({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(O({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(O({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),vn=Kt(O({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(O({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(O({},Qt,{newState:0,oldState:0})),bn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,Cn=nt&&(!wn||kn&&8<kn&&11>=kn),jn=String.fromCharCode(32),Nn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Mn(e,t,n,r){Mt?Ft?Ft.push(r):Ft=[r]:Mt=r,0<(t=Ru(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Pn=null;function Ln(e){Eu(e,0)}function Rn(e){if(pt(Je(e)))return e}function _n(e,t){if("change"===e)return t}var Bn=!1;if(nt){var In;if(nt){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"===typeof Vn.oninput}In=zn}else In=!1;Bn=In&&(!document.documentMode||9<document.documentMode)}function Hn(){Fn&&(Fn.detachEvent("onpropertychange",Un),Pn=Fn=null)}function Un(e){if("value"===e.propertyName&&Rn(Pn)){var t=[];Mn(t,Pn,e,Ot(e)),Rt(Ln,t)}}function $n(e,t,n){"focusin"===e?(Hn(),Pn=n,(Fn=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Hn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(Pn)}function qn(e,t){if("click"===e)return Rn(t)}function Kn(e,t){if("input"===e||"change"===e)return Rn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Qn(t,o);var s=Qn(t,r);i&&s&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Jn(or,r)||(or=r,0<(r=Ru(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function pr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=pr("animationend"),fr=pr("animationiteration"),mr=pr("animationstart"),gr=pr("transitionrun"),vr=pr("transitionstart"),yr=pr("transitioncancel"),xr=pr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){br.set(e,t),et(t,[e])}var Sr=[],Cr=0,jr=0;function Nr(){for(var e=Cr,t=jr=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var i=Sr[t];Sr[t++]=null;var o=Sr[t];if(Sr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Tr(n,i,o)}}function Dr(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,jr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Er(e,t,n,r){return Dr(e,t,n,r),Or(e)}function Ar(e,t){return Dr(e,null,null,t),Or(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-be(n),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|n)}function Or(e){if(50<Ec)throw Ec=0,Ac=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={},Fr=new WeakMap;function Pr(e,t){if("object"===typeof e&&null!==e){var n=Fr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:R(t)},Fr.set(e,t),t)}return{value:e,source:t,stack:R(t)}}var Lr=[],Rr=0,_r=null,Br=0,Ir=[],zr=0,Vr=null,Hr=1,Ur="";function $r(e,t){Lr[Rr++]=Br,Lr[Rr++]=_r,_r=e,Br=t}function Wr(e,t,n){Ir[zr++]=Hr,Ir[zr++]=Ur,Ir[zr++]=Vr,Vr=e;var r=Hr;e=Ur;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hr=1<<32-be(t)+i|n<<i|r,Ur=o+e}else Hr=1<<o|n<<i|r,Ur=e}function qr(e){null!==e.return&&($r(e,1),Wr(e,1,0))}function Kr(e){for(;e===_r;)_r=Lr[--Rr],Lr[Rr]=null,Br=Lr[--Rr],Lr[Rr]=null;for(;e===Vr;)Vr=Ir[--zr],Ir[zr]=null,Ur=Ir[--zr],Ir[zr]=null,Hr=Ir[--zr],Ir[zr]=null}var Yr=null,Jr=null,Gr=!1,Qr=null,Xr=!1,Zr=Error(s(519));function ei(e){throw oi(Pr(Error(s(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[Ie]=r,n){case"dialog":Au("cancel",t),Au("close",t);break;case"iframe":case"object":case"embed":Au("load",t);break;case"video":case"audio":for(n=0;n<Nu.length;n++)Au(Nu[n],t);break;case"source":Au("error",t);break;case"img":case"image":case"link":Au("error",t),Au("load",t);break;case"details":Au("toggle",t);break;case"input":Au("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Au("invalid",t);break;case"textarea":Au("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Hu(t.textContent,n)?(null!=r.popover&&(Au("beforetoggle",t),Au("toggle",t)),null!=r.onScroll&&Au("scroll",t),null!=r.onScrollEnd&&Au("scrollend",t),null!=r.onClick&&(t.onclick=Uu),t=!0):t=!1,t||ei(e)}function ni(e){for(Yr=e.return;Yr;)switch(Yr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Yr=Yr.return}}function ri(e){if(e!==Yr)return!1;if(!Gr)return ni(e),Gr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Jr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Jr=ad(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Jr=null}}else Jr=Yr?ad(e.stateNode.nextSibling):null;return!0}function ii(){Jr=Yr=null,Gr=!1}function oi(e){null===Qr?Qr=[e]:Qr.push(e)}var si=Error(s(460)),ai=Error(s(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e}throw pi=t,si}}var pi=null;function hi(){if(null===pi)throw Error(s(459));var e=pi;return pi=null,e}var fi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===fi&&(fi=[]),di(fi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=_l(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n,r){var o=n.type;return o===d?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===w&&xi(o)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Il(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=zl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Il(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Ul(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(V(t)||j(t))return(t=zl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Na(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?p(e,t,n,r):null;case u:return n.key===i?h(e,t,n,r):null;case w:return v(e,t,n=(i=n._init)(n._payload),r)}if(V(n)||j(n))return null!==i?null:f(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,Na(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return p(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(V(r)||j(r))return f(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,Na(t,r),i);yi(t,r)}return null}function x(l,p,h,f){if("object"===typeof h&&null!==h&&h.type===d&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case c:e:{for(var b=h.key;null!==p;){if(p.key===b){if((b=h.type)===d){if(7===p.tag){n(l,p.sibling),(f=i(p,h.props.children)).return=l,l=f;break e}}else if(p.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===w&&xi(b)===p.type){n(l,p.sibling),vi(f=i(p,h.props),h),f.return=l,l=f;break e}n(l,p);break}t(l,p),p=p.sibling}h.type===d?((f=zl(h.props.children,l.mode,f,h.key)).return=l,l=f):(vi(f=Il(h.type,h.key,h.props,null,l.mode,f),h),f.return=l,l=f)}return a(l);case u:e:{for(b=h.key;null!==p;){if(p.key===b){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(l,p.sibling),(f=i(p,h.children||[])).return=l,l=f;break e}n(l,p);break}t(l,p),p=p.sibling}(f=Ul(h,l.mode,f)).return=l,l=f}return a(l);case w:return x(l,p,h=(b=h._init)(h._payload),f)}if(V(h))return function(i,s,a,l){for(var c=null,u=null,d=s,p=s=0,h=null;null!==d&&p<a.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var f=v(i,d,a[p],l);if(null===f){null===d&&(d=h);break}e&&d&&null===f.alternate&&t(i,d),s=o(f,s,p),null===u?c=f:u.sibling=f,u=f,d=h}if(p===a.length)return n(i,d),Gr&&$r(i,p),c;if(null===d){for(;p<a.length;p++)null!==(d=m(i,a[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return Gr&&$r(i,p),c}for(d=r(d);p<a.length;p++)null!==(h=y(d,i,p,a[p],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),s=o(h,s,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(i,e)})),Gr&&$r(i,p),c}(l,p,h,f);if(j(h)){if("function"!==typeof(b=j(h)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=a,h=a=0,f=null,g=l.next();null!==p&&!g.done;h++,g=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var x=v(i,p,g.value,c);if(null===x){null===p&&(p=f);break}e&&p&&null===x.alternate&&t(i,p),a=o(x,a,h),null===d?u=x:d.sibling=x,d=x,p=f}if(g.done)return n(i,p),Gr&&$r(i,h),u;if(null===p){for(;!g.done;h++,g=l.next())null!==(g=m(i,g.value,c))&&(a=o(g,a,h),null===d?u=g:d.sibling=g,d=g);return Gr&&$r(i,h),u}for(p=r(p);!g.done;h++,g=l.next())null!==(g=y(p,i,h,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?h:g.key),a=o(g,a,h),null===d?u=g:d.sibling=g,d=g);return e&&p.forEach((function(e){return t(i,e)})),Gr&&$r(i,h),u}(l,p,h=b.call(h),f)}if("function"===typeof h.then)return x(l,p,gi(h),f);if(h.$$typeof===g)return x(l,p,Na(l,h),f);yi(l,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==p&&6===p.tag?(n(l,p.sibling),(f=i(p,h)).return=l,l=f):(n(l,p),(f=Hl(h,l.mode,f)).return=l,l=f),a(l)):n(l,p)}return function(e,t,n,r){try{mi=0;var i=x(e,t,n,r);return fi=null,i}catch(s){if(s===si)throw s;var o=Ll(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var wi=bi(!0),ki=bi(!1),Si=q(null),Ci=q(0);function ji(e,t){Y(Ci,e=cc),Y(Si,t),cc=e|t.baseLanes}function Ni(){Y(Ci,cc),Y(Si,Si.current)}function Di(){cc=Ci.current,K(Si),K(Ci)}var Ei=q(null),Ai=null;function Ti(e){var t=e.alternate;Y(Pi,1&Pi.current),Y(Ei,e),null===Ai&&(null===t||null!==Si.current||null!==t.memoizedState)&&(Ai=e)}function Oi(e){if(22===e.tag){if(Y(Pi,Pi.current),Y(Ei,e),null===Ai){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ai=e)}}else Mi()}function Mi(){Y(Pi,Pi.current),Y(Ei,Ei.current)}function Fi(e){K(Ei),Ai===e&&(Ai=null),K(Pi)}var Pi=q(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},_i=r.unstable_scheduleCallback,Bi=r.unstable_NormalPriority,Ii={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Ri,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&_i(Bi,(function(){e.controller.abort()}))}var Hi=null,Ui=0,$i=0,Wi=null;function qi(){if(0===--Ui&&null!==Hi){null!==Wi&&(Wi.status="fulfilled");var e=Hi;Hi=null,$i=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=T.S;T.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hi){var n=Hi=[];Ui=0,$i=wu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ui++,t.then(qi,qi)}(0,t),null!==Ki&&Ki(e,t)};var Yi=q(null);function Ji(){var e=Yi.current;return null!==e?e:tc.pooledCache}function Gi(e,t){Y(Yi,null===t?Yi.current:t.pool)}function Qi(){var e=Ji();return null===e?null:{parent:Ii._currentValue,pool:e}}var Xi=0,Zi=null,eo=null,to=null,no=!1,ro=!1,io=!1,oo=0,so=0,ao=null,lo=0;function co(){throw Error(s(321))}function uo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function po(e,t,n,r,i,o){return Xi=o,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?Ns:Ds,io=!1,o=n(r,i),io=!1,ro&&(o=fo(t,n,r,i)),ho(e),o}function ho(e){T.H=js;var t=null!==eo&&null!==eo.next;if(Xi=0,to=eo=Zi=null,no=!1,so=0,ao=null,t)throw Error(s(300));null===e||$s||null!==(e=e.dependencies)&&Sa(e)&&($s=!0)}function fo(e,t,n,r){Zi=e;var i=0;do{if(ro&&(ao=null),so=0,ro=!1,25<=i)throw Error(s(301));if(i+=1,to=eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}T.H=Es,o=t(n,r)}while(ro);return o}function mo(){var e=T.H,t=e.useState()[0];return t="function"===typeof t.then?wo(t):t,e=e.useState()[0],(null!==eo?eo.memoizedState:null)!==e&&(Zi.flags|=1024),t}function go(){var e=0!==oo;return oo=0,e}function vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yo(e){if(no){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}no=!1}Xi=0,to=eo=Zi=null,ro=!1,so=oo=0,ao=null}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zi.memoizedState=to=e:to=to.next=e,to}function bo(){if(null===eo){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Zi.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e){if(null===Zi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Zi.memoizedState=to=e:to=to.next=e}return to}function wo(e){var t=so;return so+=1,null===ao&&(ao=[]),e=di(ao,e,t),t=Zi,null===(null===to?t.memoizedState:to.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?Ns:Ds),e}function ko(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wo(e);if(e.$$typeof===g)return ja(e)}throw Error(s(438,String(e)))}function So(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Co(e,t){return"function"===typeof t?t(e):t}function jo(e){return No(bo(),eo,e)}function No(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(rc&p)===p:(Xi&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===$i&&(d=!0);else{if((Xi&h)===h){u=u.next,h===$i&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,Zi.lanes|=h,dc|=h}p=u.action,io&&n(o,p),o=u.hasEagerState?u.eagerState:n(o,p)}else h={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Zi.lanes|=p,dc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Yn(o,e.memoizedState)&&($s=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Do(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Yn(o,t.memoizedState)||($s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(e,t,n){var r=Zi,i=bo(),o=Gr;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Yn((eo||i).memoizedState,n);if(a&&(i.memoizedState=n,$s=!0),i=i.queue,Zo(Oo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==to&&1&to.memoizedState.tag){if(r.flags|=2048,Yo(9,To.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(s(349));o||0!==(60&Xi)||Ao(r,t,n)}return n}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Oo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Fo(e){var t=Ar(e,2);null!==t&&Mc(t,e,2)}function Po(e){var t=xo();if("function"===typeof e){var n=e;if(e=n(),io){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t}function Lo(e,t,n,r){return e.baseState=n,No(e,eo,"function"===typeof r?r:Co)}function Ro(e,t,n,r,i){if(ks(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==T.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,_o(t,o)):(o.next=n.next,t.pending=n.next=o)}}function _o(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=T.T,s={};T.T=s;try{var a=n(i,r),l=T.S;null!==l&&l(s,a),Bo(e,t,a)}catch(c){zo(e,t,c)}finally{T.T=o}}else try{Bo(e,t,o=n(i,r))}catch(u){zo(e,t,u)}}function Bo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Io(e,t,n)}),(function(n){return zo(e,t,n)})):Io(e,t,n)}function Io(e,t,n){t.status="fulfilled",t.value=n,Vo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_o(e,n)))}function zo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Vo(t),t=t.next}while(t!==r)}e.action=null}function Vo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ho(e,t){return t}function Uo(e,t){if(Gr){var n=tc.formState;if(null!==n){e:{var r=Zi;if(Gr){if(Jr){t:{for(var i=Jr,o=Xr;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=ad(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){Jr=ad(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=xo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},n.queue=r,n=xs.bind(null,Zi,r),r.dispatch=n,r=Po(!1),o=ws.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=xo()).queue=i,n=Ro.bind(null,Zi,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function $o(e){return Wo(bo(),eo,e)}function Wo(e,t,n){t=No(e,t,Ho)[0],e=jo(Co)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wo(t):t;var r=bo(),i=r.queue,o=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Yo(9,qo.bind(null,i,n),{destroy:void 0},null)),[t,o,e]}function qo(e,t){e.action=t}function Ko(e){var t=bo(),n=eo;if(null!==n)return Wo(t,n,e);bo(),t=t.memoizedState;var r=(n=bo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Yo(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Jo(){return bo().memoizedState}function Go(e,t,n,r){var i=xo();Zi.flags|=e,i.memoizedState=Yo(1|t,n,{destroy:void 0},void 0===r?null:r)}function Qo(e,t,n,r){var i=bo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==eo&&null!==r&&uo(r,eo.memoizedState.deps)?i.memoizedState=Yo(t,n,o,r):(Zi.flags|=e,i.memoizedState=Yo(1|t,n,o,r))}function Xo(e,t){Go(8390656,8,e,t)}function Zo(e,t){Qo(2048,8,e,t)}function es(e,t){return Qo(4,2,e,t)}function ts(e,t){return Qo(4,4,e,t)}function ns(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function rs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qo(4,4,ns.bind(null,t,e),n)}function is(){}function os(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ss(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&uo(t,r[1]))return r[0];if(r=e(),io){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function as(e,t,n){return void 0===n||0!==(1073741824&Xi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),Zi.lanes|=e,dc|=e,n)}function ls(e,t,n,r){return Yn(n,t)?n:null!==Si.current?(e=as(e,n,r),Yn(e,t)||($s=!0),e):0===(42&Xi)?($s=!0,e.memoizedState=n):(e=Oc(),Zi.lanes|=e,dc|=e,t)}function cs(e,t,n,r,i){var o=H.p;H.p=0!==o&&8>o?o:8;var s=T.T,a={};T.T=a,ws(e,!1,t,n);try{var l=i(),c=T.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)bs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Tc());else bs(e,t,r,Tc())}catch(u){bs(e,t,{then:function(){},status:"rejected",reason:u},Tc())}finally{H.p=o,T.T=s}}function us(){}function ds(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=ps(e).queue;cs(e,i,t,U,null===n?us:function(){return hs(e),n(r)})}function ps(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function hs(e){bs(e,ps(e).next.queue,{},Tc())}function fs(){return ja(Rd)}function ms(){return bo().memoizedState}function gs(){return bo().memoizedState}function vs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Tc(),r=Ma(t,e=Oa(n),n);return null!==r&&(Mc(r,t,n),Fa(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ys(e,t,n){var r=Tc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ks(e)?Ss(t,n):null!==(n=Er(e,t,n,r))&&(Mc(n,e,r),Cs(n,t,r))}function xs(e,t,n){bs(e,t,n,Tc())}function bs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ks(e))Ss(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,s))return Dr(e,t,i,0),null===tc&&Nr(),!1}catch(l){}if(null!==(n=Er(e,t,i,r)))return Mc(n,e,r),Cs(n,t,r),!0}return!1}function ws(e,t,n,r){if(r={lane:2,revertLane:wu(),action:r,hasEagerState:!1,eagerState:null,next:null},ks(e)){if(t)throw Error(s(479))}else null!==(t=Er(e,n,r,2))&&Mc(t,e,2)}function ks(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function Ss(e,t){ro=no=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cs(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var js={readContext:ja,use:ko,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useInsertionEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useSyncExternalStore:co,useId:co};js.useCacheRefresh=co,js.useMemoCache=co,js.useHostTransitionStatus=co,js.useFormState=co,js.useActionState=co,js.useOptimistic=co;var Ns={readContext:ja,use:ko,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:ja,useEffect:Xo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Go(4194308,4,ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){Go(4,2,e,t)},useMemo:function(e,t){var n=xo();t=void 0===t?null:t;var r=e();if(io){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=xo();if(void 0!==n){var i=n(t);if(io){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ys.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:function(e){var t=(e=Po(e)).queue,n=xs.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:is,useDeferredValue:function(e,t){return as(xo(),e,t)},useTransition:function(){var e=Po(!1);return e=cs.bind(null,Zi,e.queue,!0,!1),xo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=xo();if(Gr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===tc)throw Error(s(349));0!==(60&rc)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Xo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Yo(9,To.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=xo(),t=tc.identifierPrefix;if(Gr){var n=Ur;t=":"+t+"R"+(n=(Hr&~(1<<32-be(Hr)-1)).toString(32)+n),0<(n=oo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return xo().memoizedState=vs.bind(null,Zi)}};Ns.useMemoCache=So,Ns.useHostTransitionStatus=fs,Ns.useFormState=Uo,Ns.useActionState=Uo,Ns.useOptimistic=function(e){var t=xo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ws.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Ds={readContext:ja,use:ko,useCallback:os,useContext:ja,useEffect:Zo,useImperativeHandle:rs,useInsertionEffect:es,useLayoutEffect:ts,useMemo:ss,useReducer:jo,useRef:Jo,useState:function(){return jo(Co)},useDebugValue:is,useDeferredValue:function(e,t){return ls(bo(),eo.memoizedState,e,t)},useTransition:function(){var e=jo(Co)[0],t=bo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:Eo,useId:ms};Ds.useCacheRefresh=gs,Ds.useMemoCache=So,Ds.useHostTransitionStatus=fs,Ds.useFormState=$o,Ds.useActionState=$o,Ds.useOptimistic=function(e,t){return Lo(bo(),0,e,t)};var Es={readContext:ja,use:ko,useCallback:os,useContext:ja,useEffect:Zo,useImperativeHandle:rs,useInsertionEffect:es,useLayoutEffect:ts,useMemo:ss,useReducer:Do,useRef:Jo,useState:function(){return Do(Co)},useDebugValue:is,useDeferredValue:function(e,t){var n=bo();return null===eo?as(n,e,t):ls(n,eo.memoizedState,e,t)},useTransition:function(){var e=Do(Co)[0],t=bo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:Eo,useId:ms};function As(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Es.useCacheRefresh=gs,Es.useMemoCache=So,Es.useHostTransitionStatus=fs,Es.useFormState=Ko,Es.useActionState=Ko,Es.useOptimistic=function(e,t){var n=bo();return null!==eo?Lo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ts={isMounted:function(e){return!!(e=e._reactInternals)&&_(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tc(),i=Oa(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ma(e,i,r))&&(Mc(t,e,r),Fa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tc(),i=Oa(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ma(e,i,r))&&(Mc(t,e,r),Fa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tc(),r=Oa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ma(e,r,n))&&(Mc(t,e,n),Fa(t,e,n))}};function Os(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(i,o))}function Ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ts.enqueueReplaceState(t,t.state,null)}function Fs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=O({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Ps="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ls(e){Ps(e)}function Rs(e){console.error(e)}function _s(e){Ps(e)}function Bs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Is(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function zs(e,t,n){return(n=Oa(n)).tag=3,n.payload={element:null},n.callback=function(){Bs(e,t)},n}function Vs(e){return(e=Oa(e)).tag=3,e}function Hs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Is(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Is(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Us=Error(s(461)),$s=!1;function Ws(e,t,n,r){t.child=null===e?ki(t,null,n,r):wi(t,e.child,n,r)}function qs(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ca(t),r=po(e,t,n,s,o,i),a=go(),null===e||$s?(Gr&&a&&qr(t),t.flags|=1,Ws(e,t,r,i),t.child):(vo(e,t,i),pa(e,t,i))}function Ks(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rl(o)||void 0!==o.defaultProps||null!==n.compare?((e=Il(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ys(e,t,o,r,i))}if(o=e.child,!ha(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(s,r)&&e.ref===t.ref)return pa(e,t,i)}return t.flags|=1,(e=_l(o,r)).ref=t.ref,e.return=t,t.child=e}function Ys(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Jn(o,r)&&e.ref===t.ref){if($s=!1,t.pendingProps=r=o,!ha(e,i))return t.lanes=e.lanes,pa(e,t,i);0!==(131072&e.flags)&&($s=!0)}}return Xs(e,t,n,r,i)}function Js(e,t,n){var r=t.pendingProps,i=r.children,o=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Qs(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Gs(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Gs(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==s?s.cachePool:null),null!==s?ji(t,s):Ni(),Oi(t)}else null!==s?(Gi(0,s.cachePool),ji(t,s),Mi(),t.memoizedState=null):(null!==e&&Gi(0,null),Ni(),Mi());return Ws(e,t,i,n),t.child}function Gs(e,t,n,r){var i=Ji();return i=null===i?null:{parent:Ii._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Gi(0,null),Ni(),Oi(t),null!==e&&ka(e,t,r,!0),null}function Qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xs(e,t,n,r,i){return Ca(t),n=po(e,t,n,r,void 0,i),r=go(),null===e||$s?(Gr&&r&&qr(t),t.flags|=1,Ws(e,t,n,i),t.child):(vo(e,t,i),pa(e,t,i))}function Zs(e,t,n,r,i,o){return Ca(t),t.updateQueue=null,n=fo(t,r,n,i),ho(e),r=go(),null===e||$s?(Gr&&r&&qr(t),t.flags|=1,Ws(e,t,n,o),t.child):(vo(e,t,o),pa(e,t,o))}function ea(e,t,n,r,i){if(Ca(t),null===t.stateNode){var o=Mr,s=n.contextType;"object"===typeof s&&null!==s&&(o=ja(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Ts,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Aa(t),s=n.contextType,o.context="object"===typeof s&&null!==s?ja(s):Mr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(As(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&Ts.enqueueReplaceState(o,o.state,null),_a(t,r,o,i),Ra(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Fs(n,a);o.props=l;var c=o.context,u=n.contextType;s=Mr,"object"===typeof u&&null!==u&&(s=ja(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&Ms(t,o,r,s),Ea=!1;var p=t.memoizedState;o.state=p,_a(t,r,o,i),Ra(),c=t.memoizedState,a||p!==c||Ea?("function"===typeof d&&(As(t,n,d,r),c=t.memoizedState),(l=Ea||Os(t,n,l,r,p,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ta(e,t),u=Fs(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,p=o.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=ja(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==l)&&Ms(t,o,r,l),Ea=!1,p=t.memoizedState,o.state=p,_a(t,r,o,i),Ra();var h=t.memoizedState;s!==d||p!==h||Ea||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof a&&(As(t,n,a,r),h=t.memoizedState),(u=Ea||Os(t,n,u,r,p,h,l)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Qs(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):Ws(e,t,n,i),t.memoizedState=o.state,e=t.child):e=pa(e,t,i),e}function ta(e,t,n,r){return ii(),t.flags|=256,Ws(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:Qi()}}function ia(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fc),e}function oa(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Pi.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Gr){if(o?Ti(t):Mi(),Gr){var l,c=Jr;if(l=c){e:{for(l=c,c=Xr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ad(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Vr?{id:Hr,overflow:Ur}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Yr=t,Jr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Fi(t)}return c=i.children,i=i.fallback,o?(Mi(),c=aa({mode:"hidden",children:c},o=t.mode),i=zl(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=ra(n),o.childLanes=ia(e,r,n),t.memoizedState=na,i):(Ti(t),sa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Ti(t),t.flags&=-257,t=la(e,t,n)):null!==t.memoizedState?(Mi(),t.child=e.child,t.flags|=128,t=null):(Mi(),o=i.fallback,c=t.mode,i=aa({mode:"visible",children:i.children},c),(o=zl(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,wi(t,e.child,null,n),(i=t.child).memoizedState=ra(n),i.childLanes=ia(e,r,n),t.memoizedState=na,t=o);else if(Ti(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,oi({value:i,source:null,stack:null}),t=la(e,t,n)}else if($s||ka(e,t,n,!1),r=0!==(n&e.childLanes),$s||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ar(e,i),Mc(r,e,i),Us}"$?"===c.data||$c(),t=la(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=au.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Jr=ad(c.nextSibling),Yr=t,Gr=!0,Qr=null,Xr=!1,null!==e&&(Ir[zr++]=Hr,Ir[zr++]=Ur,Ir[zr++]=Vr,Hr=e.id,Ur=e.overflow,Vr=t),(t=sa(t,i.children)).flags|=4096);return t}return o?(Mi(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=_l(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?o=_l(u,o):(o=zl(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=ra(n):(null!==(l=c.cachePool)?(u=Ii._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=ia(e,r,n),t.memoizedState=na,i):(Ti(t),e=(n=e.child).sibling,(n=_l(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function sa(e,t){return(t=aa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aa(e,t){return Vl(e,t,0,null)}function la(e,t,n){return wi(t,e.child,null,n),(e=sa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ca(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function ua(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function da(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ws(e,t,r.children,n),0!==(2&(r=Pi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ca(e,n,t);else if(19===e.tag)ca(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Y(Pi,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ua(t,!0,n,null,o);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ka(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ha(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function fa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$s=!0;else{if(!ha(e,n)&&0===(128&t.flags))return $s=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ya(t,Ii,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ti(t),t.flags|=128,null):0!==(n&t.child.childLanes)?oa(e,t,n):(Ti(t),null!==(e=pa(e,t,n))?e.sibling:null);Ti(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ka(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return da(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(Pi,Pi.current),r)break;return null;case 22:case 23:return t.lanes=0,Js(e,t,n);case 24:ya(t,Ii,e.memoizedState.cache)}return pa(e,t,n)}(e,t,n);$s=0!==(131072&e.flags)}else $s=!1,Gr&&0!==(1048576&t.flags)&&Wr(t,Br,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=qs(null,t,r,e,n);break e}if(i===b){t.tag=14,t=Ks(null,t,r,e,n);break e}}throw t=D(r)||r,Error(s(306,t,""))}Rl(r)?(e=Fs(r,e),t.tag=1,t=ea(null,t,r,e,n)):(t.tag=0,t=Xs(null,t,r,e,n))}return t;case 0:return Xs(e,t,t.type,t.pendingProps,n);case 1:return ea(e,t,r=t.type,i=Fs(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var o=t.pendingProps;r=(i=t.memoizedState).element,Ta(e,t),_a(t,o,null,n);var a=t.memoizedState;if(o=a.cache,ya(t,Ii,o),o!==i.cache&&wa(t,[Ii],n,!0),Ra(),o=a.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ta(e,t,o,n);break e}if(o!==r){oi(r=Pr(Error(s(424)),t)),t=ta(e,t,o,n);break e}for(Jr=ad(t.stateNode.containerInfo.firstChild),Yr=t,Gr=!0,Qr=null,Xr=!0,n=ki(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),o===r){t=pa(e,t,n);break e}Ws(e,t,o,n)}t=t.child}return t;case 26:return Qs(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Gr||(n=t.type,e=t.pendingProps,(r=Ju(Q.current).createElement(n))[Be]=t,r[Ie]=e,qu(r,n,e),Qe(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Gr&&(r=t.stateNode=cd(t.type,t.pendingProps,Q.current),Yr=t,Xr=!0,Jr=ad(r.firstChild)),r=t.pendingProps.children,null!==e||Gr?Ws(e,t,r,n):t.child=wi(t,null,r,n),Qs(e,t),t.child;case 5:return null===e&&Gr&&((i=r=Jr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=ad(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Yr=t,Jr=ad(r.firstChild),Xr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,Xu(i,o)?r=null:null!==a&&Xu(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=po(e,t,mo,null,null,n),Rd._currentValue=i),Qs(e,t),Ws(e,t,r,n),t.child;case 6:return null===e&&Gr&&((e=n=Jr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ad(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Yr=t,Jr=null,e=!0):e=!1),e||ei(t)),null;case 13:return oa(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):Ws(e,t,r,n),t.child;case 11:return qs(e,t,t.type,t.pendingProps,n);case 7:return Ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ws(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(t,t.type,r.value),Ws(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ca(t),r=r(i=ja(i)),t.flags|=1,Ws(e,t,r,n),t.child;case 14:return Ks(e,t,t.type,t.pendingProps,n);case 15:return Ys(e,t,t.type,t.pendingProps,n);case 19:return da(e,t,n);case 22:return Js(e,t,n);case 24:return Ca(t),r=ja(Ii),null===e?(null===(i=Ji())&&(i=tc,o=zi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Aa(t),ya(t,Ii,i)):(0!==(e.lanes&n)&&(Ta(e,t),_a(t,null,null,n),Ra()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ya(t,Ii,r)):(r=o.cache,ya(t,Ii,r),r!==i.cache&&wa(t,[Ii],n,!0))),Ws(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var ma=q(null),ga=null,va=null;function ya(e,t,n){Y(ma,t._currentValue),t._currentValue=n}function xa(e){e._currentValue=ma.current,K(ma)}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ba(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),ba(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function ka(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Rd):e=[Rd])}i=i.return}null!==e&&wa(t,e,n,r),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){ga=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ja(e){return Da(ga,e)}function Na(e,t){return null===ga&&Ca(e),Da(e,t)}function Da(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Ea=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Tr(e,null,n),t}return Dr(e,r,t,n),Or(e)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function Pa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var La=!1;function Ra(){if(La){if(null!==Wi)throw Wi}}function _a(e,t,n,r){La=!1;var i=e.updateQueue;Ea=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,h=p!==a.lane;if(h?(rc&p)===p:(r&p)===p){0!==p&&p===$i&&(La=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=e,m=a;p=t;var g=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(g,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(g,d,p):f)||void 0===p)break e;d=O({},d,p);break e;case 2:Ea=!0}}null!==(p=a.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=i.callbacks)?i.callbacks=[p]:h.push(p))}else h={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),dc|=s,e.lanes=s,e.memoizedState=d}}function Ba(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ia(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ba(n[e],t)}function za(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){ru(t,t.return,a)}}function Va(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n;try{a()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){ru(t,t.return,c)}}function Ha(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ia(t,n)}catch(r){ru(e,e.return,r)}}}function Ua(e,t,n){n.props=Fs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function $a(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(o){ru(e,t,o)}}function Wa(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ru(e,t,o)}else n.current=null}function qa(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Ka(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(f)||$u(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==p&&$u(e,t,h,f,r,p)}}return void gt(e,a,l,c,u,d,o,i);case"select":for(o in f=a=l=h=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||$u(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&$u(e,t,i,o,r,c)}return t=l,n=a,r=f,void(null!=h?xt(e,!!n,h,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$u(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&$u(e,t,a,i,r,o)}return void bt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else $u(e,t,m,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else $u(e,t,c,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&$u(e,t,g,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:$u(e,t,u,h,r,f)}return;default:if(Nt(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!r.hasOwnProperty(v)&&Wu(e,t,v,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||Wu(e,t,d,h,r,f);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&$u(e,t,y,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||$u(e,t,p,h,r,f)}(r,e.type,n,t),r[Ie]=t}catch(i){ru(e,e.return,i)}}function Ya(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ja(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ga(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Uu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ga(e,t,n),e=e.sibling;null!==e;)Ga(e,t,n),e=e.sibling}function Qa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Qa(e,t,n),e=e.sibling;null!==e;)Qa(e,t,n),e=e.sibling}var Xa=!1,Za=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&za(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){ru(n,n.return,a)}else{var i=Fs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Ha(n),512&r&&$a(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Ia(r,e)}catch(a){ru(n,n.return,a)}}break;case 26:vl(e,n),512&r&&$a(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&qa(n),512&r&&$a(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Xa)){t=null!==t&&null!==t.memoizedState||Za;var o=Xa,s=Za;Xa=i,(Za=t)&&!s?xl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Xa=o,Za=s}512&r&&("manual"===n.memoizedProps.mode?$a(n,n.return):Wa(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,al=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Za||Wa(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Za||Wa(n,t);var r=sl,i=al;for(sl=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);qe(n),sl=r,al=i;break;case 5:Za||Wa(n,t);case 6:i=sl;var o=al;if(sl=null,ll(e,t,n),al=o,null!==(sl=i))if(al)try{e=sl,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(a){ru(n,t,a)}else try{sl.removeChild(n.stateNode)}catch(a){ru(n,t,a)}break;case 18:null!==sl&&(al?(t=sl,n=n.stateNode,8===t.nodeType?od(t.parentNode,n):1===t.nodeType&&od(t,n),mp(t)):od(sl,n.stateNode));break;case 4:r=sl,i=al,sl=n.stateNode.containerInfo,al=!0,ll(e,t,n),sl=r,al=i;break;case 0:case 11:case 14:case 15:Za||Va(2,n,t),Za||Va(4,n,t),ll(e,t,n);break;case 1:Za||(Wa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Ua(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Za||Wa(n,t),Za=(r=Za)||null!==n.memoizedState,ll(e,t,n),Za=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mp(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,al=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,al=!0;break e}l=l.return}if(null===sl)throw Error(s(160));cl(o,a,i),sl=null,al=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}var hl=null;function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pl(t,e),ml(e),4&r&&(Va(3,e,e.return),za(3,e),Va(5,e,e.return));break;case 1:pl(t,e),ml(e),512&r&&(Za||null===n||Wa(n,n.return)),64&r&&Xa&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=hl;if(pl(t,e),ml(e),512&r&&(Za||null===n||Wa(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[We]||o[Be]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),qu(o,r,n),o[Be]=e,Qe(o),r=o;break e;case"link":var a=Dd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}qu(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=Dd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}qu(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Be]=e,Qe(o),r=o}e.stateNode=r}else Ed(i,e.type,e.stateNode);else e.stateNode=kd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Ed(i,e.type,e.stateNode):kd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ka(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var p=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qu(i,p,o),i[Be]=e,i[Ie]=o}catch(m){ru(e,e.return,m)}}case 5:if(pl(t,e),ml(e),512&r&&(Za||null===n||Wa(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Ka(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Nd=null,i=hl,hl=pd(t.containerInfo),pl(t,e),hl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mp(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=hl,hl=pd(e.stateNode.containerInfo),pl(t,e),ml(e),hl=r;break;case 12:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Za||null===n||Wa(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Xa=(d=Xa)||c,Za=(p=Za)||u,pl(t,e),Za=p,Xa=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xa||Za,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{a=u.stateNode;var f=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;a.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:pl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:pl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ya(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 27:var i=r.stateNode;Qa(e,Ja(e),i);break;case 5:var o=r.stateNode;32&r.flags&&(kt(o,""),r.flags&=-33),Qa(e,Ja(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;Ga(e,Ja(e),a);break;default:throw Error(s(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),yl(t);break;case 1:Wa(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ua(t,t.return,n),yl(t);break;case 26:case 27:case 5:Wa(t,t.return),yl(t);break;case 22:Wa(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:xl(i,o,n),za(4,o);break;case 1:if(xl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ba(l[i],a)}catch(c){ru(r,r.return,c)}}n&&64&s&&Ha(o),$a(o,o.return);break;case 26:case 27:case 5:xl(i,o,n),n&&null===r&&4&s&&qa(o),$a(o,o.return);break;case 12:default:xl(i,o,n);break;case 13:xl(i,o,n),n&&4&s&&ul(i,o);break;case 22:null===o.memoizedState&&xl(i,o,n),$a(o,o.return)}t=t.sibling}}function bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&i&&za(9,t);break;case 3:kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){kl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?kl(e,t,n,r):jl(e,t):4&o._visibility?kl(e,t,n,r):(o._visibility|=4,Cl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&bl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&i&&wl(t.alternate,t);break;default:kl(e,t,n,r)}}function Cl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Cl(o,s,a,l,i),za(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?4&u._visibility?Cl(o,s,a,l,i):jl(o,s):(u._visibility|=4,Cl(o,s,a,l,i)),i&&2048&c&&bl(s.alternate,s);break;case 24:Cl(o,s,a,l,i),i&&2048&c&&wl(s.alternate,s);break;default:Cl(o,s,a,l,i)}t=t.sibling}}function jl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:jl(n,r),2048&i&&bl(r.alternate,r);break;case 24:jl(n,r),2048&i&&wl(r.alternate,r);break;default:jl(n,r)}t=t.sibling}}var Nl=8192;function Dl(e){if(e.subtreeFlags&Nl)for(e=e.child;null!==e;)El(e),e=e.sibling}function El(e){switch(e.tag){case 26:Dl(e),e.flags&Nl&&null!==e.memoizedState&&function(e,t,n){if(null===Td)throw Error(s(475));var r=Td;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vd(n.href),o=e.querySelector(yd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Md.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Qe(o);o=e.ownerDocument||e,n=xd(n),(i=ud.get(i))&&Cd(n,i),Qe(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),qu(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Md.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(hl,e.memoizedState,e.memoizedProps);break;case 5:default:Dl(e);break;case 3:case 4:var t=hl;hl=pd(e.stateNode.containerInfo),Dl(e),hl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Nl,Nl=16777216,Dl(e),Nl=t):Dl(e))}}function Al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Tl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Fl(r,e)}Al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ol(e),e=e.sibling}function Ol(e){switch(e.tag){case 0:case 11:case 15:Tl(e),2048&e.flags&&Va(9,e,e.return);break;case 3:case 12:default:Tl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ml(e)):Tl(e)}}function Ml(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Fl(r,e)}Al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Va(8,t,t.return),Ml(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ml(t));break;default:Ml(t)}e=e.sibling}}function Fl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Va(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,o=r.return;if(ol(r),r===n){nl=null;break e}if(null!==i){i.return=o,nl=i;break e}nl=o}}}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Pl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _l(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Il(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return zl(n.children,i,o,t);case p:a=8,i|=24;break;case h:return(e=Ll(12,n,t,2|i)).elementType=h,e.lanes=o,e;case y:return(e=Ll(13,n,t,i)).elementType=y,e.lanes=o,e;case x:return(e=Ll(19,n,t,i)).elementType=x,e.lanes=o,e;case k:return Vl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:case g:a=10;break e;case m:a=9;break e;case v:a=11;break e;case b:a=14;break e;case w:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function zl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function Vl(e,t,n,r){(e=Ll(22,e,r,t)).elementType=k,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0===(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility|=2,Mc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0!==(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility&=-3,Mc(t,e,2))}}};return e.stateNode=i,e}function Hl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e){e.flags|=4}function Wl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ad(t)){if(null!==(t=Ei.current)&&((4194176&rc)===rc?null!==Ai:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ai))throw pi=li,ai;e.flags|=8192}}function ql(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,mc|=t)}function Kl(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jl(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(Ii),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?$l(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Qr&&(Pc(Qr),Qr=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?($l(t),null!==n?(Yl(t),Wl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($l(t),Yl(t),Wl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==r&&$l(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=Q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}e=J.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,$l(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}if(e=J.current,ri(t))ti(t);else{switch(i=Ju(Q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Be]=t,e[Ie]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(qu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$l(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=Q.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Yr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Hu(e.nodeValue,n)))||ei(t)}else(e=Ju(e).createTextNode(r))[Be]=t,t.stateNode=e}return Yl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Be]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==Qr&&(Pc(Qr),Qr=null),i=!0;if(!i)return 256&t.flags?(Fi(t),t):(Fi(t),null)}if(Fi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ql(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Mu(t.stateNode.containerInfo),Yl(t),null;case 10:return xa(t.type),Yl(t),null;case 19:if(K(Pi),null===(i=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Kl(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Li(e))){for(t.flags|=128,Kl(i,!1),e=o.updateQueue,t.updateQueue=e,ql(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Bl(n,e),n=n.sibling;return Y(Pi,1&Pi.current|2),t.child}e=e.sibling}null!==i.tail&&le()>bc&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ql(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Gr)return Yl(t),null}else 2*le()-i.renderingStartTime>bc&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Pi.current,Y(Pi,r?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Fi(t),Di(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&ql(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Ii),Yl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Gl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Ii),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Fi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Pi),null;case 4:return ee(),null;case 10:return xa(t.type),null;case 22:case 23:return Fi(t),Di(),null!==e&&K(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Ii),null;default:return null}}function Ql(e,t){switch(Kr(t),t.tag){case 3:xa(Ii),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Fi(t);break;case 19:K(Pi);break;case 10:xa(t.type);break;case 22:case 23:Fi(t),Di(),null!==e&&K(Yi);break;case 24:xa(Ii)}}var Xl={getCacheForType:function(e){var t=ja(Ii),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,oc=null,sc=!1,ac=!1,lc=!1,cc=0,uc=0,dc=0,pc=0,hc=0,fc=0,mc=0,gc=null,vc=null,yc=!1,xc=0,bc=1/0,wc=null,kc=null,Sc=!1,Cc=null,jc=0,Nc=0,Dc=null,Ec=0,Ac=null;function Tc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==T.T){return 0!==$i?$i:wu()}return Re()}function Oc(){0===fc&&(fc=0===(536870912&rc)||Gr?Ae():536870912);var e=Ei.current;return null!==e&&(e.flags|=32),fc}function Mc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(zc(e,0),_c(e,rc,fc,!1)),Me(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(pc|=n),4===uc&&_c(e,rc,fc,!1)),mu(e))}function Fc(e,t,n){if(0!==(6&ec))throw Error(s(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||De(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=Hc(),i=Uc();tc!==e||rc!==t?(wc=null,bc=le()+500,zc(e,t)):ac=De(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var o=oc;t:switch(ic){case 1:ic=0,oc=null,Gc(e,t,o,1);break;case 2:if(ci(o)){ic=0,oc=null,Jc(t);break}t=function(){2===ic&&tc===e&&(ic=7),mu(e)},o.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(o)?(ic=0,oc=null,Jc(t)):(ic=0,oc=null,Gc(e,t,o,7));break;case 5:var a=null;switch(nc.tag){case 26:a=nc.memoizedState;case 5:case 27:var l=nc;if(!a||Ad(a)){ic=0,oc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Qc(u)):nc=null}break t}}ic=0,oc=null,Gc(e,t,o,5);break;case 6:ic=0,oc=null,Gc(e,t,o,6);break;case 8:Ic(),uc=6;break e;default:throw Error(s(462))}}Kc();break}catch(d){Vc(e,d)}return va=ga=null,T.H=r,T.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Nr(),uc)}(e,t):Wc(e,t,!0),o=r;;){if(0===i){ac&&!r&&_c(e,t,0,!1);break}if(6===i)_c(e,t,0,!sc);else{if(n=e.current.alternate,o&&!Rc(n)){i=Wc(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,a).flags|=256),2!==(a=Wc(l,a,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=vc,vc=i,null!==o&&Pc(o)}i=a}if(o=!1,2!==i)continue}}if(1===i){zc(e,0),_c(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){_c(r,t,fc,!sc);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(s(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=xc+300-le())){if(_c(r,t,fc,!sc),0!==Ne(r,0))break e;r.timeoutHandle=ed(Lc.bind(null,r,n,vc,wc,yc,t,fc,pc,mc,sc,2,-0,0),o)}else Lc(r,n,vc,wc,yc,t,fc,pc,mc,sc,0,-0,0)}}break}mu(e)}function Pc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Lc(e,t,n,r,i,o,a,l,c,u,d,p,h){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Td={stylesheets:null,count:0,unsuspend:Od},El(t),null!==(t=function(){if(null===Td)throw Error(s(475));var e=Td;return e.stylesheets&&0===e.count&&Pd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Pd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,i,a,l,c,1,p,h)),void _c(e,o,a,!u);Zc(e,n,r,i,a,l,c,d,p,h)}function Rc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _c(e,t,n,r){t&=~hc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-be(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Fe(e,n,t)}function Bc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Ic(){if(null!==nc){if(0===ic)var e=nc.return;else va=ga=null,yo(e=nc),fi=null,mi=0,e=nc;for(;null!==e;)Ql(e.alternate,e),e=e.return;nc=null}}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Ic(),tc=e,nc=n=_l(e.current,null),rc=t,ic=0,oc=null,sc=!1,ac=De(e,t),lc=!1,mc=fc=hc=pc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),o=1<<i;t|=e[i],r&=~o}return cc=t,Nr(),n}function Vc(e,t){Zi=null,T.H=js,t===si?(t=hi(),ic=3):t===ai?(t=hi(),ic=4):ic=t===Us?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===nc&&(uc=1,Bs(e,Pr(t,e.current)))}function Hc(){var e=T.H;return T.H=js,null===e?js:e}function Uc(){var e=T.A;return T.A=Xl,e}function $c(){uc=4,sc||(4194176&rc)!==rc&&null!==Ei.current||(ac=!0),0===(134217727&dc)&&0===(134217727&pc)||null===tc||_c(tc,rc,fc,!1)}function Wc(e,t,n){var r=ec;ec|=2;var i=Hc(),o=Uc();tc===e&&rc===t||(wc=null,zc(e,t)),t=!1;var s=uc;e:for(;;)try{if(0!==ic&&null!==nc){var a=nc,l=oc;switch(ic){case 8:Ic(),s=6;break e;case 3:case 2:case 6:null===Ei.current&&(t=!0);var c=ic;if(ic=0,oc=null,Gc(e,a,l,c),n&&ac){s=0;break e}break;default:c=ic,ic=0,oc=null,Gc(e,a,l,c)}}qc(),s=uc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,va=ga=null,ec=r,T.H=i,T.A=o,null===nc&&(tc=null,rc=0,Nr()),s}function qc(){for(;null!==nc;)Yc(nc)}function Kc(){for(;null!==nc&&!se();)Yc(nc)}function Yc(e){var t=fa(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Qc(e):nc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zs(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Zs(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yo(t);default:Ql(n,t),t=fa(n,t=nc=Bl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Qc(e):nc=t}function Gc(e,t,n,r){va=ga=null,yo(t),fi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ka(t,n,i,!0),null!==(n=Ei.current)){switch(n.tag){case 13:return null===Ai?$c():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(s(435,n.tag))}return iu(e,r,i),$c(),!1}if(Gr)return null!==(t=Ei.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&oi(Pr(e=Error(s(422),{cause:r}),n))):(r!==Zr&&oi(Pr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Pr(r,n),Pa(e,i=zs(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var o=Error(s(520),{cause:r});if(o=Pr(o,n),null===gc?gc=[o]:gc.push(o),4!==uc&&(uc=2),null===t)return!0;r=Pr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Pa(n,e=zs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Hs(i=Vs(i),e,n,r),Pa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Bs(e,Pr(n,e.current)),void(nc=null)}catch(o){if(null!==i)throw nc=i,o;return uc=1,Bs(e,Pr(n,e.current)),void(nc=null)}32768&t.flags?(Gr||1===r?e=!0:ac||0!==(536870912&rc)?e=!1:(sc=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ei.current)&&13===r.tag&&(r.flags|=16384))),Xc(t,e)):Qc(t)}function Qc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,sc);e=t.return;var n=Jl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var n=Gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,i,o,a,l,c,u){var d=T.T,p=H.p;try{H.p=2,T.T=null,function(e,t,n,r,i,o,a,l){do{tu()}while(null!==Cc);if(0!==(6&ec))throw Error(s(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-be(n),d=1<<u;a[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Fe(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,r,u|=jr,o,a,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Nc=u,Dc=n,function(e,t){ie(e,t)}(pe,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=T.T,T.T=null,o=H.p,H.p=2,a=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=$d,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==i&&3!==p.nodeType||(l=a+i),p!==o||0!==r&&3!==p.nodeType||(c=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===i&&(l=a),h===o&&++d===r&&(c=a),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},$d=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(o=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=Fs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))sd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),fl(c,e),tr(Yu,e.containerInfo),$d=!!Ku,Yu=Ku=null,e.current=c,il(e,c.alternate,c),ae(),ec=a,H.p=o,T.T=n):e.current=c,Sc?(Sc=!1,Cc=e,jc=r):eu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&jc)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Ac?Ec++:(Ec=0,Ac=e):Ec=0,gu(0,!1)}(e,t,n,r,p,i,o,a)}finally{T.T=d,H.p=p}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function tu(){if(null!==Cc){var e=Cc,t=Nc;Nc=0;var n=Le(jc),r=T.T,i=H.p;try{if(H.p=32>n?32:n,T.T=null,null===Cc)var o=!1;else{n=Dc,Dc=null;var a=Cc,l=jc;if(Cc=null,jc=0,0!==(6&ec))throw Error(s(331));var c=ec;if(ec|=4,Ol(a.current),Sl(a,a.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(u){}o=!0}return o}finally{H.p=i,T.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Pr(n,t),null!==(e=Ma(e,t=zs(e.stateNode,t,2),2))&&(Me(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Pr(n,e),null!==(r=Ma(t,n=Vs(2),2))&&(Hs(n,r,t,e),Me(r,2),mu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-xc?0===(2&ec)&&zc(e,0):hc|=n,mc===rc&&(mc=0)),mu(e)}function su(e,t){0===t&&(t=Te()),null!==(e=Ar(e,t))&&(Me(e,t),mu(e))}function au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),su(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),su(e,n)}var cu=null,uu=null,du=!1,pu=!1,hu=!1,fu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),pu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?ie(ue,t):t()})))}function gu(e,t){if(!hu&&pu){hu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-be(42|e)+1)-1,o=201326677&(o&=i&~(s&~a))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,bu(r,o))}else o=rc,0===(3&(o=Ne(r,r===tc?o:0)))||De(r,o)||(n=!0,bu(r,o));r=r.next}}while(n);hu=!1}}function vu(){pu=du=!1;var e=0;0!==fu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=fu),fu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,o=yu(r,t);0===o?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&o))&&(pu=!0)),r=i}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-be(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ee(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=rc,n=Ne(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||De(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=fe}return r=xu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function xu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ne(e,e===tc?r:0))?null:(Fc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?xu.bind(null,e):null)}function bu(e,t){if(tu())return null;Fc(e,t,!0)}function wu(){return 0===fu&&(fu=Ae()),fu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Cu=0;Cu<wr.length;Cu++){var ju=wr[Cu];kr(ju.toLowerCase(),"on"+(ju[0].toUpperCase()+ju.slice(1)))}kr(hr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(xr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Eu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Ps(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Ps(u)}i.currentTarget=null,o=l}}}}function Au(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(Fu(t,e,2,!1),n.add(r))}function Tu(e,t,n){var r=0;t&&(r|=4),Fu(n,e,r,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[Ou]){e[Ou]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Du.has(t)||Tu(t,!1,e),Tu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Tu("selectionchange",!1,t))}}function Fu(e,t,n,r){switch(Qd(t)){case 2:var i=Wd;break;case 8:i=qd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Ke(a)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Rt((function(){var r=o,i=Ot(n),s=[];e:{var a=br.get(e);if(void 0!==a){var l=Xt,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=fn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case hr:case fr:case mr:l=sn;break;case xr:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=xn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),p=u?null!==a?a+"Capture":null:a;u=[];for(var h,f=r;null!==f;){var m=f;if(h=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===h||null===p||null!=(m=_t(f,p))&&u.push(Lu(f,m,h)),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Tt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[ze])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=_(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?a:Je(l),h=null==c?a:Je(c),(a=new u(m,f+"leave",l,n,i)).target=d,a.relatedTarget=h,m=null,Ke(i)===r&&((u=new u(p,f+"enter",c,n,i)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,f=0,h=u=l;h;h=_u(h))f++;for(h=0,m=p;m;m=_u(m))h++;for(;0<f-h;)u=_u(u),f--;for(;0<h-f;)p=_u(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=_u(u),p=_u(p)}u=null}else u=null;null!==l&&Bu(s,a,l,u,!1),null!==c&&null!==d&&Bu(s,d,c,u,!0)}if("select"===(l=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=_n;else if(On(a))if(Bn)g=Kn;else{g=Wn;var v=$n}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Nt(r.elementType)&&(g=_n):g=qn;switch(g&&(g=g(e,r))?Mn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),v=r?Je(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var y;if(wn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?Dn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(y=Ut()):(Vt="value"in(zt=i)?zt.value:zt.textContent,An=!0)),0<(v=Ru(r,x)).length&&(x=new ln(x,e,null,n,i),s.push({event:x,listeners:v}),y?x.data=y:null!==(y=En(n))&&(x.data=y))),(y=Sn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Nn=!0,jn);case"textInput":return(e=t.data)===jn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!wn&&Dn(e,t)?(e=Ut(),Ht=Vt=zt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Ru(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:x}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=ku((i[Ie]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ie]||null)?ku(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Xt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fu){var e=s?Su(i,s):new FormData(i);ds(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Su(i,s):new FormData(i),ds(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Eu(s,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ru(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=_t(e,n))&&r.unshift(Lu(e,i,o)),null!=(i=_t(e,t))&&r.push(Lu(e,i,o))),e=e.return}return r}function _u(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Bu(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=_t(n,o))&&s.unshift(Lu(n,c,l)):i||null!=(c=_t(n,o))&&s.push(Lu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Iu=/\r\n?/g,zu=/\u0000|\uFFFD/g;function Vu(e){return("string"===typeof e?e:""+e).replace(Iu,"\n").replace(zu,"")}function Hu(e,t){return t=Vu(t),Vu(e)===t}function Uu(){}function $u(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":jt(e,r,o);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&$u(e,t,"name",i.name,i,null),$u(e,t,"formEncType",i.formEncType,i,null),$u(e,t,"formMethod",i.formMethod,i,null),$u(e,t,"formTarget",i.formTarget,i,null)):($u(e,t,"encType",i.encType,i,null),$u(e,t,"method",i.method,i,null),$u(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Uu);break;case"onScroll":null!=r&&Au("scroll",e);break;case"onScrollEnd":null!=r&&Au("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Au("beforetoggle",e),Au("toggle",e),st(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Dt.get(n)||n,r)}}function Wu(e,t,n,r,i,o){switch(n){case"style":jt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Au("scroll",e);break;case"onScrollEnd":null!=r&&Au("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ie]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function qu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Au("error",e),Au("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,r,a,n,null)}}return o&&$u(e,t,"srcSet",n.srcSet,n,null),void(i&&$u(e,t,"src",n.src,n,null));case"input":Au("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:$u(e,t,i,d,n,null)}}return vt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Au("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:$u(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(a in Au("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:$u(e,t,a,l,n,null)}return wt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else $u(e,t,c,i,n,null);return;case"dialog":Au("cancel",e),Au("close",e);break;case"iframe":case"object":Au("load",e);break;case"video":case"audio":for(i=0;i<Nu.length;i++)Au(Nu[i],e);break;case"image":Au("error",e),Au("load",e);break;case"details":Au("toggle",e);break;case"embed":case"source":case"link":Au("error",e),Au("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Wu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&$u(e,t,l,i,n,null))}var Ku=null,Yu=null;function Ju(e){return 9===e.nodeType?e:e.ownerDocument}function Gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function od(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void mp(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mp(t)}function sd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ad(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Ju(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var ud=new Map,dd=new Set;function pd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=H.d;H.d={f:function(){var e=hd.f(),t=Bc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?hs(t):hd.r(e)},D:function(e){hd.D(e),md("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){hd.L(e,t,n);var r=fd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=vd(e);break;case"script":o=bd(e)}ud.has(o)||(e=O({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(yd(o))||"script"===t&&r.querySelector(wd(o))||(qu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var n=fd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=bd(e)}if(!ud.has(o)&&(e=O({rel:"modulepreload",href:e},t),ud.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(o)))return}qu(r=n.createElement("link"),"link",e),Qe(r),n.head.appendChild(r)}}},X:function(e,t){hd.X(e,t);var n=fd;if(n&&e){var r=Ge(n).hoistableScripts,i=bd(e),o=r.get(i);o||((o=n.querySelector(wd(i)))||(e=O({src:e,async:!0},t),(t=ud.get(i))&&jd(e,t),Qe(o=n.createElement("script")),qu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){hd.S(e,t,n);var r=fd;if(r&&e){var i=Ge(r).hoistableStyles,o=vd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(yd(o)))a.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(o))&&Cd(e,n);var l=s=r.createElement("link");Qe(l),qu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Sd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){hd.M(e,t);var n=fd;if(n&&e){var r=Ge(n).hoistableScripts,i=bd(e),o=r.get(i);o||((o=n.querySelector(wd(i)))||(e=O({src:e,async:!0,type:"module"},t),(t=ud.get(i))&&jd(e,t),Qe(o=n.createElement("script")),qu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var fd="undefined"===typeof document?null:document;function md(e,t,n){var r=fd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(qu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var i,o,a,l,c=(c=Q.current)?pd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=Ge(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Ge(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),qu(o,"link",a),Qe(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=bd(n),(r=(n=Ge(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function vd(e){return'href="'+mt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function bd(e){return'[src="'+mt(e)+'"]'}function wd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Qe(r),r;var i=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(r=(e.ownerDocument||e).createElement("style")),qu(r,"style",i),Sd(r,n.precedence,e),t.instance=r;case"stylesheet":i=vd(n.href);var o=e.querySelector(yd(i));if(o)return t.state.loading|=4,t.instance=o,Qe(o),o;r=xd(n),(i=ud.get(i))&&Cd(r,i),Qe(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),qu(o,"link",r),t.state.loading|=4,Sd(o,n.precedence,e),t.instance=o;case"script":return o=bd(n.src),(i=e.querySelector(wd(o)))?(t.instance=i,Qe(i),i):(r=n,(i=ud.get(o))&&jd(r=O({},n),i),Qe(i=(e=e.ownerDocument||e).createElement("script")),qu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Sd(r,n.precedence,e));return t.instance}function Sd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Cd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Nd=null;function Dd(e,t,n){if(null===Nd){var r=new Map,i=Nd=new Map;i.set(n,r)}else(r=(i=Nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[We]||o[Be]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Ed(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ad(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Td=null;function Od(){}function Md(){if(this.count--,0===this.count)if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Fd=null;function Pd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Fd=new Map,t.forEach(Ld,e),Fd=null,Md.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var n=Fd.get(e);if(n)var r=n.get(null);else{n=new Map,Fd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Md.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Rd={$$typeof:g,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function _d(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Bd(e,t,n,r,i,o,s,a,l,c,u,d){return e=new _d(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Ll(3,null,null,t),e.current=o,o.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Aa(o),e}function Id(e){return e?e=Mr:Mr}function zd(e,t,n,r,i,o){i=Id(i),null===r.context?r.context=i:r.pendingContext=i,(r=Oa(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=Ma(e,r,t))&&(Mc(n,0,t),Fa(n,e,t))}function Vd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hd(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function Ud(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Mc(t,0,67108864),Hd(e,67108864)}}var $d=!0;function Wd(e,t,n,r){var i=T.T;T.T=null;var o=H.p;try{H.p=2,Kd(e,t,n,r)}finally{H.p=o,T.T=i}}function qd(e,t,n,r){var i=T.T;T.T=null;var o=H.p;try{H.p=8,Kd(e,t,n,r)}finally{H.p=o,T.T=i}}function Kd(e,t,n,r){if($d){var i=Yd(r);if(null===i)Pu(e,t,r,Jd,n),sp(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zd=ap(Zd,e,t,n,r,i),!0;case"dragenter":return ep=ap(ep,e,t,n,r,i),!0;case"mouseover":return tp=ap(tp,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return np.set(o,ap(np.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rp.set(o,ap(rp.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(sp(e,r),4&t&&-1<op.indexOf(e)){for(;null!==i;){var o=Ye(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=je(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-be(s);a.entanglements[1]|=l,s&=~l}mu(o),0===(6&ec)&&(bc=le()+500,gu(0,!1))}}break;case 13:null!==(a=Ar(o,2))&&Mc(a,0,2),Bc(),Hd(o,2)}if(null===(o=Yd(r))&&Pu(e,t,r,Jd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Pu(e,t,r,null,n)}}function Yd(e){return Gd(e=Ot(e))}var Jd=null;function Gd(e){if(Jd=null,null!==(e=Ke(e))){var t=_(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=B(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jd=e,null}function Qd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case pe:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,ep=null,tp=null,np=new Map,rp=new Map,ip=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sp(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":ep=null;break;case"mouseover":case"mouseout":tp=null;break;case"pointerover":case"pointerout":np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(t.pointerId)}}function ap(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ye(t))&&Ud(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lp(e){var t=Ke(e.target);if(null!==t){var n=_(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=B(n)))return e.blockedOn=t,void function(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}(e.priority,(function(){if(13===n.tag){var e=Tc(),t=Ar(n,e);null!==t&&Mc(t,0,e),Hd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function cp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&Ud(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function up(e,t,n){cp(e)&&n.delete(t)}function dp(){Xd=!1,null!==Zd&&cp(Zd)&&(Zd=null),null!==ep&&cp(ep)&&(ep=null),null!==tp&&cp(tp)&&(tp=null),np.forEach(up),rp.forEach(up)}function pp(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dp)))}var hp=null;function fp(e){hp!==e&&(hp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){hp===e&&(hp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Gd(r||n))continue;break}var o=Ye(n);null!==o&&(e.splice(t,3),t-=3,ds(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mp(e){function t(t){return pp(t,e)}null!==Zd&&pp(Zd,e),null!==ep&&pp(ep,e),null!==tp&&pp(tp,e),np.forEach(t),rp.forEach(t);for(var n=0;n<ip.length;n++){var r=ip[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ip.length&&null===(n=ip[0]).blockedOn;)lp(n),null===n.blockedOn&&ip.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ie]||null;if("function"===typeof o)s||fp(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ie]||null)a=s.formAction;else if(null!==Gd(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),fp(n)}}}function gp(e){this._internalRoot=e}function vp(e){this._internalRoot=e}vp.prototype.render=gp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zd(t.current,Tc(),e,t,null,null)},vp.prototype.unmount=gp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),zd(e.current,2,null,e,null,null),Bc(),t[ze]=null}},vp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ip.length&&0!==t&&t<ip[n].priority;n++);ip.splice(n,0,e),0===n&&lp(e)}};var yp=i.version;if("19.0.0"!==yp)throw Error(s(527,yp,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=_(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return I(i),e;if(o===r)return I(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var xp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{ve=bp.inject(xp),ye=bp}catch(kp){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ls,o=Rs,l=_s;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Bd(e,1,!1,null,0,n,r,i,o,l,0,null),e[ze]=t.current,Mu(8===e.nodeType?e.parentNode:e),new gp(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ls,l=Rs,c=_s,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Bd(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Id(null),n=t.current,(i=Oa(r=Tc())).callback=null,Ma(n,i,r),t.current.lanes=r,Me(t,r),mu(t),e[ze]=t.current,Mu(e),new vp(t)},t.version="19.0.0"},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case p:return A((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+D(e,0):o,w(s)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(j(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+u,s=C(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=A(o=e[m],t,i,a=f+D(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=A(o=o.value,t,i,a=f+D(o,m++),s);else if("object"===a){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function F(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=x,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return C(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(F,M)}catch(o){M(o)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},579:(e,t,n)=>{"use strict";e.exports=n(799)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O();else{var t=r(u);null!==t&&M(w,t.startTime-e)}}var k,S=!1,C=-1,j=5,N=-1;function D(){return!(t.unstable_now()-N<j)}function E(){if(S){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(C),C=-1),f=!0;var o=h;try{t:{for(b(e),p=r(c);null!==p&&!(p.expirationTime>e&&D());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){p.callback=a,b(e),n=!0;break t}p===r(c)&&i(c),b(e)}else i(c);p=r(c)}if(null!==p)n=!0;else{var l=r(u);null!==l&&M(w,l.startTime-e),n=!1}}break e}finally{p=null,h=o,f=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof x)k=function(){x(E)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=E,k=function(){T.postMessage(null)}}else k=function(){v(E,0)};function O(){S||(S=!0,k())}function M(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,M(w,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,O())),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},330:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},717:(e,t,n)=>{"use strict";var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=s(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=h}),[h]),u(h),h}},461:(e,t,n)=>{"use strict";e.exports=n(330)},443:(e,t,n)=>{"use strict";e.exports=n(717)},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Gd,hasStandardBrowserEnv:()=>Xd,hasStandardBrowserWebWorkerEnv:()=>Zd,navigator:()=>Qd,origin:()=>ep});var t=n(43),r=n(391);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const u=["sri"],d=["page"],p=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function v(){return C((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return w("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=d();function d(){return(s.state||{idx:null}).idx}function p(){a="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:k(e);return n=n.replace(/ $/,"%20"),y(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==u&&(u=0,s.replaceState(c(c({},s.state),{},{idx:u}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g,p),l=e,()=>{i.removeEventListener(g,p),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=w(f.location,e,t);n&&n(r,e),u=d()+1;let c=b(r,u),p=f.createHref(r);try{s.pushState(c,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(p)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a="REPLACE";let r=w(f.location,e,t);n&&n(r,e),u=d();let i=b(r,u),c=f.createHref(r);s.replaceState(i,"",c),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}new WeakMap;function j(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=V(("string"===typeof t?S(t):t).pathname||"/",n);if(null==i)return null;let o=D(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=z(i);s=_(o[a],e,r)}return s}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(y(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let a=q([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),D(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=E(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var A=/^:[\w-]+$/,T=3,O=2,M=1,F=10,P=-2,L=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=P),t&&(r+=O),n.filter((e=>!L(e))).reduce(((e,t)=>e+(A.test(t)?T:""===t?M:F)),r)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:q([o,u.pathname]),pathnameBase:K(q([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=q([o,u.pathnameBase]))}return s}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function $(e){let t=U(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function W(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=c({},e),y(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?S(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Y(r),hash:J(i)}}(r,o),u=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var q=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],X=(new Set(Q),["GET",...Q]);new Set(X),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var ee=t.createContext(null);ee.displayName="DataRouterState";var te=t.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=t.createContext(new Map);ne.displayName="Fetchers";var re=t.createContext(null);re.displayName="Await";var ie=t.createContext(null);ie.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var se=t.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var ae=t.createContext(null);ae.displayName="RouteError";function le(){return null!=t.useContext(oe)}function ce(){return y(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){t.useContext(ie).static||t.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=t.useContext(se);return e?function(){let{router:e}=we("useNavigate"),n=Se("useNavigate"),r=t.useRef(!1);de((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(r.current,ue),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},i)))}),[e,n]);return i}():function(){y(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:r}=t.useContext(ie),{matches:i}=t.useContext(se),{pathname:o}=ce(),s=JSON.stringify($(i)),a=t.useRef(!1);de((()=>{a.current=!0}));let l=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(a.current,ue),!a.current)return;if("number"===typeof t)return void r.go(t);let l=W(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:q([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,s,o,e]);return l}()}t.createContext(null);function he(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(se),{pathname:i}=ce(),o=JSON.stringify($(r));return t.useMemo((()=>W(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function fe(e,n,r,i){y(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:s}=t.useContext(ie),{matches:a}=t.useContext(se),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Ne(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=ce();if(n){var g;let e="string"===typeof n?S(n):n;y("/"===p||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",b=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&r&&r.matches&&r.matches.length>0?r.matches:j(e,{pathname:b});x(h||null!=w,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),x(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=xe(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:q([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:q([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&k?t.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},k):k}function me(){let e=Ce(),n=G(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,a)}var ge=t.createElement(me,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(se.Provider,{value:this.props.routeContext},t.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(Z);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(se.Provider,{value:n},i)}function xe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,a=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){s=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,d=!1,p=null,h=null;r&&(u=o&&l.route.id?o[l.route.id]:void 0,p=l.route.errorElement||ge,s&&(a<0&&0===c?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):a===c&&(d=!0,h=l.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?p:d?h:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(ye,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(ve,{location:r.location,revalidation:r.revalidation,component:p,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let n=t.useContext(Z);return y(n,be(e)),n}function ke(e){let n=t.useContext(ee);return y(n,be(e)),n}function Se(e){let n=function(e){let n=t.useContext(se);return y(n,be(e)),n}(e),r=n.matches[n.matches.length-1];return y(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ce(){var e;let n=t.useContext(ae),r=ke("useRouteError"),i=Se("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var je={};function Ne(e,t,n){t||je[e]||(je[e]=!0,x(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return fe(t,void 0,r,n)}));function De(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ee(e){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;y(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:s,static:a,future:{}})),[l,s,a]);"string"===typeof i&&(i=S(i));let{pathname:u="/",search:d="",hash:p="",state:h=null,key:f="default"}=i,m=t.useMemo((()=>{let e=V(u,l);return null==e?null:{location:{pathname:e,search:d,hash:p,state:h,key:f},navigationType:o}}),[l,u,d,p,h,f,o]);return x(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(ie.Provider,{value:c},t.createElement(oe.Provider,{children:r,value:m}))}function Ae(e){let{children:t,location:n}=e;return fe(Te(t),n)}t.Component;function Te(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Te(e.props.children,o));y(e.type===De,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Te(e.props.children,o)),r.push(s)})),r}var Oe="get",Me="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Pe=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Re(e){return null==e||Le.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function _e(e,t){let n,r,i,o,s;if(Fe(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?V(s,t):null,n=e.getAttribute("method")||Oe,i=Re(e.getAttribute("enctype"))||Me,o=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?V(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Oe,i=Re(e.getAttribute("formenctype"))||Re(s.getAttribute("enctype"))||Me,o=new FormData(s,e),!function(){if(null===Pe)try{new FormData(document.createElement("form"),0),Pe=!1}catch(e){Pe=!0}return Pe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oe,r=null,i=Me,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ie(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ze(e){return null!=e&&"string"===typeof e.page}function Ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function He(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ue(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function $e(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function We(e){return{__html:e}}Symbol("SingleFetchRedirect");var qe=new Set([100,101,204,205]);function Ke(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===V(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}t.Component;function Ye(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,o=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(G(n))return t.createElement(Je,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Je,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Je(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=et();return null!==a.root&&void 0!==n&&n.Layout&&!o?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?t.createElement(at,null):null)))}function Ge(e){return!0===e}function Qe(){let e=t.useContext(Z);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=t.useContext(ee);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=t.createContext(void 0);function et(){let e=t.useContext(Ze);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(e){let{page:n}=e,r=i(e,d),{router:o}=Qe(),s=t.useMemo((()=>j(o.routes,n,o.basename)),[o.routes,n,o.basename]);return s?t.createElement(ot,c({page:n,matches:s},r)):null}function it(e){let{manifest:n,routeModules:r}=et(),[i,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return $e((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ie(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ve).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"}))))}(e,n,r).then((e=>{t||o(e)})),()=>{t=!0}}),[e,n,r]),i}function ot(e){let{page:n,matches:r}=e,o=i(e,p),s=ce(),{manifest:a,routeModules:l}=et(),{basename:u}=Qe(),{loaderData:d,matches:h}=Xe(),f=t.useMemo((()=>He(n,r,h,a,s,"data")),[n,r,h,a,s]),m=t.useMemo((()=>He(n,r,h,a,s,"assets")),[n,r,h,a,s]),g=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{var r;let i=a.routes[n.route.id];i&&i.hasLoader&&(!f.some((e=>e.route.id===n.route.id))&&n.route.id in d&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Ke(n,u);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[u,d,s,a,f,r,n,l]),v=t.useMemo((()=>Ue(m,a)),[m,a]),y=it(m);return t.createElement(t.Fragment,null,g.map((e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},o)))),v.map((e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},o)))),y.map((e=>{let{key:n,link:r}=e;return t.createElement("link",c({key:n},r))})))}Ze.displayName="FrameworkContext";var st=!1;function at(e){let{manifest:n,serverHandoffString:r,isSpaMode:o,ssr:s,renderMeta:a}=et(),{router:l,static:d,staticContext:p}=Qe(),{matches:h}=Xe(),f=Ge(s);a&&(a.didRenderScripts=!0);let m=nt(h,null,o);t.useEffect((()=>{0}),[]);let g=t.useMemo((()=>{var o;let s=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(m.map(((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];Be(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,u),o=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach((e=>{let n=j(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let l=[...o].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(s),type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(a),type:"module",async:!0})))}),[]),v=st?[]:(n.entry.imports.concat(Ue(m,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let x="object"===typeof n.sri?n.sri:{};return st?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),v.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0}))),g)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.5.1")}catch(iA){}function ut(e){let{basename:n,children:r,window:i}=e,o=t.useRef();null==o.current&&(o.current=v({window:i,v5Compat:!0}));let s=o.current,[a,l]=t.useState({action:s.action,location:s.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>s.listen(c)),[s,c]),t.createElement(Ee,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:s})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=t.forwardRef((function(e,n){let r,{onClick:o,discover:s="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:p,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,b=i(e,h),{basename:w}=t.useContext(ie),S="string"===typeof m&&dt.test(m),C=!1;if("string"===typeof m&&S&&(r=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=V(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:C=!0}catch(iA){x(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let j=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(ie),{hash:o,pathname:s,search:a}=he(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:q([r,s])),i.createHref({pathname:l,search:a,hash:o})}(m,{relative:l}),[N,D,E]=function(e,n){let r=t.useContext(Ze),[i,o]=t.useState(!1),[s,a]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=n,h=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let f=()=>{o(!0)},m=()=>{o(!1),a(!1)};return r?"intent"!==e?[s,h,{}]:[s,h,{onFocus:tt(l,f),onBlur:tt(c,m),onMouseEnter:tt(u,f),onMouseLeave:tt(d,m),onTouchStart:tt(p,f)}]:[!1,h,{}]}(a,b),A=function(e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),c=ce(),u=he(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:k(c)===k(u);l(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[c,l,u,r,i,n,e,o,s,a])}(m,{replace:d,state:p,target:f,preventScrollReset:g,relative:l,viewTransition:v});let T=t.createElement("a",c(c(c({},b),E),{},{href:r||j,onClick:C||u?o:function(e){o&&o(e),e.defaultPrevented||A(e)},ref:lt(n,D),target:f,"data-discover":S||"render"!==s?void 0:"true"}));return N&&!S?t.createElement(t.Fragment,null,T,t.createElement(rt,{page:j})):T}));pt.displayName="Link";var ht=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:p}=e,h=i(e,f),m=he(u,{relative:h.relative}),g=ce(),v=t.useContext(ee),{navigator:x,basename:b}=t.useContext(ie),w=null!=v&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(te);y(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gt("useViewTransitionState"),o=he(e,{relative:n.relative});if(!r.isTransitioning)return!1;let s=V(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=V(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=B(o.pathname,a)||null!=B(o.pathname,s)}(m)&&!0===d,k=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,S=g.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(S=S.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&b&&(C=V(C,b)||C);const j="/"!==k&&k.endsWith("/")?k.length-1:k.length;let N,D=S===k||!a&&S.startsWith(k)&&"/"===S.charAt(j),E=null!=C&&(C===k||!a&&C.startsWith(k)&&"/"===C.charAt(k.length)),A={isActive:D,isPending:E,isTransitioning:w},T=D?r:void 0;N="function"===typeof s?s(A):[s,D?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof l?l(A):l;return t.createElement(pt,c(c({},h),{},{"aria-current":T,className:N,ref:n,style:O,to:u,viewTransition:d}),"function"===typeof p?p(A):p)}));ht.displayName="NavLink";var ft=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:o,navigate:s,reloadDocument:a,replace:l,state:u,method:d=Oe,action:p,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v}=e,x=i(e,m),b=xt(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ie),i=t.useContext(se);y(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=c({},he(e||".",{relative:n})),a=ce();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:q([r,s.pathname]));return k(s)}(p,{relative:f}),S="get"===d.toLowerCase()?"get":"post",C="string"===typeof p&&dt.test(p);return t.createElement("form",c(c({ref:n,method:S,action:w,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:o,method:n,navigate:s,replace:l,state:u,relative:f,preventScrollReset:g,viewTransition:v})}},x),{},{"data-discover":C||"render"!==r?void 0:"true"}))}));function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let n=t.useContext(Z);return y(n,mt(e)),n}ft.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function xt(){let{router:e}=gt("useSubmit"),{basename:n}=t.useContext(ie),r=Se("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:c}=_e(t,n);if(!1===i.navigate){let t=i.fetcherKey||yt();await e.fetch(t,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;const bt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wt=(()=>new Set(bt))(),kt=e=>180*e/Math.PI,St=e=>{const t=kt(Math.atan2(e[1],e[0]));return jt(t)},Ct={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:St,rotateZ:St,skewX:e=>kt(Math.atan(e[1])),skewY:e=>kt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jt=e=>((e%=360)<0&&(e+=360),e),Nt=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Dt=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Et={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nt,scaleY:Dt,scale:e=>(Nt(e)+Dt(e))/2,rotateX:e=>jt(kt(Math.atan2(e[6],e[5]))),rotateY:e=>jt(kt(Math.atan2(-e[2],e[0]))),rotateZ:St,rotate:St,skewX:e=>kt(Math.atan(e[4])),skewY:e=>kt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function At(e){return e.includes("scale")?1:0}function Tt(e,t){if(!e||"none"===e)return At(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=Et,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Ct,i=t}if(!i)return At(t);const o=r[t],s=i[1].split(",").map(Ot);return"function"===typeof o?o(s):s[o]}function Ot(e){return parseFloat(e.trim())}const Mt=e=>t=>"string"===typeof t&&t.startsWith(e),Ft=Mt("--"),Pt=Mt("var(--"),Lt=e=>!!Pt(e)&&Rt.test(e.split("/*")[0].trim()),Rt=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function _t(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}const Bt=(e,t,n)=>e+(t-e)*n;function It(e){return void 0===e||1===e}function zt(e){let{scale:t,scaleX:n,scaleY:r}=e;return!It(t)||!It(n)||!It(r)}function Vt(e){return zt(e)||Ht(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ht(e){return Ut(e.x)||Ut(e.y)}function Ut(e){return e&&"0%"!==e}function $t(e,t,n){return n+t*(e-n)}function Wt(e,t,n,r,i){return void 0!==i&&(e=$t(e,i,r)),$t(e,n,r)+t}function qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Wt(e.min,t,n,r,i),e.max=Wt(e.max,t,n,r,i)}function Kt(e,t){let{x:n,y:r}=t;qt(e.x,n.translate,n.scale,n.originPoint),qt(e.y,r.translate,r.scale,r.originPoint)}const Yt=.999999999999,Jt=1.0000000000001;function Gt(e,t){e.min=e.min+t,e.max=e.max+t}function Qt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;qt(e,t,n,Bt(e.min,e.max,i),r)}function Xt(e,t){Qt(e.x,t.x,t.scaleX,t.scale,t.originX),Qt(e.y,t.y,t.scaleY,t.scale,t.originY)}function Zt(e,t){return _t(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const en=new Set(["width","height","top","left","right","bottom",...bt]),tn=(e,t,n)=>n>t?t:n<e?e:n,nn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},rn=c(c({},nn),{},{transform:e=>tn(0,1,e)}),on=c(c({},nn),{},{default:1}),sn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),an=sn("deg"),ln=sn("%"),cn=sn("px"),un=sn("vh"),dn=sn("vw"),pn=(()=>c(c({},ln),{},{parse:e=>ln.parse(e)/100,transform:e=>ln.transform(100*e)}))(),hn=e=>t=>t.test(e),fn=[nn,cn,ln,an,dn,un,{test:e=>"auto"===e,parse:e=>e}],mn=e=>fn.find(hn(e));const gn=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),vn=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function yn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=vn.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return gn(e)?parseFloat(e):e}return Lt(i)?yn(i,t,n+1):i}const xn=e=>e===nn||e===cn,bn=new Set(["x","y","z"]),wn=bt.filter((e=>!bn.has(e)));const kn={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Tt(n,"x")},y:(e,t)=>{let{transform:n}=t;return Tt(n,"y")}};kn.translateX=kn.x,kn.translateY=kn.y;const Sn=e=>e,Cn={},jn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Nn={value:null,addProjectionMetrics:null};function Dn(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=jn.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{a=e,i?o=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Nn.value&&Nn.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(e)))}};return u}(o,t?n:void 0),e)),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:p,render:h,postRender:f}=s,m=()=>{const o=Cn.useManualTiming?i.timestamp:performance.now();n=!1,Cn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1)),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),p.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=jn.reduce(((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),a.schedule(t,o,s)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<jn.length;t++)s[jn[t]].cancel(e)},state:i,steps:s}}const{schedule:En,cancel:An,state:Tn,steps:On}=Dn("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Sn,!0),Mn=new Set;let Fn=!1,Pn=!1,Ln=!1;function Rn(){if(Pn){const e=Array.from(Mn).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return wn.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Pn=!1,Fn=!1,Mn.forEach((e=>e.complete(Ln))),Mn.clear()}function _n(){Mn.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Pn=!0)}))}class Bn{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Mn.add(this),Fn||(Fn=!0,En.read(_n),En.resolveKeyframes(Rn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mn.delete(this)}cancel(){"scheduled"===this.state&&(Mn.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const In=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const zn=e=>Math.round(1e5*e)/1e5,Vn=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Hn=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Un=(e,t)=>n=>Boolean("string"===typeof n&&Hn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),$n=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,s,a]=r.match(Vn);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Wn=c(c({},nn),{},{transform:e=>Math.round((e=>tn(0,255,e))(e))}),qn={test:Un("rgb","red"),parse:$n("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Wn.transform(t)+", "+Wn.transform(n)+", "+Wn.transform(r)+", "+zn(rn.transform(i))+")"}};const Kn={test:Un("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:qn.transform},Yn={test:Un("hsl","hue"),parse:$n("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+ln.transform(zn(n))+", "+ln.transform(zn(r))+", "+zn(rn.transform(i))+")"}},Jn={test:e=>qn.test(e)||Kn.test(e)||Yn.test(e),parse:e=>qn.test(e)?qn.parse(e):Yn.test(e)?Yn.parse(e):Kn.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?qn.transform(e):Yn.transform(e),getAnimatableNone:e=>{const t=Jn.parse(e);return t.alpha=0,Jn.transform(t)}},Gn=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Qn="number",Xn="color",Zn=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function er(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(Zn,(e=>(Jn.test(e)?(r.color.push(o),i.push(Xn),n.push(Jn.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(Qn),n.push(parseFloat(e))),++o,"${}"))).split("${}");return{values:n,split:s,indexes:r,types:i}}function tr(e){return er(e).values}function nr(e){const{split:t,types:n}=er(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===Qn?zn(e[o]):t===Xn?Jn.transform(e[o]):e[o]}return i}}const rr=e=>"number"===typeof e?0:Jn.test(e)?Jn.getAnimatableNone(e):e;const ir={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Vn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Gn))||void 0===n?void 0:n.length)||0)>0},parse:tr,createTransformer:nr,getAnimatableNone:function(e){const t=tr(e);return nr(e)(t.map(rr))}},or=new Set(["brightness","contrast","saturate","opacity"]);function sr(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Vn)||[];if(!r)return e;const i=n.replace(r,"");let o=or.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const ar=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,lr=c(c({},ir),{},{getAnimatableNone:e=>{const t=e.match(ar);return t?t.map(sr).join(" "):e}}),cr=c(c({},nn),{},{transform:Math.round}),ur=c(c({borderWidth:cn,borderTopWidth:cn,borderRightWidth:cn,borderBottomWidth:cn,borderLeftWidth:cn,borderRadius:cn,radius:cn,borderTopLeftRadius:cn,borderTopRightRadius:cn,borderBottomRightRadius:cn,borderBottomLeftRadius:cn,width:cn,maxWidth:cn,height:cn,maxHeight:cn,top:cn,right:cn,bottom:cn,left:cn,padding:cn,paddingTop:cn,paddingRight:cn,paddingBottom:cn,paddingLeft:cn,margin:cn,marginTop:cn,marginRight:cn,marginBottom:cn,marginLeft:cn,backgroundPositionX:cn,backgroundPositionY:cn},{rotate:an,rotateX:an,rotateY:an,rotateZ:an,scale:on,scaleX:on,scaleY:on,scaleZ:on,skew:an,skewX:an,skewY:an,distance:cn,translateX:cn,translateY:cn,translateZ:cn,x:cn,y:cn,z:cn,perspective:cn,transformPerspective:cn,opacity:rn,originX:pn,originY:pn,originZ:cn}),{},{zIndex:cr,fillOpacity:rn,strokeOpacity:rn,numOctaves:cr}),dr=c(c({},ur),{},{color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:lr,WebkitFilter:lr}),pr=e=>dr[e];function hr(e,t){let n=pr(e);return n!==lr&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fr=new Set(["auto","none","0"]);class mr extends Bn{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Lt(n))){const r=yn(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!en.has(n)||2!==e.length)return;const[r,i]=e,o=mn(r),s=mn(i);if(o!==s)if(xn(o)&&xn(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else kn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(null===e[i]||("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||In(r)))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!fr.has(t)&&er(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=hr(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=kn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const gr=e=>Boolean(e&&e.getVelocity);let vr;function yr(){vr=void 0}const xr={now:()=>(void 0===vr&&xr.set(Tn.isProcessing||Cn.useManualTiming?Tn.timestamp:performance.now()),vr),set:e=>{vr=e,queueMicrotask(yr)}};function br(e,t){-1===e.indexOf(t)&&e.push(t)}function wr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kr{constructor(){this.subscriptions=[]}add(e){return br(this.subscriptions,e),()=>wr(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Sr(e,t){return t?e*(1e3/t):0}const Cr={current:void 0};class jr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=xr.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=xr.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new kr);const n=this.events[e].add(t);return"change"===e?()=>{n(),En.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Cr.current&&Cr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=xr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Sr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nr(e,t){return new jr(e,t)}const Dr=[...fn,Jn,ir],{schedule:Er,cancel:Ar}=Dn(queueMicrotask,!1),Tr={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Or={};for(const n in Tr)Or[n]={isEnabled:e=>Tr[n].some((t=>!!e[t]))};const Mr=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Fr="undefined"!==typeof window,Pr={current:null},Lr={current:!1};const Rr=new WeakMap;function _r(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Br(e){return"string"===typeof e||Array.isArray(e)}const Ir=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zr=["initial",...Ir];function Vr(e){return _r(e.animate)||zr.some((t=>Br(e[t])))}function Hr(e){return Boolean(Vr(e)||e.variants)}function Ur(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function $r(e,t,n,r){if("function"===typeof t){const[i,o]=Ur(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=Ur(r);t=t(void 0!==n?n:e.custom,i,o)}return t}const Wr=["willChange"],qr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kr{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=xr.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,En.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget=c({},u),this.initialValues=n.initial?c({},u):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=Vr(n),this.isVariantNode=Hr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const p=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=p,f=i(p,Wr);for(const i in f){const e=f[i];void 0!==u[i]&&gr(e)&&e.set(u[i])}}mount(e){var t;this.current=e,Rr.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Lr.current||function(){if(Lr.current=!0,Fr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pr.current=e.matches;e.addEventListener("change",t),t()}else Pr.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Pr.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),An(this.notifyUpdate),An(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wt.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&En.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}));let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Or){const t=Or[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<qr.length;n++){const t=qr[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(gr(i))e.addValue(r,i);else if(gr(o))e.addValue(r,Nr(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Nr(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Nr(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(gn(r)||In(r))?r=parseFloat(r):(i=r,!Dr.find(hn(i))&&ir.test(t)&&(r=hr(e,t))),this.setBaseTarget(e,gr(r)?r.get():r)),gr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=$r(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||gr(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new kr),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Er.render(this.render)}}class Yr extends Kr{constructor(){super(...arguments),this.KeyframeResolver=mr}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}const Jr=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Gr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qr=bt.length;function Xr(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(wt.has(l))s=!0;else if(Ft(l))i[l]=e;else{const t=Jr(e,ur[l]);l.startsWith("origin")?(a=!0,o[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<Qr;o++){const s=bt[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=Jr(a,ur[s]);l||(i=!1,r+="".concat(Gr[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Zr(e,t,n,r){let{style:i,vars:o}=t;const s=e.style;let a;for(a in i)s[a]=i[a];for(a in null===r||void 0===r||r.applyProjectionStyles(s,n),o)s.setProperty(a,o[a])}const ei={};function ti(e,t){let{layout:n,layoutId:r}=t;return wt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ei[e]||"opacity"===e)}function ni(e,t,n){const{style:r}=e,i={};for(const s in r){var o;(gr(r[s])||t.style&&gr(t.style[s])||ti(s,e)||void 0!==(null===n||void 0===n||null===(o=n.getValue(s))||void 0===o?void 0:o.liveStyle))&&(i[s]=r[s])}return i}class ri extends Yr{constructor(){super(...arguments),this.type="html",this.renderInstance=Zr}readValueFromInstance(e,t){var n,r;if(wt.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?At(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tt(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Ft(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Zt(e,n)}build(e,t,n){Xr(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ni(e,t,n)}}const ii=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),oi={offset:"stroke-dashoffset",array:"stroke-dasharray"},si={offset:"strokeDashoffset",array:"strokeDasharray"};const ai=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function li(e,t,n,r,o){let{attrX:s,attrY:a,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(Xr(e,i(t,ai),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:h}=e;var f,m;(p.transform&&(h.transform=p.transform,delete p.transform),h.transform||p.transformOrigin)&&(h.transformOrigin=null!==(f=p.transformOrigin)&&void 0!==f?f:"50% 50%",delete p.transformOrigin);h.transform&&(h.transformBox=null!==(m=null===o||void 0===o?void 0:o.transformBox)&&void 0!==m?m:"fill-box",delete p.transformBox);void 0!==s&&(p.x=s),void 0!==a&&(p.y=a),void 0!==l&&(p.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?oi:si;e[o.offset]=cn.transform(-r);const s=cn.transform(t),a=cn.transform(n);e[o.array]="".concat(s," ").concat(a)}(p,c,u,d,!1)}const ci=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ui=e=>"string"===typeof e&&"svg"===e.toLowerCase();function di(e,t,n){const r=ni(e,t,n);for(const i in e)if(gr(e[i])||gr(t[i])){r[-1!==bt.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class pi extends Yr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wt.has(t)){const e=pr(t);return e&&e.default||0}return t=ci.has(t)?t:ii(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return di(e,t,n)}build(e,t,n){li(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Zr(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ci.has(i)?i:ii(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=ui(e.tagName),super.mount(e)}}const hi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fi(e){return"string"===typeof e&&!e.includes("-")&&!!(hi.indexOf(e)>-1||/[A-Z]/.test(e))}const mi=(e,n)=>fi(e)?new pi(n):new ri(n,{allowProjection:e!==t.Fragment});var gi=n(579);const vi=(0,t.createContext)({}),yi=(0,t.createContext)({strict:!1}),xi=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bi=(0,t.createContext)({});function wi(e){const{initial:n,animate:r}=function(e,t){if(Vr(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Br(t)?t:void 0,animate:Br(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(bi));return(0,t.useMemo)((()=>({initial:n,animate:r})),[ki(n),ki(r)])}function ki(e){return Array.isArray(e)?e.join(" "):e}const Si=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ci(e,t,n){for(const r in t)gr(t[r])||ti(r,n)||(e[r]=t[r])}function ji(e,n){const r={};return Ci(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Xr(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(e,n)),r}function Ni(e,t){const n={},r=ji(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Di=()=>c(c({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function Ei(e,n,r,i){const o=(0,t.useMemo)((()=>{const t=Di();return li(t,n,ui(i),e.transformTemplate,e.style),c(c({},t.attrs),{},{style:c({},t.style)})}),[n]);if(e.style){const t={};Ci(t,e.style,e),o.style=c(c({},t),o.style)}return o}const Ai=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ti(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ai.has(e)}let Oi=e=>!Ti(e);try{"function"===typeof(Mi=require("@emotion/is-prop-valid").default)&&(Oi=e=>e.startsWith("on")?!Ti(e):Mi(e))}catch(oA){}var Mi;function Fi(e,n,r,i,o){let{latestValues:s}=i,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(fi(e)?Ei:Ni)(n,s,o,e),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Oi(i)||!0===n&&Ti(i)||!t&&!Ti(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof e,a),d=e!==t.Fragment?c(c(c({},u),l),{},{ref:r}):{},{children:p}=n,h=(0,t.useMemo)((()=>gr(p)?p.get():p),[p]);return(0,t.createElement)(e,c(c({},d),{},{children:h}))}const Pi=(0,t.createContext)(null);function Li(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function Ri(e){return gr(e)?e.get():e}const _i=["transitionEnd","transition"];function Bi(e,t,n,r){const o={},s=r(e,{});for(const i in s)o[i]=Ri(s[i]);let{initial:a,animate:l}=e;const c=Vr(e),u=Hr(e);t&&u&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const p=d?l:a;if(p&&"boolean"!==typeof p&&!_r(p)){const t=Array.isArray(p)?p:[p];for(let n=0;n<t.length;n++){const r=$r(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=i(r,_i);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}const Ii=e=>(n,r)=>{const i=(0,t.useContext)(bi),o=(0,t.useContext)(Pi),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o}=e;return{latestValues:Bi(t,n,r,i),renderState:o()}}(e,n,i,o);return r?s():Li(s)},zi=Ii({scrapeMotionValuesFromProps:ni,createRenderState:Si}),Vi=Ii({scrapeMotionValuesFromProps:di,createRenderState:Di});const Hi=Symbol.for("motionComponentSymbol");function Ui(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function $i(e,n,r){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Ui(r)&&(r.current=t))}),[n])}const Wi="data-"+ii("framerAppearId"),qi=(0,t.createContext)({}),Ki=Fr?t.useLayoutEffect:t.useEffect;function Yi(e,n,r,i,o){var s,a,l,c;const{visualElement:u}=(0,t.useContext)(bi),d=(0,t.useContext)(yi),p=(0,t.useContext)(Pi),h=(0,t.useContext)(xi).reducedMotion,f=(0,t.useRef)(null);i=i||d.renderer,!f.current&&i&&(f.current=i(e,{visualState:n,parent:u,props:r,presenceContext:p,blockInitialAnimation:!!p&&!1===p.initial,reducedMotionConfig:h}));const m=f.current,g=(0,t.useContext)(qi);!m||m.projection||!o||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ji(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&Ui(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(f.current,r,o,g);const v=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{m&&v.current&&m.update(r,p)}));const y=r[Wi],x=(0,t.useRef)(Boolean(y)&&!(null!==(s=(a=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(a,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return Ki((()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())})),(0,t.useEffect)((()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)})),x.current=!1),m.enteringChildren=void 0)})),m}function Ji(e){if(e)return!1!==e.options.allowProjection?e.projection:Ji(e.parent)}function Gi(e){var n,r;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;o&&function(e){for(const t in e)Or[t]=c(c({},Or[t]),e[t])}(o);const a=fi(e)?Vi:zi;function l(n,r){let o;const l=c(c(c({},(0,t.useContext)(xi)),n),{},{layoutId:Qi(n)}),{isStatic:u}=l,d=wi(n),p=a(n,u);if(!u&&Fr){!function(){(0,t.useContext)(yi).strict;0}();const n=function(e){const{drag:t,layout:n}=Or;if(!t&&!n)return{};const r=c(c({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=n.MeasureLayout,d.visualElement=Yi(e,p,l,s,n.ProjectionNode)}return(0,gi.jsxs)(bi.Provider,{value:d,children:[o&&d.visualElement?(0,gi.jsx)(o,c({visualElement:d.visualElement},l)):null,Fi(e,n,$i(p,d.visualElement,r),p,u,i)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==n?n:"",")"));const u=(0,t.forwardRef)(l);return u[Hi]=e,u}function Qi(e){let{layoutId:n}=e;const r=(0,t.useContext)(vi).id;return r&&void 0!==n?r+"-"+n:n}function Xi(e,t){if("undefined"===typeof Proxy)return Gi;const n=new Map,r=(n,r)=>Gi(n,r,e,t);return new Proxy(((e,t)=>r(e,t)),{get:(i,o)=>"create"===o?r:(n.has(o)||n.set(o,Gi(o,void 0,e,t)),n.get(o))})}function Zi(e,t,n){const r=e.getProps();return $r(r,t,void 0!==n?n:r.custom,e)}function eo(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const to=e=>Array.isArray(e),no=["transitionEnd","transition"];function ro(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nr(n))}function io(e,t){const n=e.getValue("willChange");if(r=n,Boolean(gr(r)&&r.add))return n.add(t);if(!n&&Cn.WillChange){const n=new Cn.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function oo(e){return e.props[Wi]}function so(e){e.duration=0,e.type}const ao=(e,t)=>n=>t(e(n)),lo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ao)},co=e=>1e3*e,uo=e=>e/1e3,po={layout:0,mainThread:0,waapi:0};function ho(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fo(e,t){return n=>n>0?t:e}const mo=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},go=[Kn,qn,Yn];function vo(e){const t=(n=e,go.find((e=>e.test(n))));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===Yn&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=ho(i,e,t+1/3),s=ho(i,e,t),a=ho(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}const yo=(e,t)=>{const n=vo(e),r=vo(t);if(!n||!r)return fo(e,t);const i=c({},n);return e=>(i.red=mo(n.red,r.red,e),i.green=mo(n.green,r.green,e),i.blue=mo(n.blue,r.blue,e),i.alpha=Bt(n.alpha,r.alpha,e),qn.transform(i))},xo=new Set(["none","hidden"]);function bo(e,t){return n=>Bt(e,t,n)}function wo(e){return"number"===typeof e?bo:"string"===typeof e?Lt(e)?fo:Jn.test(e)?yo:Co:Array.isArray(e)?ko:"object"===typeof e?Jn.test(e)?yo:So:fo}function ko(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>wo(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function So(e,t){const n=c(c({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=wo(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Co=(e,t)=>{const n=ir.createTransformer(t),r=er(e),i=er(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?xo.has(e)&&!i.values.length||xo.has(t)&&!r.values.length?function(e,t){return xo.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):lo(ko(function(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){var i;const s=t.types[o],a=e.indexes[s][r[s]],l=null!==(i=e.values[a])&&void 0!==i?i:0;n[o]=l,r[s]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),fo(e,t))};function jo(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Bt(e,t,n);return wo(e)(e,t)}const No=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return En.update(t,e)},stop:()=>An(t),now:()=>Tn.isProcessing?Tn.timestamp:xr.now()}},Do=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(1e4*e(o/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Eo=2e4;function Ao(e){let t=0;let n=e.next(t);for(;!n.done&&t<Eo;)t+=50,n=e.next(t);return t>=Eo?1/0:t}function To(e,t,n){const r=Math.max(t-5,0);return Sr(n-e(r),t-r)}const Oo={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mo=.001;function Fo(e){let t,n,{duration:r=Oo.duration,bounce:i=Oo.bounce,velocity:o=Oo.velocity,mass:s=Oo.mass}=e;co(Oo.maxDuration);let a=1-i;a=tn(Oo.minDamping,Oo.maxDamping,a),r=tn(Oo.minDuration,Oo.maxDuration,uo(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=Lo(e,a),l=Math.exp(-n);return Mo-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Lo(Math.pow(e,2),a);return(-t(e)+Mo>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Po;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=co(r),isNaN(l))return{stiffness:Oo.stiffness,damping:Oo.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const Po=12;function Lo(e,t){return e*Math.sqrt(1-t*t)}const Ro=["duration","bounce"],_o=["stiffness","damping","mass"];function Bo(e,t){return t.some((t=>void 0!==e[t]))}function Io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:d,duration:p,velocity:h,isResolvedFromDuration:f}=function(e){let t=c({velocity:Oo.velocity,stiffness:Oo.stiffness,damping:Oo.damping,mass:Oo.mass,isResolvedFromDuration:!1},e);if(!Bo(e,_o)&&Bo(e,Ro))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*tn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=c(c({},t),{},{mass:Oo.mass,stiffness:i,damping:o})}else{const n=Fo(e);t=c(c(c({},t),n),{},{mass:Oo.mass}),t.isResolvedFromDuration=!0}return t}(c(c({},n),{},{velocity:-uo(n.velocity||0)})),m=h||0,g=u/(2*Math.sqrt(l*d)),v=s-o,y=uo(Math.sqrt(l/d)),x=Math.abs(v)<5;let b;if(r||(r=x?Oo.restSpeed.granular:Oo.restSpeed.default),i||(i=x?Oo.restDelta.granular:Oo.restDelta.default),g<1){const e=Lo(y,g);b=t=>{const n=Math.exp(-g*y*t);return s-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>s-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return s-n*((m+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const w={calculatedDuration:f&&p||null,next:e=>{const t=b(e);if(f)a.done=e>=p;else{let n=0===e?m:0;g<1&&(n=0===e?co(m):To(b,e,t));const o=Math.abs(n)<=r,l=Math.abs(s-t)<=i;a.done=o&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(Ao(w),Eo),t=Do((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function zo(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const p=t[0],h={done:!1,value:p},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=p+m,v=void 0===a?g:a(g);v!==g&&(m=v-p);const y=e=>-m*Math.exp(-e/i),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);h.done=Math.abs(t)<=u,h.value=h.done?v:n};let w,k;const S=e=>{var t;(t=h.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=Io({keyframes:[h.value,f(h.value)],velocity:To(x,e,h.value),damping:o,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),h)}}}Io.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(c(c({},e),{},{keyframes:[0,t]})),r=Math.min(Ao(n),Eo);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:uo(r)}}(e,100,Io);return e.ease=t.ease,e.duration=co(t.duration),e.type="keyframes",e};const Vo=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ho(e,t,n,r){if(e===t&&n===r)return Sn;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=Vo(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Vo(i(e),t,r)}const Uo=Ho(.42,0,1,1),$o=Ho(0,0,.58,1),Wo=Ho(.42,0,.58,1),qo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ko=e=>t=>1-e(1-t),Yo=Ho(.33,1.53,.69,.99),Jo=Ko(Yo),Go=qo(Jo),Qo=e=>(e*=2)<1?.5*Jo(e):.5*(2-Math.pow(2,-10*(e-1))),Xo=e=>1-Math.sin(Math.acos(e)),Zo=Ko(Xo),es=qo(Xo),ts=e=>Array.isArray(e)&&"number"===typeof e[0],ns={linear:Sn,easeIn:Uo,easeInOut:Wo,easeOut:$o,circIn:Xo,circInOut:es,circOut:Zo,backIn:Jo,backInOut:Go,backOut:Yo,anticipate:Qo},rs=e=>{if(ts(e)){e.length;const[t,n,r,i]=e;return Ho(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),ns[e]):e},is=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function ss(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(t.length,1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||Cn.mix||jo,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Sn:t;n=lo(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=is(e[r],e[r+1],n);return a[r](i)};return n?t=>c(tn(e[0],e[o-1],t)):c}function as(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=is(0,t,r);e.push(Bt(n,1,i))}}(t,e.length-1),t}function ls(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(rs):rs(i),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:as(n),t),l=ss(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||Wo)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const cs=e=>null!==e;function us(e,t,n){let{repeat:r,repeatType:i="loop"}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(cs),a=o<0||r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const ds={decay:zo,inertia:zo,tween:ls,keyframes:ls,spring:Io};function ps(e){"string"===typeof e.type&&(e.type=ds[e.type])}class hs{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const fs=e=>e/100;class ms extends hs{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==xr.now()&&this.tick(xr.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},po.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ps(e);const{type:t=ls,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:s}=e;const a=t||ls;a!==ls&&"number"!==typeof s[0]&&(this.mixKeyframes=lo(fs,jo(s[0],s[1])),s=[0,100]);const l=a(c(c({},e),{},{keyframes:s}));"mirror"===i&&(this.mirroredGenerator=a(c(c({},e),{},{keyframes:[...s].reverse(),velocity:-o}))),null===l.calculatedDuration&&(l.calculatedDuration=Ao(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:p,type:h,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,p&&(n-=p/s)):"mirror"===d&&(x=o)),y=tn(0,1,n)*s}const b=v?{done:!1,value:c[0]}:x.next(y);i&&(b.value=i(b.value));let{done:w}=b;v||null===a||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&h!==zo&&(b.value=us(c,this.options,m,this.speed)),f&&f(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return uo(this.calculatedDuration)}get time(){return uo(this.currentTime)}set time(e){var t;e=co(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=uo(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=No,startTime:r}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xr.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,po.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function gs(e){let t;return()=>(void 0===t&&(t=e()),t)}const vs=gs((()=>void 0!==window.ScrollTimeline)),ys={};function xs(e,t){const n=gs(e);return()=>{var e;return null!==(e=ys[t])&&void 0!==e?e:n()}}const bs=xs((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(iA){return!1}return!0}),"linearEasing"),ws=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},ks={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ws([0,.65,.55,1]),circOut:ws([.55,0,1,.45]),backIn:ws([.31,.01,.66,-.59]),backOut:ws([.33,1.53,.69,.99])};function Ss(e,t){return e?"function"===typeof e?bs()?Do(e,t):"ease-out":ts(e)?ws(e):Array.isArray(e)?e.map((e=>Ss(e,t)||ks.easeOut)):ks[e]:void 0}function Cs(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=Ss(a,i);Array.isArray(d)&&(u.easing=d),Nn.value&&po.waapi++;const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"};c&&(p.pseudoElement=c);const h=e.animate(u,p);return Nn.value&&h.finished.finally((()=>{po.waapi--})),h}function js(e){return"function"===typeof e&&"applyToOptions"in e}const Ns=["type"];class Ds extends hs{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=s,this.options=e,e.type;const c=function(e){let{type:t}=e,n=i(e,Ns);return js(t)&&bs()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(o=n.ease)&&void 0!==o||(n.ease="easeOut"),n);var r,o}(e);this.animation=Cs(t,n,r,c,o),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=us(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(iA){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return uo(Number(n))}get time(){return uo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=co(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&vs()?(this.animation.timeline=t,Sn):n(this)}}const Es={anticipate:Qo,backInOut:Go,circInOut:es};function As(e){"string"===typeof e.ease&&e.ease in Es&&(e.ease=Es[e.ease])}const Ts=["motionValue","onUpdate","onComplete","element"];class Os extends Ds{constructor(e){As(e),ps(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:o,onComplete:s,element:a}=n,l=i(n,Ts);if(!r)return;if(void 0!==e)return void r.set(e);const u=new ms(c(c({},l),{},{autoplay:!1})),d=co(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10),u.stop()}}const Ms=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ir.test(e)&&"0"!==e||e.startsWith("url(")));const Fs=new Set(["opacity","clipPath","filter","transform"]),Ps=gs((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Ls=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Rs extends hs{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:o="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:h}=e,f=i(e,Ls);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=xr.now();const m=c({autoplay:n,delay:r,type:o,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:p,element:h},f),g=(null===h||void 0===h?void 0:h.KeyframeResolver)||Bn;this.keyframeResolver=new g(u,((e,t,n)=>this.onKeyframesResolved(e,t,m,!n)),d,p,h),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:s,delay:a,isHandoff:l,onUpdate:u}=n;this.resolvedAt=xr.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=Ms(i,t),a=Ms(o,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(o,'". "').concat(s?o:i,'" is not an animatable value.'),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||js(n))&&r)}(e,i,o,s)||(!Cn.instantAnimations&&a||null===u||void 0===u||u(us(e,n,t)),e[0]=e[e.length-1],so(n),n.repeat=0);const d=c(c({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),p=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Ps()&&r&&Fs.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==o&&0!==s&&"inertia"!==a}(d)?new Os(c(c({},d),{},{element:d.motionValue.owner.current})):new ms(d);p.finished.then((()=>this.notifyFinished())).catch(Sn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Ln=!0,_n(),Rn(),Ln=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const _s=e=>null!==e;const Bs={type:"spring",stiffness:500,damping:25,restSpeed:10},Is={type:"keyframes",duration:.8},zs={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vs=(e,t)=>{let{keyframes:n}=t;return n.length>2?Is:wt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Bs:zs},Hs=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Us=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const l=eo(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d-=co(u);const p=c(c({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,p=i(e,Hs);return!!Object.keys(p).length})(l)||Object.assign(p,Vs(e,p)),p.duration&&(p.duration=co(p.duration)),p.repeatDelay&&(p.repeatDelay=co(p.repeatDelay)),void 0!==p.from&&(p.keyframes[0]=p.from);let h=!1;if((!1===p.type||0===p.duration&&!p.repeatDelay)&&(so(p),0===p.delay&&(h=!0)),(Cn.instantAnimations||Cn.skipAnimations)&&(h=!0,so(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,h&&!s&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(_s),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}(p.keyframes,l);if(void 0!==e)return void En.update((()=>{p.onUpdate(e),p.onComplete()}))}return l.isSync?new ms(p):new Rs(p)}},$s=["transition","transitionEnd"];function Ws(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function qs(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a}=t,l=i(t,$s);r&&(s=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const i in l){var p;const t=e.getValue(i,null!==(p=e.latestValues[i])&&void 0!==p?p:null),r=l[i];if(void 0===r||d&&Ws(d,i))continue;const o=c({delay:n},eo(s||{},i)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!o.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=oo(e);if(t){const e=window.MotionHandoffAnimation(t,i,En);null!==e&&(o.startTime=e,h=!0)}}io(e,i),t.start(Us(i,t,r,e.shouldReduceMotion&&en.has(i)?{type:!1}:o,e,h));const f=t.animation;f&&u.push(f)}return a&&Promise.all(u).then((()=>{En.update((()=>{a&&function(e,t){let n=Zi(e,t)||{},{transitionEnd:r={},transition:o={}}=n,s=i(n,no);s=c(c({},s),r);for(const i in s)ro(e,i,(a=s[i],to(a)?a[a.length-1]||0:a));var a}(e,a)}))})),u}function Ks(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const o=Array.from(e).sort(((e,t)=>e.sortNodePosition(t))).indexOf(t),s=e.size,a=(s-1)*r;return"function"===typeof n?n(o,s):1===i?o*r:a-o*r}function Ys(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Zi(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const s=i?()=>Promise.all(qs(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ys(l,t,c(c({},s),{},{delay:n+("function"===typeof r?0:r)+Ks(e.variantChildren,l,r,i,o)})).then((()=>l.notify("AnimationComplete",t))));return Promise.all(a)}(e,t,n,i,s,a,r)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(r.delay)])}function Js(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Gs=zr.length;function Qs(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Qs(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Gs;n++){const r=zr[n],i=e.props[r];(Br(i)||!1===i)&&(t[r]=i)}return t}const Xs=["transition","transitionEnd"],Zs=[...Ir].reverse(),ea=Ir.length;function ta(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Ys(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=Ys(e,t,r);else{const i="function"===typeof t?Zi(e,t,r.custom):t;n=Promise.all(qs(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function na(e){let t=ta(e),n=oa(),r=!0;const o=t=>(n,r)=>{var o;const s=Zi(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=i(s,Xs);n=c(c(c({},n),r),t)}return n};function s(i){const{props:s}=e,a=Qs(e.parent)||{},l=[],u=new Set;let d={},p=1/0;for(let t=0;t<ea;t++){const h=Zs[t],f=n[h],m=void 0!==s[h]?s[h]:a[h],g=Br(m),v=h===i?f.isActive:null;!1===v&&(p=t);let y=m===a[h]&&m!==s[h]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=c({},d),!f.isActive&&null===v||!m&&!f.prevProp||_r(m)||"boolean"===typeof m)continue;const x=ra(f.prevProp,m);let b=x||h===i&&f.isActive&&!y&&g||t>p&&g,w=!1;const k=Array.isArray(m)?m:[m];let S=k.reduce(o(h),{});!1===v&&(S={});const{prevResolvedValues:C={}}=f,j=c(c({},C),S),N=t=>{b=!0,u.has(t)&&(w=!0,u.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in j){const t=S[e],n=C[e];if(d.hasOwnProperty(e))continue;let r=!1;r=to(t)&&to(n)?!Js(t,n):t!==n,r?void 0!==t&&null!==t?N(e):u.add(e):void 0!==t&&u.has(e)?N(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=S,f.isActive&&(d=c(c({},d),S)),r&&e.blockInitialAnimation&&(b=!1);const D=y&&x;b&&(!D||w)&&l.push(...k.map((t=>{const n={type:h};if("string"===typeof t&&r&&!D&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=Zi(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=Ks(r.enteringChildren,e,t)}}return{animation:t,options:n}})))}if(u.size){const t={};if("boolean"!==typeof s.initial){const n=Zi(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=oa(),r=!0}}}function ra(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Js(t,e)}function ia(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oa(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}let aa=0;const la={animation:{Feature:class extends sa{constructor(e){super(e),e.animationState||(e.animationState=na(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_r(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends sa{constructor(){super(...arguments),this.id=aa++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},ca={x:!1,y:!1};function ua(){return ca.x||ca.y}function da(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const pa=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function ha(e){return{point:{x:e.pageX,y:e.pageY}}}function fa(e,t,n,r){return da(e,t,(e=>t=>pa(t)&&e(t,ha(t)))(n),r)}function ma(e){return e.max-e.min}function ga(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Bt(t.min,t.max,e.origin),e.scale=ma(n)/ma(t),e.translate=Bt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function va(e,t,n,r){ga(e.x,t.x,n.x,r?r.originX:void 0),ga(e.y,t.y,n.y,r?r.originY:void 0)}function ya(e,t,n){e.min=n.min+t.min,e.max=e.min+ma(t)}function xa(e,t,n){e.min=t.min-n.min,e.max=e.min+ma(t)}function ba(e,t,n){xa(e.x,t.x,n.x),xa(e.y,t.y,n.y)}function wa(e){return[e("x"),e("y")]}const ka=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Sa=(e,t)=>Math.abs(e-t);class Ca{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Da(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Sa(e.x,t.x),r=Sa(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Tn;this.history.push(c(c({},r),{},{timestamp:i}));const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ja(t,this.transformPagePoint),En.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Da("pointercancel"===e.type?this.lastMoveEventInfo:ja(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!pa(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const s=ja(ha(e),this.transformPagePoint),{point:a}=s,{timestamp:l}=Tn;this.history=[c(c({},a),{},{timestamp:l})];const{onSessionStart:u}=t;u&&u(e,Da(s,this.history)),this.removeListeners=lo(fa(this.contextWindow,"pointermove",this.handlePointerMove),fa(this.contextWindow,"pointerup",this.handlePointerUp),fa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),An(this.updatePoint)}}function ja(e,t){return t?{point:t(e.point)}:e}function Na(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Da(e,t){let{point:n}=e;return{point:n,delta:Na(n,Aa(t)),offset:Na(n,Ea(t)),velocity:Ta(t,.1)}}function Ea(e){return e[0]}function Aa(e){return e[e.length-1]}function Ta(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Aa(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>co(t)));)n--;if(!r)return{x:0,y:0};const o=uo(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Oa(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ma(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Fa=.35;function Pa(e,t,n){return{min:La(e,t),max:La(e,n)}}function La(e,t){return"number"===typeof e?e:e[t]||0}const Ra=new WeakMap;class _a{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new Ca(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ha(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?ca[o]?null:(ca[o]=!0,()=>{ca[o]=!1}):ca.x||ca.y?null:(ca.x=ca.y=!0,()=>{ca.x=ca.y=!1}),!this.openDragLock))return;var o;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wa((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ln.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ma(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&En.postRender((()=>i(e,t))),io(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>wa((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:ka(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&En.postRender((()=>s(n,r)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ba(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Bt(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Bt(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Ui(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:Oa(e.x,r,o),y:Oa(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa;return!1===e?e=0:!0===e&&(e=Fa),{x:Pa(e,"left","right"),y:Pa(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wa((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ui(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Zt(e,n),{scroll:i}=t;return i&&(Gt(r.x,i.offset.x),Gt(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Ma(e.x,t.x),y:Ma(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=_t(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=wa((s=>{if(!Ba(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const u=r?200:1e6,d=r?40:1e7,p=c(c({type:"inertia",velocity:n?e[s]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(s,p)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return io(this.visualElement,e),n.start(Us(e,n,0,t,this.visualElement,!1))}stopAnimation(){wa((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){wa((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){wa((t=>{const{drag:n}=this.getProps();if(!Ba(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Bt(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ui(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wa((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ma(e),i=ma(t);return i>r?n=is(t.min,t.max-r,e.min):r>i&&(n=is(e.min,e.max-i,t.min)),tn(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wa((t=>{if(!Ba(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Bt(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Ra.set(this.visualElement,this);const e=fa(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Ui(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),En.read(t);const i=da(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(wa((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Fa,dragMomentum:s=!0}=e;return c(c({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s})}}function Ba(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ia=e=>(t,n)=>{e&&En.postRender((()=>e(t,n)))};function za(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Pi);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=n,s=(0,t.useId)();(0,t.useEffect)((()=>{if(e)return o(s)}),[e]);const a=(0,t.useCallback)((()=>e&&i&&i(s)),[s,i,e]);return!r&&i?[!1,a]:[!0]}const Va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ha(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ua={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!cn.test(e))return e;e=parseFloat(e)}const n=Ha(e,t.target.x),r=Ha(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},$a={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=ir.parse(e);if(o.length>5)return i;const s=ir.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=Bt(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}};let Wa=!1;class qa extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)ei[t]=e[t],Ft(t)&&(ei[t].isCSSVariable=!0)}(Ya),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),Wa&&i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions(c(c({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Va.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o?(o.isPresent=i,Wa=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||En.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Er.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Wa=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ka(e){const[n,r]=za(),i=(0,t.useContext)(vi);return(0,gi.jsx)(qa,c(c({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(qi),isPresent:n,safeToRemove:r}))}const Ya={borderRadius:c(c({},Ua),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ua,borderTopRightRadius:Ua,borderBottomLeftRadius:Ua,borderBottomRightRadius:Ua,boxShadow:$a};function Ja(e){return"object"===typeof e&&null!==e}function Ga(e){return Ja(e)&&"ownerSVGElement"in e}const Qa=(e,t)=>e.depth-t.depth;class Xa{constructor(){this.children=[],this.isDirty=!1}add(e){br(this.children,e),this.isDirty=!0}remove(e){wr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qa),this.isDirty=!1,this.children.forEach(e)}}function Za(e,t){const n=xr.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(An(r),e(s-t))};return En.setup(r,!0),()=>An(r)}const el=["TopLeft","TopRight","BottomLeft","BottomRight"],tl=el.length,nl=e=>"string"===typeof e?parseFloat(e):e,rl=e=>"number"===typeof e||cn.test(e);function il(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const ol=al(0,.5,Zo),sl=al(.5,.95,Sn);function al(e,t,n){return r=>r<e?0:r>t?1:n(is(e,t,r))}function ll(e,t){e.min=t.min,e.max=t.max}function cl(e,t){ll(e.x,t.x),ll(e.y,t.y)}function ul(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dl(e,t,n,r,i){return e=$t(e-=t,1/n,r),void 0!==i&&(e=$t(e,1/i,r)),e}function pl(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ln.test(t)&&(t=parseFloat(t),t=Bt(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=Bt(o.min,o.max,r);e===o&&(a-=t),e.min=dl(e.min,t,n,a,i),e.max=dl(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const hl=["x","scaleX","originX"],fl=["y","scaleY","originY"];function ml(e,t,n,r){pl(e.x,t,hl,n?n.x:void 0,r?r.x:void 0),pl(e.y,t,fl,n?n.y:void 0,r?r.y:void 0)}function gl(e){return 0===e.translate&&1===e.scale}function vl(e){return gl(e.x)&&gl(e.y)}function yl(e,t){return e.min===t.min&&e.max===t.max}function xl(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bl(e,t){return xl(e.x,t.x)&&xl(e.y,t.y)}function wl(e){return ma(e.x)/ma(e.y)}function kl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sl{constructor(){this.members=[]}add(e){br(this.members,e),e.scheduleRender()}remove(e){if(wr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Cl={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},jl=["","X","Y","Z"];let Nl=0;function Dl(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function El(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=oo(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",En,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&El(r)}function Al(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Nl++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nn.value&&(Cl.nodes=Cl.calculatedTargetDeltas=Cl.calculatedProjections=0),this.nodes.forEach(Ml),this.nodes.forEach(Il),this.nodes.forEach(zl),this.nodes.forEach(Fl),Nn.addProjectionMetrics&&Nn.addProjectionMetrics(Cl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xa)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new kr),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Ga(e)&&!(Ga(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;En.read((()=>{r=window.innerWidth})),t(e,(()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=Za(i,250),Va.hasAnimatedSinceResize&&(Va.hasAnimatedSinceResize=!1,this.nodes.forEach(Bl)))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||ql,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!bl(this.targetLayout,i),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=c(c({},eo(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||Bl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),An(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vl),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&El(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ll);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Rl);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_l),this.nodes.forEach(Tl),this.nodes.forEach(Ol)):this.nodes.forEach(Rl),this.clearAllSnapshots();const e=xr.now();Tn.delta=tn(0,1e3/60,e-Tn.timestamp),Tn.timestamp=e,Tn.isProcessing=!0,On.update.process(Tn),On.preRender.process(Tn),On.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Er.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pl),this.sharedNodes.forEach(Hl)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,En.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){En.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ma(this.snapshot.measuredBox.x)||ma(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!vl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Vt(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Jl((r=n).x),Jl(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Ql))){const{scroll:e}=this.root;e&&(Gt(n.x,e.offset.x),Gt(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(cl(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&cl(n,e),Gt(n.x,i.offset.x),Gt(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};cl(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Xt(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Vt(e.latestValues)&&Xt(n,e.latestValues)}return Vt(this.latestValues)&&Xt(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};cl(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Vt(e.latestValues))continue;zt(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};cl(r,e.measurePageBox()),ml(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Vt(this.latestValues)&&ml(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=c(c(c({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Tn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ba(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,ya(s.x,a.x,l.x),ya(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):cl(this.target,this.layout.layoutBox),Kt(this.target,this.targetDelta)):cl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ba(this.relativeTargetOrigin,this.target,e.target),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nn.value&&Cl.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!zt(this.parent.latestValues)&&!Ht(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;cl(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Kt(e,s)),r&&Vt(o.latestValues)&&Xt(e,o.latestValues))}t.x<Jt&&t.x>Yt&&(t.x=1),t.y<Jt&&t.y>Yt&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(ul(this.prevProjectionDelta.x,this.projectionDelta.x),ul(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),va(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&kl(this.projectionDelta.x,this.prevProjectionDelta.x)&&kl(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Nn.value&&Cl.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=c({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,d=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(Wl));let p;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,c,h,f;Ul(o.x,e.x,n),Ul(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ba(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,c=this.relativeTargetOrigin,h=s,f=n,$l(l.x,c.x,h.x,f),$l(l.y,c.y,h.y,f),p&&function(e,t){return yl(e.x,t.x)&&yl(e.y,t.y)}(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p={x:{min:0,max:0},y:{min:0,max:0}}),cl(p,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){var s,a;if(i)e.opacity=Bt(0,null!==(s=n.opacity)&&void 0!==s?s:1,ol(r)),e.opacityExit=Bt(null!==(a=t.opacity)&&void 0!==a?a:1,0,sl(r));else if(o){var l,c;e.opacity=Bt(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<tl;u++){const i="border".concat(el[u],"Radius");let o=il(t,i),s=il(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||rl(o)===rl(s)?(e[i]=Math.max(Bt(nl(o),nl(s),r),0),(ln.test(s)||ln.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Bt(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(An(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=En.update((()=>{Va.hasAnimatedSinceResize=!0,po.layout++,this.motionValue||(this.motionValue=Nr(0)),this.currentAnimation=function(e,t,n){const r=gr(e)?e:Nr(e);return r.start(Us("",r,t,n)),r.animation}(this.motionValue,[0,1e3],c(c({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{po.layout--},onComplete:()=>{po.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Gl(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ma(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ma(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}cl(t,n),Xt(t,i),va(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Sl);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Dl("z",e,r,this.animationValues);for(let i=0;i<jl.length;i++)Dl("rotate".concat(jl[i]),e,r,this.animationValues),Dl("skew".concat(jl[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Ri(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Ri(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Vt(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let o=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(o=n(i,o)),e.transform=o;const{x:s,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in ei){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:s}=ei[u],a="none"===o?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else s?this.options.visualElement.renderState.vars[u]=a:e[u]=a}this.options.layoutId&&(e.pointerEvents=r===this?Ri(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Ll),this.root.sharedNodes.clear()}}}function Tl(e){e.updateLayout()}function Ol(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?wa((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=ma(r);r.min=t[e].min,r.max=r.min+i})):Gl(i,n.layoutBox,t)&&wa((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=ma(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};va(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?va(a,e.applyTransform(r,!0),n.measuredBox):va(a,t,n.layoutBox);const l=!vl(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};ba(s,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};ba(a,t,o.layoutBox),bl(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ml(e){Nn.value&&Cl.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pl(e){e.clearSnapshot()}function Ll(e){e.clearMeasurements()}function Rl(e){e.isLayoutDirty=!1}function _l(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Il(e){e.resolveTargetDelta()}function zl(e){e.calcProjection()}function Vl(e){e.resetSkewAndRotation()}function Hl(e){e.removeLeadSnapshot()}function Ul(e,t,n){e.translate=Bt(t.translate,0,n),e.scale=Bt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $l(e,t,n,r){e.min=Bt(t.min,n.min,r),e.max=Bt(t.max,n.max,r)}function Wl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ql={duration:.45,ease:[.4,0,.1,1]},Kl=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yl=Kl("applewebkit/")&&!Kl("chrome/")?Math.round:Sn;function Jl(e){e.min=Yl(e.min),e.max=Yl(e.max)}function Gl(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=wl(t),i=wl(n),o=.2,!(Math.abs(r-i)<=o));var r,i,o}function Ql(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Xl=Al({attachResizeListener:(e,t)=>da(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zl={current:void 0},ec=Al({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zl.current){const e=new Xl({});e.mount(window),e.setOptions({layoutScroll:!0}),Zl.current=e}return Zl.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),tc={pan:{Feature:class extends sa{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new Ca(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ka(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ia(e),onStart:Ia(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&En.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=fa(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends sa{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new _a(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ec,MeasureLayout:Ka}};function nc(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,c(c({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function rc(e){return!("touch"===e.pointerType||ua())}function ic(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&En.postRender((()=>i(t,ha(t))))}function oc(e){return Ja(e)&&"offsetHeight"in e}const sc=(e,t)=>!!t&&(e===t||sc(e,t.parentElement)),ac=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const lc=new WeakSet;function cc(e){return t=>{"Enter"===t.key&&e(t)}}function uc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function dc(e){return pa(e)&&!ua()}function pc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=nc(e,n),s=e=>{const r=e.currentTarget;if(!dc(e))return;lc.add(r);const o=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),lc.has(r)&&lc.delete(r),dc(e)&&"function"===typeof o&&o(e,{success:t})},a=e=>{s(e,r===window||r===document||n.useGlobalTarget||sc(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),oc(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=cc((()=>{if(lc.has(n))return;uc(n,"down");const e=cc((()=>{uc(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>uc(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i))),t=e,ac.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),o}function hc(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&En.postRender((()=>i(t,ha(t))))}const fc=["root"],mc=new WeakMap,gc=new WeakMap,vc=e=>{const t=mc.get(e.target);t&&t(e)},yc=e=>{e.forEach(vc)};function xc(e,t,n){const r=function(e){let{root:t}=e,n=i(e,fc);const r=t||document;gc.has(r)||gc.set(r,{});const o=gc.get(r),s=JSON.stringify(n);return o[s]||(o[s]=new IntersectionObserver(yc,c({root:t},n))),o[s]}(t);return mc.set(e,n),r.observe(e),()=>{mc.delete(e),r.unobserve(e)}}const bc={some:0,all:1};const wc={inView:{Feature:class extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:bc[r]};return xc(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=pc(e,((e,t)=>(hc(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return hc(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(iA){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lo(da(this.node.current,"focus",(()=>this.onFocus())),da(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=nc(e,n),s=e=>{if(!rc(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const o=e=>{rc(e)&&(r(e),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,i)};return r.forEach((e=>{e.addEventListener("pointerenter",s,i)})),o}(e,((e,t)=>(ic(this.node,t,"Start"),e=>ic(this.node,e,"End")))))}unmount(){}}}},kc={layout:{ProjectionNode:ec,MeasureLayout:Ka}},Sc=Xi(c(c(c(c({},la),wc),tc),kc),mi),Cc=e=>"string"===typeof e,jc=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},Nc=e=>null==e?"":""+e,Dc=/###/g,Ec=e=>e&&e.indexOf("###")>-1?e.replace(Dc,"."):e,Ac=e=>!e||Cc(e),Tc=(e,t,n)=>{const r=Cc(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(Ac(e))return{};const t=Ec(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return Ac(e)?{}:{obj:e,k:Ec(r[i])}},Oc=(e,t,n)=>{const{obj:r,k:i}=Tc(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],s=t.slice(0,t.length-1),a=Tc(e,s,Object);for(;void 0===a.obj&&s.length;){var l;o="".concat(s[s.length-1],".").concat(o),s=s.slice(0,s.length-1),a=Tc(e,s,Object),null!==(l=a)&&void 0!==l&&l.obj&&"undefined"!==typeof a.obj["".concat(a.k,".").concat(o)]&&(a.obj=void 0)}a.obj["".concat(a.k,".").concat(o)]=n},Mc=(e,t)=>{const{obj:n,k:r}=Tc(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Fc=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Cc(e[r])||e[r]instanceof String||Cc(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Fc(e[r],t[r],n):e[r]=t[r]);return e},Pc=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Lc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Rc=e=>Cc(e)?e.replace(/[&<>"'\/]/g,(e=>Lc[e])):e;const _c=[" ",",","?","!",";"],Bc=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Ic=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||"object"!==typeof i)return;let e,t="";for(let s=o;s<r.length;++s)if(s!==o&&(t+=n),t+=r[s],e=i[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<r.length-1)continue;o+=s-o+1;break}i=e}return i},zc=e=>null===e||void 0===e?void 0:e.replace("_","-"),Vc={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(r=n.apply)||void 0===r||r.call(n,console,t)}};class Hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Vc,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Cc(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new Hc(this.logger,c(c({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Hc(this.logger,e)}}var Uc=new Hc;class $c{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let i=0;i<r;i++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let o=0;o<i;o++)r.apply(r,[e,...n])}))}}}class Wc extends $c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Cc(n)&&o?a.push(...n.split(o)):a.push(n)));const l=Mc(this.data,a);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!l&&s&&Cc(n)?Ic(null===(r=this.data)||void 0===r||null===(r=r[e])||void 0===r?void 0:r[t],n,o):l}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),Oc(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(Cc(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let a=Mc(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Fc(a,n,i):a=c(c({},a),n),Oc(this.data,s,a),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var qc={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{var o,s;t=null!==(o=null===(s=this.processors[e])||void 0===s?void 0:s.process(t,n,r,i))&&void 0!==o?o:t})),t}};const Kc={},Yc=e=>!Cc(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Jc extends $c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Uc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const n=this.resolve(e,t);return void 0!==(null===n||void 0===n?void 0:n.res)}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const r=_c.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=Bc.getRegExp("(".concat(r.map((e=>"?"===e?"\\?":e)).join("|"),")"));let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r);if(o&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Cc(i)?[i]:i};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return{key:e,namespaces:Cc(i)?[i]:i}}translate(e,t,n){let r="object"===typeof t?c({},t):t;if("object"!==typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof options&&(r=c({},r)),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],r),l=a[a.length-1];let u=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===u&&(u=":");const d=r.lng||this.language,p=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===d||void 0===d?void 0:d.toLowerCase()))return p?i?{res:"".concat(l).concat(u).concat(s),usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:"".concat(l).concat(u).concat(s):i?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:s;const h=this.resolve(e,r);let f=null===h||void 0===h?void 0:h.res;const m=(null===h||void 0===h?void 0:h.usedKey)||s,g=(null===h||void 0===h?void 0:h.exactUsedKey)||s,v=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,x=void 0!==r.count&&!Cc(r.count),b=Jc.hasDefaultValue(r),w=x?this.pluralResolver.getSuffix(d,r.count,r):"",k=r.ordinal&&x?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",S=x&&!r.ordinal&&0===r.count,C=S&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]||r["defaultValue".concat(w)]||r["defaultValue".concat(k)]||r.defaultValue;let j=f;y&&!f&&b&&(j=C);const N=Yc(j),D=Object.prototype.toString.apply(j);if(!(y&&j&&N&&["[object Number]","[object Function]","[object RegExp]"].indexOf(D)<0)||Cc(v)&&Array.isArray(j))if(y&&Cc(v)&&Array.isArray(f))f=f.join(v),f&&(f=this.extendTranslation(f,e,r,n));else{let t=!1,i=!1;!this.isValidLookup(f)&&b&&(t=!0,f=C),this.isValidLookup(f)||(i=!0,f=s);const a=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:f,p=b&&C!==f&&this.options.updateMissing;if(i||t||p){if(this.logger.log(p?"updateKey":"missingKey",d,l,s,p?C:f),o){const e=this.resolve(s,c(c({},r),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{var i;const o=b&&n!==f?n:a;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,o,p,r):null!==(i=this.backendConnector)&&void 0!==i&&i.saveMissing&&this.backendConnector.saveMissing(e,l,t,o,p,r),this.emit("missingKey",e,l,t,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,r);S&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach((t=>{n([e],s+t,r["defaultValue".concat(t)]||C)}))})):n(e,s,C))}f=this.extendTranslation(f,e,r,h,n),i&&f===s&&this.options.appendNamespaceToMissingKey&&(f="".concat(l).concat(u).concat(s)),(i||t)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(u).concat(s):s,t?f:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,j,c(c({},r),{},{ns:a})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=e,h.usedParams=this.getUsedParamsDetails(r),h):e}if(o){const e=Array.isArray(j),t=e?[]:{},n=e?g:m;for(const i in j)if(Object.prototype.hasOwnProperty.call(j,i)){const e="".concat(n).concat(o).concat(i);t[i]=b&&!f?this.translate(e,c(c({},r),{},{defaultValue:Yc(C)?C[i]:void 0},{joinArrays:!1,ns:a})):this.translate(e,c(c({},r),{joinArrays:!1,ns:a})),t[i]===e&&(t[i]=j[i])}f=t}}return i?(h.res=f,h.usedParams=this.getUsedParamsDetails(r),h):f}extendTranslation(e,t,n,r,i){var o,s=this;if(null!==(o=this.i18nFormat)&&void 0!==o&&o.parse)e=this.i18nFormat.parse(e,c(c({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){var a;n.interpolation&&this.interpolator.init(c(c({},n),{interpolation:c(c({},this.options.interpolation),n.interpolation)}));const o=Cc(e)&&(void 0!==(null===n||void 0===n||null===(a=n.interpolation)||void 0===a?void 0:a.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(o){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let u=n.replace&&!Cc(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=c(c({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language||r.usedLng,n),o){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(null===i||void 0===i?void 0:i[0])!==r[0]||n.context?s.translate(...r,t):(s.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null)}),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=Cc(l)?[l]:l;return null!=e&&null!==u&&void 0!==u&&u.length&&!1!==n.applyPostProcessor&&(e=qc.handle(u,e,t,this.options&&this.options.postProcessPassResolved?c({i18nResolved:c(c({},r),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,r,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cc(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,s),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==s.count&&!Cc(s.count),d=u&&!s.ordinal&&0===s.count,p=void 0!==s.context&&(Cc(s.context)||"number"===typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach((e=>{var a,c;this.isValidLookup(t)||(o=e,Kc["".concat(h[0],"-").concat(e)]||null===(a=this.utils)||void 0===a||!a.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(o)||(Kc["".concat(h[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{var o;if(this.isValidLookup(t))return;i=n;const a=[l];if(null!==(o=this.i18nFormat)&&void 0!==o&&o.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t="".concat(this.options.pluralSeparator,"zero"),r="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(u&&(a.push(l+e),s.ordinal&&0===e.indexOf(r)&&a.push(l+e.replace(r,this.options.pluralSeparator)),d&&a.push(l+t)),p){const n="".concat(l).concat(this.options.contextSeparator).concat(s.context);a.push(n),u&&(a.push(n+e),s.ordinal&&0===e.indexOf(r)&&a.push(n+e.replace(r,this.options.pluralSeparator)),d&&a.push(n+t))}}let c;for(;c=a.pop();)this.isValidLookup(t)||(r=c,t=this.getResource(n,e,c,s))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){var r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(r=this.i18nFormat)&&void 0!==r&&r.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Cc(e.replace);let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=c(c({},this.options.interpolation.defaultVariables),r)),!n){r=c({},r);for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Gc{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Uc.create("languageUtils")}getScriptPartFromCode(e){if(!(e=zc(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=zc(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Cc(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(iA){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),Cc(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return Cc(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):Cc(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}const Qc={zero:0,one:1,two:2,few:3,many:4,other:5},Xc={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Zc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Uc.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=zc("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Xc;if(!e.match(/-|_/))return Xc;const n=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(n,t)}return this.pluralRulesCache[i]=o,o}needsPlural(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(null===(t=r)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>"".concat(t).concat(e)))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort(((e,t)=>Qc[e]-Qc[t])).map((e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}const eu=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const r=Mc(e,n);return void 0!==r?r:Mc(t,n)})(e,t,n);return!o&&i&&Cc(n)&&(o=Ic(e,n,r),void 0===o&&(o=Ic(t,n,r))),o},tu=e=>e.replace(/\$/g,"$$$$");class nu{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Uc.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Rc,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?Pc(i):o||"{{",this.suffix=s?Pc(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Pc(d):p||Pc("$t("),this.nestingSuffix=h?Pc(h):f||Pc(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,n,r){var i;let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(e.indexOf(this.formatSeparator)<0){const i=eu(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,c(c(c({},r),t),{},{interpolationkey:e})):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(eu(t,l,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,c(c(c({},r),t),{},{interpolationkey:o}))};this.resetRegExp();const d=(null===r||void 0===r?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=void 0!==(null===r||void 0===r||null===(i=r.interpolation)||void 0===i?void 0:i.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>tu(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?tu(this.escape(e)):tu(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const n=o[1].trim();if(s=u(n),void 0===s)if("function"===typeof d){const t=d(e,o,r);s=Cc(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(p){s=o[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),s=""}else Cc(s)||this.useRawValueToEscape||(s=Nc(s));const i=t.safeValue(s);if(e=e.replace(o[0],i),p?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{var n;const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const o=e.split(new RegExp("".concat(r,"[ ]*{")));let s="{".concat(o[1]);e=o[0],s=this.interpolate(s,i);const a=s.match(/'/g),l=s.match(/"/g);((null!==(n=null===a||void 0===a?void 0:a.length)&&void 0!==n?n:0)%2===0&&!l||l.length%2!==0)&&(s=s.replace(/'/g,'"'));try{i=JSON.parse(s),t&&(i=c(c({},t),i))}catch(iA){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),iA),"".concat(e).concat(r).concat(s)}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];i=c({},o),i=i.replace&&!Cc(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(a=n[1].slice(l).split(this.formatSeparator).map((e=>e.trim())).filter(Boolean),n[1]=n[1].slice(0,l)),r=t(s.call(this,n[1].trim(),i),i),r&&n[0]===e&&!Cc(r))return r;Cc(r)||(r=Nc(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),a.length&&(r=a.reduce(((e,t)=>this.format(e,t,o.lng,c(c({},o),{},{interpolationkey:n[1].trim()}))),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const ru=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o=c(c({},o),{},{[i.interpolationkey]:void 0}));const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(zc(r),i),t[s]=a),a(n)}},iu=e=>(t,n,r)=>e(zc(n),r)(t);class ou{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Uc.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?ru:iu;this.formats={number:n(((e,t)=>{const n=new Intl.NumberFormat(e,c({},t));return e=>n.format(e)})),currency:n(((e,t)=>{const n=new Intl.NumberFormat(e,c(c({},t),{},{style:"currency"}));return e=>n.format(e)})),datetime:n(((e,t)=>{const n=new Intl.DateTimeFormat(e,c({},t));return e=>n.format(e)})),relativetime:n(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,c({},t));return e=>n.format(e,t.range||"day")})),list:n(((e,t)=>{const n=new Intl.ListFormat(e,c({},t));return e=>n.format(e)}))}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ru(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce(((e,t)=>{const{formatName:i,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{var s;const a=(null===r||void 0===r||null===(s=r.formatParams)||void 0===s?void 0:s[r.interpolationkey])||{},l=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[i](e,l,c(c(c({},o),r),a))}catch(a){this.logger.warn(a)}return t}return this.logger.warn("there was no format function for ".concat(i)),e}),e)}}class su extends $c{constructor(e,t,n){var r,i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=o,this.logger=Uc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],null===(r=this.backend)||void 0===r||null===(i=r.init)||void 0===i||i.call(r,n,o.backend,o)}queueLoad(e,t,n,r){const i={},o={},s={},a={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const s="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===a[t]&&(a[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=Tc(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"===typeof n.then?n.then((e=>s(null,e))).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Cc(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Cc(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(i," for language ").concat(r," failed"),n),!n&&o&&this.logger.log("".concat(t,"loaded namespace ").concat(i," for language ").concat(r),o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){var o,s,a;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(o=this.services)||void 0===o||null===(o=o.utils)||void 0===o||!o.hasLoadedNamespace||null!==(s=this.services)&&void 0!==s&&null!==(s=s.utils)&&void 0!==s&&s.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(null!==(a=this.backend)&&void 0!==a&&a.create){const o=c(c({},l),{},{isUpdate:i}),s=this.backend.create.bind(this.backend);if(s.length<6)try{let i;i=5===s.length?s(e,t,n,r,o):s(e,t,n,r),i&&"function"===typeof i.then?i.then((e=>u(null,e))).catch(u):u(null,i)}catch(d){u(d)}else s(e,t,n,r,u,o)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const au=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),Cc(e[1])&&(t.defaultValue=e[1]),Cc(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),lu=e=>{var t,n;return Cc(e.ns)&&(e.ns=[e.ns]),Cc(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Cc(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},cu=()=>{};class uu extends $c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=lu(e),this.services={},this.logger=Uc,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(Cc(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=au();this.options=c(c(c({},r),this.options),lu(t)),this.options.interpolation=c(c({},r.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Uc.init(i(this.modules.logger),this.options):Uc.init(null,this.options),t=this.modules.formatter?this.modules.formatter:ou;const n=new Gc(this.options);this.store=new Wc(this.options.resources,this.options);const o=this.services;o.logger=Uc,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Zc(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init&&o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new nu(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new su(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Jc(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=cu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=jc(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cu;const n=Cc(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var r,i;if("cimode"===(null===n||void 0===n?void 0:n.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],o=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)o(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>o(e)))}null===(r=this.options.preload)||void 0===r||null===(i=r.forEach)||void 0===i||i.call(r,(e=>o(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=jc();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=cu),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&qc.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=jc();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(o,s)=>{s?this.isLanguageChangingTo===e&&(i(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(o,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Cc(t)?t:t&&t[0],r=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(Cc(t)?[t]:t);var s,a;r&&(this.language||i(r),this.translator.language||this.translator.changeLanguage(r),null===(s=this.services.languageDetector)||void 0===s||null===(a=s.cacheUserLanguage)||void 0===a||a.call(s,r));this.loadResources(r,(e=>{o(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!==typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(a))}else o=c({},t);o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const u=r.options.keySeparator||".";let d;return d=o.keyPrefix&&Array.isArray(e)?e.map((e=>"".concat(o.keyPrefix).concat(u).concat(e))):o.keyPrefix?"".concat(o.keyPrefix).concat(u).concat(e):e,r.t(d,o)};return Cc(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=this.translator)||void 0===e?void 0:e.translate(...n)}exists(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=this.translator)||void 0===e?void 0:e.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=jc();return this.options.ns?(Cc(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=jc();Cc(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(iA){}const r=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new Gc(au());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new uu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cu;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r=c(c(c({},this.options),e),{isClone:!0}),i=new uu(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));if(["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services=c({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]=c({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce(((n,r)=>(n[r]=c({},e[t][r]),n)),e[t]),e)),{});i.store=new Wc(e,r),i.services.resourceStore=i.store}return i.translator=new Jc(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const du=uu.createInstance();du.createInstance=uu.createInstance;du.createInstance,du.dir,du.init,du.loadResources,du.reloadResources,du.use,du.changeLanguage,du.getFixedT,du.t,du.exists,du.setDefaultNamespace,du.hasLoadedNamespace,du.loadNamespaces,du.loadLanguages;n(844);Object.create(null);const pu={},hu=(e,t,n,r)=>{vu(n)&&pu[n]||(vu(n)&&(pu[n]=new Date),((e,t,n,r)=>{var i,o,s;const a=[n,c({code:t},r||{})];if(null!==e&&void 0!==e&&null!==(i=e.services)&&void 0!==i&&null!==(i=i.logger)&&void 0!==i&&i.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);vu(a[0])&&(a[0]="react-i18next:: ".concat(a[0])),null!==e&&void 0!==e&&null!==(o=e.services)&&void 0!==o&&null!==(o=o.logger)&&void 0!==o&&o.warn?e.services.logger.warn(...a):null!==(s=console)&&void 0!==s&&s.warn&&console.warn(...a)})(e,t,n,r))},fu=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},mu=(e,t,n)=>{e.loadNamespaces(t,fu(e,n))},gu=(e,t,n,r)=>{if(vu(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return mu(e,n,r);n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,fu(e,r))},vu=e=>"string"===typeof e,yu=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xu={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},bu=e=>xu[e];let wu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(yu,bu)};let ku;const Su={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wu=c(c({},wu),e)}(e.options.react),(e=>{ku=e})(e)}},Cu=(0,t.createContext)();class ju{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Nu=(e,t,n,r)=>e.getFixedT(t,n,r),Du=function(e){var n,r,i,o;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:a}=s,{i18n:l,defaultNS:u}=(0,t.useContext)(Cu)||{},d=a||l||ku;if(d&&!d.reportNamespaces&&(d.reportNamespaces=new ju),!d){hu(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return vu(t)?t:"object"===typeof(n=t)&&null!==n&&vu(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}null!==(n=d.options.react)&&void 0!==n&&n.wait&&hu(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const p=c(c(c({},wu),d.options.react),s),{useSuspense:h,keyPrefix:f}=p;let m=e||u||(null===(r=d.options)||void 0===r?void 0:r.defaultNS);m=vu(m)?[m]:m||["translation"],null===(i=(o=d.reportNamespaces).addUsedNamespaces)||void 0===i||i.call(o,m);const g=(d.isInitialized||d.initializedStoreOnce)&&m.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(hu(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,d,p))),v=((e,n,r,i)=>(0,t.useCallback)(Nu(e,n,r,i),[e,n,r,i]))(d,s.lng||null,"fallback"===p.nsMode?m:m[0],f),y=()=>v,x=()=>Nu(d,s.lng||null,"fallback"===p.nsMode?m:m[0],f),[b,w]=(0,t.useState)(y);let k=m.join();s.lng&&(k="".concat(s.lng).concat(k));const S=((e,n)=>{const r=(0,t.useRef)();return(0,t.useEffect)((()=>{r.current=n?r.current:e}),[e,n]),r.current})(k),C=(0,t.useRef)(!0);(0,t.useEffect)((()=>{const{bindI18n:e,bindI18nStore:t}=p;C.current=!0,g||h||(s.lng?gu(d,s.lng,m,(()=>{C.current&&w(x)})):mu(d,m,(()=>{C.current&&w(x)}))),g&&S&&S!==k&&C.current&&w(x);const n=()=>{C.current&&w(x)};return e&&(null===d||void 0===d||d.on(e,n)),t&&(null===d||void 0===d||d.store.on(t,n)),()=>{C.current=!1,d&&e&&(null===e||void 0===e||e.split(" ").forEach((e=>d.off(e,n)))),t&&d&&t.split(" ").forEach((e=>d.store.off(e,n)))}}),[d,k]),(0,t.useEffect)((()=>{C.current&&g&&w(y)}),[d,f,g]);const j=[b,d,g];if(j.t=b,j.i18n=d,j.ready=g,g)return j;if(!g&&!h)return j;throw new Promise((e=>{s.lng?gu(d,s.lng,m,(()=>e())):mu(d,m,(()=>e()))}))};const{slice:Eu,forEach:Au}=[];const Tu=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ou={create(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},r=encodeURIComponent(t);let i="".concat(e,"=").concat(r);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!Tu.test(n.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(n.domain)}if(n.path){if(!Tu.test(n.path))throw new TypeError("option path is invalid");i+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i}(e,t,i)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Mu={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return Ou.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&"undefined"!==typeof document&&Ou.create(n,e,r,i,o)}},Fu={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var r;let{search:e}=window.location;!window.location.search&&(null===(r=window.location.hash)||void 0===r?void 0:r.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const i=e.substring(1).split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");if(e>0){i[r].substring(0,e)===n&&(t=i[r].substring(e+1))}}}return t}},Pu={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:r}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const o=e.substring(1);if(n){const e=o.split("&");for(let r=0;r<e.length;r++){const i=e[r].indexOf("=");if(i>0){e[r].substring(0,i)===n&&(t=e[r].substring(i+1))}}}if(t)return t;if(!t&&r>-1){var i;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(i=t["number"===typeof r?r:0])||void 0===i?void 0:i.replace("/","")}}}return t}};let Lu=null;const Ru=()=>{if(null!==Lu)return Lu;try{if(Lu="undefined"!==typeof window&&null!==window.localStorage,!Lu)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(iA){Lu=!1}return Lu};var _u={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Ru())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Ru()&&window.localStorage.setItem(n,e)}};let Bu=null;const Iu=()=>{if(null!==Bu)return Bu;try{if(Bu="undefined"!==typeof window&&null!==window.sessionStorage,!Bu)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(iA){Bu=!1}return Bu};var zu={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Iu())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Iu()&&window.sessionStorage.setItem(n,e)}},Vu={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let i=0;i<e.length;i++)t.push(e[i]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},Hu={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!==typeof document?document.documentElement:null);return r&&"function"===typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},Uu={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(r))return;return null===(t=r["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},$u={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const r="number"===typeof n?n+1:1,i="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[r]}};let Wu=!1;try{document.cookie,Wu=!0}catch(iA){}const qu=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Wu||qu.splice(1,1);class Ku{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Au.call(Eu.call(arguments,1),(t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:qu,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Mu),this.addDetector(Fu),this.addDetector(_u),this.addDetector(zu),this.addDetector(Vu),this.addDetector(Hu),this.addDetector(Uu),this.addDetector($u),this.addDetector(Pu)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach((e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}})),t=t.filter((e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((e=>e.test(t))));var t})).map((e=>this.options.convertDetectedLanguage(e))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})))}}Ku.type="languageDetector";du.use(Ku).use(Su).init({resources:{en:{translation:{loading:"Loading...",login:"Login",logout:"Logout",signup:"Sign Up",login_signup:"Login / Sign Up",get_started:"Get Started",browse_videos:"Browse Videos",start_learning_free:"Start Learning Free",ready_to_start:"Ready to Start Learning?",home:"Home",about:"About",faq:"FAQ",watch:"Watch",series:"Series",my_list:"My List",progress:"Progress",hero_title:"Learn English the Natural Way",hero_subtitle:"Real conversations. Real people. No textbooks.",hero_value_prop_1:"Track your learning and build streaks",hero_value_prop_2:"Learn through videos, not memorization",hero_value_prop_3:"Hear real accents from real people",hero_value_prop_4:"Designed for beginners and beyond",hero_value_prop_5:"Comprehensible Input Method: science-backed and effective",welcome_back:"Welcome back, {{name}}!",not_logged_in:"Not logged in",log_in_to_track:"Log in to track your progress!",tracking_enabled:"Tracking enabled",sign_in_required:"Please log in to access this content.",insufficient_permissions:"Insufficient permissions.",tracking_status:"Tracking: {{minutes}}min",not_tracking:"Not tracking",want_to_track:"Want to track your progress?",sign_up_to_track:"Sign up to save your watch time and unlock the Progress tab!",english_fiesta_videos:"English Fiesta Videos",learn_naturally:"Learn English naturally through comprehensible input",track_learning_progress:"Track Your Learning Progress!",create_account_benefits:"Create an account to track hours, save videos to My List, and unlock the Progress tab",new_beginner:"New Beginner",beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced",conversation:"Conversation",grammar:"Grammar",vocabulary:"Vocabulary",pronunciation:"Pronunciation",culture:"Culture",business:"Business",interview:"Interview",travel:"Travel",tutorial:"Tutorial",search_videos:"Search videos...",all_levels:"All Levels",all_categories:"All Categories",all_accents:"All Accents",newest_first:"Newest First",most_popular:"Most Popular",shortest_first:"Shortest First",longest_first:"Longest First",saved_videos:"Saved Videos",watch_history:"Watch History",sign_in_to_access_mylist:"Sign in to access My List",create_account_to_save:"Create an account to save videos for later and track your watch history across all your devices.",no_saved_videos:"No saved videos yet",no_watch_history:"No watch history yet",videos_you_save:"Videos you save will appear here for easy access later.",videos_you_watch:"Videos you watch will appear here with your progress.",browse_videos_to_save:"Browse Videos to Save",start_watching_videos:"Start Watching Videos",learning_overview:"Learning Overview",total_hours:"Total Hours",day_streak:"Day Streak",personal_best:"Personal Best",videos_watched:"Videos Watched",learning_activity:"Learning Activity",learning_sources:"Learning Sources",platform_videos:"Platform Videos",manual_activities:"Manual Activities",progress_by_level:"Progress by Level",achievements:"Achievements",sign_in_to_view_progress:"Sign in to view your Progress",stay_on_track:"Stay on Track \u2014 Get weekly updates and video tips!",join_community:"Join our community of learners",subscribe:"Subscribe",email_placeholder:"Your email",name_optional:"Your Name (Optional)",email_address:"Your Email Address",maybe_later:"Maybe Later",subscribing:"Subscribing...",stay_motivated:"Stay Motivated!",get_learning_tips:"Get learning tips, progress updates, and new video notifications!",never_spam:"We'll never spam you. Unsubscribe anytime with one click.",footer_tagline:"Learn English naturally through real videos and real conversations \u2014 no memorization, just meaningful understanding.",quick_links:"Quick Links",contact_us:"Contact Us",connect:"Connect",language:"Language",coming_soon:"Coming Soon",copyright:"\xa9 2025 English Fiesta. All rights reserved.",no_videos_found:"No videos found",adjust_search_criteria:"Try adjusting your search criteria.",premium_content:"Premium Content",login_for_access:"Login for Access",premium_content_signup:"Premium content - Sign up to access",create_account_premium:"Please create an account to access premium content!",admin_dashboard:"Admin Dashboard",user_management:"User Management",video_management:"Video Management",upload_videos:"Upload Videos",add_youtube:"Add YouTube",total_users:"Total Users",students:"Students",instructors:"Instructors",admins:"Admins"}},es:{translation:{loading:"Cargando...",login:"Iniciar Sesi\xf3n",logout:"Cerrar Sesi\xf3n",signup:"Registrarse",login_signup:"Iniciar Sesi\xf3n / Registrarse",get_started:"Comenzar",browse_videos:"Explorar Videos",start_learning_free:"Comenzar a Aprender Gratis",ready_to_start:"\xbfListo para Comenzar a Aprender?",home:"Inicio",about:"Acerca de",faq:"Preguntas Frecuentes",watch:"Ver",series:"Series",my_list:"Mi Lista",progress:"Progreso",hero_title:"Aprende Ingl\xe9s de Forma Natural",hero_subtitle:"Conversaciones reales. Personas reales. Sin libros de texto.",hero_value_prop_1:"Rastrea tu aprendizaje y construye rachas",hero_value_prop_2:"Aprende a trav\xe9s de videos, no memorizaci\xf3n",hero_value_prop_3:"Escucha acentos reales de personas reales",hero_value_prop_4:"Dise\xf1ado para principiantes y m\xe1s all\xe1",hero_value_prop_5:"M\xe9todo de Input Comprensible: respaldado por la ciencia y efectivo",new_beginner:"Principiante Nuevo",beginner:"Principiante",intermediate:"Intermedio",advanced:"Avanzado"}},pt:{translation:{loading:"Carregando...",login:"Entrar",logout:"Sair",signup:"Cadastrar",login_signup:"Entrar / Cadastrar",get_started:"Come\xe7ar",browse_videos:"Explorar V\xeddeos",start_learning_free:"Come\xe7ar a Aprender Gr\xe1tis",ready_to_start:"Pronto para Come\xe7ar a Aprender?",home:"In\xedcio",about:"Sobre",faq:"Perguntas Frequentes",watch:"Assistir",series:"S\xe9ries",my_list:"Minha Lista",progress:"Progresso",hero_title:"Aprenda Ingl\xeas de Forma Natural",hero_subtitle:"Conversas reais. Pessoas reais. Sem livros did\xe1ticos.",hero_value_prop_1:"Acompanhe seu aprendizado e construa sequ\xeancias",hero_value_prop_2:"Aprenda atrav\xe9s de v\xeddeos, n\xe3o memoriza\xe7\xe3o",hero_value_prop_3:"Ou\xe7a sotaques reais de pessoas reais",hero_value_prop_4:"Projetado para iniciantes e al\xe9m",hero_value_prop_5:"M\xe9todo de Input Compreens\xedvel: baseado em ci\xeancia e eficaz",new_beginner:"Iniciante Novo",beginner:"Iniciante",intermediate:"Intermedi\xe1rio",advanced:"Avan\xe7ado"}}},lng:"en",fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"english_fiesta_language",caches:["localStorage"]}});function Yu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ju}=Object.prototype,{getPrototypeOf:Gu}=Object,Qu=(Xu=Object.create(null),e=>{const t=Ju.call(e);return Xu[t]||(Xu[t]=t.slice(8,-1).toLowerCase())});var Xu;const Zu=e=>(e=e.toLowerCase(),t=>Qu(t)===e),ed=e=>t=>typeof t===e,{isArray:td}=Array,nd=ed("undefined");const rd=Zu("ArrayBuffer");const id=ed("string"),od=ed("function"),sd=ed("number"),ad=e=>null!==e&&"object"===typeof e,ld=e=>{if("object"!==Qu(e))return!1;const t=Gu(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cd=Zu("Date"),ud=Zu("File"),dd=Zu("Blob"),pd=Zu("FileList"),hd=Zu("URLSearchParams"),[fd,md,gd,vd]=["ReadableStream","Request","Response","Headers"].map(Zu);function yd(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),td(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function xd(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const bd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,wd=e=>!nd(e)&&e!==bd;const kd=(Sd="undefined"!==typeof Uint8Array&&Gu(Uint8Array),e=>Sd&&e instanceof Sd);var Sd;const Cd=Zu("HTMLFormElement"),jd=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Nd=Zu("RegExp"),Dd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};yd(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)};const Ed=Zu("AsyncFunction"),Ad=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],bd.addEventListener("message",(e=>{let{source:t,data:i}=e;t===bd&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),bd.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,od(bd.postMessage)),Td="undefined"!==typeof queueMicrotask?queueMicrotask.bind(bd):"undefined"!==typeof process&&process.nextTick||Ad,Od={isArray:td,isArrayBuffer:rd,isBuffer:function(e){return null!==e&&!nd(e)&&null!==e.constructor&&!nd(e.constructor)&&od(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||od(e.append)&&("formdata"===(t=Qu(e))||"object"===t&&od(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&rd(e.buffer),t},isString:id,isNumber:sd,isBoolean:e=>!0===e||!1===e,isObject:ad,isPlainObject:ld,isReadableStream:fd,isRequest:md,isResponse:gd,isHeaders:vd,isUndefined:nd,isDate:cd,isFile:ud,isBlob:dd,isRegExp:Nd,isFunction:od,isStream:e=>ad(e)&&od(e.pipe),isURLSearchParams:hd,isTypedArray:kd,isFileList:pd,forEach:yd,merge:function e(){const{caseless:t}=wd(this)&&this||{},n={},r=(r,i)=>{const o=t&&xd(n,i)||i;ld(n[o])&&ld(r)?n[o]=e(n[o],r):ld(r)?n[o]=e({},r):td(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&yd(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yd(t,((t,r)=>{n&&od(t)?e[r]=Yu(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Gu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Qu,kindOfTest:Zu,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(td(e))return e;let t=e.length;if(!sd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Cd,hasOwnProperty:jd,hasOwnProp:jd,reduceDescriptors:Dd,freezeMethods:e=>{Dd(e,((t,n)=>{if(od(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];od(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return td(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:xd,global:bd,isContextDefined:wd,isSpecCompliantForm:function(e){return!!(e&&od(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ad(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=td(e)?[]:{};return yd(e,((e,t)=>{const o=n(e,r+1);!nd(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Ed,isThenable:e=>e&&(ad(e)||od(e))&&od(e.then)&&od(e.catch),setImmediate:Ad,asap:Td};function Md(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Od.inherits(Md,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Od.toJSONObject(this.config),code:this.code,status:this.status}}});const Fd=Md.prototype,Pd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Pd[e]={value:e}})),Object.defineProperties(Md,Pd),Object.defineProperty(Fd,"isAxiosError",{value:!0}),Md.from=(e,t,n,r,i,o)=>{const s=Object.create(Fd);return Od.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Md.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Ld=Md;function Rd(e){return Od.isPlainObject(e)||Od.isArray(e)}function _d(e){return Od.endsWith(e,"[]")?e.slice(0,-2):e}function Bd(e,t,n){return e?e.concat(t).map((function(e,t){return e=_d(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Id=Od.toFlatObject(Od,{},null,(function(e){return/^is[A-Z]/.test(e)}));const zd=function(e,t,n){if(!Od.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Od.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Od.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Od.isSpecCompliantForm(t);if(!Od.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Od.isDate(e))return e.toISOString();if(!a&&Od.isBlob(e))throw new Ld("Blob is not supported. Use a Buffer instead.");return Od.isArrayBuffer(e)||Od.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Od.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Od.isArray(e)&&function(e){return Od.isArray(e)&&!e.some(Rd)}(e)||(Od.isFileList(e)||Od.endsWith(n,"[]"))&&(a=Od.toArray(e)))return n=_d(n),a.forEach((function(e,r){!Od.isUndefined(e)&&null!==e&&t.append(!0===s?Bd([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!Rd(e)||(t.append(Bd(i,n,o),l(e)),!1)}const u=[],d=Object.assign(Id,{defaultVisitor:c,convertValue:l,isVisitable:Rd});if(!Od.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Od.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Od.forEach(n,(function(n,o){!0===(!(Od.isUndefined(n)||null===n)&&i.call(t,n,Od.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function Vd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Hd(e,t){this._pairs=[],e&&zd(e,this,t)}const Ud=Hd.prototype;Ud.append=function(e,t){this._pairs.push([e,t])},Ud.toString=function(e){const t=e?function(t){return e.call(this,t,Vd)}:Vd;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const $d=Hd;function Wd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qd(e,t,n){if(!t)return e;const r=n&&n.encode||Wd;Od.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):Od.isURLSearchParams(t)?t.toString():new $d(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Kd=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Od.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Yd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jd={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:$d,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Gd="undefined"!==typeof window&&"undefined"!==typeof document,Qd="object"===typeof navigator&&navigator||void 0,Xd=Gd&&(!Qd||["ReactNative","NativeScript","NS"].indexOf(Qd.product)<0),Zd="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ep=Gd&&window.location.href||"http://localhost",tp=c(c({},e),Jd);const np=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&Od.isArray(r)?r.length:o,a)return Od.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&Od.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&Od.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(Od.isFormData(e)&&Od.isFunction(e.entries)){const n={};return Od.forEachEntry(e,((e,r)=>{t(function(e){return Od.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const rp={transitional:Yd,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Od.isObject(e);i&&Od.isHTMLForm(e)&&(e=new FormData(e));if(Od.isFormData(e))return r?JSON.stringify(np(e)):e;if(Od.isArrayBuffer(e)||Od.isBuffer(e)||Od.isStream(e)||Od.isFile(e)||Od.isBlob(e)||Od.isReadableStream(e))return e;if(Od.isArrayBufferView(e))return e.buffer;if(Od.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return zd(e,new tp.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return tp.isNode&&Od.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Od.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return zd(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Od.isString(e))try{return(t||JSON.parse)(e),Od.trim(e)}catch(iA){if("SyntaxError"!==iA.name)throw iA}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||rp.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Od.isResponse(e)||Od.isReadableStream(e))return e;if(e&&Od.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(iA){if(n){if("SyntaxError"===iA.name)throw Ld.from(iA,Ld.ERR_BAD_RESPONSE,this,null,this.response);throw iA}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tp.classes.FormData,Blob:tp.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Od.forEach(["delete","get","head","post","put","patch"],(e=>{rp.headers[e]={}}));const ip=rp,op=Od.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sp=Symbol("internals");function ap(e){return e&&String(e).trim().toLowerCase()}function lp(e){return!1===e||null==e?e:Od.isArray(e)?e.map(lp):String(e)}function cp(e,t,n,r,i){return Od.isFunction(r)?r.call(this,t,n):(i&&(t=n),Od.isString(t)?Od.isString(r)?-1!==t.indexOf(r):Od.isRegExp(r)?r.test(t):void 0:void 0)}class up{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=ap(t);if(!i)throw new Error("header name must be a non-empty string");const o=Od.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=lp(e))}const o=(e,t)=>Od.forEach(e,((e,n)=>i(e,n,t)));if(Od.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Od.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&op[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Od.isHeaders(e))for(const[s,a]of e.entries())i(a,s,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=ap(e)){const n=Od.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Od.isFunction(t))return t.call(this,e,n);if(Od.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ap(e)){const n=Od.findKey(this,e);return!(!n||void 0===this[n]||t&&!cp(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=ap(e)){const i=Od.findKey(n,e);!i||t&&!cp(0,n[i],i,t)||(delete n[i],r=!0)}}return Od.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!cp(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Od.forEach(this,((r,i)=>{const o=Od.findKey(n,i);if(o)return t[o]=lp(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=lp(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Od.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Od.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[sp]=this[sp]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ap(e);t[r]||(!function(e,t){const n=Od.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Od.isArray(e)?e.forEach(r):r(e),this}}up.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Od.reduceDescriptors(up.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Od.freezeMethods(up);const dp=up;function pp(e,t){const n=this||ip,r=t||n,i=dp.from(r.headers);let o=r.data;return Od.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function hp(e){return!(!e||!e.__CANCEL__)}function fp(e,t,n){Ld.call(this,null==e?"canceled":e,Ld.ERR_CANCELED,t,n),this.name="CanceledError"}Od.inherits(fp,Ld,{__CANCEL__:!0});const mp=fp;function gp(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ld("Request failed with status code "+n.status,[Ld.ERR_BAD_REQUEST,Ld.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const vp=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}};const yp=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),o-t)))},()=>n&&s(n)]},xp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=vp(50,250);return yp((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},bp=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},wp=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Od.asap((()=>e(...n)))},kp=tp.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,tp.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(tp.origin),tp.navigator&&/(msie|trident)/i.test(tp.navigator.userAgent)):()=>!0,Sp=tp.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Od.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Od.isString(r)&&s.push("path="+r),Od.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Cp(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jp=e=>e instanceof dp?c({},e):e;function Np(e,t){t=t||{};const n={};function r(e,t,n,r){return Od.isPlainObject(e)&&Od.isPlainObject(t)?Od.merge.call({caseless:r},e,t):Od.isPlainObject(t)?Od.merge({},t):Od.isArray(t)?t.slice():t}function i(e,t,n,i){return Od.isUndefined(t)?Od.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!Od.isUndefined(t))return r(void 0,t)}function s(e,t){return Od.isUndefined(t)?Od.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(jp(e),jp(t),0,!0)};return Od.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);Od.isUndefined(s)&&o!==a||(n[r]=s)})),n}const Dp=e=>{const t=Np({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=dp.from(a),t.url=qd(Cp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Od.isFormData(r))if(tp.hasStandardBrowserEnv||tp.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(tp.hasStandardBrowserEnv&&(i&&Od.isFunction(i)&&(i=i(t)),i||!1!==i&&kp(t.url))){const e=o&&s&&Sp.read(s);e&&a.set(o,e)}return t},Ep="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Dp(e);let i=r.data;const o=dp.from(r.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:p,onDownloadProgress:h}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=dp.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());gp((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Ld("Request aborted",Ld.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Ld("Network Error",Ld.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Yd;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ld(t,i.clarifyTimeoutError?Ld.ETIMEDOUT:Ld.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&Od.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Od.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),h&&([l,u]=xp(h,!0),m.addEventListener("progress",l)),p&&m.upload&&([a,c]=xp(p),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new mp(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===tp.protocols.indexOf(v)?n(new Ld("Unsupported protocol "+v+":",Ld.ERR_BAD_REQUEST,e)):m.send(i||null)}))},Ap=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ld?t:new mp(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new Ld("timeout ".concat(t," of ms exceeded"),Ld.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>Od.asap(s),a}};function Tp(e,t){this.v=e,this.k=t}function Op(e){return function(){return new Mp(e.apply(this,arguments))}}function Mp(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof Tp;Promise.resolve(a?s.v:s).then((function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function Fp(e){return new Tp(e,0)}function Pp(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Tp(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Lp(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Rp(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Rp(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Rp=function(e){this.s=e,this.n=e.next},Rp.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Rp(e)}Mp.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Mp.prototype.next=function(e){return this._invoke("next",e)},Mp.prototype.throw=function(e){return this._invoke("throw",e)},Mp.prototype.return=function(e){return this._invoke("return",e)};const _p=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Bp=function(){var e=Op((function*(e,t){var n,r=!1,i=!1;try{for(var o,s=Lp(Ip(e));r=!(o=yield Fp(s.next())).done;r=!1){const e=o.value;yield*Pp(Lp(_p(e,t)))}}catch(a){i=!0,n=a}finally{try{r&&null!=s.return&&(yield Fp(s.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),Ip=function(){var e=Op((function*(e){if(e[Symbol.asyncIterator])return void(yield*Pp(Lp(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Fp(t.read());if(e)break;yield n}}finally{yield Fp(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),zp=(e,t,n,r)=>{const i=Bp(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Vp="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Hp=Vp&&"function"===typeof ReadableStream,Up=Vp&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),$p=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(iA){return!1}},Wp=Hp&&$p((()=>{let e=!1;const t=new Request(tp.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),qp=Hp&&$p((()=>Od.isReadableStream(new Response("").body))),Kp={stream:qp&&(e=>e.body)};var Yp;Vp&&(Yp=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Kp[e]&&(Kp[e]=Od.isFunction(Yp[e])?t=>t[e]():(t,n)=>{throw new Ld("Response type '".concat(e,"' is not supported"),Ld.ERR_NOT_SUPPORT,n)})})));const Jp=async(e,t)=>{const n=Od.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Od.isBlob(e))return e.size;if(Od.isSpecCompliantForm(e)){const t=new Request(tp.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Od.isArrayBufferView(e)||Od.isArrayBuffer(e)?e.byteLength:(Od.isURLSearchParams(e)&&(e+=""),Od.isString(e)?(await Up(e)).byteLength:void 0)})(t):n},Gp=Vp&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:h}=Dp(e);u=u?(u+"").toLowerCase():"text";let f,m=Ap([i,o&&o.toAbortSignal()],s);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&Wp&&"get"!==n&&"head"!==n&&0!==(v=await Jp(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Od.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=bp(v,xp(wp(l)));r=zp(n.body,65536,e,t)}}Od.isString(p)||(p=p?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,c(c({},h),{},{signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:i?p:void 0}));let o=await fetch(f);const s=qp&&("stream"===u||"response"===u);if(qp&&(a||s&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Od.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&bp(t,xp(wp(a),!0))||[];o=new Response(zp(o.body,65536,n,(()=>{r&&r(),g&&g()})),e)}u=u||"text";let y=await Kp[Od.findKey(Kp,u)||"text"](o,e);return!s&&g&&g(),await new Promise(((t,n)=>{gp(t,n,{data:y,headers:dp.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Ld("Network Error",Ld.ERR_NETWORK,e,f),{cause:y.cause||y});throw Ld.from(y,y&&y.code,e,f)}}),Qp={http:null,xhr:Ep,fetch:Gp};Od.forEach(Qp,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(iA){}Object.defineProperty(e,"adapterName",{value:t})}}));const Xp=e=>"- ".concat(e),Zp=e=>Od.isFunction(e)||null===e||!1===e,eh=e=>{e=Od.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Zp(n)&&(r=Qp[(t=String(n)).toLowerCase()],void 0===r))throw new Ld("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Xp).join("\n"):" "+Xp(e[0]):"as no adapter specified";throw new Ld("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function th(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mp(null,e)}function nh(e){th(e),e.headers=dp.from(e.headers),e.data=pp.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return eh(e.adapter||ip.adapter)(e).then((function(t){return th(e),t.data=pp.call(e,e.transformResponse,t),t.headers=dp.from(t.headers),t}),(function(t){return hp(t)||(th(e),t&&t.response&&(t.response.data=pp.call(e,e.transformResponse,t.response),t.response.headers=dp.from(t.response.headers))),Promise.reject(t)}))}const rh="1.8.4",ih={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ih[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const oh={};ih.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new Ld(r(i," has been removed"+(t?" in "+t:"")),Ld.ERR_DEPRECATED);return t&&!oh[i]&&(oh[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},ih.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const sh={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ld("options must be an object",Ld.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new Ld("option "+o+" must be "+n,Ld.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ld("Unknown option "+o,Ld.ERR_BAD_OPTION)}},validators:ih},ah=sh.validators;class lh{constructor(e){this.defaults=e,this.interceptors={request:new Kd,response:new Kd}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(iA){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Np(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&sh.assertOptions(n,{silentJSONParsing:ah.transitional(ah.boolean),forcedJSONParsing:ah.transitional(ah.boolean),clarifyTimeoutError:ah.transitional(ah.boolean)},!1),null!=r&&(Od.isFunction(r)?t.paramsSerializer={serialize:r}:sh.assertOptions(r,{encode:ah.function,serialize:ah.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),sh.assertOptions(t,{baseUrl:ah.spelling("baseURL"),withXsrfToken:ah.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Od.merge(i.common,i[t.method]);i&&Od.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=dp.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[nh.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let p=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=nh.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return qd(Cp((e=Np(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Od.forEach(["delete","get","head","options"],(function(e){lh.prototype[e]=function(t,n){return this.request(Np(n||{},{method:e,url:t,data:(n||{}).data}))}})),Od.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Np(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lh.prototype[e]=t(),lh.prototype[e+"Form"]=t(!0)}));const ch=lh;class uh{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new mp(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new uh((function(t){e=t}));return{token:t,cancel:e}}}const dh=uh;const ph={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ph).forEach((e=>{let[t,n]=e;ph[n]=t}));const hh=ph;const fh=function e(t){const n=new ch(t),r=Yu(ch.prototype.request,n);return Od.extend(r,ch.prototype,n,{allOwnKeys:!0}),Od.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Np(t,n))},r}(ip);fh.Axios=ch,fh.CanceledError=mp,fh.CancelToken=dh,fh.isCancel=hp,fh.VERSION=rh,fh.toFormData=zd,fh.AxiosError=Ld,fh.Cancel=fh.CanceledError,fh.all=function(e){return Promise.all(e)},fh.spread=function(e){return function(t){return e.apply(null,t)}},fh.isAxiosError=function(e){return Od.isObject(e)&&!0===e.isAxiosError},fh.mergeConfig=Np,fh.AxiosHeaders=dp,fh.formToJSON=e=>np(Od.isHTMLForm(e)?new FormData(e):e),fh.getAdapter=eh,fh.HttpStatusCode=hh,fh.default=fh;const mh=fh,gh="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),vh=(0,t.createContext)(null),yh=()=>{const e=(0,t.useContext)(vh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xh=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)((()=>localStorage.getItem("english_fiesta_token")));(0,t.useEffect)((()=>{if(a)u();else{const e=window.location.hash;if(e.includes("session_id=")){const t=e.split("session_id=")[1];c(t)}else s(!1)}}),[a]);const c=async e=>{try{s(!0);const t=(await mh.post("".concat(gh,"/auth/session"),{session_id:e})).data;i(t),l(t.session_token),localStorage.setItem("english_fiesta_token",t.session_token),window.location.hash="",window.location.pathname="/"}catch(t){console.error("Authentication failed:",t),s(!1)}},u=async()=>{try{const e=await mh.get("".concat(gh,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(a)}});i(e.data)}catch(e){console.error("Failed to fetch user profile:",e),d()}finally{s(!1)}},d=async()=>{try{a&&await mh.post("".concat(gh,"/auth/logout"),{},{headers:{Authorization:"Bearer ".concat(a)}})}catch(e){console.error("Logout error:",e)}finally{i(null),l(null),localStorage.removeItem("english_fiesta_token")}},p={user:r,loading:o,login:()=>{const e=encodeURIComponent(window.location.origin+"/profile");window.location.href="https://auth.emergentagent.com/?redirect=".concat(e)},logout:d,sessionToken:a,isAuthenticated:!!r,isAdmin:"admin"===(null===r||void 0===r?void 0:r.role),isInstructor:"instructor"===(null===r||void 0===r?void 0:r.role)||"admin"===(null===r||void 0===r?void 0:r.role),isStudent:"student"===(null===r||void 0===r?void 0:r.role)||"instructor"===(null===r||void 0===r?void 0:r.role)||"admin"===(null===r||void 0===r?void 0:r.role)};return(0,gi.jsx)(vh.Provider,{value:p,children:n})};class bh extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=oc(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wh(e){let{children:n,isPresent:r,anchorX:i,root:o}=e;const s=(0,t.useId)(),a=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(xi);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(r||!a.current||!e||!t)return;const p="left"===i?"left: ".concat(u):"right: ".concat(d);a.current.dataset.motionPopId=s;const h=document.createElement("style");c&&(h.nonce=c);const f=null!==o&&void 0!==o?o:document.head;return f.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{f.contains(h)&&f.removeChild(h)}}),[r]),(0,gi.jsx)(bh,{isPresent:r,childRef:a,sizeRef:l,children:t.cloneElement(n,{ref:a})})}const kh=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:d}=e;const p=Li(Sh),h=(0,t.useId)();let f=!0,m=(0,t.useMemo)((()=>(f=!1,{id:h,initial:r,isPresent:i,custom:s,onExitComplete:e=>{p.set(e,!0);for(const t of p.values())if(!t)return;o&&o()},register:e=>(p.set(e,!1),()=>p.delete(e))})),[i,p,o]);return a&&f&&(m=c({},m)),(0,t.useMemo)((()=>{p.forEach(((e,t)=>p.set(t,!1)))}),[i]),t.useEffect((()=>{!i&&!p.size&&o&&o()}),[i]),"popLayout"===l&&(n=(0,gi.jsx)(wh,{isPresent:i,anchorX:u,root:d,children:n})),(0,gi.jsx)(Pi.Provider,{value:m,children:n})};function Sh(){return new Map}const Ch=e=>e.key||"";function jh(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const Nh=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,p]=za(l),h=(0,t.useMemo)((()=>jh(n)),[n]),f=l&&!d?[]:h.map(Ch),m=(0,t.useRef)(!0),g=(0,t.useRef)(h),v=Li((()=>new Map)),[y,x]=(0,t.useState)(h),[b,w]=(0,t.useState)(h);Ki((()=>{m.current=!1,g.current=h;for(let e=0;e<b.length;e++){const t=Ch(b[e]);f.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}}),[b,f.length,f.join("-")]);const k=[];if(h!==y){let e=[...h];for(let t=0;t<b.length;t++){const n=b[t],r=Ch(n);f.includes(r)||(e.splice(t,0,n),k.push(n))}return"wait"===a&&k.length&&(e=k),w(jh(e)),x(h),null}const{forceRender:S}=(0,t.useContext)(vi);return(0,gi.jsx)(gi.Fragment,{children:b.map((e=>{const t=Ch(e),n=!(l&&!d)&&(h===b||f.includes(t));return(0,gi.jsx)(kh,{isPresent:n,initial:!(m.current&&!i)&&void 0,custom:r,presenceAffectsLayout:s,mode:a,root:u,onExitComplete:n?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach((t=>{t||(e=!1)})),e&&(null===S||void 0===S||S(),w(g.current),l&&(null===p||void 0===p||p()),o&&o())},anchorX:c,children:e},t)}))})},Dh=()=>{const{user:e,login:n,logout:r,isAuthenticated:i}=yh(),[o,s]=(0,t.useState)(!1);return(0,gi.jsx)(Sc.div,{className:"bg-white shadow-lg border-b-2 border-fiesta-yellow",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gi.jsx)(Sc.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:(0,gi.jsxs)("a",{href:"/",className:"flex items-center gap-3",children:[(0,gi.jsx)("img",{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-8 h-8 md:w-10 md:h-10"}),(0,gi.jsx)("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-fiesta-pink to-fiesta-purple bg-clip-text text-transparent font-baloo",children:"English Fiesta"})]})}),(0,gi.jsxs)("div",{className:"flex items-center gap-4",children:[(0,gi.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,gi.jsx)(Sc.a,{href:"/",className:"text-gray-600 hover:text-fiesta-pink transition-colors font-medium",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Home"}),(0,gi.jsx)(Sc.a,{href:"/about",className:"text-gray-600 hover:text-fiesta-blue transition-colors font-medium",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"About"}),(0,gi.jsx)(Sc.a,{href:"/faq",className:"text-gray-600 hover:text-fiesta-purple transition-colors font-medium",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"FAQ"}),(0,gi.jsx)(Sc.a,{href:"/book",className:"flex items-center justify-center text-gray-600 hover:text-fiesta-orange transition-colors font-medium px-2 py-1 rounded-lg",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:(0,gi.jsxs)("span",{className:"flex items-center gap-1",children:[(0,gi.jsx)("span",{children:"\ud83c\udfaf"}),(0,gi.jsx)("span",{children:"Join a Class"})]})})]}),(0,gi.jsx)(Sc.button,{className:"md:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",onClick:()=>s(!o),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,gi.jsx)(Sc.a,{href:"https://buymeacoffee.com/englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"hidden sm:flex items-center justify-center bg-gradient-to-r from-fiesta-pink to-pink-500 text-white px-3 py-2 rounded-full font-semibold text-xs md:text-sm shadow-lg hover:shadow-xl transition-all duration-300 whitespace-nowrap",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(236, 72, 153, 0.4)"},whileTap:{scale:.95},children:(0,gi.jsxs)("span",{className:"flex items-center gap-1",children:[(0,gi.jsx)("span",{children:"\ud83d\udc96"}),(0,gi.jsx)("span",{children:"Help English Fiesta Grow"})]})}),i?(0,gi.jsxs)("div",{className:"flex items-center gap-4",children:[(0,gi.jsxs)(Sc.div,{className:"text-right",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,gi.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,gi.jsxs)("div",{className:"text-xs text-gray-500 capitalize",children:["admin"===e.role&&"\ud83d\udc51 ","instructor"===e.role&&"\ud83c\udf93 ","student"===e.role&&"\ud83d\udcda ",e.role]})]}),e.picture&&(0,gi.jsx)(Sc.img,{src:e.picture,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-fiesta-yellow shadow-lg",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300}}),(0,gi.jsx)(Sc.button,{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm transition-all duration-200 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Logout"})]}):(0,gi.jsx)(Sc.button,{onClick:n,className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-6 py-2 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(56, 189, 248, 0.4)"},whileTap:{scale:.95},children:"Login / Sign Up"})]})]}),(0,gi.jsx)(Nh,{children:o&&(0,gi.jsx)(Sc.div,{className:"md:hidden bg-white border-t border-gray-200",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,gi.jsxs)("div",{className:"px-4 py-4 space-y-3",children:[(0,gi.jsx)(Sc.a,{href:"/",className:"block text-gray-600 hover:text-fiesta-pink transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:"Home"}),(0,gi.jsx)(Sc.a,{href:"/about",className:"block text-gray-600 hover:text-fiesta-blue transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:"About"}),(0,gi.jsx)(Sc.a,{href:"/faq",className:"block text-gray-600 hover:text-fiesta-purple transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:"FAQ"}),(0,gi.jsx)(Sc.a,{href:"/book",className:"flex items-center text-gray-600 hover:text-fiesta-orange transition-colors font-medium py-2",onClick:()=>s(!1),whileHover:{x:5},children:(0,gi.jsxs)("span",{className:"flex items-center gap-2",children:[(0,gi.jsx)("span",{children:"\ud83c\udfaf"}),(0,gi.jsx)("span",{children:"Join a Class"})]})}),(0,gi.jsx)(Sc.a,{href:"https://buymeacoffee.com/englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"flex sm:hidden items-center justify-center bg-gradient-to-r from-fiesta-pink to-pink-500 text-white px-4 py-3 rounded-lg font-semibold text-sm shadow-lg mt-4",onClick:()=>s(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,gi.jsxs)("span",{className:"flex items-center gap-2",children:[(0,gi.jsx)("span",{children:"\ud83d\udc96"}),(0,gi.jsx)("span",{children:"Help English Fiesta Grow"})]})})]})})})]})})},Eh=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),{i18n:c}=Du();(0,t.useEffect)((()=>{(async()=>{try{s(!0);let t="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/content");e&&n?t+="/".concat(e,"/").concat(n):e&&(t+="/".concat(e));const r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch content: ".concat(r.status));{const e=await r.json();i(e)}}catch(t){console.error("Error fetching content:",t),l(t)}finally{s(!1)}})()}),[e,n]);const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";if(!e||!e.languages)return"";const n=c.language||"en";return(e.languages[n]||e.languages.en||{})[t]||""};return{content:r,loading:o,error:a,getContentForLanguage:u,getTitleForLanguage:e=>u(e,"title")}},Ah=()=>{const[e,n]=(0,t.useState)({}),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)(null),{i18n:a}=Du();(0,t.useEffect)((()=>{(async()=>{try{i(!0);const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/content"));if(!e.ok)throw new Error("Failed to fetch content: ".concat(e.status));{const t=await e.json();n(t)}}catch(e){console.error("Error fetching all content:",e),s(e),n({})}finally{i(!1)}})()}),[]);const l=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";const[r,i]=t.split("."),o=a.language||"en";try{var s;const t=null===(s=e[r])||void 0===s?void 0:s[i];if(!t||!t.languages)return"";return(t.languages[o]||t.languages.en||{})[n]||""}catch(l){return console.warn("Failed to get content for ".concat(t,":"),l),""}};return{allContent:e,loading:r,error:o,getContent:l,getTitle:e=>l(e,"title")}},Th=()=>{const{i18n:e,t:t}=Du(),n=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8",available:!0},{code:"es",name:"Espa\xf1ol",flag:"\ud83c\uddea\ud83c\uddf8",available:!1},{code:"pt",name:"Portugu\xeas",flag:"\ud83c\udde7\ud83c\uddf7",available:!1}];return(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h5",{className:"font-semibold text-sm mb-2",children:t("language")}),(0,gi.jsx)("select",{value:e.language,onChange:t=>(t=>{var r;null!==(r=n.find((e=>e.code===t)))&&void 0!==r&&r.available&&e.changeLanguage(t)})(t.target.value),className:"bg-gray-700 text-white px-3 py-2 rounded text-sm border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:n.map((e=>(0,gi.jsxs)("option",{value:e.code,disabled:!e.available,children:[e.flag," ",e.name," ",!e.available&&"(".concat(t("coming_soon"),")")]},e.code)))})]})},Oh=()=>{const{t:e}=Du(),{getContent:t,loading:n}=Ah(),r=t("footer.footer_tagline")||e("footer_tagline"),i=t("footer.footer_copyright")||e("copyright");return(0,gi.jsxs)("footer",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-black text-white py-12 mt-16 relative overflow-hidden",children:[(0,gi.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,gi.jsx)(Sc.div,{className:"absolute top-10 right-10 text-fiesta-yellow text-4xl opacity-20",animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,gi.jsx)(Sc.div,{className:"absolute bottom-10 left-10 text-fiesta-pink text-3xl opacity-20",animate:{y:[0,-20,0],rotate:[0,-10,10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:"\ud83d\udc96"})]}),(0,gi.jsxs)("div",{className:"container mx-auto px-4 relative z-10",children:[(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[(0,gi.jsxs)("div",{className:"md:col-span-2",children:[(0,gi.jsxs)(Sc.div,{className:"flex items-center gap-3 mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},children:[(0,gi.jsx)(Sc.img,{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-8 h-8",whileHover:{rotate:360},transition:{duration:.6}}),(0,gi.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-fiesta-yellow to-fiesta-orange bg-clip-text text-transparent font-baloo",children:"English Fiesta"})]}),(0,gi.jsx)(Sc.p,{className:"text-gray-300 leading-relaxed mb-4 font-poppins",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:r}),(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-r from-gray-700 to-gray-600 rounded-xl p-6 border border-fiesta-blue border-opacity-30",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,gi.jsxs)("h4",{className:"font-semibold mb-2 text-fiesta-blue font-poppins",children:["\ud83d\udcec ",e("stay_on_track")]}),(0,gi.jsx)("p",{className:"text-sm text-gray-300 mb-3 font-poppins",children:"Get weekly updates and video tips!"}),(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsx)("input",{type:"email",placeholder:e("email_placeholder"),className:"flex-1 px-3 py-2 rounded-lg text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-fiesta-blue font-poppins"}),(0,gi.jsx)(Sc.button,{className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:shadow-lg transition-all duration-200 font-poppins font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:e("subscribe")})]})]})]}),(0,gi.jsxs)(Sc.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,gi.jsx)("h4",{className:"font-semibold mb-4 text-fiesta-green font-poppins",children:e("quick_links")}),(0,gi.jsxs)("ul",{className:"space-y-3 text-gray-300",children:[(0,gi.jsx)("li",{children:(0,gi.jsx)(Sc.a,{href:"/about",className:"hover:text-fiesta-green transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e("about")})}),(0,gi.jsx)("li",{children:(0,gi.jsx)(Sc.a,{href:"/faq",className:"hover:text-fiesta-green transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e("faq")})}),(0,gi.jsx)("li",{children:(0,gi.jsx)(Sc.a,{href:"/join",className:"hover:text-fiesta-yellow transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:"\ud83e\udd1d Join the Team"})}),(0,gi.jsx)("li",{children:(0,gi.jsx)(Sc.a,{href:"/privacy",className:"hover:text-white transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:"Privacy Policy"})}),(0,gi.jsx)("li",{children:(0,gi.jsx)(Sc.a,{href:"/terms",className:"hover:text-white transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:"Terms of Use"})})]})]}),(0,gi.jsxs)(Sc.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,gi.jsx)("h4",{className:"font-semibold mb-4 text-fiesta-purple font-poppins",children:e("connect")}),(0,gi.jsxs)("ul",{className:"space-y-3 text-gray-300 mb-6",children:[(0,gi.jsx)("li",{children:(0,gi.jsx)(Sc.a,{href:"mailto:support@englishfiesta.com",className:"hover:text-fiesta-purple transition-colors font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e("contact_us")})}),(0,gi.jsx)("li",{children:(0,gi.jsxs)(Sc.a,{href:"https://www.youtube.com/@englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-400 transition-colors flex items-center font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:[(0,gi.jsx)("span",{className:"mr-2",children:"\ud83d\udcfa"})," YouTube"]})}),(0,gi.jsx)("li",{children:(0,gi.jsxs)(Sc.a,{href:"https://instagram.com/fiestaenglish",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-400 transition-colors flex items-center font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:[(0,gi.jsx)("span",{className:"mr-2",children:"\ud83d\udcf8"})," Instagram"]})}),(0,gi.jsx)("li",{children:(0,gi.jsxs)(Sc.a,{href:"https://www.tiktok.com/@english_fiesta",target:"_blank",rel:"noopener noreferrer",className:"hover:text-purple-400 transition-colors flex items-center font-poppins",whileHover:{x:5},transition:{type:"spring",stiffness:300},children:[(0,gi.jsx)("span",{className:"mr-2",children:"\ud83c\udfb5"})," TikTok"]})})]}),(0,gi.jsx)(Sc.a,{href:"https://buymeacoffee.com/englishfiesta",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-fiesta-pink to-pink-500 text-white px-4 py-3 rounded-lg font-semibold text-sm shadow-lg hover:shadow-xl transition-all duration-300 block text-center mb-6",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(236, 72, 153, 0.4)"},whileTap:{scale:.95},children:"\ud83d\udc96 Help English Fiesta Grow"}),(0,gi.jsx)(Th,{})]})]}),(0,gi.jsx)(Sc.div,{className:"border-t border-gray-700 pt-8",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.5},children:(0,gi.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-400 text-sm",children:[(0,gi.jsx)("p",{className:"font-poppins",children:i}),(0,gi.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,gi.jsx)(Sc.a,{href:"/privacy",className:"hover:text-white transition-colors font-poppins",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Privacy"}),(0,gi.jsx)(Sc.a,{href:"/terms",className:"hover:text-white transition-colors font-poppins",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Terms"}),(0,gi.jsx)(Sc.a,{href:"mailto:support@englishfiesta.com",className:"hover:text-white transition-colors font-poppins",whileHover:{y:-2},transition:{type:"spring",stiffness:300},children:"Support"})]})]})}),n&&(0,gi.jsx)(Sc.div,{className:"text-center text-gray-500 text-xs mt-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Loading content..."})]})]})},Mh=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)({name:"",email:""}),[u,d]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=localStorage.getItem("email_capture_seen"),t=localStorage.getItem("email_subscribed");if(e||t)return;const r=()=>{n(!0),localStorage.setItem("email_capture_seen","true")},i=setTimeout(r,1e4),o=()=>{window.scrollY>500&&(r(),window.removeEventListener("scroll",o))};return window.addEventListener("scroll",o),()=>{clearTimeout(i),window.removeEventListener("scroll",o)}}),[]);const p=e=>{const{name:t,value:n}=e.target;l((e=>c(c({},e),{},{[t]:n}))),u&&d("")},h=()=>{n(!1),localStorage.setItem("email_capture_dismissed","true")};return e?(0,gi.jsx)(Nh,{children:(0,gi.jsxs)(Sc.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,gi.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:h}),(0,gi.jsxs)(Sc.div,{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},children:[(0,gi.jsx)(Sc.button,{onClick:h,className:"absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center bg-white bg-opacity-80 rounded-full text-gray-600 hover:text-gray-800 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,gi.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gi.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,gi.jsxs)("div",{className:"bg-gradient-to-r from-fiesta-blue via-fiesta-purple to-fiesta-pink p-6 text-white text-center relative overflow-hidden",children:[(0,gi.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full opacity-20",children:[(0,gi.jsx)(Sc.div,{className:"absolute top-4 left-4 text-4xl",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,gi.jsx)(Sc.div,{className:"absolute top-6 right-6 text-3xl",animate:{y:[0,-10,0],rotate:[0,-15,15,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},children:"\ud83d\udcda"}),(0,gi.jsx)(Sc.div,{className:"absolute bottom-4 left-6 text-2xl",animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2},children:"\u2728"})]}),(0,gi.jsxs)(Sc.div,{className:"relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[(0,gi.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,gi.jsx)("img",{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-12 h-12"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold font-baloo",children:"English Fiesta"})]}),(0,gi.jsx)("p",{className:"text-lg font-poppins leading-relaxed",children:"Join the English Fiesta community for more help on your English learning journey!"})]})]}),(0,gi.jsx)("div",{className:"p-6",children:o?(0,gi.jsxs)(Sc.div,{className:"text-center py-6",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},children:[(0,gi.jsx)(Sc.div,{className:"text-6xl mb-4",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.6},children:"\ud83c\udf89"}),(0,gi.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2 font-baloo",children:"Welcome to the Fiesta!"}),(0,gi.jsx)("p",{className:"text-gray-600 font-poppins",children:"Thank you for joining! You'll receive helpful tips and updates to support your English learning journey."})]}):(0,gi.jsx)(Sc.form,{onSubmit:async e=>{if(e.preventDefault(),a.email.trim()){i(!0),d("");try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/email/subscribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email.trim(),name:a.name.trim()||void 0})});if(e.ok)s(!0),localStorage.setItem("email_subscribed","true"),setTimeout((()=>{n(!1)}),3e3);else{const t=await e.json();d(t.detail||"Failed to subscribe. Please try again.")}}catch(t){d("Network error. Please check your connection and try again.")}finally{i(!1)}}else d("Email is required")},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,gi.jsxs)("div",{className:"space-y-4",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Name (Optional)"}),(0,gi.jsx)("input",{type:"text",name:"name",value:a.name,onChange:p,placeholder:"Enter your name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none transition-colors font-poppins"})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Email Address *"}),(0,gi.jsx)("input",{type:"email",name:"email",value:a.email,onChange:p,placeholder:"Enter your email",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none transition-colors font-poppins"})]}),u&&(0,gi.jsx)(Sc.div,{className:"text-red-600 text-sm font-poppins",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),(0,gi.jsx)(Sc.button,{type:"submit",disabled:r,className:"w-full py-4 rounded-lg font-bold text-lg font-poppins transition-all duration-300 ".concat(r?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-fiesta-yellow to-fiesta-orange text-gray-800 hover:shadow-lg hover:scale-105"),whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},children:r?(0,gi.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,gi.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Joining..."]}):"\ud83c\udfaf Join Now"}),(0,gi.jsx)(Sc.button,{type:"button",onClick:h,className:"block w-full text-center text-gray-500 hover:text-gray-700 transition-colors text-sm font-poppins py-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"No thanks"})]})})})]})]})}):null},Fh=()=>{const{isAuthenticated:e,login:t}=yh(),{t:n}=Du(),{getTitle:r,getContent:i,loading:o}=Ah(),s=r("hero_section.hero_title")||n("hero_title"),a=i("hero_section.hero_subtitle")||n("hero_subtitle"),l=r("hero_section.cta_button")||n("start_learning_free");return(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-fiesta-blue via-fiesta-purple to-fiesta-pink text-white overflow-hidden relative",children:[(0,gi.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,gi.jsx)(Sc.div,{className:"absolute top-10 left-10 text-6xl opacity-20",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,gi.jsx)(Sc.div,{className:"absolute top-20 right-20 text-4xl opacity-20",animate:{y:[0,10,0],rotate:[0,-5,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},children:"\ud83d\udcda"}),(0,gi.jsx)(Sc.div,{className:"absolute bottom-20 left-20 text-5xl opacity-20",animate:{y:[0,-15,0],rotate:[0,10,-10,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2},children:"\ud83c\udf1f"})]}),(0,gi.jsx)("div",{className:"container mx-auto px-4 py-16 relative z-10",children:(0,gi.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,gi.jsxs)(Sc.div,{className:"flex items-center justify-center gap-4 mb-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[(0,gi.jsx)(Sc.img,{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-16 h-16 md:w-20 md:h-20",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),(0,gi.jsx)("h1",{className:"text-4xl md:text-6xl font-bold hero-title font-baloo",children:s})]}),(0,gi.jsx)(Sc.h2,{className:"text-xl md:text-2xl mb-8 opacity-90 hero-subtitle font-poppins font-medium",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.2},children:a}),!e&&(0,gi.jsx)(Sc.button,{onClick:t,className:"bg-fiesta-yellow text-gray-800 px-8 py-4 rounded-full text-xl font-bold hover:bg-yellow-300 transition-all duration-300 transform shadow-2xl mb-12 font-poppins",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4,type:"spring",stiffness:200},whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(250, 204, 21, 0.4)"},whileTap:{scale:.95},children:l}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12",children:[[{emoji:"\ud83d\udcc8",title:n("hero_value_prop_1"),desc:"Monitor your progress and stay motivated with daily streak tracking",color:"from-fiesta-green to-green-400"},{emoji:"\ud83c\udfa5",title:n("hero_value_prop_2"),desc:"Absorb language naturally through engaging video content",color:"from-fiesta-orange to-orange-400"},{emoji:"\ud83c\udf0d",title:n("hero_value_prop_3"),desc:"Experience authentic English from speakers around the world",color:"from-fiesta-blue to-blue-400"},{emoji:"\ud83c\udfaf",title:n("hero_value_prop_4"),desc:"Content tailored to your level, from new beginner to advanced",color:"from-fiesta-purple to-purple-400"},{emoji:"\ud83e\udde0",title:n("hero_value_prop_5"),desc:"Science-backed and effective language acquisition approach",color:"from-fiesta-pink to-pink-400"}].map(((e,t)=>(0,gi.jsxs)(Sc.div,{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut",delay:.6+.1*t},whileHover:{scale:1.05,y:-5},children:[(0,gi.jsx)(Sc.div,{className:"text-3xl mb-3",whileHover:{scale:1.2,rotate:[0,-10,10,0]},transition:{duration:.3},children:e.emoji}),(0,gi.jsx)("h3",{className:"font-semibold mb-2 font-poppins",children:e.title}),(0,gi.jsx)("p",{className:"text-sm opacity-80 font-poppins",children:e.desc})]},t))),(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-yellow via-yellow-300 to-fiesta-orange backdrop-blur-sm rounded-xl p-6 hover:shadow-2xl transition-all duration-300 border-2 border-yellow-300 cursor-pointer",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut",delay:1.1},whileHover:{scale:1.05,y:-10,boxShadow:"0 20px 40px rgba(250, 204, 21, 0.6)"},whileTap:{scale:.95},onClick:()=>window.location.href="/watch",children:[(0,gi.jsx)(Sc.div,{className:"text-4xl mb-3",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udfaf"}),(0,gi.jsx)("h3",{className:"font-bold mb-2 text-gray-800 text-lg font-baloo",children:"Join the Fiesta"}),(0,gi.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:"Start watching videos now!"})]})]}),o&&(0,gi.jsx)(Sc.div,{className:"text-center mt-4 text-sm opacity-60",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Loading content..."})]})})]})},Ph=()=>{const{login:e}=yh();return(0,gi.jsx)("div",{className:"bg-white py-16",children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,gi.jsx)("div",{className:"text-center mb-12",children:(0,gi.jsx)("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed",children:"Welcome to English Fiesta \u2014 your place to learn English naturally, through real videos and real conversations. We believe language learning should be joyful and effective \u2014 not robotic or overwhelming."})}),(0,gi.jsxs)("div",{className:"mb-12",children:[(0,gi.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"How It Works"}),(0,gi.jsx)("div",{className:"bg-blue-50 rounded-2xl p-8",children:(0,gi.jsx)("p",{className:"text-lg text-gray-700 leading-relaxed text-center",children:"You watch videos you can actually understand \u2014 even as a beginner. As you watch, your brain picks up new vocabulary, grammar, and natural phrasing without effort. You track your progress, hear real accents, and build confidence \u2014 all at your own pace."})})]}),(0,gi.jsxs)("div",{className:"mb-12",children:[(0,gi.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Why Join English Fiesta"}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6",children:[(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfa5"}),(0,gi.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Access exclusive beginner-friendly videos"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"Content designed specifically for your learning level"})]}),(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6",children:[(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,gi.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Track your time and build motivation"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"See your progress and maintain learning streaks"})]}),(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6",children:[(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf89"}),(0,gi.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Learn with input that's actually fun"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"Engaging content that keeps you coming back"})]})]})]}),(0,gi.jsx)("div",{className:"text-center",children:(0,gi.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[(0,gi.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Start Your English Journey?"}),(0,gi.jsx)("p",{className:"text-lg opacity-90 mb-6",children:"Join thousands of learners who are mastering English naturally"}),(0,gi.jsx)("button",{onClick:e,className:"bg-white text-blue-600 px-8 py-4 rounded-lg text-xl font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Get Started Now - It's Free!"})]})})]})})};var Lh=n(173);function Rh(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(iA){o(iA)}}function a(e){try{l(r.throw(e))}catch(iA){o(iA)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const _h=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Bh(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=_h.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:i}=e,o="string"===typeof t?t:"string"===typeof i&&i.length>0?i:"./".concat(e.name);return"string"!==typeof r.path&&Ih(r,"path",o),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Ih(r,"relativePath",o),r}function Ih(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const zh=[".DS_Store","Thumbs.db"];function Vh(e){return"object"===typeof e&&null!==e}function Hh(e){return e.filter((e=>-1===zh.indexOf(e.name)))}function Uh(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function $h(e){if("function"!==typeof e.webkitGetAsEntry)return qh(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Yh(t):qh(e,t)}function Wh(e){return e.reduce(((e,t)=>[...e,...Array.isArray(t)?Wh(t):[t]]),[])}function qh(e,t){return Rh(this,void 0,void 0,(function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,Bh(e)}}const r=e.getAsFile();if(!r)throw new Error("".concat(e," is not a File"));return Bh(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)}))}function Kh(e){return Rh(this,void 0,void 0,(function*(){return e.isDirectory?Yh(e):function(e){return Rh(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.file((n=>{const r=Bh(n,e.fullPath);t(r)}),(e=>{n(e)}))}))}))}(e)}))}function Yh(e){const t=e.createReader();return new Promise(((e,n)=>{const r=[];!function i(){t.readEntries((t=>Rh(this,void 0,void 0,(function*(){if(t.length){const e=Promise.all(t.map(Kh));r.push(e),i()}else try{const t=yield Promise.all(r);e(t)}catch(o){n(o)}}))),(e=>{n(e)}))}()}))}var Jh=n(628);function Gh(e){return function(e){if(Array.isArray(e))return nf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(n),!0).forEach((function(t){Zh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||tf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(e,t){if(e){if("string"===typeof e)return nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nf(e,t):void 0}}function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rf="function"===typeof Jh?Jh:Jh.default,of="file-invalid-type",sf="file-too-large",af="file-too-small",lf="too-many-files",cf=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:of,message:"File type must be ".concat(t)}},uf=function(e){return{code:sf,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},df=function(e){return{code:af,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},pf={code:lf,message:"Too many files"};function hf(e,t){var n="application/x-moz-file"===e.type||rf(e,t);return[n,n?null:cf(t)]}function ff(e,t,n){if(mf(e.size))if(mf(t)&&mf(n)){if(e.size>n)return[!1,uf(n)];if(e.size<t)return[!1,df(t)]}else{if(mf(t)&&e.size<t)return[!1,df(t)];if(mf(n)&&e.size>n)return[!1,uf(n)]}return[!0,null]}function mf(e){return void 0!==e&&null!==e}function gf(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function vf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function yf(e){e.preventDefault()}function xf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!gf(e)&&t&&t.apply(void 0,[e].concat(r)),gf(e)}))}}function bf(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function wf(e){return/^.*\.[\w]+$/.test(e)}var kf=["children"],Sf=["open"],Cf=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],jf=["refKey","onChange","onClick"];function Nf(e){return function(e){if(Array.isArray(e))return Af(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ef(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||Ef(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ef(e,t){if(e){if("string"===typeof e)return Af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Af(e,t):void 0}}function Af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(n),!0).forEach((function(t){Mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ff(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Pf=(0,t.forwardRef)((function(e,n){var r=e.children,i=_f(Ff(e,kf)),o=i.open,s=Ff(i,Sf);return(0,t.useImperativeHandle)(n,(function(){return{open:o}}),[o]),t.createElement(t.Fragment,null,r(Of(Of({},s),{},{open:o})))}));Pf.displayName="Dropzone";var Lf={disabled:!1,getFilesFromEvent:function(e){return Rh(this,void 0,void 0,(function*(){return Vh(e)&&Vh(e.dataTransfer)?function(e,t){return Rh(this,void 0,void 0,(function*(){if(e.items){const n=Uh(e.items).filter((e=>"file"===e.kind));if("drop"!==t)return n;return Hh(Wh(yield Promise.all(n.map($h))))}return Hh(Uh(e.files).map((e=>Bh(e))))}))}(e.dataTransfer,e.type):function(e){return Vh(e)&&Vh(e.target)}(e)?function(e){return Uh(e.target.files).map((e=>Bh(e)))}(e):Array.isArray(e)&&e.every((e=>"getFile"in e&&"function"===typeof e.getFile))?function(e){return Rh(this,void 0,void 0,(function*(){const t=yield Promise.all(e.map((e=>e.getFile())));return t.map((e=>Bh(e)))}))}(e):[]}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Pf.defaultProps=Lf,Pf.propTypes={children:Lh.func,accept:Lh.objectOf(Lh.arrayOf(Lh.string)),multiple:Lh.bool,preventDropOnDocument:Lh.bool,noClick:Lh.bool,noKeyboard:Lh.bool,noDrag:Lh.bool,noDragEventsBubbling:Lh.bool,minSize:Lh.number,maxSize:Lh.number,maxFiles:Lh.number,disabled:Lh.bool,getFilesFromEvent:Lh.func,onFileDialogCancel:Lh.func,onFileDialogOpen:Lh.func,useFsAccessApi:Lh.bool,autoFocus:Lh.bool,onDragEnter:Lh.func,onDragLeave:Lh.func,onDragOver:Lh.func,onDrop:Lh.func,onDropAccepted:Lh.func,onDropRejected:Lh.func,onError:Lh.func,validator:Lh.func};var Rf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Of(Of({},Lf),e),r=n.accept,i=n.disabled,o=n.getFilesFromEvent,s=n.maxSize,a=n.minSize,l=n.multiple,c=n.maxFiles,u=n.onDragEnter,d=n.onDragLeave,p=n.onDragOver,h=n.onDrop,f=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,x=n.autoFocus,b=n.preventDropOnDocument,w=n.noClick,k=n.noKeyboard,S=n.noDrag,C=n.noDragEventsBubbling,j=n.onError,N=n.validator,D=(0,t.useMemo)((function(){return function(e){if(mf(e))return Object.entries(e).reduce((function(e,t){var n=ef(t,2),r=n[0],i=n[1];return[].concat(Gh(e),[r],Gh(i))}),[]).filter((function(e){return bf(e)||wf(e)})).join(",")}(r)}),[r]),E=(0,t.useMemo)((function(){return function(e){return mf(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=ef(e,2),n=t[0],r=t[1],i=!0;return bf(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(wf)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=ef(t,2),r=n[0],i=n[1];return Xh(Xh({},e),{},Zh({},r,i))}),{})}]:e}(r)}),[r]),A=(0,t.useMemo)((function(){return"function"===typeof v?v:If}),[v]),T=(0,t.useMemo)((function(){return"function"===typeof g?g:If}),[g]),O=(0,t.useRef)(null),M=(0,t.useRef)(null),F=Df((0,t.useReducer)(Bf,Rf),2),P=F[0],L=F[1],R=P.isFocused,_=P.isFileDialogActive,B=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),I=function(){!B.current&&_&&setTimeout((function(){M.current&&(M.current.files.length||(L({type:"closeDialog"}),T()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",I,!1),function(){window.removeEventListener("focus",I,!1)}}),[M,_,T,B]);var z=(0,t.useRef)([]),V=function(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),z.current=[])};(0,t.useEffect)((function(){return b&&(document.addEventListener("dragover",yf,!1),document.addEventListener("drop",V,!1)),function(){b&&(document.removeEventListener("dragover",yf),document.removeEventListener("drop",V))}}),[O,b]),(0,t.useEffect)((function(){return!i&&x&&O.current&&O.current.focus(),function(){}}),[O,x,i]);var H=(0,t.useCallback)((function(e){j?j(e):console.error(e)}),[j]),U=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),z.current=[].concat(Nf(z.current),[e.target]),vf(e)&&Promise.resolve(o(e)).then((function(t){if(!gf(e)||C){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!(!o&&t.length>1||o&&s>=1&&t.length>s)&&t.every((function(e){var t=ef(hf(e,n),1)[0],o=ef(ff(e,r,i),1)[0],s=a?a(e):null;return t&&o&&!s}))}({files:t,accept:D,minSize:a,maxSize:s,multiple:l,maxFiles:c,validator:N});L({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}})).catch((function(e){return H(e)}))}),[o,u,H,C,D,a,s,l,c,N]),$=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=vf(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(oA){}return t&&p&&p(e),!1}),[p,C]),W=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=z.current.filter((function(e){return O.current&&O.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),z.current=t,t.length>0||(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vf(e)&&d&&d(e))}),[O,d,C]),q=(0,t.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Df(hf(e,D),2),i=t[0],o=t[1],l=Df(ff(e,a,s),2),c=l[0],u=l[1],d=N?N(e):null;if(i&&c&&!d)n.push(e);else{var p=[o,u];d&&(p=p.concat(d)),r.push({file:e,errors:p.filter((function(e){return e}))})}})),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach((function(e){r.push({file:e,errors:[pf]})})),n.splice(0)),L({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),h&&h(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&f&&f(n,t)}),[L,l,D,a,s,c,h,f,m,N]),K=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),z.current=[],vf(e)&&Promise.resolve(o(e)).then((function(t){gf(e)&&!C||q(t,e)})).catch((function(e){return H(e)})),L({type:"reset"})}),[o,q,H,C]),Y=(0,t.useCallback)((function(){if(B.current){L({type:"openDialog"}),A();var e={multiple:l,types:E};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){q(e,null),L({type:"closeDialog"})})).catch((function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(T(e),L({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?H(e):(B.current=!1,M.current?(M.current.value=null,M.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else M.current&&(L({type:"openDialog"}),A(),M.current.value=null,M.current.click())}),[L,A,T,y,q,H,E,l]),J=(0,t.useCallback)((function(e){O.current&&O.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Y()))}),[O,Y]),G=(0,t.useCallback)((function(){L({type:"focus"})}),[]),Q=(0,t.useCallback)((function(){L({type:"blur"})}),[]),X=(0,t.useCallback)((function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?Y():setTimeout(Y,0))}),[w,Y]),Z=function(e){return i?null:e},ee=function(e){return k?null:Z(e)},te=function(e){return S?null:Z(e)},ne=function(e){C&&e.stopPropagation()},re=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,p=e.onDrop,h=Ff(e,Cf);return Of(Of(Mf({onKeyDown:ee(xf(o,J)),onFocus:ee(xf(s,G)),onBlur:ee(xf(a,Q)),onClick:Z(xf(l,X)),onDragEnter:te(xf(c,U)),onDragOver:te(xf(u,$)),onDragLeave:te(xf(d,W)),onDrop:te(xf(p,K)),role:"string"===typeof r&&""!==r?r:"presentation"},n,O),i||k?{}:{tabIndex:0}),h)}}),[O,J,G,Q,X,U,$,W,K,k,S,i]),ie=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=Ff(e,jf);return Of(Of({},Mf({accept:D,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(xf(r,K)),onClick:Z(xf(i,ie)),tabIndex:-1},n,M)),o)}}),[M,r,l,K,i]);return Of(Of({},P),{},{isFocused:R&&!i,getRootProps:re,getInputProps:oe,rootRef:O,inputRef:M,open:Z(Y)})}function Bf(e,t){switch(t.type){case"focus":return Of(Of({},e),{},{isFocused:!0});case"blur":return Of(Of({},e),{},{isFocused:!1});case"openDialog":return Of(Of({},Rf),{},{isFileDialogActive:!0});case"closeDialog":return Of(Of({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Of(Of({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Of(Of({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Of({},Rf);default:return e}}function If(){}const zf="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),Vf=e=>{let{onUploadSuccess:n}=e;const{sessionToken:r}=yh(),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)(!1),[l,u]=(0,t.useState)([]),[d,p]=(0,t.useState)({level:"New Beginner",accents:["American"],tags:[],instructor_name:"",country:"USA",category:"Conversation",is_premium:!1}),h=(0,t.useCallback)((e=>{const t=e.filter((e=>{const t=e.name.toLowerCase().split(".").pop();return["mp4","mov","avi"].includes(t)}));t.length!==e.length&&alert("Only MP4, MOV, and AVI files are supported"),t.length>0&&u((e=>[...e,...t]))}),[]),{getRootProps:f,getInputProps:m,isDragActive:g}=_f({onDrop:h,accept:{"video/mp4":[".mp4"],"video/mov":[".mov"],"video/avi":[".avi"]},maxSize:5368709120,multiple:!0}),v=(e,t)=>{p((n=>c(c({},n),{},{[e]:t})))};return(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\ud83d\udce4 Upload Videos"}),(0,gi.jsxs)("div",c(c({},f()),{},{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ".concat(g?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,gi.jsx)("input",c({},m())),(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc1"}),g?(0,gi.jsx)("p",{className:"text-blue-600 text-lg",children:"Drop the video files here..."}):(0,gi.jsxs)("div",{children:[(0,gi.jsx)("p",{className:"text-gray-600 text-lg mb-2",children:"Drag & drop video files here, or click to select"}),(0,gi.jsx)("p",{className:"text-sm text-gray-500",children:"Supports MP4, MOV, AVI \u2022 Max 5GB per file"})]})]})),l.length>0&&(0,gi.jsxs)("div",{className:"mt-6",children:[(0,gi.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:["Selected Files (",l.length,")"]}),(0,gi.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.map(((e,t)=>(0,gi.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,gi.jsxs)("div",{className:"flex items-center",children:[(0,gi.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83c\udfa5"}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("div",{className:"font-medium",children:e.name}),(0,gi.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.size/1048576).toFixed(1)," MB"]})]})]}),i[t]?(0,gi.jsxs)("div",{className:"flex items-center",children:["uploading"===i[t].status&&(0,gi.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:(0,gi.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(i[t].progress,"%")}})}),(0,gi.jsxs)("span",{className:"text-sm ".concat("completed"===i[t].status?"text-green-600":"failed"===i[t].status?"text-red-600":"text-blue-600"),children:["completed"===i[t].status&&"\u2705 Complete","failed"===i[t].status&&"\u274c Failed","uploading"===i[t].status&&"\ud83d\udd04 ".concat(i[t].progress,"%")]})]}):(0,gi.jsx)("button",{onClick:()=>(e=>{u((t=>t.filter(((t,n)=>n!==e))))})(t),className:"text-red-500 hover:text-red-700 text-sm",disabled:s,children:"Remove"})]},t)))})]}),l.length>0&&(0,gi.jsxs)("div",{className:"mt-6 border-t pt-6",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Video Metadata"}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Name *"}),(0,gi.jsx)("input",{type:"text",value:d.instructor_name,onChange:e=>v("instructor_name",e.target.value),placeholder:"Who is speaking or featured?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level *"}),(0,gi.jsxs)("select",{value:d.level,onChange:e=>v("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,gi.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,gi.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,gi.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),(0,gi.jsxs)("select",{value:d.country,onChange:e=>v("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"USA",children:"USA"}),(0,gi.jsx)("option",{value:"UK",children:"UK"}),(0,gi.jsx)("option",{value:"Canada",children:"Canada"}),(0,gi.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,gi.jsxs)("select",{value:d.category,onChange:e=>v("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,gi.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,gi.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,gi.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,gi.jsx)("option",{value:"Culture",children:"Culture"}),(0,gi.jsx)("option",{value:"Business",children:"Business"}),(0,gi.jsx)("option",{value:"Interview",children:"Interview"}),(0,gi.jsx)("option",{value:"Travel",children:"Travel"}),(0,gi.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]}),(0,gi.jsxs)("div",{className:"md:col-span-2",children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,gi.jsx)("input",{type:"text",value:d.tags.join(", "),onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));p((e=>c(c({},e),{},{tags:t})))})(e.target.value),placeholder:"e.g., beginner, conversation, daily life",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,gi.jsxs)("div",{className:"mt-4",children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accents *"}),(0,gi.jsx)("div",{className:"flex flex-wrap gap-3",children:["American","British","Australian","Canadian"].map((e=>(0,gi.jsxs)("label",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",checked:d.accents.includes(e),onChange:t=>((e,t)=>{p((n=>c(c({},n),{},{accents:t?[...n.accents,e]:n.accents.filter((t=>t!==e))})))})(e,t.target.checked),className:"mr-2"}),(0,gi.jsx)("span",{className:"text-sm",children:e})]},e)))})]}),(0,gi.jsx)("div",{className:"mt-4",children:(0,gi.jsxs)("label",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",checked:d.is_premium,onChange:e=>v("is_premium",e.target.checked),className:"mr-2"}),(0,gi.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\udc8e Mark as Premium Content"})]})})]}),l.length>0&&(0,gi.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,gi.jsx)("button",{onClick:async()=>{if(0===l.length)return void alert("Please select at least one video file");if(!d.instructor_name.trim())return void alert("Please enter the instructor name");a(!0),o({});const e=await Promise.allSettled(l.map(((e,t)=>(async(e,t)=>{const n=new FormData;n.append("file",e),n.append("title",e.name.replace(/\.[^/.]+$/,"")),n.append("description","Uploaded video: ".concat(e.name)),n.append("level",d.level),n.append("accents",JSON.stringify(d.accents)),n.append("tags",JSON.stringify(d.tags)),n.append("instructor_name",d.instructor_name),n.append("country",d.country),n.append("category",d.category),n.append("is_premium",d.is_premium);try{const i=await mh.post("".concat(zf,"/admin/videos/upload"),n,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"},onUploadProgress:n=>{const r=Math.round(100*n.loaded/n.total);o((n=>c(c({},n),{},{[t]:{progress:r,status:"uploading",filename:e.name}})))}});return o((n=>c(c({},n),{},{[t]:{progress:100,status:"completed",filename:e.name,result:i.data}}))),{success:!0,data:i.data}}catch(a){var i,s;return o((n=>{var r,i;return c(c({},n),{},{[t]:{progress:0,status:"failed",filename:e.name,error:(null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.detail)||a.message}})})),{success:!1,error:(null===(i=a.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.detail)||a.message}}})(e,t)))),t=e.filter((e=>"fulfilled"===e.status&&e.value.success)).length,i=e.length-t;a(!1),t>0&&n&&n(),alert("Upload completed: ".concat(t," successful, ").concat(i," failed"))},disabled:s||!d.instructor_name.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"\u23f3 Uploading...":"\ud83d\ude80 Upload ".concat(l.length," Video").concat(l.length>1?"s":"")}),(0,gi.jsx)("button",{onClick:()=>{u([]),o({})},disabled:s,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Clear All"})]})]})},Hf="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),Uf=e=>{let{onAddSuccess:n}=e;const{sessionToken:r}=yh(),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)({youtube_url:"",title:"",description:"",level:"New Beginner",accents:["American"],tags:[],instructor_name:"",country:"USA",category:"Conversation",is_premium:!1}),l=(e,t)=>{a((n=>c(c({},n),{},{[e]:t})))};return(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\ud83d\udcfa Add YouTube Video"}),(0,gi.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.youtube_url.trim())if((e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const n of t){const t=e.match(n);if(t)return t[1]}return null})(s.youtube_url))if(s.instructor_name.trim()){o(!0);try{await mh.post("".concat(Hf,"/admin/videos/youtube"),s,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});alert("\u2705 YouTube video added successfully!"),a({youtube_url:"",title:"",description:"",level:"New Beginner",accents:["American"],tags:[],instructor_name:"",country:"USA",category:"Conversation",is_premium:!1}),n&&n()}catch(l){var t,i;console.error("Error adding YouTube video:",l);const e=(null===(t=l.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to add YouTube video. Please try again.";alert("\u274c "+e)}finally{o(!1)}}else alert("Please enter the instructor name");else alert("Please enter a valid YouTube URL");else alert("Please enter a YouTube URL")},className:"space-y-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube URL *"}),(0,gi.jsx)("input",{type:"url",value:s.youtube_url,onChange:e=>l("youtube_url",e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,gi.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a YouTube video URL. We'll automatically fetch video information."})]}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Optional)"}),(0,gi.jsx)("input",{type:"text",value:s.title,onChange:e=>l("title",e.target.value),placeholder:"Leave blank to auto-fetch from YouTube",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Name *"}),(0,gi.jsx)("input",{type:"text",value:s.instructor_name,onChange:e=>l("instructor_name",e.target.value),placeholder:"Who is speaking or featured?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level *"}),(0,gi.jsxs)("select",{value:s.level,onChange:e=>l("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,gi.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,gi.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,gi.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),(0,gi.jsxs)("select",{value:s.country,onChange:e=>l("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"USA",children:"USA"}),(0,gi.jsx)("option",{value:"UK",children:"UK"}),(0,gi.jsx)("option",{value:"Canada",children:"Canada"}),(0,gi.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,gi.jsxs)("select",{value:s.category,onChange:e=>l("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,gi.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,gi.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,gi.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,gi.jsx)("option",{value:"Culture",children:"Culture"}),(0,gi.jsx)("option",{value:"Business",children:"Business"}),(0,gi.jsx)("option",{value:"Interview",children:"Interview"}),(0,gi.jsx)("option",{value:"Travel",children:"Travel"}),(0,gi.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),(0,gi.jsx)("textarea",{value:s.description,onChange:e=>l("description",e.target.value),placeholder:"Leave blank to auto-fetch from YouTube",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,gi.jsx)("input",{type:"text",value:s.tags.join(", "),onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));a((e=>c(c({},e),{},{tags:t})))})(e.target.value),placeholder:"e.g., beginner, conversation, daily life",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accents *"}),(0,gi.jsx)("div",{className:"flex flex-wrap gap-4",children:["American","British","Australian","Canadian"].map((e=>(0,gi.jsxs)("label",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",checked:s.accents.includes(e),onChange:t=>((e,t)=>{a((n=>c(c({},n),{},{accents:t?[...n.accents,e]:n.accents.filter((t=>t!==e))})))})(e,t.target.checked),className:"mr-2"}),(0,gi.jsx)("span",{className:"text-sm",children:e})]},e)))})]}),(0,gi.jsx)("div",{children:(0,gi.jsxs)("label",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",checked:s.is_premium,onChange:e=>l("is_premium",e.target.checked),className:"mr-2"}),(0,gi.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\udc8e Mark as Premium Content"})]})}),(0,gi.jsx)("div",{className:"flex gap-3",children:(0,gi.jsx)("button",{type:"submit",disabled:i||!s.youtube_url.trim()||!s.instructor_name.trim(),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:i?(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)("span",{className:"animate-spin",children:"\u23f3"}),"Adding YouTube Video..."]}):(0,gi.jsx)(gi.Fragment,{children:"\ud83d\udcfa Add YouTube Video"})})})]})]})},$f="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),Wf=e=>{let{refreshTrigger:n}=e;const{sessionToken:r}=yh(),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)(!0),[l,u]=(0,t.useState)({}),[d,p]=(0,t.useState)({page:1,limit:12,search:"",level:"",category:"",video_type:""}),[h,f]=(0,t.useState)(null),[m,g]=(0,t.useState)({});(0,t.useEffect)((()=>{v()}),[d,n]);const v=async()=>{a(!0);try{const e=new URLSearchParams;Object.entries(d).forEach((t=>{let[n,r]=t;null!==r&&""!==r&&e.append(n,r)}));const t=await mh.get("".concat($f,"/admin/videos?").concat(e.toString()),{headers:{Authorization:"Bearer ".concat(r)}});o(t.data.videos),u(t.data.pagination)}catch(t){var e;console.error("Error fetching admin videos:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&alert("Authentication required. Please log in as admin.")}finally{a(!1)}},y=(e,t)=>{p((n=>c(c({},n),{},{[e]:t,page:"page"!==e?1:t})))},x=async()=>{try{await mh.put("".concat($f,"/admin/videos/").concat(h),m,{headers:{Authorization:"Bearer ".concat(r)}}),f(null),v(),alert("Video updated successfully!")}catch(e){console.error("Error updating video:",e),alert("Failed to update video. Please try again.")}},b=e=>{if(!e)return"N/A";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfac Video Management"}),(0,gi.jsxs)("div",{className:"text-sm text-gray-600",children:[l.total||0," video",1!==l.total?"s":""," total"]})]}),(0,gi.jsx)("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:(0,gi.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v()},className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,gi.jsx)("div",{className:"md:col-span-2",children:(0,gi.jsx)("input",{type:"text",placeholder:"Search videos...",value:d.search,onChange:e=>y("search",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,gi.jsx)("div",{children:(0,gi.jsxs)("select",{value:d.level,onChange:e=>y("level",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"",children:"All Levels"}),(0,gi.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,gi.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,gi.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,gi.jsx)("option",{value:"Advanced",children:"Advanced"})]})}),(0,gi.jsx)("div",{children:(0,gi.jsxs)("select",{value:d.category,onChange:e=>y("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"",children:"All Categories"}),(0,gi.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,gi.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,gi.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,gi.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,gi.jsx)("option",{value:"Culture",children:"Culture"}),(0,gi.jsx)("option",{value:"Business",children:"Business"}),(0,gi.jsx)("option",{value:"Interview",children:"Interview"}),(0,gi.jsx)("option",{value:"Travel",children:"Travel"}),(0,gi.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})}),(0,gi.jsx)("div",{children:(0,gi.jsxs)("select",{value:d.video_type,onChange:e=>y("video_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gi.jsx)("option",{value:"",children:"All Types"}),(0,gi.jsx)("option",{value:"upload",children:"\ud83d\udcc1 Uploaded"}),(0,gi.jsx)("option",{value:"youtube",children:"\ud83d\udcfa YouTube"})]})})]})}),s?(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>(0,gi.jsxs)("div",{className:"animate-pulse",children:[(0,gi.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===i.length?(0,gi.jsxs)("div",{className:"text-center py-12",children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf9"}),(0,gi.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No videos found"}),(0,gi.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search criteria or upload some videos."})]}):(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e=>{return(0,gi.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[(0,gi.jsxs)("div",{className:"relative",children:[e.thumbnail_url?(0,gi.jsx)("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-48 object-cover"}):(0,gi.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:(0,gi.jsx)("span",{className:"text-4xl",children:"youtube"===e.video_type?"\ud83d\udcfa":"\ud83c\udfa5"})}),(0,gi.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:["youtube"===e.video_type&&(0,gi.jsx)("span",{className:"bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udcfa YouTube"}),e.is_premium&&(0,gi.jsx)("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udc8e Premium"})]}),(0,gi.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[e.duration_minutes,"min"]})]}),(0,gi.jsx)("div",{className:"p-4",children:h===e.id?(0,gi.jsxs)("div",{className:"space-y-3",children:[(0,gi.jsx)("input",{type:"text",value:m.title,onChange:e=>g((t=>c(c({},t),{},{title:e.target.value}))),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Title"}),(0,gi.jsx)("textarea",{value:m.description,onChange:e=>g((t=>c(c({},t),{},{description:e.target.value}))),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:"2",placeholder:"Description"}),(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsxs)("select",{value:m.level,onChange:e=>g((t=>c(c({},t),{},{level:e.target.value}))),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,gi.jsx)("option",{value:"New Beginner",children:"New Beginner"}),(0,gi.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,gi.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,gi.jsx)("option",{value:"Advanced",children:"Advanced"})]}),(0,gi.jsxs)("select",{value:m.category,onChange:e=>g((t=>c(c({},t),{},{category:e.target.value}))),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,gi.jsx)("option",{value:"Conversation",children:"Conversation"}),(0,gi.jsx)("option",{value:"Grammar",children:"Grammar"}),(0,gi.jsx)("option",{value:"Vocabulary",children:"Vocabulary"}),(0,gi.jsx)("option",{value:"Pronunciation",children:"Pronunciation"}),(0,gi.jsx)("option",{value:"Culture",children:"Culture"}),(0,gi.jsx)("option",{value:"Business",children:"Business"}),(0,gi.jsx)("option",{value:"Interview",children:"Interview"}),(0,gi.jsx)("option",{value:"Travel",children:"Travel"}),(0,gi.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]}),(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsx)("button",{onClick:x,className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"\u2705 Save"}),(0,gi.jsx)("button",{onClick:()=>f(null),className:"bg-gray-400 text-white px-3 py-1 rounded text-sm hover:bg-gray-500",children:"\u274c Cancel"})]})]}):(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h3",{className:"font-bold text-lg text-gray-800 mb-2 line-clamp-2",children:e.title}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,gi.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 mb-3",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Instructor:"})," ",e.instructor_name]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Level:"})," ",e.level]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Category:"})," ",e.category]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Country:"})," ",e.country]}),e.accents&&e.accents.length>0&&(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Accents:"})," ",e.accents.join(", ")]}),e.tags&&e.tags.length>0&&(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Tags:"})," ",e.tags.join(", ")]}),e.file_size&&(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Size:"})," ",b(e.file_size)]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("strong",{children:"Created:"})," ",(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]}),(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsx)("button",{onClick:()=>(e=>{f(e.id),g({title:e.title,description:e.description,level:e.level,instructor_name:e.instructor_name,country:e.country,category:e.category,is_premium:e.is_premium,tags:e.tags||[],accents:e.accents||[]})})(e),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"\u270f\ufe0f Edit"}),(0,gi.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"? This action cannot be undone.')))try{await mh.delete("".concat($f,"/admin/videos/").concat(e),{headers:{Authorization:"Bearer ".concat(r)}}),v(),alert("Video deleted successfully!")}catch(n){console.error("Error deleting video:",n),alert("Failed to delete video. Please try again.")}})(e.id,e.title),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"\ud83d\uddd1\ufe0f Delete"})]})]})})]},e.id);var t}))}),l.pages>1&&(0,gi.jsx)("div",{className:"mt-8 flex justify-center",children:(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsx)("button",{onClick:()=>y("page",Math.max(1,d.page-1)),disabled:d.page<=1,className:"px-3 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2039 Previous"}),(0,gi.jsxs)("span",{className:"px-4 py-2 bg-blue-100 text-blue-800 rounded",children:["Page ",d.page," of ",l.pages]}),(0,gi.jsx)("button",{onClick:()=>y("page",Math.min(l.pages,d.page+1)),disabled:d.page>=l.pages,className:"px-3 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next \u203a"})]})})]})};var qf=n(950),Kf=n(461);function Yf(e){this.content=e}Yf.prototype={constructor:Yf,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return-1==i?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Yf(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Yf(n)},addToStart:function(e,t){return new Yf([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Yf(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(-1==o?i.length:o,0,t,n),new Yf(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Yf.from(e)).size?new Yf(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Yf.from(e)).size?new Yf(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Yf.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},Yf.from=function(e){if(e instanceof Yf)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Yf(t)};const Jf=Yf;function Gf(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let e=0;i.text[e]==o.text[e];e++)n++;return n}if(i.content.size||o.content.size){let e=Gf(i.content,o.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function Qf(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let e=Qf(s.content,a.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class Xf{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,e-i),Math.min(a.content.size,t-i),n,r+i)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,((s,a)=>{let l=s.isText?s.text.slice(Math.max(e,a)-a,t-a):s.isLeaf?r?"function"===typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(o?o=!1:i+=n),i+=l}),0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new Xf(r,this.size+e.size)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let s=this.content[i],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),r+=s.nodeSize),o=a}return new Xf(n,r)}cutByIndex(e,t){return e==t?Xf.empty:0==e&&t==this.content.length?this:new Xf(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Xf(r,i)}addToStart(e){return new Xf([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Xf(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e){return Gf(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}findDiffEnd(e){return Qf(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size)}findIndex(e){if(0==e)return em(0,e);if(e==this.size)return em(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?em(t+1,r):em(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return Xf.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Xf(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Xf.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new Xf(t||e,n)}static from(e){if(!e)return Xf.empty;if(e instanceof Xf)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Xf([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Xf.empty=new Xf([],0);const Zf={index:0,offset:0};function em(e,t){return Zf.index=e,Zf.offset=t,Zf}function tm(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!tm(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!tm(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class nm{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&tm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return nm.none;if(e instanceof nm)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}nm.none=[];class rm extends Error{}class im{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=sm(this.content,e+this.openStart,t);return n&&new im(n,this.openStart,this.openEnd)}removeBetween(e,t){return new im(om(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return im.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new im(Xf.fromJSON(e,t.content),n,r)}static maxOpen(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new im(e,n,r)}}function om(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(om(o.content,t-i-1,n-i-1)))}function sm(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=sm(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function am(e,t,n){if(n.openStart>e.depth)throw new rm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new rm("Inconsistent open depths");return lm(e,t,n,0)}function lm(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=lm(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)r=t.node(i).copy(Xf.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return hm(o,fm(e,i,s,t,r))}{let r=e.parent,i=r.content;return hm(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return hm(o,mm(e,t,r))}function cm(e,t){if(!t.type.compatibleContent(e.type))throw new rm("Cannot join "+t.type.name+" onto "+e.type.name)}function um(e,t,n){let r=e.node(n);return cm(r,t.node(n)),r}function dm(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function pm(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(dm(e.nodeAfter,r),o++));for(let a=o;a<s;a++)dm(i.child(a),r);t&&t.depth==n&&t.textOffset&&dm(t.nodeBefore,r)}function hm(e,t){return e.type.checkContent(t),e.copy(t)}function fm(e,t,n,r,i){let o=e.depth>i&&um(e,t,i+1),s=r.depth>i&&um(n,r,i+1),a=[];return pm(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(cm(o,s),dm(hm(o,fm(e,t,n,r,i+1)),a)):(o&&dm(hm(o,mm(e,t,i+1)),a),pm(t,n,i,a),s&&dm(hm(s,mm(n,r,i+1)),a)),pm(r,null,i,a),new Xf(a)}function mm(e,t,n){let r=[];if(pm(null,e,n,r),e.depth>n){dm(hm(um(e,t,n+1),mm(e,t,n+1)),r)}return pm(t,null,n,r),new Xf(r)}im.empty=new im(Xf.empty,0,0);class gm{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let i=0;i<e;i++)r+=n.child(i).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return nm.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new bm(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let o=e;;){let{index:e,offset:t}=o.content.findIndex(i),s=i-t;if(n.push(o,e,r+t),!s)break;if(o=o.child(e),o.isText)break;i=s-1,r+=t+1}return new gm(t,n,i)}static resolveCached(e,t){let n=xm.get(e);if(n)for(let i=0;i<n.elts.length;i++){let e=n.elts[i];if(e.pos==t)return e}else xm.set(e,n=new vm);let r=n.elts[n.i]=gm.resolve(e,t);return n.i=(n.i+1)%ym,r}}class vm{constructor(){this.elts=[],this.i=0}}const ym=12,xm=new WeakMap;class bm{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const wm=Object.create(null);class km{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nm.none;this.type=e,this.attrs=t,this.marks=r,this.content=n||Xf.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&tm(this.attrs,t||e.defaultAttrs||wm)&&nm.sameSet(this.marks,n||nm.none)}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new km(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new km(this.type,this.attrs,this.content,e)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return im.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new im(a,r.depth-o,i.depth-o)}replace(e,t,n){return am(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return gm.resolveCached(this,e)}resolveNoCache(e){return gm.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Cm(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xf.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,o=this.contentMatchAt(e).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=nm.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!nm.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((e=>e.type.name))));this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=Xf.fromJSON(e,t.content),i=e.nodeType(t.type).create(t.attrs,r,n);return i.type.checkAttrs(i.attrs),i}}km.prototype.text=void 0;class Sm extends km{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Cm(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Sm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Sm(this.type,this.attrs,e,this.marks)}cut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Cm(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class jm{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Nm(e,t);if(null==n.next)return jm.empty;let r=Dm(n);n.next&&n.err("Unexpected trailing text");let i=function(e){let t=Object.create(null);return n(Fm(e,0));function n(r){let i=[];r.forEach((t=>{e[t].forEach((t=>{let n,{term:r,to:o}=t;if(r){for(let e=0;e<i.length;e++)i[e][0]==r&&(n=i[e][1]);Fm(e,o).forEach((e=>{n||i.push([r,n=[]]),-1==n.indexOf(e)&&n.push(e)}))}}))}));let o=t[r.join(",")]=new jm(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(Mm);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}}(function(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((e=>e.to=t))}function o(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(o(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),i(o(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return i(o(e.expr,t),s),i(o(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();i(o(e.expr,s),t),s=t}if(-1==e.max)i(o(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),i(o(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(e.exprs[r],t);if(r==e.exprs.length-1)return s;i(s,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function i(o,s){let a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return Xf.from(s.map((e=>e.createAndFill())));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:s}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let i=0;i<t.next.length;i++)r+=(i?", ":"")+t.next[i].type.name+"->"+e.indexOf(t.next[i].next);return r})).join("\n")}}jm.empty=new jm(!0);class Nm{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Dm(e){let t=[];do{t.push(Em(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Em(e){let t=[];do{t.push(Am(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Am(e){let t=function(e){if(e.eat("(")){let t=Dm(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let e=n[o];e.isInGroup(t)&&i.push(e)}0==i.length&&e.err("No node type or group '"+t+"' found");return i}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Om(e,t)}return t}function Tm(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Om(e,t){let n=Tm(e),r=n;return e.eat(",")&&(r="}"!=e.next?Tm(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Mm(e,t){return t-e}function Fm(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:o}=i[e];r||-1!=n.indexOf(o)||t(o)}}(t),n.sort(Mm)}function Pm(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Lm(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function Rm(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError("Unsupported attribute ".concat(i," for ").concat(n," of type ").concat(i));for(let i in e){let n=e[i];n.validate&&n.validate(t[i])}}function _m(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Im(e,r,t[r]);return n}class Bm{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=_m(e,n.attrs),this.defaultAttrs=Pm(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==jm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Lm(this.attrs,e)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new km(this,this.computeAttrs(e),Xf.from(t),nm.setFrom(n))}createChecked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=Xf.from(t),this.checkContent(t),new km(this,this.computeAttrs(e),t,nm.setFrom(n))}createAndFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),t=Xf.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(Xf.empty,!0);return i?new km(this,e,t.append(i),nm.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){Rm(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:nm.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new Bm(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Im{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let i=null===n?"null":typeof n;if(r.indexOf(i)<0)throw new RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(i))}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class zm{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=_m(e,r.attrs),this.excluded=null;let i=Pm(this.attrs);this.instance=i?new nm(this,i):null}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new nm(this,Lm(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,i)=>n[e]=new zm(e,r++,t,i))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Rm(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Vm{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=Jf.from(e.nodes),t.marks=Jf.from(e.marks||{}),this.nodes=Bm.compile(this.spec.nodes,this),this.marks=zm.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",i=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=jm.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==i?null:i?Hm(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:Hm(this,t.split(" "))}this.nodeFromJSON=e=>km.fromJSON(this,e),this.markFromJSON=e=>nm.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Bm))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new Sm(n,n.defaultAttrs,e,nm.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Hm(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Um{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach((e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Jm(this,t,!1);return n.addAll(e,nm.none,t.from,t.to),n.finish()}parseSlice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Jm(this,t,!0);return n.addAll(e,nm.none,t.from,t.to),im.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(Gm(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach((e=>{n(e=Qm(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)}))}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach((e=>{n(e=Qm(e)),e.node||e.ignore||e.mark||(e.node=r)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Um(e,Um.schemaRules(e)))}}const $m={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Wm={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qm={ol:!0,ul:!0};function Km(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Ym{constructor(e,t,n,r,i,o){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=o,this.content=[],this.activeMarks=nm.none,this.match=i||(4&o?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Xf.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=Xf.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Xf.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$m.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jm{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,i=t.topNode,o=Km(null,t.preserveWhitespace,0)|(n?4:0);r=i?new Ym(i.type,i.attrs,nm.none,!0,t.topMatch||i.type.contentMatch,o):new Ym(n?null:e.schema.topNodeType,null,nm.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,i=2&r.options?"full":this.localPreserveWS||(1&r.options)>0;if("full"===i||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)n="full"!==i?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],i=e.previousSibling;(!t||i&&"BR"==i.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,i=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o,s=e.nodeName.toLowerCase();qm.hasOwnProperty(s)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&qm.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(a?a.ignore:Wm.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let n,r=this.needsBlock;if($m.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),n=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let o=a&&a.skip?t:this.readStyles(e,t);o&&this.addAll(e,o),n&&this.sync(i),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,a,n,!1===a.consuming?o:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let e=this.parser.matchedStyles[r],i=n.getPropertyValue(e);if(i)for(let n;;){let r=this.parser.matchStyle(e,i,this,n);if(!r)break;if(r.ignore)return null;if(t=r.clearMark?t.filter((e=>!r.clearMark(e))):t.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return t}addElementByRule(e,t,n,r){let i,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(o,t.attrs||null,n,t.preserveWhitespace);e&&(i=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e,n,!1)));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}i&&this.sync(s)&&this.open--}addAll(e,t,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,t);this.findAtPoint(e,i)}findPlace(e,t,n){let r,i;for(let o=this.open,s=0;o>=0;o--){let t=this.nodes[o],a=t.findWrapping(e);if(a&&(!r||r.length>a.length+s)&&(r=a,i=t,!a.length))break;if(t.solid){if(n)break;s+=2}}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=nm.none;for(let i of r.concat(e.marks))(t.type?t.type.allowsMarkType(i.type):Xm(i.type,e.type))&&(n=i.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let i=this.findPlace(e.create(t),n,!1);return i&&(i=this.enterInner(e,t,n,!0,r)),i}enterInner(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let s=Km(e,i,o.options);4&o.options&&0==o.content.length&&(s|=4);let a=nm.none;return n=n.filter((t=>!(o.type?o.type.allowsMarkType(t.type):Xm(t.type,e))||(a=t.addToSet(a),!1))),this.nodes.push(new Ym(e,t,a,r,null,s)),this.open++,n}closeExtra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=i;s--)if(o(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!e||e.name!=a&&!e.isInGroup(a))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function Gm(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Qm(e){let t={};for(let n in e)t[n]=e[n];return t}function Xm(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class Zm{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=tg(t).createDocumentFragment());let r=n,i=[];return e.forEach((e=>{if(i.length||e.marks.length){let n=0,o=0;for(;n<i.length&&o<e.marks.length;){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],s=this.serializeMark(n,e.isInline,t);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=ig(tg(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.marks[e.type.name];return r&&ig(tg(n),r(e,t),null,e.attrs)}static renderSpec(e,t){return ig(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Zm(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=eg(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return eg(e.marks)}}function eg(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function tg(e){return e.document||window.document}const ng=new WeakMap;function rg(e){let t=ng.get(e);return void 0===t&&ng.set(e,t=function(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function ig(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let i,o=t[0];if("string"!=typeof o)throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=rg(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,a=o.indexOf(" ");a>0&&(n=o.slice(0,a),o=o.slice(a+1));let l=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let d=u;d<t.length;d++){let i=t[d];if(0===i){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:o}=ig(e,i,n,r);if(l.appendChild(t),o){if(s)throw new RangeError("Multiple content holes");s=o}}}return{dom:l,contentDOM:s}}const og=Math.pow(2,16);function sg(e){return 65535&e}class ag{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class lg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges=e,this.inverted=t,!e.length&&lg.empty)return lg.empty}recover(e){let t=0,n=sg(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/og}(e)}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[s+i],c=this.ranges[s+o],u=a+l;if(e<=u){let i=a+r+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return i;let o=e==(t<0?a:u)?null:s/3+(e-a)*og,d=e==a?2:e==u?1:4;return(t<0?e!=a:e!=u)&&(d|=8),new ag(i,d,o)}r+=c-l}return n?e+r:new ag(e+r,0,null)}touches(e,t){let n=0,r=sg(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let a=this.ranges[s+i];if(e<=t+a&&s==3*r)return!0;n+=this.ranges[s+o]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),i+=c-l}}invert(){return new lg(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?lg.empty:new lg(e<0?[0,-e,0]:[0,0,e])}}lg.empty=new lg([]);class cg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e?e.length:0;this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new cg(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new cg;return e.appendMappingInverted(this),e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this._maps[i].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(i);if(null!=t&&t>i&&t<this.to){i=t,e=this._maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new ag(e,r,null)}}const ug=Object.create(null);class dg{getMap(){return lg.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ug[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in ug)throw new RangeError("Duplicate use of step JSON ID "+e);return ug[e]=t,t.prototype.jsonID=e,t}}class pg{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new pg(e,null)}static fail(e){return new pg(null,e)}static fromReplace(e,t,n,r){try{return pg.ok(e.replace(t,n,r))}catch(iA){if(iA instanceof rm)return pg.fail(iA.message);throw iA}}}function hg(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(hg(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Xf.fromArray(r)}class fg extends dg{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new im(hg(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return pg.fromReplace(e,this.from,this.to,i)}invert(){return new mg(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new fg(t.pos,n.pos,this.mark)}merge(e){return e instanceof fg&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fg(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fg(t.from,t.to,e.markFromJSON(t.mark))}}dg.jsonID("addMark",fg);class mg extends dg{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new im(hg(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return pg.fromReplace(e,this.from,this.to,n)}invert(){return new fg(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new mg(t.pos,n.pos,this.mark)}merge(e){return e instanceof mg&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mg(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new mg(t.from,t.to,e.markFromJSON(t.mark))}}dg.jsonID("removeMark",mg);class gg extends dg{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pg.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return pg.fromReplace(e,this.pos,this.pos+1,new im(Xf.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new gg(this.pos,t.marks[n]);return new gg(this.pos,this.mark)}}return new vg(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gg(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new gg(t.pos,e.markFromJSON(t.mark))}}dg.jsonID("addNodeMark",gg);class vg extends dg{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pg.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return pg.fromReplace(e,this.pos,this.pos+1,new im(Xf.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new gg(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new vg(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vg(t.pos,e.markFromJSON(t.mark))}}dg.jsonID("removeNodeMark",vg);class yg extends dg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&bg(e,this.from,this.to)?pg.fail("Structure replace would overwrite content"):pg.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new lg([this.from,this.to-this.from,this.slice.size])}invert(e){return new yg(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new yg(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof yg)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?im.empty:new im(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yg(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?im.empty:new im(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yg(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yg(t.from,t.to,im.fromJSON(e,t.slice),!!t.structure)}}dg.jsonID("replace",yg);class xg extends dg{constructor(e,t,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(e){if(this.structure&&(bg(e,this.from,this.gapFrom)||bg(e,this.gapTo,this.to)))return pg.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return pg.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?pg.fromReplace(e,this.from,this.to,n):pg.fail("Content does not fit in gap")}getMap(){return new lg([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new xg(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new xg(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xg(t.from,t.to,t.gapFrom,t.gapTo,im.fromJSON(e,t.slice),t.insert,!!t.structure)}}function bg(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function wg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let t=o.child(l),c=a+t.nodeSize,u=r.matchType(t.type);if(u){r=u;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new mg(a,c,t.marks[r]));if(i&&t.isText&&"pre"!=n.whitespace){let e,r,i=/\r?\n|\r/g;for(;e=i.exec(t.text);)r||(r=new im(Xf.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),s.push(new yg(a+e.index,a+e.index+e[0].length,r))}}else s.push(new yg(a,c,im.empty));a=c}if(!r.validEnd){let t=r.fillBefore(Xf.empty,!0);e.replace(a,a,new im(t,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function kg(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Sg(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!kg(r,i,o))break}return null}function Cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}(e,t),o=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let l=r;a&&l<i;l++)a=a.matchType(n.child(l).type);return a&&a.validEnd?s:null}(r,t);return o?i.map(jg).concat({type:t,attrs:n}).concat(o.map(jg)):null}function jg(e){return{type:e,attrs:null}}function Ng(e,t,n,r){t.forEach(((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let i=e.mapping.slice(r).map(n+1+o+s.index);e.replaceWith(i,i+1,t.type.schema.linebreakReplacement.create())}}}))}function Dg(e,t,n,r){t.forEach(((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let i=e.mapping.slice(r).map(n+1+o);e.replaceWith(i,i+1,t.type.schema.text("\n"))}}))}function Eg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let e=i.node(c),t=i.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),o=r&&r[u+1];o&&(n=n.replaceChild(0,o.type.create(o.attrs)));let s=r&&r[u]||e;if(!e.canReplace(t+1,e.childCount)||!s.type.validContent(n))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Ag(e,t){let n=e.resolve(t),r=n.index();return Tg(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Tg(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),s=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n)return!1;if(!e.type.allowsMarks(o.marks))return!1}return n.validEnd}(e,t))}function Og(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t);for(let i=r.depth;;i--){let e,o,s=r.index(i);if(i==r.depth?(e=r.nodeBefore,o=r.nodeAfter):n>0?(e=r.node(i+1),s++,o=r.node(i).maybeChild(s)):(e=r.node(i).maybeChild(s-1),o=r.node(i+1)),e&&!e.isTextblock&&Tg(e,o)&&r.node(i).canReplace(s,s+1))return t;if(0==i)break;t=n<0?r.before(i):r.after(i)}}function Mg(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),a=!1;if(1==o)a=s.canReplace(n,n,i);else{let e=s.contentMatchAt(n).findWrapping(i.firstChild.type);a=e&&s.canReplaceWith(n,n,e[0])}if(a)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:im.empty;if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return Pg(i,o,r)?new yg(t,n,r):new Lg(i,o,r).fit()}function Pg(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}dg.jsonID("replaceAround",xg);class Lg{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Xf.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=Xf.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,o=n.depth,s=r.depth;for(;o&&s&&1==i.childCount;)i=i.firstChild.content,o--,s--;let a=new im(i,o,s);return e>-1?new xg(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new yg(n.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=Bg(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let i=e.firstChild;for(let o=this.depth;o>=0;o--){let e,{type:s,match:a}=this.frontier[o],l=null;if(1==t&&(i?a.matchType(i.type)||(l=a.fillBefore(Xf.from(i),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:o,parent:r,inject:l};if(2==t&&i&&(e=a.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:o,parent:r,wrap:e};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Bg(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new im(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Bg(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new im(Rg(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new im(Rg(e,t,1),t,n)}placeNodes(e){let{sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}=e;for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:d,type:p}=this.frontier[n];if(i){for(let e=0;e<i.childCount;e++)u.push(i.child(e));d=d.matchFragment(i)}let h=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let e=a.child(c),t=d.matchType(e.type);if(!t)break;c++,(c>1||0==l||e.content.size)&&(d=t,u.push(Ig(e.mark(p.allowedMarks(e.marks)),1==c?l:0,c==a.childCount?h:-1)))}let f=c==a.childCount;f||(h=-1),this.placed=_g(this.placed,n,Xf.from(u)),this.frontier[n].match=d,f&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<h;m++){let e=g.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),g=e.content}this.unplaced=f?0==t?im.empty:new im(Rg(s.content,t-1,1),t-1,h<0?s.openEnd:t-1):new im(Rg(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!zg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=zg(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=zg(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=_g(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=_g(this.placed,this.depth,Xf.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Xf.empty,!0);e.childCount&&(this.placed=_g(this.placed,this.frontier.length,e))}}function Rg(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Rg(e.firstChild.content,t-1,n)))}function _g(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(_g(e.lastChild.content,t-1,n)))}function Bg(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Ig(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Ig(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Xf.empty,!0)))),e.copy(r)}function zg(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function Vg(e,t,n,r,i){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Vg(i.content,t+1,n,r,i)))}if(t>r){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(Xf.empty,!0))}return e}function Hg(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}class Ug extends dg{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return pg.fail("No node at attribute step's position");let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return pg.fromReplace(e,this.pos,this.pos+1,new im(Xf.from(r),0,t.isLeaf?0:1))}getMap(){return lg.empty}invert(e){return new Ug(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ug(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ug(t.pos,t.attr,t.value)}}dg.jsonID("attr",Ug);class $g extends dg{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return pg.ok(n)}getMap(){return lg.empty}invert(e){return new $g(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new $g(t.attr,t.value)}}dg.jsonID("docAttr",$g);let Wg=class extends Error{};Wg=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Wg.prototype=Object.create(Error.prototype)).constructor=Wg,Wg.prototype.name="TransformError";class qg{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new cg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Wg(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:im.empty,r=Fg(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new im(Xf.from(n),0,0))}delete(e,t){return this.replace(e,t,im.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(Pg(i,o,r))return e.step(new yg(t,n,r));let s=Hg(i,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let e=i.node(h).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==f&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let e=h.firstChild;if(c.push(e),f==r.openStart)break;h=e.content}for(let h=u-1;h>=0;h--){let e=c[h],t=(d=e.type).spec.defining||d.spec.definingForContent;if(t&&!e.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(t||!e.type.isTextblock)break}var d;for(let h=r.openStart;h>=0;h--){let t=(h+u+1)%(r.openStart+1),a=c[t];if(a)for(let c=0;c<s.length;c++){let u=s[(c+l)%s.length],d=!0;u<0&&(d=!1,u=-u);let p=i.node(u-1),h=i.index(u-1);if(p.canReplaceWith(h,h,a.type,a.marks))return e.replace(i.before(u),d?o.after(u):n,new im(Vg(r.content,0,r.openStart,t),t,r.openEnd))}}let p=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>p));h--){let e=s[h];e<0||(t=i.before(e),n=o.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let e=r.index(i);if(r.node(i).canReplaceWith(e,e,n))return r.before(i+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let e=r.indexAfter(i);if(r.node(i).canReplaceWith(e,e,n))return r.after(i+1);if(e<r.node(i).childCount)return null}return null}(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new im(Xf.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=Hg(r,i);for(let s=0;s<o.length;s++){let t=o[s],n=s==o.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),i.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),i.indexAfter(t-1))))return e.delete(r.before(t),i.after(t))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=Xf.empty,d=0;for(let f=o,m=!1;f>n;f--)m||r.index(f)>0?(m=!0,u=Xf.from(r.node(f).copy(u)),d++):l--;let p=Xf.empty,h=0;for(let f=o,m=!1;f>n;f--)m||i.after(f+1)<i.end(f)?(m=!0,p=Xf.from(i.node(f).copy(p)),h++):c++;e.step(new xg(l,c,s,a,new im(u.append(p),d,h),u.size-d,!0))}(this,e,t),this}join(e){return function(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),s=o.node().type;if(i&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(i);e&&!t?r=!1:!e&&t&&(r=!0)}let a=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);Dg(e,r.node(),r.before(),a)}s.inlineContent&&wg(e,t+n-1,s,o.node().contentMatchAt(o.index()),null==r);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new yg(c,l.map(t+n,-1),im.empty,!0)),!0===r){let t=e.doc.resolve(c);Ng(e,t.node(),t.before(),e.steps.length)}}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}wrap(e,t){return function(e,t,n){let r=Xf.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Xf.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new xg(i,o,i,o,new im(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e){return function(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{let s="function"==typeof i?i(t):i;if(t.isTextblock&&!t.hasMarkup(r,s)&&function(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(o).map(n),r)){let i=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?i=!1:!e&&t&&(i=!0)}!1===i&&Dg(e,t,n,o),wg(e,e.mapping.slice(o).map(n,1),r,void 0,null===i);let a=e.mapping.slice(o),l=a.map(n,1),c=a.map(n+t.nodeSize,1);return e.step(new xg(l,c,l+1,c-1,new im(Xf.from(r.create(s,null,t.marks)),0,0),1,!0)),!0===i&&Ng(e,t,n,o),!1}}))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}setNodeMarkup(e,t){return function(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new xg(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new im(Xf.from(s),0,0),1,!0))}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}setNodeAttribute(e,t,n){return this.step(new Ug(e,t,n)),this}setDocAttribute(e,t){return this.step(new $g(e,t)),this}addNodeMark(e,t){return this.step(new gg(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof nm)t.isInSet(n.marks)&&this.step(new vg(e,t));else{let r,i=n.marks,o=[];for(;r=t.isInSet(i);)o.push(new vg(e,r)),i=r.removeFromSet(i);for(let e=o.length-1;e>=0;e--)this.step(o[e])}return this}split(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=e.doc.resolve(t),o=Xf.empty,s=Xf.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=Xf.from(i.node(a).copy(o));let e=r&&r[c];s=Xf.from(e?e.type.create(e.attrs,s):i.node(a).copy(s))}e.step(new yg(t,t,new im(o.append(s),n,n),!0))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}addMark(e,t,n){return function(e,t,n,r){let i,o,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),p=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(p)||(i&&i.to==c&&i.mark.eq(u[e])?i.to=d:s.push(i=new mg(c,d,u[e])));o&&o.to==c?o.to=d:a.push(o=new fg(c,d,r))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;o++;let a=null;if(r instanceof zm){let t,n=e.marks;for(;t=r.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==o-1&&l.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=o):i.push({style:l,from:Math.max(s,t),to:r,step:o})}}})),i.forEach((t=>e.step(new mg(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return wg(this,e,t,n),this}}const Kg=Object.create(null);class Yg{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Jg(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:im.empty,n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:l}=o[s],c=e.mapping.slice(i);e.replaceRange(c.map(a.pos),c.map(l.pos),s?im.empty:t),0==s&&ov(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n),l=a.map(o.pos),c=a.map(s.pos);i?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),ov(e,n,t.isInline?-1:1))}}static findFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new Xg(e):iv(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let r=t<0?iv(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):iv(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(r)return r}return null}static near(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new nv(e.node(0))}static atStart(e){return iv(e,e,0,0,1)||new nv(e)}static atEnd(e){return iv(e,e,e.content.size,e.childCount,-1)||new nv(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Kg[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in Kg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Kg[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Xg.between(this.$anchor,this.$head).getBookmark()}}Yg.prototype.visible=!0;class Jg{constructor(e,t){this.$from=e,this.$to=t}}let Gg=!1;function Qg(e){Gg||e.parent.inlineContent||(Gg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Xg extends Yg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;Qg(e),Qg(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Yg.near(n);let r=e.resolve(t.map(this.anchor));return new Xg(r.parent.inlineContent?r:n,n)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:im.empty;if(super.replace(e,t),t==im.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Xg&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Zg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Xg(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Yg.findFrom(t,n,!0)||Yg.findFrom(t,-n,!0);if(!e)return Yg.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(Yg.findFrom(e,-n,!0)||Yg.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new Xg(e,t)}}Yg.jsonID("text",Xg);class Zg{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Zg(e.map(this.anchor),e.map(this.head))}resolve(e){return Xg.between(e.resolve(this.anchor),e.resolve(this.head))}}class ev extends Yg{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?Yg.near(i):new ev(i)}content(){return new im(Xf.from(this.node),0,0)}eq(e){return e instanceof ev&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new tv(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ev(e.resolve(t.anchor))}static create(e,t){return new ev(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}ev.prototype.visible=!1,Yg.jsonID("node",ev);class tv{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Zg(n,n):new tv(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ev.isSelectable(n)?new ev(t):Yg.near(t)}}class nv extends Yg{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:im.empty;if(t==im.empty){e.delete(0,e.doc.content.size);let t=Yg.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new nv(e)}map(e){return new nv(e)}eq(e){return e instanceof nv}getBookmark(){return rv}}Yg.jsonID("all",nv);const rv={map(){return this},resolve:e=>new nv(e)};function iv(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return Xg.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let r=t.child(s);if(r.isAtom){if(!o&&ev.isSelectable(r))return ev.create(e,n-(i<0?r.nodeSize:0))}else{let t=iv(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function ov(e,t,n){let r=e.steps.length-1;if(r<t)return;let i,o=e.steps[r];(o instanceof yg||o instanceof xg)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==i&&(i=r)})),e.setSelection(Yg.near(e.doc.resolve(i),n)))}class sv extends qg{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return nm.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||nm.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(Yg.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function av(e,t){return t&&e?e.bind(t):e}class lv{constructor(e,t,n){this.name=e,this.init=av(t.init,n),this.apply=av(t.apply,n)}}const cv=[new lv("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new lv("selection",{init:(e,t)=>e.selection||Yg.atStart(t.doc),apply:e=>e.selection}),new lv("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new lv("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class uv{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cv.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new lv(e.key,e.spec.state,e))}))}}class dv{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let a=r?r[o].n:0,l=r?r[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new dv(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new sv(this)}static create(e){let t=new uv(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new dv(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new uv(this.schema,e.plugins),n=t.fields,r=new dv(t);for(let i=0;i<n.length;i++){let t=n[i].name;r[t]=this.hasOwnProperty(t)?this[t]:n[i].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new uv(e.schema,e.plugins),i=new dv(r);return r.fields.forEach((r=>{if("doc"==r.name)i.doc=km.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=Yg.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let s=n[o],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(i[r.name]=a.fromJSON.call(s,e,t[o],i))}i[r.name]=r.init(e,i)}})),i}}function pv(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=pv(i,t,{})),n[r]=i}return n}class hv{constructor(e){this.spec=e,this.props={},e.props&&pv(e.props,this,this.props),this.key=e.key?e.key.key:mv("plugin")}getState(e){return e[this.key]}}const fv=Object.create(null);function mv(e){return e in fv?e+"$"+ ++fv[e]:(fv[e]=0,e+"$")}class gv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";this.key=mv(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const vv=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},yv=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let xv=null;const bv=function(e,t,n){let r=xv||(xv=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},wv=function(e,t,n,r){return n&&(Sv(e,t,n,r,-1)||Sv(e,t,n,r,1))},kv=/^(img|br|input|textarea|hr)$/i;function Sv(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Cv(e))){let n=e.parentNode;if(!n||1!=n.nodeType||jv(e)||kv.test(e.nodeName)||"false"==e.contentEditable)return!1;t=vv(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(i<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(o=n.pmViewDesc)||void 0===o?void 0:o.ignoreForSelection))return!1;t+=i}else e=n,t=i<0?Cv(e):0}}}}function Cv(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function jv(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Nv=function(e){return e.focusNode&&wv(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Dv(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Ev="undefined"!=typeof navigator?navigator:null,Av="undefined"!=typeof document?document:null,Tv=Ev&&Ev.userAgent||"",Ov=/Edge\/(\d+)/.exec(Tv),Mv=/MSIE \d/.exec(Tv),Fv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tv),Pv=!!(Mv||Fv||Ov),Lv=Mv?document.documentMode:Fv?+Fv[1]:Ov?+Ov[1]:0,Rv=!Pv&&/gecko\/(\d+)/i.test(Tv);Rv&&(/Firefox\/(\d+)/.exec(Tv)||[0,0])[1];const _v=!Pv&&/Chrome\/(\d+)/.exec(Tv),Bv=!!_v,Iv=_v?+_v[1]:0,zv=!Pv&&!!Ev&&/Apple Computer/.test(Ev.vendor),Vv=zv&&(/Mobile\/\w+/.test(Tv)||!!Ev&&Ev.maxTouchPoints>2),Hv=Vv||!!Ev&&/Mac/.test(Ev.platform),Uv=!!Ev&&/Win/.test(Ev.platform),$v=/Android \d/.test(Tv),Wv=!!Av&&"webkitFontSmoothing"in Av.documentElement.style,qv=Wv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Kv(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Yv(e,t){return"number"==typeof e?e:e[t]}function Jv(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Gv(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(1!=s.nodeType){s=yv(s);continue}let e=s,n=e==o.body,a=n?Kv(o):Jv(e),l=0,c=0;if(t.top<a.top+Yv(r,"top")?c=-(a.top-t.top+Yv(i,"top")):t.bottom>a.bottom-Yv(r,"bottom")&&(c=t.bottom-t.top>a.bottom-a.top?t.top+Yv(i,"top")-a.top:t.bottom-a.bottom+Yv(i,"bottom")),t.left<a.left+Yv(r,"left")?l=-(a.left-t.left+Yv(i,"left")):t.right>a.right-Yv(r,"right")&&(l=t.right-a.right+Yv(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let i=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-i,top:t.top-o,right:t.right-i,bottom:t.bottom-o}}let u=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(u))break;s="absolute"==u?s.offsetParent:yv(s)}}function Qv(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=yv(r));return t}function Xv(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Zv=null;function ey(e,t){let n,r,i,o,s=2e8,a=0,l=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=bv(u).getClientRects()}for(let p=0;p<e.length;p++){let h=e[p];if(h.top<=l&&h.bottom>=c){l=Math.max(h.bottom,l),c=Math.min(h.top,c);let e=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(e<s){n=u,s=e,r=e&&3==n.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==u.nodeType&&e&&(a=d+(t.left>=(h.left+h.right)/2?1:0));continue}}else h.top>t.top&&!i&&h.left<=t.left&&h.right>=t.left&&(i=u,o={left:Math.max(h.left,Math.min(h.right,t.left)),top:h.top});!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(a=d+1)}}return!n&&i&&(n=i,r=o,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=oy(r,1);if(n.top!=n.bottom&&ty(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:a}:ey(n,r)}function ty(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ny(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(ty(t,i))return ny(n,t,i)}}if((o=(o+1)%r)==i)break}return e}function ry(e,t){let n,r=e.dom.ownerDocument,i=0,o=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Cv(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Cv(r.startContainer),r.startOffset)}}}(r,t.left,t.top);o&&({node:n,offset:i}=o);let s,a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=e.dom.getBoundingClientRect();if(!ty(t,n))return null;if(a=ny(e.dom,t,n),!a)return null}if(zv)for(let c=a;n&&c;c=yv(c))c.draggable&&(n=void 0);if(a=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(a,t),n){if(Rv&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}let r;Wv&&i&&1==n.nodeType&&1==(r=n.childNodes[i-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=function(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let t,n=e.docView.nearestDesc(o,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!s&&t.left>r.left||t.top>r.top?i=n.posBefore:(!s&&t.right<r.left||t.bottom<r.top)&&(i=n.posAfter),s=!0),!n.contentDOM&&i<0&&!n.node.isText))return(n.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;o=n.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}(e,n,i,t))}null==s&&(s=function(e,t,n){let{node:r,offset:i}=ey(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function iy(e){return e.top<e.bottom||e.left<e.right}function oy(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(iy(e))return e}return Array.prototype.find.call(n,iy)||e.getBoundingClientRect()}const sy=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ay(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=Wv||Rv;if(3==r.nodeType){if(!s||!sy.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,o=n<0?1:-1;return n<0&&!i?(t++,o=-1):n>=0&&i==r.nodeValue.length?(e--,o=1):n<0?e--:t++,ly(oy(bv(r,e,t),o),o<0)}{let e=oy(bv(r,i,i),n);if(Rv&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=oy(bv(r,i-1,i-1),-1);if(t.top==e.top){let n=oy(bv(r,i,i+1),-1);if(n.top!=e.top)return ly(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==Cv(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return cy(e.getBoundingClientRect(),!1)}if(null==o&&i<Cv(r)){let e=r.childNodes[i];if(1==e.nodeType)return cy(e.getBoundingClientRect(),!0)}return cy(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==Cv(r))){let e=r.childNodes[i-1],t=3==e.nodeType?bv(e,Cv(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return ly(oy(t,1),!1)}if(null==o&&i<Cv(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?bv(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return ly(oy(t,-1),!0)}return ly(oy(3==r.nodeType?bv(r):r,-n),n>=0)}function ly(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function cy(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function uy(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}const dy=/[\u0590-\u08ac]/;let py=null,hy=null,fy=!1;function my(e,t,n){return py==t&&hy==n?fy:(py=t,hy=n,fy="up"==n||"down"==n?function(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return uy(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=ay(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=bv(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return a?dy.test(r.parent.textContent)&&a.modify?uy(e,t,(()=>{let{focusNode:t,focusOffset:i,anchorNode:o,anchorOffset:s}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),p=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&i==d;try{a.collapse(o,s),t&&(t!=o||i!=s)&&a.extend&&a.extend(t,i)}catch(h){}return null!=l&&(a.caretBidiLevel=l),p})):"left"==n||"backward"==n?o:s:r.pos==r.start()||r.pos==r.end()}(e,t,n))}class gy{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>vv(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,r=e;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let i=0;n<this.children.length;n++){let t=this.children[n],o=i+t.size;if(o>e||t instanceof Sy){r=e-i;break}i=o}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof vy&&i.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?vv(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?vv(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,s=0;;s++){let n=this.children[s],a=o+n.size;if(-1==r&&e<=a){let i=o+n.border;if(e>=i&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=o;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=vv(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=vv(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Math.min(e,t),o=Math.max(e,t);for(let h=0,f=0;h<this.children.length;h++){let s=this.children[h],a=f+s.size;if(i>f&&o<a)return s.setSelection(e-f-s.border,t-f-s.border,n,r);f=a}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((Rv||zv)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(s=a={node:n.parentNode,offset:vv(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Rv&&c.focusNode&&c.focusNode!=a.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||u&&zv)&&wv(s.node,s.offset,c.anchorNode,c.anchorOffset)&&wv(a.node,a.offset,c.focusNode,c.focusOffset))return;let d=!1;if((l.extend||e==t)&&!u){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),d=!0}catch(p){}}if(!d){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+i.border,s=o-i.border;if(e>=r&&t<=s)return this.dirty=e==n||t==o?2:1,void(e!=r||t!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class vy extends gy{constructor(e,t,n,r){let i,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yy extends gy{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class xy extends gy{constructor(e,t,n,r,i){super(e,[],n,r),this.mark=t,this.spec=i}static create(e,t,n,r){let i=r.nodeViews[t.type.name],o=i&&i(t,r,n);return o&&o.dom||(o=Zm.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new xy(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=xy.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=Ry(i,t,o,n)),e>0&&(i=Ry(i,0,e,n));for(let s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class by extends gy{constructor(e,t,n,r,i,o,s,a,l){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,i,o){let s,a=i.nodeViews[t.type.name],l=a&&a(t,i,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:o),n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=Zm.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Oy(c,n,t),l?s=new Cy(e,t,n,r,c,u||null,d,l,i,o+1):t.isText?new ky(e,t,n,r,c,d,i):new by(e,t,n,r,c,u||null,d,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Xf.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&My(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,s=i&&i.pos<0,a=new Py(this,o&&o.node,e);!function(e,t,n,r){let i=t.locals(e),o=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,i,t.forChild(o,s),n),o+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d,p,h;for(;s<i.length&&i[s].to==o;){let e=i[s++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(Ly);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)h=-1,p=l,l=null;else{if(!(c<e.childCount))break;h=c,p=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=o&&a.splice(e--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let f=o+p.nodeSize;if(p.isText){let e=f;s<i.length&&i[s].from<e&&(e=i[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<f&&(l=p.cut(e-o),p=p.cut(0,e-o),f=e,h=-1)}else for(;s<i.length&&i[s].to<f;)s++;r(p,p.isInline&&!p.isLeaf?a.filter((e=>!e.inline)):a.slice(),t.forChild(o,p),h),o=f}}(this.node,this.innerDeco,((t,i,o)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!o&&a.syncToMarks(i==this.node.childCount?nm.none:this.node.child(i).marks,n,e),a.placeWidget(t,e,r)}),((t,o,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,o,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(t,o,l,u,e)||a.updateNextNode(t,o,l,e,c,r)||a.addNode(t,o,l,e,r),r+=t.nodeSize})),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(o&&this.protectLocalComposition(e,o),jy(this.contentDOM,this.children,e),Vv&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Xg)||n<t||r>t+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let e=i.nodeValue,o=function(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let t=e.child(i++);if(o+=t.nodeSize,!t.isText)break;l+=t.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return o<0?null:{node:i,pos:o,text:e}}return{node:i,pos:-1,text:""}}protectLocalComposition(e,t){let{node:n,pos:r,text:i}=t;if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new yy(this,o,n,i);e.input.compositionNodes.push(s),this.children=Ry(this.children,r,r+i.length,e,s)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(My(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Ay(this.dom,this.nodeDOM,Ey(this.outerDeco,this.node,t),Ey(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function wy(e,t,n,r,i){Oy(r,t,e);let o=new by(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ky extends by{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new ky(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Sy extends gy{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Cy extends by{constructor(e,t,n,r,i,o,s,a,l,c){super(e,t,n,r,i,o,s,l,c),this.spec=a}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function jy(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=Fy(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof xy){let t=r?r.previousSibling:e.lastChild;jy(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Fy(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Ny=function(e){e&&(this.nodeName=e)};Ny.prototype=Object.create(null);const Dy=[new Ny];function Ey(e,t,n){if(0==e.length)return Dy;let r=n?Dy[0]:new Ny,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new Ny(s.nodeName));for(let e in s){let o=s[e];null!=o&&(n&&1==i.length&&i.push(r=new Ny(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o))}}}return i}function Ay(e,t,n,r){if(n==Dy&&r==Dy)return t;let i=t;for(let o=0;o<r.length;o++){let t=r[o],s=n[o];if(o){let n;s&&s.nodeName==t.nodeName&&i!=e&&(n=i.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(i),s=Dy[0]),i=n}Ty(i,s||Dy[0],t)}return i}function Ty(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Oy(e,t,n){return Ay(e,e,Dy,Ey(t,n,1!=e.nodeType))}function My(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Fy(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Py{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof xy)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=xy.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof by){let l=this.preMatch.matched.get(a);if(null!=l&&l!=i)return!1;let c,u=a.dom,d=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&My(t,a.outerDeco));if(!d&&a.update(e,t,n,r))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(a,e,t,n,r,o)))return this.destroyBetween(this.index,s),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,o+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!My(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let s=by.create(this.top,t,n,r,i,o);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,r,i){let o=by.create(this.top,e,t,n,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new vy(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xy;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ky)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((zv||Bv)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Sy(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Ly(e,t){return e.type.side-t.type.side}function Ry(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function _y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=r.resolve(s);if(Nv(n)){for(a=s;i&&!i.node;)i=i.parent;let e=i.node;if(i&&e.isAtom&&ev.isSelectable(e)&&i.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,i=t==Cv(e);r||i;){if(e==n)return!0;let t=vv(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==Cv(e)}}(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;l=new ev(s==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,i=s;for(let r=0;r<n.rangeCount;r++){let o=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(o.startContainer,o.startOffset,1)),i=Math.max(i,e.docView.posFromDOM(o.endContainer,o.endOffset,-1))}if(t<0)return null;[a,s]=i==e.state.selection.anchor?[i,t]:[t,i],c=r.resolve(s)}else a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=r.resolve(a);if(!l){l=qy(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1)}return l}function By(e){return e.editable?e.hasFocus():Yy(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Iy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if($y(e,n),By(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Bv){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&wv(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setStart(r.parentNode,vv(r)+1):n.setStart(r,0);n.collapse(!0),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Pv&&Lv<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let r,i,{anchor:o,head:s}=n;!zy||n instanceof Xg||(n.$from.parent.inlineContent||(r=Vy(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Vy(e,n.to))),e.docView.setSelection(o,s,e,t),zy&&(r&&Uy(r),i&&Uy(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{By(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const zy=zv||Bv&&Iv<63;function Vy(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(zv&&i&&"false"==i.contentEditable)return Hy(i);if((!i||"false"==i.contentEditable)&&(!o||"false"==o.contentEditable)){if(i)return Hy(i);if(o)return Hy(o)}}function Hy(e){return e.contentEditable="true",zv&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Uy(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function $y(e,t){if(t instanceof ev){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Wy(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Wy(e)}function Wy(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function qy(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||Xg.between(t,n,r)}function Ky(e){return!(e.editable&&!e.hasFocus())&&Yy(e)}function Yy(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Jy(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Yg.findFrom(o,t)}function Gy(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Qy(e,t,n){let r=e.state.selection;if(!(r instanceof Xg)){if(r instanceof ev&&r.node.isInline)return Gy(e,new Xg(t>0?r.$to:r.$from));{let n=Jy(e.state,t);return!!n&&Gy(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,i=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(n.pos+i.nodeSize*(t<0?-1:1));return Gy(e,new Xg(r.$anchor,o))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=Jy(e.state,t);return!!(n&&n instanceof ev)&&Gy(e,n)}if(!(Hv&&n.indexOf("m")>-1)){let n,i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(ev.isSelectable(o)?Gy(e,new ev(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):!!Wv&&Gy(e,new Xg(e.state.doc.resolve(t<0?s:s+o.nodeSize))))}}function Xy(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Zy(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function ex(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;Rv&&1==n.nodeType&&r<Xy(n)&&Zy(n.childNodes[r],-1)&&(s=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(Zy(e,-1))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(tx(n))break;{let t=n.previousSibling;for(;t&&Zy(t,-1);)i=n.parentNode,o=vv(t),t=t.previousSibling;if(t)n=t,r=Xy(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?nx(e,n,r):i&&nx(e,i,o)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=Xy(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!Zy(n.childNodes[r],1))break;i=n,o=++r}else{if(tx(n))break;{let t=n.nextSibling;for(;t&&Zy(t,1);)i=t.parentNode,o=vv(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=Xy(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&nx(e,i,o)}(e)}function tx(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function nx(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!jv(e);)t=vv(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!jv(e);)t=vv(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Nv(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&Iy(e)}),50)}function rx(e,t){let n=e.state.doc.resolve(t);if(!Bv&&!Uv&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function ix(e,t,n){let r=e.state.selection;if(r instanceof Xg&&!r.empty||n.indexOf("s")>-1)return!1;if(Hv&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Jy(e.state,t);if(n&&n instanceof ev)return Gy(e,n)}if(!i.parent.inlineContent){let n=t<0?i:o,s=r instanceof nv?Yg.near(n,t):Yg.findFrom(n,t);return!!s&&Gy(e,s)}return!1}function ox(e,t){if(!(e.state.selection instanceof Xg))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=e.state.tr;return t<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),e.dispatch(r),!0}return!1}function sx(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ax(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||Hv&&72==n&&"c"==r)return ox(e,-1)||ex(e,-1);if(46==n&&!t.shiftKey||Hv&&68==n&&"c"==r)return ox(e,1)||ex(e,1);if(13==n||27==n)return!0;if(37==n||Hv&&66==n&&"c"==r){let t=37==n?"ltr"==rx(e,e.state.selection.from)?-1:1:-1;return Qy(e,t,r)||ex(e,t)}if(39==n||Hv&&70==n&&"c"==r){let t=39==n?"ltr"==rx(e,e.state.selection.from)?1:-1:1;return Qy(e,t,r)||ex(e,t)}return 38==n||Hv&&80==n&&"c"==r?ix(e,-1,r)||ex(e,-1):40==n||Hv&&78==n&&"c"==r?function(e){if(!zv||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;sx(e,n,"true"),setTimeout((()=>sx(e,n,"false")),20)}return!1}(e)||ix(e,1,r)||ex(e,1):r==(Hv?"m":"c")&&(66==n||73==n||89==n||90==n)}function lx(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||Zm.fromSchema(e.state.schema),a=yx(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=gx[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice","".concat(i," ").concat(o).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n))),{dom:l,text:e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function cx(e,t,n,r,i){let o,s,a=i.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",(n=>{t=n(t,a||r,e)})),a)return t?new im(Xf.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):im.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,i,r,e)));if(n)s=n;else{let n=i.marks(),{schema:r}=e.state,s=Zm.fromSchema(r);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=o.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),o=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=yx().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);(n=i&&gx[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=function(e){let t=window.trustedTypes;if(!t)return e;xx||(xx=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e}));return xx.createHTML(e)}(e),n)for(let o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}(n),Wv&&function(e){let t=e.querySelectorAll(Bv?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let e=o.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;o=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||Um.fromSchema(e.state.schema);s=t.parseSlice(o,{preserveWhitespace:!(!l&&!u),context:i,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||ux.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(iA){return e}let{content:i,openStart:o,openEnd:s}=e;for(let a=n.length-2;a>=0;a-=2){let e=r.nodes[n[a]];if(!e||e.hasRequiredAttrs())break;i=Xf.from(e.create(n[a+1],i)),o++,s++}return new im(i,o,s)}(mx(s,+u[1],+u[2]),u[4]);else if(s=im.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n).contentMatchAt(t.index(n)),o=[];if(e.forEach((e=>{if(!o)return;let t,n=i.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&r.length&&px(n,r,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=hx(o[o.length-1],r.length));let t=dx(e,n);o.push(t),i=i.matchType(t.type),r=n}})),o)return Xf.from(o)}return e}(s.content,i),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=mx(s,e,t)}return e.someProp("transformPasted",(t=>{s=t(s,e)})),s}const ux=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Xf.from(e));return e}function px(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=px(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Xf.from(dx(n,e,i+1))))}}function hx(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,hx(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Xf.empty,!0);return e.copy(n.append(r))}function fx(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),i<r-1&&(a=fx(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Xf.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function mx(e,t,n){return t<e.openStart&&(e=new im(fx(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new im(fx(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const gx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let vx=null;function yx(){return vx||(vx=document.implementation.createHTMLDocument("title"))}let xx=null;const bx={},wx={},kx={touchstart:!0,touchmove:!0};class Sx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Cx(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function jx(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Nx(e,t))}))}function Nx(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Dx(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Ex(e){return{left:e.clientX,top:e.clientY}}function Ax(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,(t=>s>o.depth?t(e,n,o.nodeAfter,o.before(s),i,!0):t(e,n,o.node(s),o.before(s),i,!1))))return!0;return!1}function Tx(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Ox(e,t,n,r,i){return Ax(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(i?function(e,t){if(-1==t)return!1;let n,r,i=e.state.selection;i instanceof ev&&(n=i.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let e=s>o.depth?o.nodeAfter:o.node(s);if(ev.isSelectable(e)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=r&&(Tx(e,ev.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&ev.isSelectable(r))&&(Tx(e,new ev(n),"pointer"),!0)}(e,n))}function Mx(e,t,n,r){return Ax(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function Fx(e,t,n,r){return Ax(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Tx(e,Xg.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let t=o>i.depth?i.nodeAfter:i.node(o),n=i.before(o);if(t.inlineContent)Tx(e,Xg.create(r,n+1,n+1+t.content.size),"pointer");else{if(!ev.isSelectable(t))continue;Tx(e,ev.create(r,n),"pointer")}return!0}}(e,n,r)}function Px(e){return Hx(e)}wx.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!_x(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!$v||!Bv||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Vv||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||ax(e,n)?n.preventDefault():Cx(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Dv(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},wx.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},wx.keypress=(e,t)=>{let n=t;if(_x(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hv&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Xg)||!r.$from.sameParent(r.$to)){let t=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t,i)))||e.dispatch(i()),n.preventDefault()}};const Lx=Hv?"metaKey":"ctrlKey";bx.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Px(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Lx]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=e.posAtCoords(Ex(n));s&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Rx(e,s,n,!!r)):("doubleClick"==o?Mx:Fx)(e,s.pos,s.inside,n)?n.preventDefault():Cx(e,"pointer"))};class Rx{constructor(e,t,n,r){let i,o;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Lx],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,o=n.depth?n.before():0}const s=r?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a&&1==a.dom.nodeType?a.dom:null;let{selection:l}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||l instanceof ev&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Rv||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cx(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Iy(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ex(e))),this.updateAllowDefault(e),this.allowDefault||!t?Cx(this.view,"pointer"):Ox(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||zv&&this.mightDrag&&!this.mightDrag.node.isAtom||Bv&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Tx(this.view,Yg.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Cx(this.view,"pointer")}move(e){this.updateAllowDefault(e),Cx(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function _x(e,t){return!!e.composing||!!(zv&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}bx.touchstart=e=>{e.input.lastTouch=Date.now(),Px(e),Cx(e,"pointer")},bx.touchmove=e=>{e.input.lastTouch=Date.now(),Cx(e,"pointer")},bx.contextmenu=e=>Px(e);const Bx=$v?5e3:-1;function Ix(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Hx(e)),t))}function zx(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Vx(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=Cv(e=e.childNodes[t-1])}else{if(!e.parentNode||jv(e))return null;t=vv(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||jv(e))return null;t=vv(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}function Hx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!($v&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),zx(e),t||e.docView&&e.docView.dirty){let n=_y(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}wx.compositionstart=wx.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Xg&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Hx(e,!0),e.markCursor=null;else if(Hx(e,!t.selection.empty),Rv&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}Ix(e,Bx)},wx.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then((()=>e.domObserver.flush())),e.input.compositionID++,Ix(e,20))};const Ux=Pv&&Lv<15||Vv&&qv<604;function $x(e,t,n,r,i){let o=cx(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,i,o||im.empty))))return!0;if(!o)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Wx(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}bx.copy=wx.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=Ux?null:n.clipboardData,s=r.content(),{dom:a,text:l}=lx(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},wx.paste=(e,t)=>{let n=t;if(e.composing&&!$v)return;let r=Ux?null:n.clipboardData,i=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&$x(e,Wx(r),r.getData("text/html"),i,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?$x(e,r.value,null,i,t):$x(e,r.textContent,r.innerHTML,i,t)}),50)}(e,n)};class qx{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Kx=Hv?"altKey":"ctrlKey";function Yx(e,t){let n=e.someProp("dragCopies",(e=>!e(t)));return null!=n?n:!t[Kx]}bx.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i,o=e.state.selection,s=o.empty?null:e.posAtCoords(Ex(n));if(s&&s.pos>=o.from&&s.pos<=(o instanceof ev?o.to-1:o.to));else if(r&&r.mightDrag)i=ev.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(i=ev.create(e.state.doc,t.posBefore))}let a=(i||e.state.selection).content(),{dom:l,text:c,slice:u}=lx(e,a);(!n.dataTransfer.files.length||!Bv||Iv>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ux?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ux||n.dataTransfer.setData("text/plain",c),e.dragging=new qx(u,Yx(e,n),i)},bx.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},wx.dragover=wx.dragenter=(e,t)=>t.preventDefault(),wx.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Ex(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",(t=>{s=t(s,e)})):s=cx(e,Wx(n.dataTransfer),Ux?null:n.dataTransfer.getData("text/html"),!1,o);let a=!(!r||!Yx(e,n));if(e.someProp("handleDrop",(t=>t(e,n,s||im.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?Mg(e.state.doc,o.pos,s):o.pos;null==l&&(l=o.pos);let c=e.state.tr;if(a){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let h=c.doc.resolve(u);if(d&&ev.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ev(h));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,i)=>t=i)),c.setSelection(qy(e,h,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},bx.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Iy(e)}),20))},bx.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},bx.beforeinput=(e,t)=>{if(Bv&&$v&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Dv(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let n in wx)bx[n]=wx[n];function Jx(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Gx{constructor(e,t){this.toDOM=e,this.spec=t||tb,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Zx(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Gx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Jx(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qx{constructor(e,t){this.attrs=e,this.spec=t||tb}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Zx(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Qx&&Jx(this.attrs,e.attrs)&&Jx(this.spec,e.spec)}static is(e){return e.type instanceof Qx}destroy(){}}class Xx{constructor(e,t){this.attrs=e,this.spec=t||tb}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Zx(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof Xx&&Jx(this.attrs,e.attrs)&&Jx(this.spec,e.spec)}destroy(){}}class Zx{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Zx(e,t,this.type)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Zx(e,e,new Gx(t,n))}static inline(e,t,n,r){return new Zx(e,t,new Qx(n,r))}static node(e,t,n,r){return new Zx(e,t,new Xx(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qx}get widget(){return this.type instanceof Gx}}const eb=[],tb={};class nb{constructor(e,t){this.local=e.length?e:eb,this.children=t.length?t:eb}static create(e,t){return t.length?lb(t,e,0,tb):rb}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,r+s,i)}}map(e,t,n){return this==rb||0==e.maps.length?this:this.mapInner(e,t,0,0,n||tb)}mapInner(e,t,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,i,o,s){let a=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let e=0;n.maps[c].forEach(((t,n,r,i)=>{let o=i-r-(n-t);for(let s=0;s<a.length;s+=3){let r=a[s+1];if(r<0||t>r+u-e)continue;let i=a[s]+u-e;n>=i?a[s+1]=t<=i?-2:-1:t>=u&&o&&(a[s]+=o,a[s+1]+=o)}e+=o})),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let t=n.map(e[c]+o),u=t-i;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[c+1]+o,-1)-i,{index:p,offset:h}=r.content.findIndex(u),f=r.maybeChild(p);if(f&&h==u&&h+f.nodeSize==d){let r=a[c+2].mapInner(n,f,t+1,e[c]+o+1,s);r!=rb?(a[c]=u,a[c+1]=d,a[c+2]=r):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,i,o,s){function a(e,t){for(let o=0;o<e.local.length;o++){let a=e.local[o].map(r,i,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+o+1);return n}(a,e,t,n,i,o,s),c=lb(l,r,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new nb(t.sort(cb),a)}(this.children,o||[],e,t,n,r,i):o?new nb(o.sort(cb),eb):rb}add(e,t){return t.length?this==rb?nb.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach(((e,o)=>{let s,a=o+n;if(s=sb(t,e,a)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,s,a+1):r.splice(i,0,o,o+e.nodeSize,lb(s,e,a+1,tb)),i+=3}}));let o=ob(i?ab(t):t,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new nb(o.length?this.local.concat(o).sort(cb):this.local,r||this.children)}remove(e){return 0==e.length||this==rb?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+t,s=n[i+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[i+2].removeInner(r,o+1);a!=rb?n[i+2]=a:(n.splice(i,3),i-=3)}if(r.length)for(let i,o=0;o<e.length;o++)if(i=e[o])for(let e=0;e<r.length;e++)r[e].eq(i,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new nb(r,n):rb}forChild(e,t){if(this==rb)return this;if(t.isLeaf)return nb.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let i=e+1,o=i+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<o&&e.to>i&&e.type instanceof Qx){let t=Math.max(i,e.from)-i,n=Math.min(o,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new nb(r.sort(cb),eb);return n?new ib([e,n]):e}return n||rb}eq(e){if(this==e)return!0;if(!(e instanceof nb)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ub(this.localsInner(e))}localsInner(e){if(this==rb)return eb;if(e.inlineContent||!this.local.some(Qx.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Qx||t.push(this.local[n]);return t}forEachSet(e){e(this)}}nb.empty=new nb([],[]),nb.removeOverlap=ub;const rb=nb.empty;class ib{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,tb)));return ib.from(n)}forChild(e,t){if(t.isLeaf)return nb.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=rb&&(i instanceof ib?n=n.concat(i.members):n.push(i))}return ib.from(n)}eq(e){if(!(e instanceof ib)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?ub(n?t:t.sort(cb)):eb}static from(e){switch(e.length){case 0:return rb;case 1:return e[0];default:return new ib(e.every((e=>e instanceof nb))?e:e.reduce(((e,t)=>e.concat(t instanceof nb?t:t.members)),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function ob(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Zx(i.from+t,i.to+t,i.type))}return n}function sb(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o,s=0;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function ab(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function lb(e,t,n,r){let i=[],o=!1;t.forEach(((t,s)=>{let a=sb(e,t,s+n);if(a){o=!0;let e=lb(a,t,n+s+1,r);e!=rb&&i.push(s,s+t.nodeSize,e)}}));let s=ob(o?ab(e):e,-n).sort(cb);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new nb(s,i):rb}function cb(e,t){return e.from-t.from||e.to-t.to}function ub(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),db(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),db(t,i+1,o.copy(r.to,o.to)))}}return t}function db(e,t,n){for(;t<e.length&&cb(n,e[t])>0;)t++;e.splice(t,0,n)}function pb(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=rb&&t.push(r)})),e.cursorWrapper&&t.push(nb.create(e.state.doc,[e.cursorWrapper.deco])),ib.from(t)}const hb={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fb=Pv&&Lv<=11;class mb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gb{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mb,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Pv&&Lv<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),fb&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,hb)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Ky(this.view)){if(this.suppressingSelectionUpdates)return Iy(this.view);if(Pv&&Lv<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&wv(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let i=e.focusNode;i;i=yv(i))n.add(i);for(let i=e.anchorNode;i;i=yv(i))if(n.has(i)){t=i;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Ky(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,s=!1,a=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],a);e&&(i=i<0?e.from:Math.min(e.from,i),o=o<0?e.to:Math.max(e.to,o),e.typeOver&&(s=!0))}if(Rv&&a.length){let t=a.filter((e=>"BR"==e.nodeName));if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&bb(e,n)==t||r.remove()}}}let l=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Nv(n)&&(l=_y(e))&&l.eq(Yg.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Iy(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),function(e){if(vb.has(e))return;if(vb.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=Rv,yb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yb=!0}}(e)),this.handleDOMChange(i,o,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Iy(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(Pv&&Lv<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==e.target?vv(r)+1:0,s=n.localPosFromDOM(e.target,o,-1),a=i&&i.parentNode==e.target?vv(i):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let vb=new WeakMap,yb=!1;function xb(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return wv(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function bb(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function wb(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(zv&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||zv&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const kb=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Sb(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=_y(e,t);if(n&&!e.state.selection.eq(n)){if(Bv&&$v&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,Dv(13,"Enter")))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),o&&r.setMeta("composition",o),e.dispatch(r)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l,c,u=e.state.selection,d=function(e,t,n){let r,{node:i,fromOffset:o,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],Nv(c)||r.push({node:c.focusNode,offset:c.focusOffset})),Bv&&8===e.input.lastKeyCode)for(let g=s;g>o;g--){let e=i.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=g;break}if(!t||t.size)break}let d=e.state.doc,p=e.someProp("domParser")||Um.fromSchema(e.state.schema),h=d.resolve(a),f=null,m=p.parse(i,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:wb,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:l}}(e,t,n),p=e.state.doc,h=p.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let f=function(e,t,n,r,i){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i){r-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.size<t.size){let e=r<=o&&r>=s?o-r:0;o-=e,o&&o<t.size&&Nb(t.textBetween(o-1,o+1))&&(o+=e?1:-1),a=o+(a-s),s=o}else if(a<o){let t=r<=o&&r>=a?o-r:0;o-=t,o&&o<e.size&&Nb(e.textBetween(o-1,o+1))&&(o+=t?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}(h.content,d.doc.content,d.from,l,c);if(f&&e.input.domChangeCount++,(Vv&&e.input.lastIOSEnter>Date.now()-225||$v)&&i.some((e=>1==e.nodeType&&!kb.test(e.nodeName)))&&(!f||f.endA>=f.endB)&&e.someProp("handleKeyDown",(t=>t(e,Dv(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!f){if(!(r&&u instanceof Xg&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=Cb(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);o&&n.setMeta("composition",o),e.dispatch(n)}}return}f={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&f.start==f.endB&&e.state.selection instanceof Xg&&(f.start>e.state.selection.from&&f.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?f.start=e.state.selection.from:f.endA<e.state.selection.to&&f.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(f.endB+=e.state.selection.to-f.endA,f.endA=e.state.selection.to)),Pv&&Lv<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>d.from&&" \xa0"==d.doc.textBetween(f.start-d.from-1,f.start-d.from+1)&&(f.start--,f.endA--,f.endB--);let m,g=d.doc.resolveNoCache(f.start-d.from),v=d.doc.resolveNoCache(f.endB-d.from),y=p.resolve(f.start),x=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=f.endA;if((Vv&&e.input.lastIOSEnter>Date.now()-225&&(!x||i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!x&&g.pos<d.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(g.pos,v.pos,"",""))&&(m=Yg.findFrom(d.doc.resolve(g.pos+1),1,!0))&&m.head>g.pos)&&e.someProp("handleKeyDown",(t=>t(e,Dv(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>f.start&&function(e,t,n,r,i){if(n-t<=i.pos-r.pos||jb(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let e=o.nodeAfter;return null!=e&&n==t+e.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(jb(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||jb(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(p,f.start,f.endA,g,v)&&e.someProp("handleKeyDown",(t=>t(e,Dv(8,"Backspace")))))return void($v&&Bv&&e.domObserver.suppressSelectionUpdates());Bv&&f.endB==f.start&&(e.input.lastChromeDelete=Date.now()),$v&&!x&&g.start()!=v.start()&&0==v.parentOffset&&g.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==f.endA&&(f.endB-=2,v=d.doc.resolveNoCache(f.endB-d.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Dv(13,"Enter"))}))}),20));let b,w=f.start,k=f.endA,S=t=>{let n=t||e.state.tr.replace(w,k,d.doc.slice(f.start-d.from,f.endB-d.from));if(d.sel){let t=Cb(e,n.doc,d.sel);t&&!(Bv&&e.composing&&t.empty&&(f.start!=f.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==w||t.head==n.mapping.map(k)-1)||Pv&&t.empty&&t.head==w)&&n.setSelection(t)}return o&&n.setMeta("composition",o),n.scrollIntoView()};if(x){if(g.pos==v.pos){Pv&&Lv<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Iy(e)),20));let t=S(e.state.tr.delete(w,k)),n=p.resolve(f.start).marksAcross(p.resolve(f.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(f.endA==f.endB&&(b=function(e,t){let n,r,i,o=e.firstChild.marks,s=t.firstChild.marks,a=o,l=s;for(let u=0;u<s.length;u++)a=s[u].removeFromSet(a);for(let u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(i(t.child(u)));if(Xf.from(c).eq(e))return{mark:r,type:n}}(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,f.endA-y.start())))){let t=S(e.state.tr);"add"==b.type?t.addMark(w,k,b.mark):t.removeMark(w,k,b.mark),e.dispatch(t)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let t=g.parent.textBetween(g.parentOffset,v.parentOffset),n=()=>S(e.state.tr.insertText(t,w,k));e.someProp("handleTextInput",(r=>r(e,w,k,t,n)))||e.dispatch(n())}}else e.dispatch(S())}function Cb(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:qy(e,t.resolve(n.anchor),t.resolve(n.head))}function jb(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}function Nb(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Db{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Sx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Mb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Tb(this),Ab(this),this.nodeViews=Ob(this),this.docView=wy(this.state.doc,Eb(this),pb(this),this.dom,this),this.domObserver=new gb(this,((e,t,n,r)=>Sb(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in bx){let n=bx[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Dx(e,t)||Nx(e,t)||!e.editable&&t.type in wx||n(e,t)},kx[t]?{passive:!0}:void 0)}zv&&e.dom.addEventListener("input",(()=>null)),jx(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&jx(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Mb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(zx(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=Ob(this);(function(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,i=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&jx(this),this.editable=Tb(this),Ab(this);let a=pb(this),l=Eb(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=i||!this.docView.matchesNode(e.doc,l,a);!u&&e.selection.eq(r.selection)||(o=!0);let d="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(o,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:Qv(e.dom)}}(this);if(o){this.domObserver.stop();let t=u&&(Pv||Bv)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(u){let n=Bv?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Vx(this)),!i&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=wy(e.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return wv(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Iy(this,t):($y(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function(e){let{refDOM:t,refTop:n,stack:r}=e,i=t?t.getBoundingClientRect().top:0;Xv(r,0==i?0:i-n)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof ev){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Gv(this,t.getBoundingClientRect(),e)}else Gv(this,this.coordsAtPos(this.state.selection.head,1),e);else;}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new qx(e.slice,e.move,r<0?void 0:ev.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[e];if(null!=r&&(n=t?t(r):r))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let r=i[o].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(Pv){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Zv)return e.focus(Zv);let t=Qv(e);e.focus(null==Zv?{get preventScroll(){return Zv={preventScroll:!0},!0}}:void 0),Zv||(Zv=!1,Xv(t,0))}(this.dom),Iy(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return ry(this,e)}coordsAtPos(e){return ay(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}domAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return my(this,t||this.state,e)}pasteHTML(e,t){return $x(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return $x(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return lx(this,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xv=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){Nx(e,t)||!bx[t.type]||!e.editable&&t.type in wx||bx[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?zv&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return xb(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?xb(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Eb(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),t.translate||(t.translate="no"),[Zx.node(0,e.state.doc.content.size,t)]}function Ab(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Zx.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Tb(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function Ob(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Mb(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Db.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var Fb={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Lb="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Rb="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),_b=0;_b<10;_b++)Fb[48+_b]=Fb[96+_b]=String(_b);for(_b=1;_b<=24;_b++)Fb[_b+111]="F"+_b;for(_b=65;_b<=90;_b++)Fb[_b]=String.fromCharCode(_b+32),Pb[_b]=String.fromCharCode(_b);for(var Bb in Fb)Pb.hasOwnProperty(Bb)||(Pb[Bb]=Fb[Bb]);const Ib="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),zb="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function Vb(e){let t,n,r,i,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let a=0;a<o.length-1;a++){let e=o[a];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Ib?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function Hb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Ub(e){let t=function(e){let t=Object.create(null);for(let n in e)t[Vb(n)]=e[n];return t}(e);return function(e,n){let r,i=function(e){var t=!(Lb&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Rb&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Pb:Fb)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=t[Hb(i,n)];if(o&&o(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){let r=t[Hb(i,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(zb&&n.ctrlKey&&n.altKey)&&(r=Fb[n.keyCode])&&r!=i){let i=t[Hb(r,n)];if(i&&i(e.state,e.dispatch,e))return!0}}return!1}}const $b=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Wb(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const qb=(e,t,n)=>{let r=Wb(e,n);if(!r)return!1;let i=Gb(r);if(!i){let n=r.blockRange(),i=n&&Sg(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(lw(e,i,t,-1))return!0;if(0==r.parent.content.size&&(Yb(o,"end")||ev.isSelectable(o)))for(let s=r.depth;;s--){let n=Fg(e.doc,r.before(s),r.after(s),im.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Yb(o,"end")?Yg.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):ev.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}if(1==s||r.node(s-1).childCount>1)break}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)};function Kb(e,t,n){let r=t.nodeBefore,i=t.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let o=t.nodeAfter,s=t.pos+1;for(;!o.isTextblock;s++){if(o.type.spec.isolating)return!1;let e=o.firstChild;if(!e)return!1;o=e}let a=Fg(e.doc,i,s,im.empty);if(!a||a.from!=i||a instanceof yg&&a.slice.size>=s-i)return!1;if(n){let t=e.tr.step(a);t.setSelection(Xg.create(t.doc,i)),n(t.scrollIntoView())}return!0}function Yb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const Jb=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=Gb(r)}let s=o&&o.nodeBefore;return!(!s||!ev.isSelectable(s))&&(t&&t(e.tr.setSelection(ev.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Gb(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Qb(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Xb=(e,t,n)=>{let r=Qb(e,n);if(!r)return!1;let i=ew(r);if(!i)return!1;let o=i.nodeAfter;if(lw(e,i,t,1))return!0;if(0==r.parent.content.size&&(Yb(o,"start")||ev.isSelectable(o))){let n=Fg(e.doc,r.before(),r.after(),im.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Yb(o,"start")?Yg.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):ev.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)},Zb=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=ew(r)}let s=o&&o.nodeAfter;return!(!s||!ev.isSelectable(s))&&(t&&t(e.tr.setSelection(ev.create(e.doc,o.pos)).scrollIntoView()),!0)};function ew(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const tw=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function nw(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const rw=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=nw(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,s.createAndFill());i.setSelection(Yg.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},iw=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof nv||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=nw(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(n,o.createAndFill());s.setSelection(Xg.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},ow=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Eg(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Sg(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};const sw=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof ev&&e.selection.node.isBlock)return!(!n.parentOffset||!Eg(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i,o,s=[],a=!1,l=!1;for(let p=n.depth;;p--){if(n.node(p).isBlock){a=n.end(p)==n.pos+(n.depth-p),l=n.start(p)==n.pos-(n.depth-p),o=nw(n.node(p-1).contentMatchAt(n.indexAfter(p-1)));let e=aw&&aw(r.parent,a,n);s.unshift(e||(a&&o?{type:o}:null)),i=p;break}if(1==p)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof Xg||e.selection instanceof nv)&&c.deleteSelection();let u=c.mapping.map(n.pos),d=Eg(c.doc,u,s.length,s);if(d||(s[0]=o?{type:o}:null,d=Eg(c.doc,u,s.length,s)),!d)return!1;if(c.split(u,s.length,s),!a&&l&&n.node(i).type!=o){let e=c.mapping.map(n.before(i)),t=c.doc.resolve(e);o&&n.node(i-1).canReplaceWith(t.index(),t.index()+1,o)&&c.setNodeMarkup(c.mapping.map(n.before(i)),o)}return t&&t(c.scrollIntoView()),!0};var aw;function lw(e,t,n,r){let i,o,s=t.nodeBefore,a=t.nodeAfter,l=s.type.spec.isolating||a.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(o,o+1)||!i.isTextblock&&!Ag(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(i=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(n){let r=t.pos+a.nodeSize,o=Xf.empty;for(let e=i.length-1;e>=0;e--)o=Xf.from(i[e].create(null,o));o=Xf.from(s.copy(o));let l=e.tr.step(new xg(t.pos-1,r,t.pos,r,new im(o,1,0),i.length,!0)),c=l.doc.resolve(r+2*i.length);c.nodeAfter&&c.nodeAfter.type==s.type&&Ag(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let u=a.type.spec.isolating||r>0&&l?null:Yg.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),p=d&&Sg(d);if(null!=p&&p>=t.depth)return n&&n(e.tr.lift(d,p).scrollIntoView()),!0;if(c&&Yb(a,"start",!0)&&Yb(s,"end")){let r=s,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let o=a,l=1;for(;!o.isTextblock;o=o.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,o.content)){if(n){let r=Xf.empty;for(let e=i.length-1;e>=0;e--)r=Xf.from(i[e].copy(r));n(e.tr.step(new xg(t.pos-i.length,t.pos+a.nodeSize,t.pos+l,t.pos+a.nodeSize-l,new im(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function cw(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(Xg.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const uw=cw(-1),dw=cw(1);function pw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(r,s,((r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)i=!0;else{let t=n.doc.resolve(o),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}}))}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[r];i.setBlockType(o,s,e,t)}r(i.scrollIntoView())}return!0}}function hw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let fw=hw($b,qb,Jb),mw=hw($b,Xb,Zb);const gw={Enter:hw(tw,iw,ow,sw),"Mod-Enter":rw,Backspace:fw,"Mod-Backspace":fw,"Shift-Backspace":fw,Delete:mw,"Mod-Delete":mw,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new nv(e.doc))),!0)},vw={"Ctrl-h":gw.Backspace,"Alt-Backspace":gw["Mod-Backspace"],"Ctrl-d":gw.Delete,"Ctrl-Alt-Backspace":gw["Mod-Delete"],"Alt-Delete":gw["Mod-Delete"],"Alt-d":gw["Mod-Delete"],"Ctrl-a":uw,"Ctrl-e":dw};for(let n in gw)vw[n]=gw[n];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function yw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return!!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=s.resolve(t.start-2);o=new bm(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new bm(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let a=Cg(o,n,r,t);if(!a)return!1;e&&function(e,t,n,r,i){let o=Xf.empty;for(let u=n.length-1;u>=0;u--)o=Xf.from(n[u].type.create(n[u].attrs,o));e.step(new xg(t.start-(r?2:0),t.end,t.start,t.end,new im(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,p=!0;u<d;u++,p=!1)!p&&Eg(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize}(e,t,a,i,n);return!0}(a,s,e,t)&&(r&&r(a.scrollIntoView()),!0)}}function xw(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,(t=>t.childCount>0&&t.firstChild.type==e));return!!o&&(!n||(r.node(o.depth-1).type==e?function(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new xg(o-1,s,o,s,new im(Xf.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new bm(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Sg(r);if(null==a)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);Ag(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos);return t(i.scrollIntoView()),!0}(t,n,e,o):function(e,t,n){let r=e.tr,i=n.parent;for(let h=n.end,f=n.endIndex-1,m=n.startIndex;f>m;f--)h-=i.child(f).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Xf.empty:Xf.from(i))))return!1;let d=o.pos,p=d+s.nodeSize;return r.step(new xg(d-(a?1:0),p+(l?1:0),d+1,p-1,new im((a?Xf.empty:Xf.from(i.copy(Xf.empty))).append(l?Xf.empty:Xf.from(i.copy(Xf.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,n,o)))}}var bw=Object.defineProperty,ww=(e,t)=>{for(var n in t)bw(e,n,{get:t[n],enumerable:!0})};function kw(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return c(c({},t),{},{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}})}var Sw=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){var e=this;const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map((t=>{let[n,r]=t;return[n,function(){const t=r(...arguments)(s);return o.getMeta("preventDispatch")||e.hasCustomState||i.dispatch(o),t}]})))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,u=e||o.tr,d=c(c({},Object.fromEntries(Object.entries(r).map((e=>{let[r,i]=e;return[r,function(){const e=t.buildProps(u,n),r=i(...arguments)(e);return a.push(r),d}]})))),{},{run:()=>(l||!n||u.getMeta("preventDispatch")||this.hasCustomState||s.dispatch(u),a.every((e=>!0===e)))});return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r),s=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,function(){return n(...arguments)(c(c({},o),{},{dispatch:void 0}))}]})));return c(c({},s),{},{chain:()=>this.createChain(i,r)})}buildProps(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s={tr:e,editor:r,view:o,state:kw({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;return[t,function(){return n(...arguments)(s)}]})))}};return s}},Cw=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=this.callbacks[e];return i&&i.forEach((e=>e.apply(this,n))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}once(e,t){var n=this;const r=function(){n.off(e,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];t.apply(n,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}};function jw(e,t){const n=new qg(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n}var Nw=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&Nw(r)}return e};function Dw(e){if("undefined"===typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t="<body>".concat(e,"</body>"),n=(new window.DOMParser).parseFromString(t,"text/html").body;return Nw(n)}function Ew(e,t,n){if(e instanceof km||e instanceof Xf)return e;n=c({slice:!0,parseOptions:{}},n);const r="string"===typeof e;if("object"===typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return Xf.fromArray(e.map((e=>t.nodeFromJSON(e))));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),Ew("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,i="";const o=new Vm({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,i="string"===typeof e?e:e.outerHTML,null)}]}})});if(n.slice?Um.fromSchema(o).parseSlice(Dw(e),n.parseOptions):Um.fromSchema(o).parse(Dw(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error("Invalid element found: ".concat(i))})}const r=Um.fromSchema(t);return n.slice?r.parseSlice(Dw(e),n.parseOptions).content:r.parse(Dw(e),n.parseOptions)}return Ew("",t,n)}function Aw(e,t){return Ew(e,t,{slice:!1,parseOptions:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},errorOnInvalidContent:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).errorOnInvalidContent})}function Tw(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function Ow(e,t,n){if(void 0===e.config[t]&&e.parent)return Ow(e.parent,t,n);if("function"===typeof e.config[t]){return e.config[t].bind(c(c({},n),{},{parent:e.parent?Ow(e.parent,t,n):null}))}return e.config[t]}function Mw(e){return e.map((e=>{const t=Ow(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...Mw(t())]:e})).flat(10)}function Fw(e,t){const n=Zm.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function Pw(e){return"function"===typeof e}function Lw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(Pw(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t?e.bind(t)(...r):e(...r)}return e}function Rw(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function _w(e){const t=[],{nodeExtensions:n,markExtensions:r}=Rw(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=Ow(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:i});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((e=>{let[r,i]=e;t.push({type:n,name:r,attribute:c(c({},o),i)})}))}))}))})),i.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ow(e,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach((n=>{let[r,i]=n;const s=c(c({},o),i);"function"===typeof(null==s?void 0:s.default)&&(s.default=s.default()),(null==s?void 0:s.isRequired)&&void 0===(null==s?void 0:s.default)&&delete s.default,t.push({type:e.name,name:r,attribute:s})}))})),t}function Bw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>!!e)).reduce(((e,t)=>{const n=c({},e);return Object.entries(t).forEach((e=>{let[t,r]=e;if(n[t])if("class"===t){const e=r?String(r).split(" "):[],i=n[t]?n[t].split(" "):[],o=e.filter((e=>!i.includes(e)));n[t]=[...i,...o].join(" ")}else if("style"===t){const e=r?r.split(";").map((e=>e.trim())).filter(Boolean):[],i=n[t]?n[t].split(";").map((e=>e.trim())).filter(Boolean):[],o=new Map;i.forEach((e=>{const[t,n]=e.split(":").map((e=>e.trim()));o.set(t,n)})),e.forEach((e=>{const[t,n]=e.split(":").map((e=>e.trim()));o.set(t,n)})),n[t]=Array.from(o.entries()).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join("; ")}else n[t]=r;else n[t]=r})),n}),{})}function Iw(e,t){return t.filter((t=>t.type===e.type.name)).filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>Bw(e,t)),{})}function zw(e,t){return"style"in e?e:c(c({},e),{},{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const i=t.reduce(((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!==typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null===r||void 0===r?e:c(c({},e),{},{[t.name]:r})}),{});return c(c({},r),i)}})}function Vw(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return("attrs"!==t||!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length&&e.constructor===Object}(n))&&(null!==n&&void 0!==n)})))}function Hw(e,t){var n;const r=_w(e),{nodeExtensions:i,markExtensions:o}=Rw(e),s=null==(n=i.find((e=>Ow(e,"topNode"))))?void 0:n.name,a=Object.fromEntries(i.map((n=>{const i=r.filter((e=>e.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce(((e,t)=>{const r=Ow(t,"extendNodeSchema",o);return c(c({},e),r?r(n):{})}),{}),a=Vw(c(c({},s),{},{content:Lw(Ow(n,"content",o)),marks:Lw(Ow(n,"marks",o)),group:Lw(Ow(n,"group",o)),inline:Lw(Ow(n,"inline",o)),atom:Lw(Ow(n,"atom",o)),selectable:Lw(Ow(n,"selectable",o)),draggable:Lw(Ow(n,"draggable",o)),code:Lw(Ow(n,"code",o)),whitespace:Lw(Ow(n,"whitespace",o)),linebreakReplacement:Lw(Ow(n,"linebreakReplacement",o)),defining:Lw(Ow(n,"defining",o)),isolating:Lw(Ow(n,"isolating",o)),attrs:Object.fromEntries(i.map((e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]})))})),l=Lw(Ow(n,"parseHTML",o));l&&(a.parseDOM=l.map((e=>zw(e,i))));const u=Ow(n,"renderHTML",o);u&&(a.toDOM=e=>u({node:e,HTMLAttributes:Iw(e,i)}));const d=Ow(n,"renderText",o);return d&&(a.toText=d),[n.name,a]}))),l=Object.fromEntries(o.map((n=>{const i=r.filter((e=>e.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce(((e,t)=>{const r=Ow(t,"extendMarkSchema",o);return c(c({},e),r?r(n):{})}),{}),a=Vw(c(c({},s),{},{inclusive:Lw(Ow(n,"inclusive",o)),excludes:Lw(Ow(n,"excludes",o)),group:Lw(Ow(n,"group",o)),spanning:Lw(Ow(n,"spanning",o)),code:Lw(Ow(n,"code",o)),attrs:Object.fromEntries(i.map((e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]})))})),l=Lw(Ow(n,"parseHTML",o));l&&(a.parseDOM=l.map((e=>zw(e,i))));const u=Ow(n,"renderHTML",o);return u&&(a.toDOM=e=>u({mark:e,HTMLAttributes:Iw(e,i)})),[n.name,a]})));return new Vm({topNode:s,nodes:a,marks:l})}function Uw(e){return e.sort(((e,t)=>{const n=Ow(e,"priority")||100,r=Ow(t,"priority")||100;return n>r?-1:n<r?1:0}))}function $w(e){const t=Uw(Mw(e)),n=function(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return Array.from(new Set(t))}(t.map((e=>e.name)));return n.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(n.map((e=>"'".concat(e,"'"))).join(", "),"]. This can lead to issues.")),t}function Ww(e,t,n){const{from:r,to:i}=t,{blockSeparator:o="\n\n",textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,i,((e,n,l,c)=>{var u;e.isBlock&&n>r&&(a+=o);const d=null==s?void 0:s[e.type.name];if(d)return l&&(a+=d({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(a+=null==(u=null==e?void 0:e.text)?void 0:u.slice(Math.max(r,n)-n,i-n))})),a}function qw(e,t){return Ww(e,{from:0,to:e.content.size},t)}function Kw(e){return Object.fromEntries(Object.entries(e.nodes).filter((e=>{let[,t]=e;return t.spec.toText})).map((e=>{let[t,n]=e;return[t,n.spec.toText]})))}function Yw(e,t){if("string"===typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}function Jw(e,t){const n=Yw(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,(e=>{s.push(...e.marks)}));const a=s.find((e=>e.type.name===n.name));return a?c({},a.attrs):{}}function Gw(e,t){if("string"===typeof e){if(!t.nodes[e])throw Error("There is no node type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.nodes[e]}return e}function Qw(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Xw(e,t){const n=Qw("string"===typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=Gw(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,(e=>{o.push(e)}));const s=o.reverse().find((e=>e.type.name===n.name));return s?c({},s.attrs):{}}(e,t):"mark"===n?Jw(e,t):{}}function Zw(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify;const n={};return e.filter((e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(e);return 1===t.length?t:t.filter(((e,n)=>{const r=t.filter(((e,t)=>t!==n));return!r.some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}))}function ek(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach(((e,i)=>{const o=[];if(e.ranges.length)e.forEach(((e,t)=>{o.push({from:e,to:t})}));else{const{from:e,to:t}=n[i];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach((e=>{let{from:n,to:o}=e;const s=t.slice(i).map(n,-1),a=t.slice(i).map(o),l=t.invert().map(s,-1),c=t.invert().map(a);r.push({oldRange:{from:l,to:c},newRange:{from:s,to:a}})}))})),Zw(r)}function tk(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function nk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0};const r=Object.keys(t);return!r.length||r.every((r=>n.strict?t[r]===e[r]:tk(t[r])?t[r].test(e[r]):t[r]===e[r]))}function rk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.find((e=>e.type===t&&nk(Object.fromEntries(Object.keys(n).map((t=>[t,e.attrs[t]]))),n)))}function ik(e,t){return!!rk(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function ok(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if(i.node&&i.node.marks.some((e=>e.type===t))||(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some((e=>e.type===t)))return;n=n||(null==(r=i.node.marks[0])?void 0:r.attrs);if(!rk([...i.node.marks],t,n))return;let o=i.index,s=e.start()+i.offset,a=o+1,l=s+i.node.nodeSize;for(;o>0&&ik([...e.parent.child(o-1).marks],t,n);)o-=1,s-=e.parent.child(o).nodeSize;for(;a<e.parent.childCount&&ik([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function sk(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach((t=>{const i=ok(n.resolve(e),t.type);i&&r.push(c({mark:t},i))})):n.nodesBetween(e,t,((e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),r}function ak(e,t){return t.nodes[e]||t.marks[e]||null}function lk(e,t,n){return Object.fromEntries(Object.entries(n).filter((n=>{let[r]=n;const i=e.find((e=>e.type===t&&e.name===r));return!!i&&i.attribute.keepOnSplit})))}function ck(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{empty:r,ranges:i}=e.selection,o=t?Yw(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!o||o.name===e.type.name)).find((e=>nk(e.attrs,n,{strict:!1})));let s=0;const a=[];if(i.forEach((t=>{let{$from:n,$to:r}=t;const i=n.pos,o=r.pos;e.doc.nodesBetween(i,o,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(i,t),r=Math.min(o,t+e.nodeSize);s+=r-n,a.push(...e.marks.map((e=>({mark:e,from:n,to:r}))))}))})),0===s)return!1;const l=a.filter((e=>!o||o.name===e.mark.type.name)).filter((e=>nk(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=a.filter((e=>!o||e.mark.type!==o&&e.mark.type.excludes(o))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=s}function uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{from:r,to:i,empty:o}=e.selection,s=t?Gw(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,((e,t)=>{if(e.isText)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize);a.push({node:e,from:n,to:o})}));const l=i-r,c=a.filter((e=>!s||s.name===e.node.type.name)).filter((e=>nk(e.node.attrs,n,{strict:!1})));if(o)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function dk(e,t){return Array.isArray(t)?t.some((t=>("string"===typeof t?t:t.name)===e.name)):t}function pk(e,t){const{nodeExtensions:n}=Rw(t),r=n.find((t=>t.name===e));if(!r)return!1;const i=Lw(Ow(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"===typeof i&&i.split(" ").includes("list")}function hk(e){let{checkChildren:t=!0,ignoreWhitespace:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach((e=>{!1!==r&&(hk(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))})),r}return!1}function fk(e){return e instanceof ev}function mk(e){return e instanceof Xg}function gk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,t),n)}function vk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return null;const n=Yg.atStart(e),r=Yg.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const i=n.from,o=r.to;return"all"===t?Xg.create(e,gk(0,i,o),gk(e.content.size,i,o)):Xg.create(e,gk(t,i,o),gk(t,i,o))}var yk=class{constructor(e){this.find=e.find,this.handler=e.handler}};function xk(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let u=!1;const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,((e,t,i,o)=>{var s,a;const l=(null==(a=(s=e.type.spec).toText)?void 0:a.call(s,{node:e,pos:t,parent:i,index:o}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))})),n}(c)+o;return s.forEach((e=>{if(u)return;const t=((e,t)=>{if(tk(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;const s=l.state.tr,c=kw({state:l.state,transaction:s}),p={from:r-(t[0].length-o.length),to:i},{commands:h,chain:f,can:m}=new Sw({editor:n,state:c});null!==e.handler({state:c,range:p,match:t,commands:h,chain:f,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:r,to:i,text:o}),l.dispatch(s),u=!0)})),u}function bk(e){const{editor:t,rules:n}=e,r=new hv({state:{init:()=>null,apply(e,i,o){const s=e.getMeta(r);if(s)return s;const a=e.getMeta("applyInputRules");return!!a&&setTimeout((()=>{let{text:e}=a;"string"===typeof e||(e=Fw(Xf.from(e),o.schema));const{from:i}=a,s=i+e.length;xk({editor:t,from:i,to:s,text:e,rules:n,plugin:r})})),e.selectionSet||e.docChanged?null:i}},props:{handleTextInput:(e,i,o,s)=>xk({editor:t,from:i,to:o,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:i}=e.state.selection;i&&xk({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})})),!1)},handleKeyDown(e,i){if("Enter"!==i.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&xk({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}function wk(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function kk(e,t){const n=c({},e);return wk(e)&&wk(t)&&Object.keys(t).forEach((r=>{wk(t[r])&&wk(e[r])?n[r]=kk(e[r],t[r]):n[r]=t[r]})),n}var Sk=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=c(c({},this.config),e),this.name=this.config.name}get options(){return c({},Lw(Ow(this,"addOptions",{name:this.name}))||{})}get storage(){return c({},Lw(Ow(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.extend(c(c({},this.config),{},{addOptions:()=>kk(this.options,e)}));return t.name=this.name,t.parent=this.parent,t}extend(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new this.constructor(c(c({},this.config),e));return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Ck=class e extends Sk{constructor(){super(...arguments),this.type="mark"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}static handleExit(e){let{editor:t,mark:n}=e;const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const e=i.marks();if(!!!e.find((e=>(null==e?void 0:e.type.name)===n.name)))return!1;const o=e.find((e=>(null==e?void 0:e.type.name)===n.name));return o&&r.removeStoredMark(o),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}};var jk=class{constructor(e){this.find=e.find,this.handler=e.handler}};function Nk(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new Sw({editor:t,state:n}),d=[];n.doc.nodesBetween(r,i,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const p=Math.max(r,t),h=Math.min(i,t+e.content.size),f=((e,t,n)=>{if(tk(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map((t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(p-t,h-t,void 0,"\ufffc"),o.find,s);f.forEach((e=>{if(void 0===e.index)return;const t=p+e.index+1,r=t+e[0].length,i={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},h=o.handler({state:n,range:i,match:e,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(h)}))}));return d.every((e=>null!==e))}var Dk=null;function Ek(e){const{editor:t,rules:n}=e;let r,i=null,o=!1,s=!1,a="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch(oA){r=null}const l=e=>{let{state:n,from:i,to:o,rule:s,pasteEvt:l}=e;const c=n.tr,u=kw({state:n,transaction:c});if(Nk({editor:t,state:u,from:Math.max(i-1,0),to:o.b-1,rule:s,pasteEvent:l,dropEvent:r})&&c.steps.length){try{r="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch(d){r=null}return a="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null,c}};return n.map((e=>new hv({view(e){const n=n=>{var r;i=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,i&&(Dk=t)},r=()=>{Dk&&(Dk=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(s=i===e.dom.parentElement,r=t,!s){const e=Dk;(null==e?void 0:e.isEditable)&&setTimeout((()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})}),10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return a=t,o=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const i=t[0],c="paste"===i.getMeta("uiEvent")&&!o,u="drop"===i.getMeta("uiEvent")&&!s,d=i.getMeta("applyPasteRules"),p=!!d;if(!c&&!u&&!p)return;if(p){let{text:t}=d;"string"===typeof t||(t=Fw(Xf.from(t),r.schema));const{from:n}=d,i=n+t.length,o=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:i},pasteEvt:o})}const h=n.doc.content.findDiffStart(r.doc.content),f=n.doc.content.findDiffEnd(r.doc.content);return"number"===typeof h&&f&&h!==f.b?l({rule:e,state:r,from:h,to:f,pasteEvt:a}):void 0}})))}var Ak=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=$w(e),this.schema=Hw(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce(((e,t)=>{const n=Ow(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:ak(t.name,this.schema)});return n?c(c({},e),n()):e}),{})}get plugins(){const{editor:e}=this,t=Uw([...this.extensions].reverse()),n=[],r=[],i=t.map((t=>{const i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:ak(t.name,this.schema)},o=[],s=Ow(t,"addKeyboardShortcuts",i);let a={};if("mark"===t.type&&Ow(t,"exitable",i)&&(a.ArrowRight=()=>Ck.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map((t=>{let[n,r]=t;return[n,()=>r({editor:e})]})));a=c(c({},a),t)}const l=new hv({props:{handleKeyDown:Ub(a)}});o.push(l);const u=Ow(t,"addInputRules",i);dk(t,e.options.enableInputRules)&&u&&n.push(...u());const d=Ow(t,"addPasteRules",i);dk(t,e.options.enablePasteRules)&&d&&r.push(...d());const p=Ow(t,"addProseMirrorPlugins",i);if(p){const e=p();o.push(...e)}return o})).flat();return[bk({editor:e,rules:n}),...Ek({editor:e,rules:r}),...i]}get attributes(){return _w(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Rw(this.extensions);return Object.fromEntries(t.filter((e=>!!Ow(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Gw(t.name,this.schema)},i=Ow(t,"addNodeView",r);if(!i)return[];return[t.name,(r,o,s,a,l)=>{const c=Iw(r,n);return i()({node:r,view:o,getPos:s,decorations:a,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]})))}get markViews(){const{editor:e}=this,{markExtensions:t}=Rw(this.extensions);return Object.fromEntries(t.filter((e=>!!Ow(e,"addMarkView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:Yw(t.name,this.schema)},i=Ow(t,"addMarkView",r);if(!i)return[];return[t.name,(r,o,s)=>{const a=Iw(r,n);return i()({mark:r,view:o,inline:s,editor:e,extension:t,HTMLAttributes:a,updateAttributes:t=>{oC(r,e,t)}})}]})))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map((e=>[e.name,e.storage]))),e.forEach((e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ak(e.name,this.schema)};if("mark"===e.type){(null==(t=Lw(Ow(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name)}const r=Ow(e,"onBeforeCreate",n),i=Ow(e,"onCreate",n),o=Ow(e,"onUpdate",n),s=Ow(e,"onSelectionUpdate",n),a=Ow(e,"onTransaction",n),l=Ow(e,"onFocus",n),c=Ow(e,"onBlur",n),u=Ow(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),o&&this.editor.on("update",o),s&&this.editor.on("selectionUpdate",s),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)}))}};Ak.resolve=$w,Ak.sort=Uw,Ak.flatten=Mw;ww({},{ClipboardTextSerializer:()=>Ok,Commands:()=>$S,Delete:()=>WS,Drop:()=>qS,Editable:()=>KS,FocusEvents:()=>JS,Keymap:()=>GS,Paste:()=>QS,Tabindex:()=>XS,focusEventsPluginKey:()=>YS});var Tk=class e extends Sk{constructor(){super(...arguments),this.type="extension"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}},Ok=Tk.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new hv({key:new gv("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map((e=>e.$from.pos))),a=Math.max(...o.map((e=>e.$to.pos))),l=Kw(n);return Ww(r,{from:s,to:a},c(c({},void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{}),{},{textSerializers:l}))}}})]}}),Mk={};ww(Mk,{blur:()=>Fk,clearContent:()=>Pk,clearNodes:()=>Lk,command:()=>Rk,createParagraphNear:()=>_k,cut:()=>Bk,deleteCurrentNode:()=>Ik,deleteNode:()=>zk,deleteRange:()=>Vk,deleteSelection:()=>Hk,enter:()=>Uk,exitCode:()=>$k,extendMarkRange:()=>Wk,first:()=>qk,focus:()=>Jk,forEach:()=>Gk,insertContent:()=>Qk,insertContentAt:()=>Xk,joinBackward:()=>tS,joinDown:()=>eS,joinForward:()=>nS,joinItemBackward:()=>rS,joinItemForward:()=>iS,joinTextblockBackward:()=>oS,joinTextblockForward:()=>sS,joinUp:()=>Zk,keyboardShortcut:()=>lS,lift:()=>cS,liftEmptyBlock:()=>uS,liftListItem:()=>dS,newlineInCode:()=>pS,resetAttributes:()=>fS,scrollIntoView:()=>mS,selectAll:()=>gS,selectNodeBackward:()=>vS,selectNodeForward:()=>yS,selectParentNode:()=>xS,selectTextblockEnd:()=>bS,selectTextblockStart:()=>wS,setContent:()=>kS,setMark:()=>SS,setMeta:()=>CS,setNode:()=>jS,setNodeSelection:()=>NS,setTextSelection:()=>DS,sinkListItem:()=>ES,splitBlock:()=>TS,splitListItem:()=>OS,toggleList:()=>PS,toggleMark:()=>LS,toggleNode:()=>RS,toggleWrap:()=>_S,undoInputRule:()=>BS,unsetAllMarks:()=>IS,unsetMark:()=>zS,updateAttributes:()=>VS,wrapIn:()=>HS,wrapInList:()=>US});var Fk=()=>e=>{let{editor:t,view:n}=e;return requestAnimationFrame((()=>{var e;t.isDestroyed||(n.dom.blur(),null==(e=null==window?void 0:window.getSelection())||e.removeAllRanges())})),!0},Pk=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t=>{let{commands:n}=t;return n.setContent("",{emitUpdate:e})}},Lk=()=>e=>{let{state:t,tr:n,dispatch:r}=e;const{selection:i}=n,{ranges:o}=i;return!r||(o.forEach((e=>{let{$from:r,$to:i}=e;t.doc.nodesBetween(r.pos,i.pos,((e,t)=>{if(e.type.isText)return;const{doc:r,mapping:i}=n,o=r.resolve(i.map(t)),s=r.resolve(i.map(t+e.nodeSize)),a=o.blockRange(s);if(!a)return;const l=Sg(a);if(e.type.isTextblock){const{defaultType:e}=o.parent.contentMatchAt(o.index());n.setNodeMarkup(a.start,e)}(l||0===l)&&n.lift(a,l)}))})),!0)},Rk=e=>t=>e(t),_k=()=>e=>{let{state:t,dispatch:n}=e;return iw(t,n)},Bk=(e,t)=>n=>{let{editor:r,tr:i}=n;const{state:o}=r,s=o.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const a=i.mapping.map(t);return i.insert(a,s.content),i.setSelection(new Xg(i.doc.resolve(Math.max(a-1,0)))),!0},Ik=()=>e=>{let{tr:t,dispatch:n}=e;const{selection:r}=t,i=r.$anchor.node();if(i.content.size>0)return!1;const o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1){if(o.node(s).type===i.type){if(n){const e=o.before(s),n=o.after(s);t.delete(e,n).scrollIntoView()}return!0}}return!1},zk=e=>t=>{let{tr:n,state:r,dispatch:i}=t;const o=Gw(e,r.schema),s=n.selection.$anchor;for(let e=s.depth;e>0;e-=1){if(s.node(e).type===o){if(i){const t=s.before(e),r=s.after(e);n.delete(t,r).scrollIntoView()}return!0}}return!1},Vk=e=>t=>{let{tr:n,dispatch:r}=t;const{from:i,to:o}=e;return r&&n.delete(i,o),!0},Hk=()=>e=>{let{state:t,dispatch:n}=e;return $b(t,n)},Uk=()=>e=>{let{commands:t}=e;return t.keyboardShortcut("Enter")},$k=()=>e=>{let{state:t,dispatch:n}=e;return rw(t,n)},Wk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:i,dispatch:o}=n;const s=Yw(e,i.schema),{doc:a,selection:l}=r,{$from:c,from:u,to:d}=l;if(o){const e=ok(c,s,t);if(e&&e.from<=u&&e.to>=d){const t=Xg.create(a,e.from,e.to);r.setSelection(t)}}return!0}},qk=e=>t=>{const n="function"===typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function Kk(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function Yk(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Jk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{editor:r,view:i,tr:o,dispatch:s}=n;t=c({scrollIntoView:!0},t);const a=()=>{(Yk()||Kk())&&i.dom.focus(),requestAnimationFrame((()=>{r.isDestroyed||(i.focus(),(null==t?void 0:t.scrollIntoView)&&r.commands.scrollIntoView())}))};if(i.hasFocus()&&null===e||!1===e)return!0;if(s&&null===e&&!mk(r.state.selection))return a(),!0;const l=vk(o.doc,e)||r.state.selection,u=r.state.selection.eq(l);return s&&(u||o.setSelection(l),u&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0}},Gk=(e,t)=>n=>e.every(((e,r)=>t(e,c(c({},n),{},{index:r})))),Qk=(e,t)=>n=>{let{tr:r,commands:i}=n;return i.insertContentAt({from:r.selection.from,to:r.selection.to},e,t)},Xk=(e,t,n)=>r=>{let{tr:i,dispatch:o,editor:s}=r;var a;if(o){let r;n=c({parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);const{selection:o}=s.state,l=e=>{s.emit("contentError",{editor:s,error:e,disableCollaboration:()=>{"collaboration"in s.storage&&"object"===typeof s.storage.collaboration&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u=c({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ew(t,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(iA){l(iA)}try{r=Ew(t,s.schema,{parseOptions:u,errorOnInvalidContent:null!=(a=n.errorOnInvalidContent)?a:s.options.enableContentCheck})}catch(iA){return l(iA),!1}let{from:d,to:p}="number"===typeof e?{from:e,to:e}:{from:e.from,to:e.to},h=!0,f=!0;if(("type"in r?[r]:r).forEach((e=>{e.check(),h=!!h&&(e.isText&&0===e.marks.length),f=!!f&&e.isBlock})),d===p&&f){const{parent:e}=i.doc.resolve(d);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(d-=1,p+=1)}let m;if(h){if(Array.isArray(t))m=t.map((e=>e.text||"")).join("");else if(t instanceof Xf){let e="";t.forEach((t=>{t.text&&(e+=t.text)})),m=e}else m="object"===typeof t&&t&&t.text?t.text:t;i.insertText(m,d,p)}else{m=r;const e=0===o.$from.parentOffset,t=o.$from.node().isText||o.$from.node().isTextblock,n=o.$from.node().content.size>0;e&&t&&n&&(d=Math.max(0,d-1)),i.replaceWith(d,p,m)}n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof yg||i instanceof xg))return;const o=e.mapping.maps[r];let s=0;o.forEach(((e,t,n,r)=>{0===s&&(s=r)})),e.setSelection(Yg.near(e.doc.resolve(s),n))}(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:d,text:m}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:d,text:m})}return!0},Zk=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,r=e.selection,i=r instanceof ev;if(i){if(r.node.isTextblock||!Ag(e.doc,r.from))return!1;n=r.from}else if(n=Og(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);i&&r.setSelection(ev.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(t,n)},eS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,r=e.selection;if(r instanceof ev){if(r.node.isTextblock||!Ag(e.doc,r.to))return!1;n=r.to}else if(n=Og(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(t,n)},tS=()=>e=>{let{state:t,dispatch:n}=e;return qb(t,n)},nS=()=>e=>{let{state:t,dispatch:n}=e;return Xb(t,n)},rS=()=>e=>{let{state:t,dispatch:n,tr:r}=e;try{const e=Og(t.doc,t.selection.$from.pos,-1);return null!==e&&void 0!==e&&(r.join(e,2),n&&n(r),!0)}catch(i){return!1}},iS=()=>e=>{let{state:t,dispatch:n,tr:r}=e;try{const e=Og(t.doc,t.selection.$from.pos,1);return null!==e&&void 0!==e&&(r.join(e,2),n&&n(r),!0)}catch(i){return!1}},oS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let r=Wb(e,n);if(!r)return!1;let i=Gb(r);return!!i&&Kb(e,i,t)})(t,n)},sS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let r=Qb(e,n);if(!r)return!1;let i=ew(r);return!!i&&Kb(e,i,t)})(t,n)};function aS(){return"undefined"!==typeof navigator&&/Mac/.test(navigator.platform)}var lS=e=>t=>{let{editor:n,view:r,tr:i,dispatch:o}=t;const s=function(e){const t=e.split(/-(?!$)/);let n,r,i,o,s=t[t.length-1];"Space"===s&&(s=" ");for(let a=0;a<t.length-1;a+=1){const e=t[a];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: ".concat(e));Yk()||aS()?o=!0:r=!0}}return n&&(s="Alt-".concat(s)),r&&(s="Ctrl-".concat(s)),o&&(s="Meta-".concat(s)),i&&(s="Shift-".concat(s)),s}(e).split(/-(?!$)/),a=s.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),l=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=n.captureTransaction((()=>{r.someProp("handleKeyDown",(e=>e(r,l)))}));return null==c||c.steps.forEach((e=>{const t=e.map(i.mapping);t&&o&&i.maybeStep(t)})),!0},cS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:i}=n;return!!uk(r,Gw(e,r.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Sg(i);return null!=o&&(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)})(r,i)}},uS=()=>e=>{let{state:t,dispatch:n}=e;return ow(t,n)},dS=e=>t=>{let{state:n,dispatch:r}=t;return xw(Gw(e,n.schema))(n,r)},pS=()=>e=>{let{state:t,dispatch:n}=e;return tw(t,n)};function hS(e,t){const n="string"===typeof t?[t]:t;return Object.keys(e).reduce(((t,r)=>(n.includes(r)||(t[r]=e[r]),t)),{})}var fS=(e,t)=>n=>{let{tr:r,state:i,dispatch:o}=n,s=null,a=null;const l=Qw("string"===typeof e?e:e.name,i.schema);return!!l&&("node"===l&&(s=Gw(e,i.schema)),"mark"===l&&(a=Yw(e,i.schema)),o&&r.selection.ranges.forEach((e=>{i.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,n)=>{s&&s===e.type&&r.setNodeMarkup(n,void 0,hS(e.attrs,t)),a&&e.marks.length&&e.marks.forEach((i=>{a===i.type&&r.addMark(n,n+e.nodeSize,a.create(hS(i.attrs,t)))}))}))})),!0)},mS=()=>e=>{let{tr:t,dispatch:n}=e;return n&&t.scrollIntoView(),!0},gS=()=>e=>{let{tr:t,dispatch:n}=e;if(n){const e=new nv(t.doc);t.setSelection(e)}return!0},vS=()=>e=>{let{state:t,dispatch:n}=e;return Jb(t,n)},yS=()=>e=>{let{state:t,dispatch:n}=e;return Zb(t,n)},xS=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,{$from:r,to:i}=e.selection,o=r.sharedDepth(i);return 0!=o&&(n=r.before(o),t&&t(e.tr.setSelection(ev.create(e.doc,n))),!0)})(t,n)},bS=()=>e=>{let{state:t,dispatch:n}=e;return dw(t,n)},wS=()=>e=>{let{state:t,dispatch:n}=e;return uw(t,n)},kS=function(e){let{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i=>{let{editor:o,tr:s,dispatch:a,commands:l}=i;const{doc:c}=s;if("full"!==r.preserveWhitespace){const i=Aw(e,o.schema,r,{errorOnInvalidContent:null!=t?t:o.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,i).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:o.options.enableContentCheck})}};var SS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:i,dispatch:o}=n;const{selection:s}=r,{empty:a,ranges:l}=s,u=Yw(e,i.schema);if(o)if(a){const e=Jw(i,u);r.addStoredMark(u.create(c(c({},e),t)))}else l.forEach((e=>{const n=e.$from.pos,o=e.$to.pos;i.doc.nodesBetween(n,o,((e,i)=>{const s=Math.max(i,n),a=Math.min(i+e.nodeSize,o);e.marks.find((e=>e.type===u))?e.marks.forEach((e=>{u===e.type&&r.addMark(s,a,u.create(c(c({},e.attrs),t)))})):r.addMark(s,a,u.create(t))}))}));return function(e,t,n){var r;const{selection:i}=t;let o=null;if(mk(i)&&(o=i.$cursor),o){const t=null!=(r=e.storedMarks)?r:o.marks();return!!n.isInSet(t)||!t.some((e=>e.type.excludes(n)))}const{ranges:s}=i;return s.some((t=>{let{$from:r,$to:i}=t,o=0===r.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(r.pos,i.pos,((e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some((e=>e.type.excludes(n)));o=t&&i}return!o})),o}))}(i,r,u)}},CS=(e,t)=>n=>{let{tr:r}=n;return r.setMeta(e,t),!0},jS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:i,chain:o}=n;const s=Gw(e,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),s.isTextblock?o().command((e=>{let{commands:n}=e;return!!pw(s,c(c({},a),t))(r)||n.clearNodes()})).command((e=>{let{state:n}=e;return pw(s,c(c({},a),t))(n,i)})).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)}},NS=e=>t=>{let{tr:n,dispatch:r}=t;if(r){const{doc:t}=n,r=gk(e,0,t.content.size),i=ev.create(t,r);n.setSelection(i)}return!0},DS=e=>t=>{let{tr:n,dispatch:r}=t;if(r){const{doc:t}=n,{from:r,to:i}="number"===typeof e?{from:e,to:e}:e,o=Xg.atStart(t).from,s=Xg.atEnd(t).to,a=gk(r,o,s),l=gk(i,o,s),c=Xg.create(t,a,l);n.setSelection(c)}return!0},ES=e=>t=>{let{state:n,dispatch:r}=t;const i=Gw(e,n.schema);return(o=i,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,(e=>e.childCount>0&&e.firstChild.type==o));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=o)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,r=Xf.from(n?o.create():null),s=new im(Xf.from(o.create(null,Xf.from(a.type.create(null,r)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new xg(c-(n?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0})(n,r);var o};function AS(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(r)}}var TS=function(){let{keepMarks:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{tr:n,state:r,dispatch:i,editor:o}=t;const{selection:s,doc:a}=n,{$from:l,$to:c}=s,u=lk(o.extensionManager.attributes,l.node().type.name,l.node().attrs);if(s instanceof ev&&s.node.isBlock)return!(!l.parentOffset||!Eg(a,l.pos))&&(i&&(e&&AS(r,o.extensionManager.splittableMarks),n.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=c.parentOffset===c.parent.content.size,p=0===l.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&p?[{type:p,attrs:u}]:void 0,f=Eg(n.doc,n.mapping.map(l.pos),1,h);if(h||f||!Eg(n.doc,n.mapping.map(l.pos),1,p?[{type:p}]:void 0)||(f=!0,h=p?[{type:p,attrs:u}]:void 0),i){if(f&&(s instanceof Xg&&n.deleteSelection(),n.split(n.mapping.map(l.pos),1,h),p&&!d&&!l.parentOffset&&l.parent.type!==p)){const e=n.mapping.map(l.before()),t=n.doc.resolve(e);l.node(-1).canReplaceWith(t.index(),t.index()+1,p)&&n.setNodeMarkup(n.mapping.map(l.before()),p)}e&&AS(r,o.extensionManager.splittableMarks),n.scrollIntoView()}return f}},OS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:i,dispatch:o,editor:s}=n;var a;const l=Gw(e,i.schema),{$from:u,$to:d}=i.selection,p=i.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;const h=u.node(-1);if(h.type!==l)return!1;const f=s.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(o){let e=Xf.empty;const n=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-n;t>=u.depth-3;t-=1)e=Xf.from(u.node(t).copy(e));const i=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,o=c(c({},lk(f,u.node().type.name,u.node().attrs)),t),s=(null==(a=l.contentMatch.defaultType)?void 0:a.createAndFill(o))||void 0;e=e.append(Xf.from(l.createAndFill(null,s)||void 0));const d=u.before(u.depth-(n-1));r.replace(d,u.after(-i),new im(e,4-n,0));let p=-1;r.doc.nodesBetween(d,r.doc.content.size,((e,t)=>{if(p>-1)return!1;e.isTextblock&&0===e.content.size&&(p=t+1)})),p>-1&&r.setSelection(Xg.near(r.doc.resolve(p))),r.scrollIntoView()}return!0}const m=d.pos===u.end()?h.contentMatchAt(0).defaultType:null,g=c(c({},lk(f,h.type.name,h.attrs)),t),v=c(c({},lk(f,u.node().type.name,u.node().attrs)),t);r.delete(u.pos,d.pos);const y=m?[{type:l,attrs:g},{type:m,attrs:v}]:[{type:l,attrs:g}];if(!Eg(r.doc,u.pos,2))return!1;if(o){const{selection:e,storedMarks:t}=i,{splittableMarks:n}=s.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();if(r.split(u.pos,2,y).scrollIntoView(),!a||!o)return!0;const l=a.filter((e=>n.includes(e.type.name)));r.ensureMarks(l)}return!0}},MS=(e,t)=>{const n=Tw((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!Ag(e.doc,n.pos)||(e.join(n.pos),!0)},FS=(e,t)=>{const n=Tw((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!Ag(e.doc,r)||(e.join(r),!0)},PS=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{let{editor:o,tr:s,state:a,dispatch:l,chain:c,commands:u,can:d}=i;const{extensions:p,splittableMarks:h}=o.extensionManager,f=Gw(e,a.schema),m=Gw(t,a.schema),{selection:g,storedMarks:v}=a,{$from:y,$to:x}=g,b=y.blockRange(x),w=v||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const k=Tw((e=>pk(e.type.name,p)))(g);if(b.depth>=1&&k&&b.depth-k.depth<=1){if(k.node.type===f)return u.liftListItem(m);if(pk(k.node.type.name,p)&&f.validContent(k.node.content)&&l)return c().command((()=>(s.setNodeMarkup(k.pos,f),!0))).command((()=>MS(s,f))).command((()=>FS(s,f))).run()}return n&&w&&l?c().command((()=>{const e=d().wrapInList(f,r),t=w.filter((e=>h.includes(e.type.name)));return s.ensureMarks(t),!!e||u.clearNodes()})).wrapInList(f,r).command((()=>MS(s,f))).command((()=>FS(s,f))).run():c().command((()=>!!d().wrapInList(f,r)||u.clearNodes())).wrapInList(f,r).command((()=>MS(s,f))).command((()=>FS(s,f))).run()}},LS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:i,commands:o}=r;const{extendEmptyMarkRange:s=!1}=n,a=Yw(e,i.schema);return ck(i,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)}},RS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:i,commands:o}=r;const s=Gw(e,i.schema),a=Gw(t,i.schema),l=uk(i,s,n);let u;return i.selection.$anchor.sameParent(i.selection.$head)&&(u=i.selection.$anchor.parent.attrs),l?o.setNode(a,u):o.setNode(s,c(c({},u),n))}},_S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,commands:i}=n;const o=Gw(e,r.schema);return uk(r,o,t)?i.lift(o):i.wrapIn(o,t)}},BS=()=>e=>{let{state:t,dispatch:n}=e;const r=t.plugins;for(let i=0;i<r.length;i+=1){const e=r[i];let o;if(e.spec.isInputRules&&(o=e.getState(t))){if(n){const e=t.tr,n=o.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(o.text){const n=e.doc.resolve(o.from).marks();e.replaceWith(o.from,o.to,t.schema.text(o.text,n))}else e.delete(o.from,o.to)}return!0}}return!1},IS=()=>e=>{let{tr:t,dispatch:n}=e;const{selection:r}=t,{empty:i,ranges:o}=r;return i||n&&o.forEach((e=>{t.removeMark(e.$from.pos,e.$to.pos)})),!0},zS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:i,dispatch:o}=n;var s;const{extendEmptyMarkRange:a=!1}=t,{selection:l}=r,c=Yw(e,i.schema),{$from:u,empty:d,ranges:p}=l;if(!o)return!0;if(d&&a){let{from:e,to:t}=l;const n=null==(s=u.marks().find((e=>e.type===c)))?void 0:s.attrs,i=ok(u,c,n);i&&(e=i.from,t=i.to),r.removeMark(e,t,c)}else p.forEach((e=>{r.removeMark(e.$from.pos,e.$to.pos,c)}));return r.removeStoredMark(c),!0}},VS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:i,dispatch:o}=n,s=null,a=null;const l=Qw("string"===typeof e?e:e.name,i.schema);return!!l&&("node"===l&&(s=Gw(e,i.schema)),"mark"===l&&(a=Yw(e,i.schema)),o&&r.selection.ranges.forEach((e=>{const n=e.$from.pos,o=e.$to.pos;let l,u,d,p;r.selection.empty?i.doc.nodesBetween(n,o,((e,t)=>{s&&s===e.type&&(d=Math.max(t,n),p=Math.min(t+e.nodeSize,o),l=t,u=e)})):i.doc.nodesBetween(n,o,((e,i)=>{i<n&&s&&s===e.type&&(d=Math.max(i,n),p=Math.min(i+e.nodeSize,o),l=i,u=e),i>=n&&i<=o&&(s&&s===e.type&&r.setNodeMarkup(i,void 0,c(c({},e.attrs),t)),a&&e.marks.length&&e.marks.forEach((s=>{if(a===s.type){const l=Math.max(i,n),u=Math.min(i+e.nodeSize,o);r.addMark(l,u,a.create(c(c({},s.attrs),t)))}})))})),u&&(void 0!==l&&r.setNodeMarkup(l,void 0,c(c({},u.attrs),t)),a&&u.marks.length&&u.marks.forEach((e=>{a===e.type&&r.addMark(d,p,a.create(c(c({},e.attrs),t)))})))})),!0)}},HS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:i}=n;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&Cg(s,e,t);return!!a&&(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0)}}(Gw(e,r.schema),t)(r,i)}},US=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:i}=n;return yw(Gw(e,r.schema),t)(r,i)}},$S=Tk.create({name:"commands",addCommands:()=>c({},Mk)}),WS=Tk.create({name:"delete",onUpdate(e){let{transaction:t,appendedTransactions:n}=e;var r,i,o;const s=()=>{var e,r,i,o;if(null!=(o=null==(i=null==(r=null==(e=this.editor.options.coreExtensionOptions)?void 0:e.delete)?void 0:r.filterTransaction)?void 0:i.call(r,t))?o:t.getMeta("y-sync$"))return;const s=jw(t.before,[t,...n]);ek(s).forEach((e=>{s.mapping.mapResult(e.oldRange.from).deletedAfter&&s.mapping.mapResult(e.oldRange.to).deletedBefore&&s.before.nodesBetween(e.oldRange.from,e.oldRange.to,((n,r)=>{const i=r+n.nodeSize-2,o=e.oldRange.from<=r&&i<=e.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:i,newFrom:s.mapping.map(r),newTo:s.mapping.map(i),deletedRange:e.oldRange,newRange:e.newRange,partial:!o,editor:this.editor,transaction:t,combinedTransform:s})}))}));const a=s.mapping;s.steps.forEach(((e,n)=>{var r,i;if(e instanceof mg){const o=a.slice(n).map(e.from,-1),l=a.slice(n).map(e.to),c=a.invert().map(o,-1),u=a.invert().map(l),d=null==(r=s.doc.nodeAt(o-1))?void 0:r.marks.some((t=>t.eq(e.mark))),p=null==(i=s.doc.nodeAt(l))?void 0:i.marks.some((t=>t.eq(e.mark)));this.editor.emit("delete",{type:"mark",mark:e.mark,from:e.from,to:e.to,deletedRange:{from:c,to:u},newRange:{from:o,to:l},partial:Boolean(p||d),editor:this.editor,transaction:t,combinedTransform:s})}}))};null==(o=null==(i=null==(r=this.editor.options.coreExtensionOptions)?void 0:r.delete)?void 0:i.async)||o?setTimeout(s,0):s()}}),qS=Tk.create({name:"drop",addProseMirrorPlugins(){return[new hv({key:new gv("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),KS=Tk.create({name:"editable",addProseMirrorPlugins(){return[new hv({key:new gv("editable"),props:{editable:()=>this.editor.options.editable}})]}}),YS=new gv("focusEvents"),JS=Tk.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new hv({key:YS,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),GS=Tk.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((e=>{let{commands:t}=e;return[()=>t.undoInputRule(),()=>t.command((e=>{let{tr:n}=e;const{selection:r,doc:i}=n,{empty:o,$anchor:s}=r,{pos:a,parent:l}=s,c=s.parent.isTextblock&&a>0?n.doc.resolve(a-1):s,u=c.parent.type.spec.isolating,d=s.pos-s.parentOffset,p=u&&1===c.parent.childCount?d===s.pos:Yg.atStart(i).from===a;return!(!o||!l.type.isTextblock||l.textContent.length||!p||p&&"paragraph"===s.parent.type.name)&&t.clearNodes()})),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]})),t=()=>this.editor.commands.first((e=>{let{commands:t}=e;return[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]})),n={Enter:()=>this.editor.commands.first((e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]})),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r=c({},n),i=c(c({},n),{},{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return Yk()||aS()?i:r},addProseMirrorPlugins(){return[new hv({key:new gv("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some((e=>e.getMeta("composition"))))return;const r=e.some((e=>e.docChanged))&&!t.doc.eq(n.doc),i=e.some((e=>e.getMeta("preventClearDocument")));if(!r||i)return;const{empty:o,from:s,to:a}=t.selection,l=Yg.atStart(t.doc).from,c=Yg.atEnd(t.doc).to;if(o||!(s===l&&a===c))return;if(!hk(n.doc))return;const u=n.tr,d=kw({state:n,transaction:u}),{commands:p}=new Sw({editor:this.editor,state:d});return p.clearNodes(),u.steps.length?u:void 0}})]}}),QS=Tk.create({name:"paste",addProseMirrorPlugins(){return[new hv({key:new gv("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),XS=Tk.create({name:"tabindex",addProseMirrorPlugins(){return[new hv({key:new gv("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),ZS=class e{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error("You can\u2019t set content on a block node. Tried to set content on ".concat(this.name," at ").concat(this.pos));t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach(((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new e(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new e(a,this.editor,i,i?n:null))})),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];if(e[i]!==t[i])break}}else n=r;r=r.parent}return n}querySelector(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.children||0===this.children.length)return r;const i=Object.keys(t);return this.children.forEach((o=>{if(!(n&&r.length>0)){if(o.node.type.name===e){i.every((e=>t[e]===o.node.attrs[e]))&&r.push(o)}n&&r.length>0||(r=r.concat(o.querySelectorAll(e,t,n)))}})),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,c(c({},this.node.attrs),e)),this.editor.view.dispatch(t)}};var eC=class extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!==typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:e=>{let{error:t}=e;throw t},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",(e=>{let{event:t,slice:n,moved:r}=e;return this.options.onDrop(t,n,r)})),this.on("paste",(e=>{let{event:t,slice:n}=e;return this.options.onPaste(t,n)})),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=vk(t,this.options.autofocus);this.editorState=dv.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"===typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)}),0)}unmount(){var e;if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,null==(e=this.css)||e.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!==typeof document&&(this.css=function(e,t,n){const r=document.querySelector("style[data-tiptap-style".concat(n?"-".concat(n):"","]"));if(null!==r)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style".concat(n?"-".concat(n):""),""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=c(c({},this.options),e),this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.editorState=this.state.apply(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error("[tiptap error]: The editor view is not available. Cannot access view['".concat(t,"']. The editor may not be mounted yet."))}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Pw(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach((e=>{const t="string"===typeof e?"".concat(e,"$"):e.key;n=n.filter((e=>!e.key.startsWith(t)))})),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[KS,Ok.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),$S,JS,GS,XS,qS,QS,WS].filter((e=>"object"!==typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name])):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new Ak(n,this)}createCommandManager(){this.commandManager=new Sw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Aw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(iA){if(!(iA instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(iA.message))throw iA;this.emit("contentError",{editor:this,error:iA,disableCollaboration:()=>{"collaboration"in this.storage&&"object"===typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter((e=>"collaboration"!==e.name)),this.createExtensionManager()}}),e=Aw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new Db(e,c(c({},this.options.editorProps),{},{attributes:c({role:"textbox"},null==(t=this.options.editorProps)?void 0:t.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="tiptap ".concat(this.view.dom.className)}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)})):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast((e=>e.getMeta("focus")||e.getMeta("blur"))),a=null==s?void 0:s.getMeta("focus"),l=null==s?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),e.getMeta("preventUpdate")||!n.some((e=>e.docChanged))||o.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return Xw(this.state,e)}isActive(e,t){const n="string"===typeof e?e:null,r="string"===typeof e?t:e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return uk(e,null,n)||ck(e,null,n);const r=Qw(t,e.schema);return"node"===r?uk(e,t,n):"mark"===r&&ck(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Fw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return qw(this.state.doc,{blockSeparator:t,textSerializers:c(c({},Kw(this.schema)),n)})}get isEmpty(){return hk(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ZS(t,this)}get $doc(){return this.$pos(0)}};function tC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:r,match:i}=t;const o=Lw(e.getAttributes,void 0,i);if(!1===o||null===o)return null;const{tr:s}=n,a=i[i.length-1],l=i[0];if(a){const t=l.search(/\S/),i=r.from+l.indexOf(a),c=i+a.length;if(sk(r.from,r.to,n.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>i)).length)return null;c<r.to&&s.delete(c,r.to),i>r.from&&s.delete(r.from+t,i);const u=r.from+t+a.length;s.addMark(r.from+t,u,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function nC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:r,match:i}=t;const o=Lw(e.getAttributes,void 0,i)||{},{tr:s}=n,a=r.from;let l=r.to;const c=e.type.create(o);if(i[1]){let e=a+i[0].lastIndexOf(i[1]);e>l?e=l:l=e+i[1].length;const t=i[0][i[0].length-1];s.insertText(t,a+i[0].length-1),s.replaceWith(e,l,c)}else if(i[0]){const t=e.type.isInline?a:a-1;s.insert(t,e.type.create(o)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()}})}function rC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:r,match:i}=t;const o=n.doc.resolve(r.from),s=Lw(e.getAttributes,void 0,i)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,s)}})}function iC(e){return new yk({find:e.find,handler:t=>{let{state:n,range:r,match:i,chain:o}=t;const s=Lw(e.getAttributes,void 0,i)||{},a=n.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),c=l&&Cg(l,e.type,s);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:t,storedMarks:r}=n,{splittableMarks:i}=e.editor.extensionManager,o=r||t.$to.parentOffset&&t.$from.marks();if(o){const e=o.filter((e=>i.includes(e.type.name)));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";o().updateAttributes(t,s).run()}const u=a.doc.resolve(r.from-1).nodeBefore;u&&u.type===e.type&&Ag(a.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(i,u))&&a.join(r.from-1)}})}function oC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{state:r}=t,{doc:i,tr:o}=r,s=e;i.descendants(((t,r)=>{const i=o.mapping.map(r),a=o.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach((e=>{if(e!==s)return!1;l=e})),!l)return;let u=!1;if(Object.keys(n).forEach((e=>{n[e]!==l.attrs[e]&&(u=!0)})),u){const t=e.type.create(c(c({},e.attrs),n));o.removeMark(i,a,e.type),o.addMark(i,a,t)}})),o.docChanged&&t.view.dispatch(o)}var sC=class e extends Sk{constructor(){super(...arguments),this.type="node"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}};function aC(e){return new jk({find:e.find,handler:t=>{let{state:n,range:r,match:i,pasteEvent:o}=t;const s=Lw(e.getAttributes,void 0,i,o);if(!1===s||null===s)return null;const{tr:a}=n,l=i[i.length-1],c=i[0];let u=r.to;if(l){const t=c.search(/\S/),i=r.from+c.indexOf(l),o=i+l.length;if(sk(r.from,r.to,n.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>i)).length)return null;o<r.to&&a.delete(o,r.to),i>r.from&&a.delete(r.from+t,i),u=r.from+t+l.length,a.addMark(r.from+t,u,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var lC=n(756),cC=n(443);const uC=["editor","innerRef"];var dC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):t&&(t.current=e)}))}},pC=e=>{let{contentComponent:t}=e;const n=(0,Kf.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,gi.jsx)(gi.Fragment,{children:Object.values(n)})};var hC=class extends t.Component{constructor(e){var n;super(e),this.editorContentRef=t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(n=e.editor)?void 0:n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t=c(c({},t),{},{[n]:qf.createPortal(r.reactElement,r.element,n)}),e.forEach((e=>e()))},removeRenderer(n){const r=c({},t);delete r[n],t=r,e.forEach((e=>e()))}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe((()=>{this.setState((e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0})),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()}))),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(!t)return;if(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!(null==(e=t.options.element)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const e=this.props,{editor:t,innerRef:n}=e,r=i(e,uC);return(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)("div",c({ref:dC(n,this.editorContentRef)},r)),(null==t?void 0:t.contentComponent)&&(0,gi.jsx)(pC,{contentComponent:t.contentComponent})]})}},fC=(0,t.forwardRef)(((e,n)=>{const r=t.useMemo((()=>Math.floor(4294967295*Math.random()).toString()),[e.editor]);return t.createElement(hC,c({key:r,innerRef:n},e))})),mC=t.memo(fC),gC="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,vC=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach((e=>e()))},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};var yC="undefined"===typeof window,xC=yC||Boolean("undefined"!==typeof window&&window.next),bC=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach((e=>e()))}getInitialEditor(){return void 0===this.options.current.immediatelyRender?yC||xC?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){var e=this;const t=c(c({},this.options.current),{},{onBeforeCreate:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onBeforeCreate)?void 0:n.call(t,...i)},onBlur:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onBlur)?void 0:n.call(t,...i)},onCreate:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onCreate)?void 0:n.call(t,...i)},onDestroy:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onDestroy)?void 0:n.call(t,...i)},onFocus:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onFocus)?void 0:n.call(t,...i)},onSelectionUpdate:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onSelectionUpdate)?void 0:n.call(t,...i)},onTransaction:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onTransaction)?void 0:n.call(t,...i)},onUpdate:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onUpdate)?void 0:n.call(t,...i)},onContentError:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onContentError)?void 0:n.call(t,...i)},onDrop:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onDrop)?void 0:n.call(t,...i)},onPaste:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onPaste)?void 0:n.call(t,...i)},onDelete:function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null==(n=(t=e.options.current).onDelete)?void 0:n.call(t,...i)}});return new eC(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every((n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every(((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])})):e[n]===t[n])))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions(c(c({},this.options.current),{},{editable:this.editor.isEditable})):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);if(this.previousDeps.length===e.length&&this.previousDeps.every(((t,n)=>t===e[n])))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout((()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))}),1)}};function wC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e);r.current=e;const[i]=(0,t.useState)((()=>new bC(r))),o=(0,Kf.useSyncExternalStore)(i.subscribe,i.getEditor,i.getServerSnapshot);return(0,t.useDebugValue)(o),(0,t.useEffect)(i.onRender(n)),function(e){var n;const[r]=(0,t.useState)((()=>new vC(e.editor))),i=(0,cC.useSyncExternalStoreWithSelector)(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,null!=(n=e.equalityFn)?n:lC);gC((()=>r.watch(e.editor)),[e.editor,r]),(0,t.useDebugValue)(i)}({editor:o,selector:t=>{let{transactionNumber:n}=t;return!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===n?0:n+1}}),o}var kC=(0,t.createContext)({editor:null});kC.Consumer;var SC=(0,t.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),CC=()=>(0,t.useContext)(SC);t.forwardRef(((e,t)=>{const{onDragStart:n}=CC(),r=e.as||"div";return(0,gi.jsx)(r,c(c({},e),{},{ref:t,"data-node-view-wrapper":"",onDragStart:n,style:c({whiteSpace:"normal"},e.style)}))}));t.createContext({markViewContentRef:()=>{}});const jC=["children"];var NC=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const n=null!=t?t:{},{children:r}=n,o=i(n,jC);if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,o,r]},DC=/^\s*>\s$/,EC=sC.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML(e){let{HTMLAttributes:t}=e;return NC("blockquote",c(c({},Bw(this.options.HTMLAttributes,t)),{},{children:NC("slot",{})}))},addCommands(){return{setBlockquote:()=>e=>{let{commands:t}=e;return t.wrapIn(this.name)},toggleBlockquote:()=>e=>{let{commands:t}=e;return t.toggleWrap(this.name)},unsetBlockquote:()=>e=>{let{commands:t}=e;return t.lift(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[iC({find:DC,type:this.type})]}}),AC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,TC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,OC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,MC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,FC=Ck.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML(e){let{HTMLAttributes:t}=e;return NC("strong",c(c({},Bw(this.options.HTMLAttributes,t)),{},{children:NC("slot",{})}))},addCommands(){return{setBold:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleBold:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetBold:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[tC({find:AC,type:this.type}),tC({find:OC,type:this.type})]},addPasteRules(){return[aC({find:TC,type:this.type}),aC({find:MC,type:this.type})]}}),PC=/(^|[^`])`([^`]+)`(?!`)/,LC=/(^|[^`])`([^`]+)`(?!`)/g,RC=Ck.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML(e){let{HTMLAttributes:t}=e;return["code",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleCode:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetCode:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[tC({find:PC,type:this.type})]},addPasteRules(){return[aC({find:LC,type:this.type})]}}),_C=/^```([a-z]+)?[\s\n]$/,BC=/^~~~([a-z]+)?[\s\n]$/,IC=sC.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["pre",Bw(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>t=>{let{commands:n}=t;return n.setNode(this.name,e)},toggleCodeBlock:e=>t=>{let{commands:n}=t;return n.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:e=>{let{editor:t}=e;if(!this.options.exitOnTripleEnter)return!1;const{state:n}=t,{selection:r}=n,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,a=i.parent.textContent.endsWith("\n\n");return!(!s||!a)&&t.chain().command((e=>{let{tr:t}=e;return t.delete(i.pos-2,i.pos),!0})).exitCode().run()},ArrowDown:e=>{let{editor:t}=e;if(!this.options.exitOnArrowDown)return!1;const{state:n}=t,{selection:r,doc:i}=n,{$from:o,empty:s}=r;if(!s||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();if(void 0===a)return!1;return i.nodeAt(a)?t.commands.command((e=>{let{tr:t}=e;return t.setSelection(Yg.near(i.resolve(a))),!0})):t.commands.exitCode()}}},addInputRules(){return[rC({find:_C,type:this.type,getAttributes:e=>({language:e[1]})}),rC({find:BC,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new hv({key:new gv("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=null==i?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Xg.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),zC=sC.create({name:"doc",topNode:!0,content:"block+"}),VC=sC.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML(e){let{HTMLAttributes:t}=e;return["br",Bw(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>e=>{let{commands:t,chain:n,state:r,editor:i}=e;return t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:e,storedMarks:t}=r;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:s}=i.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();return n().insertContent({type:this.name}).command((e=>{let{tr:t,dispatch:n}=e;if(n&&a&&o){const e=a.filter((e=>s.includes(e.type.name)));t.ensureMarks(e)}return!0})).run()}))])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),HC=sC.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:"h".concat(e),attrs:{level:e}})))},renderHTML(e){let{node:t,HTMLAttributes:n}=e;const r=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return["h".concat(r),Bw(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:e=>t=>{let{commands:n}=t;return!!this.options.levels.includes(e.level)&&n.setNode(this.name,e)},toggleHeading:e=>t=>{let{commands:n}=t;return!!this.options.levels.includes(e.level)&&n.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>c(c({},e),{["Mod-Alt-".concat(t)]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>rC({find:new RegExp("^(#{".concat(Math.min(...this.options.levels),",").concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}})))}}),UC=sC.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",Bw(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>e=>{let{chain:t,state:n}=e;if(!function(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof ev){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let i=r.depth;for(;i>=0;){const e=r.index(i);if(r.node(i).contentMatchAt(e).matchType(t))return!0;i-=1}return!1}(n,n.schema.nodes[this.name]))return!1;const{selection:r}=n,{$to:i}=r,o=t();return fk(r)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command((e=>{let{tr:t,dispatch:n}=e;var r;if(n){const{$to:e}=t.selection,n=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(Xg.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(ev.create(t.doc,e.pos)):t.setSelection(Xg.create(t.doc,e.pos));else{const i=null==(r=e.parent.type.contentMatch.defaultType)?void 0:r.create();i&&(t.insert(n,i),t.setSelection(Xg.create(t.doc,n+1)))}t.scrollIntoView()}return!0})).run()}}},addInputRules(){return[nC({find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type})]}}),$C=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WC=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,qC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,YC=Ck.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML(e){let{HTMLAttributes:t}=e;return["em",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleItalic:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetItalic:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[tC({find:$C,type:this.type}),tC({find:qC,type:this.type})]},addPasteRules(){return[aC({find:WC,type:this.type}),aC({find:KC,type:this.type})]}});const JC="numeric",GC="ascii",QC="alpha",XC="asciinumeric",ZC="alphanumeric",ej="domain",tj="emoji",nj="scheme",rj="slashscheme",ij="whitespace";function oj(e,t){return e in t||(t[e]=[]),t[e]}function sj(e,t,n){t[JC]&&(t[XC]=!0,t[ZC]=!0),t[GC]&&(t[XC]=!0,t[QC]=!0),t[XC]&&(t[ZC]=!0),t[QC]&&(t[ZC]=!0),t[ZC]&&(t[ej]=!0),t[tj]&&(t[ej]=!0);for(const r in t){const t=oj(r,n);t.indexOf(e)<0&&t.push(e)}}function aj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.j={},this.jr=[],this.jd=null,this.t=e}aj.groups={},aj.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],i=t.jr[r][1];if(i&&n.test(e))return i}return t.jd},has(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){let i;return r=r||aj.groups,t&&t.j?i=t:(i=new aj(t),n&&r&&sj(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(e[s]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||aj.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,a=i.go(e);if(a?(s=new aj,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new aj,o){if(r)if(s.t&&"string"===typeof s.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,r),n);sj(o,e,r)}else n&&sj(o,n,r);s.t=o}return i.j[e]=s,s}};const lj=(e,t,n,r,i)=>e.ta(t,n,r,i),cj=(e,t,n,r,i)=>e.tr(t,n,r,i),uj=(e,t,n,r,i)=>e.ts(t,n,r,i),dj=(e,t,n,r,i)=>e.tt(t,n,r,i),pj="WORD",hj="UWORD",fj="ASCIINUMERICAL",mj="ALPHANUMERICAL",gj="LOCALHOST",vj="TLD",yj="UTLD",xj="SCHEME",bj="SLASH_SCHEME",wj="NUM",kj="WS",Sj="NL",Cj="OPENBRACE",jj="CLOSEBRACE",Nj="OPENBRACKET",Dj="CLOSEBRACKET",Ej="OPENPAREN",Aj="CLOSEPAREN",Tj="OPENANGLEBRACKET",Oj="CLOSEANGLEBRACKET",Mj="FULLWIDTHLEFTPAREN",Fj="FULLWIDTHRIGHTPAREN",Pj="LEFTCORNERBRACKET",Lj="RIGHTCORNERBRACKET",Rj="LEFTWHITECORNERBRACKET",_j="RIGHTWHITECORNERBRACKET",Bj="FULLWIDTHLESSTHAN",Ij="FULLWIDTHGREATERTHAN",zj="AMPERSAND",Vj="APOSTROPHE",Hj="ASTERISK",Uj="AT",$j="BACKSLASH",Wj="BACKTICK",qj="CARET",Kj="COLON",Yj="COMMA",Jj="DOLLAR",Gj="DOT",Qj="EQUALS",Xj="EXCLAMATION",Zj="HYPHEN",eN="PERCENT",tN="PIPE",nN="PLUS",rN="POUND",iN="QUERY",oN="QUOTE",sN="FULLWIDTHMIDDLEDOT",aN="SEMI",lN="SLASH",cN="TILDE",uN="UNDERSCORE",dN="EMOJI",pN="SYM";var hN=Object.freeze({__proto__:null,ALPHANUMERICAL:mj,AMPERSAND:zj,APOSTROPHE:Vj,ASCIINUMERICAL:fj,ASTERISK:Hj,AT:Uj,BACKSLASH:$j,BACKTICK:Wj,CARET:qj,CLOSEANGLEBRACKET:Oj,CLOSEBRACE:jj,CLOSEBRACKET:Dj,CLOSEPAREN:Aj,COLON:Kj,COMMA:Yj,DOLLAR:Jj,DOT:Gj,EMOJI:dN,EQUALS:Qj,EXCLAMATION:Xj,FULLWIDTHGREATERTHAN:Ij,FULLWIDTHLEFTPAREN:Mj,FULLWIDTHLESSTHAN:Bj,FULLWIDTHMIDDLEDOT:sN,FULLWIDTHRIGHTPAREN:Fj,HYPHEN:Zj,LEFTCORNERBRACKET:Pj,LEFTWHITECORNERBRACKET:Rj,LOCALHOST:gj,NL:Sj,NUM:wj,OPENANGLEBRACKET:Tj,OPENBRACE:Cj,OPENBRACKET:Nj,OPENPAREN:Ej,PERCENT:eN,PIPE:tN,PLUS:nN,POUND:rN,QUERY:iN,QUOTE:oN,RIGHTCORNERBRACKET:Lj,RIGHTWHITECORNERBRACKET:_j,SCHEME:xj,SEMI:aN,SLASH:lN,SLASH_SCHEME:bj,SYM:pN,TILDE:cN,TLD:vj,UNDERSCORE:uN,UTLD:yj,UWORD:hj,WORD:pj,WS:kj});const fN=/[a-z]/,mN=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/,gN=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8])/,vN=/\d/,yN=/\s/;let xN=null,bN=null;function wN(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let i,o=e.charCodeAt(r),s=o<55296||o>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=e,l=null,c=0,u=null,d=-1,p=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,p=0,u=a):d>=0&&(d+=n[s].length,p++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=p,c-=d,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function kN(e,t,n,r,i){let o;const s=t.length;for(let a=0;a<s-1;a++){const n=t[a];e.j[n]?o=e.j[n]:(o=new aj(r),o.jr=i.slice(),e.j[n]=o),e=o}return o=new aj(n),o.jr=i.slice(),e.j[t[s-1]]=o,o}function SN(e){const t=[],n=[];let r=0;for(;r<e.length;){let i=0;for(;"0123456789".indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+i),10);t>0;t--)n.pop();r+=i}else n.push(e[r]),r++}return t}const CN={defaultProtocol:"http",events:null,format:NN,formatHref:NN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function jN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},CN);e&&(n=Object.assign(n,e instanceof jN?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function NN(e){return e}jN.prototype={o:CN,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let i=this.o[e];return i?("object"===typeof i?(i=n.t in i?i[n.t]:CN[e],"function"===typeof i&&r&&(i=i(t,n))):"function"===typeof i&&r&&(i=i(t,n.t,n)),i):i},getObj(e,t,n){let r=this.o[e];return"function"===typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function DN(e,t){this.t="token",this.v=e,this.tk=t}function EN(e,t){class n extends DN{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}DN.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CN.defaultProtocol;return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:i,attributes:s,content:o,eventListeners:d}}};const AN=EN("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),TN=EN("text"),ON=EN("nl"),MN=EN("url",{isLink:!0,toHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CN.defaultProtocol;return this.hasProtocol()?this.v:"".concat(e,"://").concat(this.v)},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==gj&&e[1].t===Kj}});const FN=e=>new aj(e);function PN(e,t,n){const r=n[0].s,i=n[n.length-1].e;return new e(t.slice(r,i),n)}const LN="undefined"!==typeof console&&console&&console.warn||(()=>{}),RN="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_N={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function BN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(_N.initialized&&LN('linkifyjs: already initialized - will not register custom scheme "'.concat(e,'" ').concat(RN)),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');_N.customSchemes.push([e,t])}function IN(){_N.scanner=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};aj.groups=t;const n=new aj;null==xN&&(xN=SN("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==bN&&(bN=SN("\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2")),dj(n,"'",Vj),dj(n,"{",Cj),dj(n,"}",jj),dj(n,"[",Nj),dj(n,"]",Dj),dj(n,"(",Ej),dj(n,")",Aj),dj(n,"<",Tj),dj(n,">",Oj),dj(n,"\uff08",Mj),dj(n,"\uff09",Fj),dj(n,"\u300c",Pj),dj(n,"\u300d",Lj),dj(n,"\u300e",Rj),dj(n,"\u300f",_j),dj(n,"\uff1c",Bj),dj(n,"\uff1e",Ij),dj(n,"&",zj),dj(n,"*",Hj),dj(n,"@",Uj),dj(n,"`",Wj),dj(n,"^",qj),dj(n,":",Kj),dj(n,",",Yj),dj(n,"$",Jj),dj(n,".",Gj),dj(n,"=",Qj),dj(n,"!",Xj),dj(n,"-",Zj),dj(n,"%",eN),dj(n,"|",tN),dj(n,"+",nN),dj(n,"#",rN),dj(n,"?",iN),dj(n,'"',oN),dj(n,"/",lN),dj(n,";",aN),dj(n,"~",cN),dj(n,"_",uN),dj(n,"\\",$j),dj(n,"\u30fb",sN);const r=cj(n,vN,wj,{[JC]:!0});cj(r,vN,r);const i=cj(r,fN,fj,{[XC]:!0}),o=cj(r,mN,mj,{[ZC]:!0}),s=cj(n,fN,pj,{[GC]:!0});cj(s,vN,i),cj(s,fN,s),cj(i,vN,i),cj(i,fN,i);const a=cj(n,mN,hj,{[QC]:!0});cj(a,fN),cj(a,vN,o),cj(a,mN,a),cj(o,vN,o),cj(o,fN),cj(o,mN,o);const l=dj(n,"\n",Sj,{[ij]:!0}),c=dj(n,"\r",kj,{[ij]:!0}),u=cj(n,yN,kj,{[ij]:!0});dj(n,"\ufffc",u),dj(c,"\n",l),dj(c,"\ufffc",u),cj(c,yN,u),dj(u,"\r"),dj(u,"\n"),cj(u,yN,u),dj(u,"\ufffc",u);const d=cj(n,gN,dN,{[tj]:!0});dj(d,"#"),cj(d,gN,d),dj(d,"\ufe0f",d);const p=dj(d,"\u200d");dj(p,"#"),cj(p,gN,d);const h=[[fN,s],[vN,i]],f=[[fN,null],[mN,a],[vN,o]];for(let m=0;m<xN.length;m++)kN(n,xN[m],vj,pj,h);for(let m=0;m<bN.length;m++)kN(n,bN[m],yj,hj,f);sj(vj,{tld:!0,ascii:!0},t),sj(yj,{utld:!0,alpha:!0},t),kN(n,"file",xj,pj,h),kN(n,"mailto",xj,pj,h),kN(n,"http",bj,pj,h),kN(n,"https",bj,pj,h),kN(n,"ftp",bj,pj,h),kN(n,"ftps",bj,pj,h),sj(xj,{scheme:!0,ascii:!0},t),sj(bj,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let m=0;m<e.length;m++){const t=e[m][0],r=e[m][1]?{[nj]:!0}:{[rj]:!0};t.indexOf("-")>=0?r[ej]=!0:fN.test(t)?vN.test(t)?r[XC]=!0:r[GC]=!0:r[JC]=!0,uj(n,t,t,r)}return uj(n,"localhost",gj,{ascii:!0}),n.jd=new aj(pN),{start:n,tokens:Object.assign({groups:t},hN)}}(_N.customSchemes);for(let e=0;e<_N.tokenQueue.length;e++)_N.tokenQueue[e][1]({scanner:_N.scanner});_N.parser=function(e){let{groups:t}=e;const n=t.domain.concat([zj,Hj,Uj,$j,Wj,qj,Jj,Qj,Zj,wj,eN,tN,nN,rN,lN,pN,cN,uN]),r=[Vj,Kj,Yj,Gj,Xj,eN,iN,oN,aN,Tj,Oj,Cj,jj,Dj,Nj,Ej,Aj,Mj,Fj,Pj,Lj,Rj,_j,Bj,Ij],i=[zj,Vj,Hj,$j,Wj,qj,Jj,Qj,Zj,Cj,jj,eN,tN,nN,rN,iN,lN,pN,cN,uN],o=FN(),s=dj(o,cN);lj(s,i,s),lj(s,t.domain,s);const a=FN(),l=FN(),c=FN();lj(o,t.domain,a),lj(o,t.scheme,l),lj(o,t.slashscheme,c),lj(a,i,s),lj(a,t.domain,a);const u=dj(a,Uj);dj(s,Uj,u),dj(l,Uj,u),dj(c,Uj,u);const d=dj(s,Gj);lj(d,i,s),lj(d,t.domain,s);const p=FN();lj(u,t.domain,p),lj(p,t.domain,p);const h=dj(p,Gj);lj(h,t.domain,p);const f=FN(AN);lj(h,t.tld,f),lj(h,t.utld,f),dj(u,gj,f);const m=dj(p,Zj);dj(m,Zj,m),lj(m,t.domain,p),lj(f,t.domain,p),dj(f,Gj,h),dj(f,Zj,m);const g=dj(f,Kj);lj(g,t.numeric,AN);const v=dj(a,Zj),y=dj(a,Gj);dj(v,Zj,v),lj(v,t.domain,a),lj(y,i,s),lj(y,t.domain,a);const x=FN(MN);lj(y,t.tld,x),lj(y,t.utld,x),lj(x,t.domain,a),lj(x,i,s),dj(x,Gj,y),dj(x,Zj,v),dj(x,Uj,u);const b=dj(x,Kj),w=FN(MN);lj(b,t.numeric,w);const k=FN(MN),S=FN();lj(k,n,k),lj(k,r,S),lj(S,n,k),lj(S,r,S),dj(x,lN,k),dj(w,lN,k);const C=dj(l,Kj),j=dj(c,Kj),N=dj(j,lN),D=dj(N,lN);lj(l,t.domain,a),dj(l,Gj,y),dj(l,Zj,v),lj(c,t.domain,a),dj(c,Gj,y),dj(c,Zj,v),lj(C,t.domain,k),dj(C,lN,k),dj(C,iN,k),lj(D,t.domain,k),lj(D,n,k),dj(D,lN,k);const E=[[Cj,jj],[Nj,Dj],[Ej,Aj],[Tj,Oj],[Mj,Fj],[Pj,Lj],[Rj,_j],[Bj,Ij]];for(let A=0;A<E.length;A++){const[e,t]=E[A],i=dj(k,e);dj(S,e,i),dj(i,t,k);const o=FN(MN);lj(i,n,o);const s=FN();lj(i,r),lj(o,n,o),lj(o,r,s),lj(s,n,o),lj(s,r,s),dj(o,t,k),dj(s,t,k)}return dj(o,gj,x),dj(o,Sj,ON),{start:o,tokens:hN}}(_N.scanner.tokens);for(let e=0;e<_N.pluginQueue.length;e++)_N.pluginQueue[e][1]({scanner:_N.scanner,parser:_N.parser});return _N.initialized=!0,_N}function zN(e){return _N.initialized||IN(),function(e,t,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=e,l=null,c=null,u=0,d=null,p=-1;for(;i<r&&!(l=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,i++,u++;if(p<0)i-=u,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(PN(TN,t,s)),s=[]),i-=p,u-=p;const e=d.t,r=n.slice(i-u,i);o.push(PN(e,t,r))}}return s.length>0&&o.push(PN(TN,t,s)),o}(_N.parser.start,e,wN(_N.scanner.start,e))}function VN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&"object"===typeof t){if(n)throw Error("linkifyjs: Invalid link type ".concat(t,"; must be a string"));n=t,t=null}const r=new jN(n),i=zN(e),o=[];for(let s=0;s<i.length;s++){const e=i[s];!e.isLink||t&&e.t!==t||!r.check(e)||o.push(e.toFormattedObject(r))}return o}zN.scan=wN;var HN="[\0- \xa0\u1680\u180e\u2000-\u2029\u205f\u3000]",UN=new RegExp(HN),$N=new RegExp("".concat(HN,"$")),WN=new RegExp(HN,"g");function qN(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach((e=>{const t="string"===typeof e?e:e.scheme;t&&n.push(t)})),!e||e.replace(WN,"").match(new RegExp("^(?:(?:".concat(n.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}var KN=Ck.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach((e=>{"string"!==typeof e?BN(e.scheme,e.optionalSlashes):BN(e)}))},onDestroy(){aj.groups={},_N.scanner=null,_N.parser=null,_N.tokenQueue=[],_N.pluginQueue=[],_N.customSchemes=[],_N.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!qN(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!qN(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML(e){let{HTMLAttributes:t}=e;return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!qN(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Bw(this.options.HTMLAttributes,t),0]:["a",Bw(this.options.HTMLAttributes,c(c({},t),{},{href:""})),0]},addCommands(){return{setLink:e=>t=>{let{chain:n}=t;const{href:r}=e;return!!this.options.isAllowedUri(r,{defaultValidate:e=>!!qN(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&n().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>t=>{let{chain:n}=t;const{href:r}=e||{};return!(r&&!this.options.isAllowedUri(r,{defaultValidate:e=>!!qN(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&n().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>e=>{let{chain:t}=e;return t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}}},addPasteRules(){return[aC({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=VN(e).filter((e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!qN(e,n),protocols:n,defaultProtocol:r})));i.length&&i.forEach((e=>t.push({text:e.value,data:{href:e.href},index:e.start})))}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(function(e){return new hv({key:new gv("autolink"),appendTransaction:(t,n,r)=>{const i=t.some((e=>e.docChanged))&&!n.doc.eq(r.doc),o=t.some((e=>e.getMeta("preventAutolink")));if(!i||o)return;const{tr:s}=r;return ek(jw(n.doc,[...t])).forEach((t=>{let{newRange:n}=t;const i=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&r.push({node:e,pos:t})})),r}(r.doc,n,(e=>e.isTextblock));let o,a;if(i.length>1)o=i[0],a=r.doc.textBetween(o.pos,o.pos+o.node.nodeSize,void 0," ");else if(i.length){const e=r.doc.textBetween(n.from,n.to," "," ");if(!$N.test(e))return;o=i[0],a=r.doc.textBetween(o.pos,n.to,void 0," ")}if(o&&a){const t=a.split(UN).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],i=o.pos+a.lastIndexOf(n);if(!n)return!1;const u=zN(n).map((t=>t.toObject(e.defaultProtocol)));if(!(1===(l=u).length?l[0].isLink:3===l.length&&l[1].isLink&&["()","[]"].includes(l[0].value+l[2].value)))return!1;u.filter((e=>e.isLink)).map((e=>c(c({},e),{},{from:i+e.start+1,to:i+e.end+1}))).filter((e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code))).filter((t=>e.validate(t.value))).filter((t=>e.shouldAutoLink(t.value))).forEach((t=>{sk(t.from,t.to,r.doc).some((t=>t.mark.type===e.type))||s.addMark(t.from,t.to,e.type.create({href:t.href}))}))}var l})),s.steps.length?s:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!qN(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&e.push(function(e){return new hv({key:new gv("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(0!==r.button)return!1;if(!t.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let e=r.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;s=t.find((e=>"A"===e.nodeName))}if(!s)return!1;const a=Xw(t.state,e.type.name),l=null!=(i=null==s?void 0:s.href)?i:a.href,c=null!=(o=null==s?void 0:s.target)?o:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!s||!l)&&(window.open(l,c),!0)}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new hv({key:new gv("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach((e=>{a+=e.textContent}));const l=VN(a,{defaultProtocol:e.defaultProtocol}).find((e=>e.isLink&&e.value===a));return!(!a||!l)&&e.editor.commands.setMark(e.type,{href:l.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),YN=KN;const JN=["start"];var GN=Object.defineProperty,QN="textStyle",XN=/^\s*([-+*])\s$/,ZN=sC.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML:()=>[{tag:"ul"}],renderHTML(e){let{HTMLAttributes:t}=e;return["ul",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>e=>{let{commands:t,chain:n}=e;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(QN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=iC({find:XN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=iC({find:XN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(QN),editor:this.editor})),[e]}}),eD=sC.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML(e){let{HTMLAttributes:t}=e;return["li",Bw(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)GN(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>tD,getNextListDepth:()=>nD,handleBackspace:()=>sD,handleDelete:()=>cD,hasListBefore:()=>rD,hasListItemAfter:()=>uD,hasListItemBefore:()=>iD,listItemHasSubList:()=>oD,nextListIsDeeper:()=>aD,nextListIsHigher:()=>lD});var tD=(e,t)=>{const{$from:n}=t.selection,r=Gw(e,t.schema);let i=null,o=n.depth,s=n.pos,a=null;for(;o>0&&null===a;)i=n.node(o),i.type===r?a=o:(o-=1,s-=1);return null===a?null:{$pos:t.doc.resolve(s),depth:a}},nD=(e,t)=>{const n=tD(e,t);if(!n)return!1;const[,r]=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;const i=e.doc.resolve(n);let o=r,s=null;for(;o>0&&null===s;){const e=i.node(o);(null==e?void 0:e.type.name)===t?s=e:o-=1}return[s,o]}(t,e,n.$pos.pos+4);return r},rD=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),o=e.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},iD=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return 0!==i.index()&&(null==(n=i.nodeBefore)?void 0:n.type.name)===e},oD=(e,t,n)=>{if(!n)return!1;const r=Gw(e,t.schema);let i=!1;return n.descendants((e=>{e.type===r&&(i=!0)})),i},sD=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!uk(e.state,t)&&rD(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),i=[];r.node().descendants(((e,n)=>{e.type.name===t&&i.push({node:e,pos:n})}));const o=i.at(-1);if(!o)return!1;const s=e.state.doc.resolve(r.start()+o.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},s.end()).joinForward().run()}if(!uk(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=tD(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=oD(t,e.state,i);return iD(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},aD=(e,t)=>{const n=nD(e,t),r=tD(e,t);return!(!r||!n)&&n>r.depth},lD=(e,t)=>{const n=nD(e,t),r=tD(e,t);return!(!r||!n)&&n<r.depth},cD=(e,t)=>{if(!uk(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const n=Tw((e=>e.type.name===t))(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return i.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!(!n.empty&&r.sameParent(i))&&(aD(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():lD(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},uD=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return i.index()!==i.parent.childCount-1&&(null==(n=i.nodeAfter)?void 0:n.type.name)===e},dD=Tk.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:r}=e;void 0!==t.state.schema.nodes[r]&&cD(t,r)&&(n=!0)})),n},"Mod-Delete":e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:r}=e;void 0!==t.state.schema.nodes[r]&&cD(t,r)&&(n=!0)})),n},Backspace:e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:r,wrapperNames:i}=e;void 0!==t.state.schema.nodes[r]&&sD(t,r,i)&&(n=!0)})),n},"Mod-Backspace":e=>{let{editor:t}=e,n=!1;return this.options.listTypes.forEach((e=>{let{itemName:r,wrapperNames:i}=e;void 0!==t.state.schema.nodes[r]&&sD(t,r,i)&&(n=!0)})),n}}}}),pD="textStyle",hD=/^(\d+)\.\s$/,fD=sC.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML(e){let{HTMLAttributes:t}=e;const{start:n}=t,r=i(t,JN);return 1===n?["ol",Bw(this.options.HTMLAttributes,r),0]:["ol",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>e=>{let{commands:t,chain:n}=e;return this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(pD)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=iC({find:hD,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=iC({find:hD,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>c({start:+e[1]},this.editor.getAttributes(pD)),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),mD=/^\s*(\[([( |x])?\])\s$/,gD=sC.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:'li[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["li",Bw(this.options.HTMLAttributes,n,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?c(c({},e),{},{Tab:()=>this.editor.commands.sinkListItem(this.name)}):e},addNodeView(){return e=>{let{node:t,HTMLAttributes:n,getPos:r,editor:i}=e;const o=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=e=>{var t,n;l.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,l.checked))||"Task item checkbox for ".concat(e.textContent||"empty task item")};return d(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",(e=>e.preventDefault())),l.addEventListener("change",(e=>{if(!i.isEditable&&!this.options.onReadOnlyChecked)return void(l.checked=!l.checked);const{checked:n}=e.target;i.isEditable&&"function"===typeof r&&i.chain().focus(void 0,{scrollIntoView:!1}).command((e=>{let{tr:t}=e;const i=r();if("number"!==typeof i)return!1;const o=t.doc.nodeAt(i);return t.setNodeMarkup(i,void 0,c(c({},null==o?void 0:o.attrs),{},{checked:n})),!0})).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,n)||(l.checked=!l.checked))})),Object.entries(this.options.HTMLAttributes).forEach((e=>{let[t,n]=e;o.setAttribute(t,n)})),o.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),o.append(s,u),Object.entries(n).forEach((e=>{let[t,n]=e;o.setAttribute(t,n)})),{dom:o,contentDOM:u,update:e=>e.type===this.type&&(o.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,d(e),!0)}}},addInputRules(){return[iC({find:mD,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),vD=sC.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML(){return[{tag:'ul[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t}=e;return["ul",Bw(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>e=>{let{commands:t}=e;return t.toggleList(this.name,this.options.itemTypeName)}}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),yD=(Tk.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(ZN.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(eD.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(dD.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(fD.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(gD.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(vD.configure(this.options.taskList)),e}}),sC.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>e=>{let{commands:t}=e;return t.setNode(this.name)}}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})),xD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,bD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,wD=Ck.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["s",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleStrike:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetStrike:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[tC({find:xD,type:this.type})]},addPasteRules(){return[aC({find:bD,type:this.type})]}}),kD=sC.create({name:"text",group:"inline"}),SD=Ck.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["u",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleUnderline:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetUnderline:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function CD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new hv({view:t=>new jD(t,e)})}class jD{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)}))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,i=r.getBoundingClientRect(),o=i.width/r.offsetWidth,s=i.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let i=t.getBoundingClientRect(),o=n?i.bottom:i.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let a=this.width/2*s;e={left:i.left,right:i.right,top:o-a,bottom:o+a}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*o;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;a=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-a)/o+"px",this.element.style.top=(e.top-l)/s+"px",this.element.style.width=(e.right-e.left)/o+"px",this.element.style.height=(e.bottom-e.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=Mg(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ND extends Yg{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return ND.valid(n)?new ND(n):Yg.near(n)}content(){return im.empty}eq(e){return e instanceof ND&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new ND(e.resolve(t.pos))}getBookmark(){return new DD(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!n&&ND.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){i=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(ND.valid(s))return s}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!ev.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue e}break}i=o,r+=t;let s=e.doc.resolve(r);if(ND.valid(s))return s}return null}}}ND.prototype.visible=!1,ND.findFrom=ND.findGapCursorFrom,Yg.jsonID("gapcursor",ND);class DD{constructor(e){this.pos=e}map(e){return new DD(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return ND.valid(t)?new ND(t):Yg.near(t)}}const ED=Ub({ArrowLeft:AD("horiz",-1),ArrowRight:AD("horiz",1),ArrowUp:AD("vert",-1),ArrowDown:AD("vert",1)});function AD(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let o=e.selection,s=t>0?o.$to:o.$from,a=o.empty;if(o instanceof Xg){if(!i.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=ND.findGapCursorFrom(s,t,a);return!!l&&(r&&r(e.tr.setSelection(new ND(l))),!0)}}function TD(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!ND.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&ev.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new ND(r))),!0)}function OD(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof ND))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Xf.empty;for(let s=r.length-1;s>=0;s--)i=Xf.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new im(i,0,0));return o.setSelection(Xg.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function MD(e){if(!(e.selection instanceof ND))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",nb.create(e.doc,[Zx.widget(e.selection.head,t,{key:"gapcursor"})])}var FD=200,PD=function(){};PD.prototype.append=function(e){return e.length?(e=PD.from(e),!this.length&&e||e.length<FD&&this.leafAppend(e)||this.length<FD&&e.leafPrepend(this)||this.appendInner(e)):this},PD.prototype.prepend=function(e){return e.length?PD.from(e).append(this):this},PD.prototype.appendInner=function(e){return new RD(this,e)},PD.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?PD.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},PD.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},PD.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},PD.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},PD.from=function(e){return e instanceof PD?e:e&&e.length?new LD(e):PD.empty};var LD=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=FD)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=FD)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(PD);PD.empty=new LD([]);var RD=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(PD);const _D=PD;class BD{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new ID(e.map));let t,i=e.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new ID(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,s=new BD(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),u=new ID(e.mapping.maps[c],l,t);(n=a&&a.merge(u))&&(u=n,c?i.pop():s=s.slice(0,s.length-1)),i.push(u),t&&(o++,t=void 0),r||(a=u)}let l=o-n.depth;return l>VD&&(s=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(s,l),o-=l),new BD(s.append(i),o)}remapping(e,t){let n=new cg;return this.items.forEach(((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new BD(this.items.append(e.map((e=>new ID(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let a=t;this.items.forEach((t=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(a+1,r));c&&s++,n.push(new ID(l,o,c))}else n.push(new ID(l))}),r);let l=[];for(let d=t;d<o;d++)l.push(new ID(i.maps[d]));let c=this.items.slice(0,r).append(l).append(n),u=new BD(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(((o,s)=>{if(s>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=o.selection&&o.selection.map(t.slice(n));a&&i++;let l,c=new ID(s.invert(),e,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new BD(_D.from(r.reverse()),i)}}BD.empty=new BD(_D.empty,0);class ID{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new ID(t.getMap().invert(),t,this.selection)}}}class zD{constructor(e,t,n,r,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}const VD=20;function HD(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach(((e,n,r,i)=>t.push(r,i)));return t}function UD(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}let $D=!1,WD=null;function qD(e){let t=e.plugins;if(WD!=t){$D=!1,WD=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){$D=!0;break}}return $D}const KD=new gv("history"),YD=new gv("closeHistory");function JD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new hv({key:KD,state:{init:()=>new zD(BD.empty,BD.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let i,o=n.getMeta(KD);if(o)return o.historyState;n.getMeta(YD)&&(e=new zD(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(KD))return s.getMeta(KD).redo?new zD(e.done.addTransform(n,void 0,r,qD(t)),e.undone,HD(n.mapping.maps),e.prevTime,e.prevComposition):new zD(e.done,e.undone.addTransform(n,void 0,r,qD(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new zD(e.done.rebased(n,i),e.undone.rebased(n,i),UD(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new zD(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),UD(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let i=n.getMeta("composition"),o=0==e.prevTime||!s&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),a=s?UD(e.prevRanges,n.mapping):HD(n.mapping.maps);return new zD(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,qD(t)),BD.empty,a,n.time,null==i?e.prevComposition:i)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?QD:"historyRedo"==n?XD:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function GD(e,t){return(n,r)=>{let i=KD.getState(n);if(!i||0==(e?i.undone:i.done).eventCount)return!1;if(r){let o=function(e,t,n){let r=qD(t),i=KD.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new zD(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(KD,{redo:n,historyState:l})}(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const QD=GD(!1,!0),XD=GD(!0,!0);GD(!1,!1),GD(!0,!1);Tk.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter((e=>""!==e)).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new hv({key:new gv("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(null===i||void 0===i||0===i)return void(e=!0);const o=this.storage.characters({node:r.doc});if(o>i){const t=0,n=o-i;console.warn("[CharacterCount] Initial content exceeded limit of ".concat(i," characters. Content was automatically trimmed."));const s=r.tr.deleteRange(t,n);return e=!0,s}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null===n||void 0===n)return!0;const r=this.storage.characters({node:t.doc}),i=this.storage.characters({node:e.doc});if(i<=n)return!0;if(r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r)return!1;if(!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,s=o-(i-n),a=o;e.deleteRange(s,a);return!(this.storage.characters({node:e.doc})>n)}})]}});var ZD=Tk.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[CD(this.options)]}}),eE=(Tk.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new hv({key:new gv("focus"),props:{decorations:e=>{let{doc:t,selection:n}=e;const{isEditable:r,isFocused:i}=this.editor,{anchor:o}=n,s=[];if(!r||!i)return nb.create(t,[]);let a=0;"deepest"===this.options.mode&&t.descendants(((e,t)=>{if(e.isText)return;if(!(o>=t&&o<=t+e.nodeSize-1))return!1;a+=1}));let l=0;return t.descendants(((e,t)=>{if(e.isText)return!1;if(!(o>=t&&o<=t+e.nodeSize-1))return!1;l+=1;if("deepest"===this.options.mode&&a-l>0||"shallowest"===this.options.mode&&l>1)return"deepest"===this.options.mode;s.push(Zx.node(t,t+e.nodeSize,{class:this.options.className}))})),nb.create(t,s)}}})]}}),Tk.create({name:"gapCursor",addProseMirrorPlugins:()=>[new hv({props:{decorations:MD,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&ND.valid(n)?new ND(n):null,handleClick:TD,handleKeyDown:ED,handleDOMEvents:{beforeinput:OD}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=Lw(Ow(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}}));Tk.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new hv({key:new gv("placeholder"),props:{decorations:e=>{let{doc:t,selection:n}=e;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=n,o=[];if(!r)return null;const s=this.editor.isEmpty;return t.descendants(((e,t)=>{const n=i>=t&&i<=t+e.nodeSize,r=!e.isLeaf&&hk(e);if((n||!this.options.showOnlyCurrent)&&r){const r=[this.options.emptyNodeClass];s&&r.push(this.options.emptyEditorClass);const i=Zx.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"===typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});o.push(i)}return this.options.includeChildren})),nb.create(t,o)}}})]}}),Tk.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new hv({key:new gv("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||fk(n.selection)||e.view.dragging?null:nb.create(n.doc,[Zx.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});function tE(e){let{types:t,node:n}=e;return n&&Array.isArray(t)&&t.includes(n.type)||(null==n?void 0:n.type)===t}var nE=Tk.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:[]}),addProseMirrorPlugins(){const e=new gv(this.name),t=Object.entries(this.editor.schema.nodes).map((e=>{let[,t]=e;return t})).filter((e=>(this.options.notAfter||[]).concat(this.options.node).includes(e.name)));return[new hv({key:e,appendTransaction:(t,n,r)=>{const{doc:i,tr:o,schema:s}=r,a=e.getState(r),l=i.content.size,c=s.nodes[this.options.node];if(a)return o.insert(l,c.create())},state:{init:(e,n)=>!tE({node:n.tr.doc.lastChild,types:t}),apply:(e,n)=>{if(!e.docChanged)return n;return!tE({node:e.doc.lastChild,types:t})}}})]}}),rE=Tk.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>e=>{let{state:t,dispatch:n}=e;return QD(t,n)},redo:()=>e=>{let{state:t,dispatch:n}=e;return XD(t,n)}}),addProseMirrorPlugins(){return[JD(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}}),iE=Tk.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return!1!==this.options.bold&&i.push(FC.configure(this.options.bold)),!1!==this.options.blockquote&&i.push(EC.configure(this.options.blockquote)),!1!==this.options.bulletList&&i.push(ZN.configure(this.options.bulletList)),!1!==this.options.code&&i.push(RC.configure(this.options.code)),!1!==this.options.codeBlock&&i.push(IC.configure(this.options.codeBlock)),!1!==this.options.document&&i.push(zC.configure(this.options.document)),!1!==this.options.dropcursor&&i.push(ZD.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&i.push(eE.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&i.push(VC.configure(this.options.hardBreak)),!1!==this.options.heading&&i.push(HC.configure(this.options.heading)),!1!==this.options.undoRedo&&i.push(rE.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&i.push(UC.configure(this.options.horizontalRule)),!1!==this.options.italic&&i.push(YC.configure(this.options.italic)),!1!==this.options.listItem&&i.push(eD.configure(this.options.listItem)),!1!==this.options.listKeymap&&i.push(dD.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&i.push(KN.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&i.push(fD.configure(this.options.orderedList)),!1!==this.options.paragraph&&i.push(yD.configure(this.options.paragraph)),!1!==this.options.strike&&i.push(wD.configure(this.options.strike)),!1!==this.options.text&&i.push(kD.configure(this.options.text)),!1!==this.options.underline&&i.push(SD.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&i.push(nE.configure(null==(r=this.options)?void 0:r.trailingNode)),i}}),oE=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,sE=sC.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML(e){let{HTMLAttributes:t}=e;return["img",Bw(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:e=>t=>{let{commands:n}=t;return n.insertContent({type:this.name,attrs:e})}}},addInputRules(){return[nC({find:oE,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),aE=sE,lE=Ck.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach((e=>{var t,n;const r=e.getAttribute("style"),i=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style","".concat(i,";").concat(r))}))})(e),{})}]},renderHTML(e){let{HTMLAttributes:t}=e;return["span",Bw(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:e=>t=>{let{commands:n}=t;return n.toggleMark(this.name,e)},removeEmptyTextStyle:()=>e=>{let{tr:t}=e;const{selection:n}=t;return t.doc.nodesBetween(n.from,n.to,((e,n)=>{if(e.isTextblock)return!0;e.marks.filter((e=>e.type===this.type)).some((e=>Object.values(e.attrs).some((e=>!!e))))||t.removeMark(n,n+e.nodeSize,this.type)})),!0}}}}),cE=Tk.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:"background-color: ".concat(e.backgroundColor)}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{backgroundColor:e}).run()},unsetBackgroundColor:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}})}),uE=Tk.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:"color: ".concat(e.color)}:{}}}}]},addCommands:()=>({setColor:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{color:e}).run()},unsetColor:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}})}),dE=Tk.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:"font-family: ".concat(e.fontFamily)}:{}}}}]},addCommands:()=>({setFontFamily:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontFamily:e}).run()},unsetFontFamily:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}})}),pE=Tk.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:"font-size: ".concat(e.fontSize)}:{}}}}]},addCommands:()=>({setFontSize:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontSize:e}).run()},unsetFontSize:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}})}),hE=Tk.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:"line-height: ".concat(e.lineHeight)}:{}}}}]},addCommands:()=>({setLineHeight:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{lineHeight:e}).run()},unsetLineHeight:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}})}),fE=(Tk.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(cE.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(uE.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(dE.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(pE.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(hE.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(lE.configure(this.options.textStyle)),e}}),uE);const mE=e=>{let{editor:t}=e;return t?(0,gi.jsxs)("div",{className:"border-b border-gray-300 p-2 bg-gray-50 flex flex-wrap gap-1",children:[(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("bold")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Bold"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("italic")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Italic"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("strike")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Strike"}),(0,gi.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("heading",{level:1})?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"H1"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("heading",{level:2})?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"H2"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("heading",{level:3})?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"H3"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("paragraph")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"P"}),(0,gi.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("bulletList")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"\u2022 List"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("orderedList")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"1. List"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("blockquote")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Quote"}),(0,gi.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,gi.jsx)("button",{onClick:()=>{const e=window.prompt("Enter link URL:");e&&t.chain().focus().setLink({href:e}).run()},className:"px-3 py-1 rounded text-sm font-medium ".concat(t.isActive("link")?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"," border"),children:"Link"}),(0,gi.jsx)("button",{onClick:()=>t.chain().focus().unsetLink().run(),disabled:!t.isActive("link"),className:"px-3 py-1 rounded text-sm font-medium bg-white text-gray-700 hover:bg-gray-100 border disabled:opacity-50",children:"Unlink"})]}):null},gE=e=>{let{content:n,onChange:r,placeholder:i="Start typing..."}=e;const o=wC({extensions:[iE,YN.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline"}}),aE,lE,fE],content:n||"",onUpdate:e=>{let{editor:t}=e;const n=t.getHTML();r(n)},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none p-4 min-h-[200px]"}}});return t.useEffect((()=>{o&&n!==o.getHTML()&&o.commands.setContent(n||"")}),[n,o]),(0,gi.jsxs)("div",{className:"border border-gray-300 rounded-lg bg-white",children:[(0,gi.jsx)(mE,{editor:o}),(0,gi.jsx)(mC,{editor:o,className:"min-h-[200px] max-h-[500px] overflow-y-auto"}),!n&&(0,gi.jsx)("div",{className:"text-gray-400 text-sm p-4 pointer-events-none",children:i})]})},vE=()=>{var e,n,r,i,o,s,a,l;const[u,d]=(0,t.useState)([]),[p,h]=(0,t.useState)("hero_section"),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)("en"),[b,w]=(0,t.useState)(!0),[k,S]=(0,t.useState)(!1),[C,j]=(0,t.useState)({title:"",content:""}),N=()=>localStorage.getItem("english_fiesta_token"),D=[{value:"hero_section",label:"Hero Section"},{value:"about_page",label:"About Page"},{value:"faq_page",label:"FAQ Page"},{value:"footer",label:"Footer"},{value:"ui_text",label:"UI Text"}],E=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"es",name:"Spanish",flag:"\ud83c\uddea\ud83c\uddf8"},{code:"pt",name:"Portuguese",flag:"\ud83c\udde7\ud83c\uddf7"}];(0,t.useEffect)((()=>{A()}),[]);const A=async()=>{try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/content"),{headers:{Authorization:"Bearer ".concat(N())}}),t=await e.json();d(t.content_items||[]),w(!1)}catch(e){console.error("Error fetching content:",e),w(!1)}},T=async()=>{const e=prompt('Enter section key (e.g., "hero_title", "footer_copyright"):');if(e)try{if(!(await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/content?content_type=").concat(p,"&section_key=").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N())},body:JSON.stringify({languages:{en:{title:"",content:""},es:{title:"",content:""},pt:{title:"",content:""}}})})).ok)throw new Error("Failed to create content item");A(),alert("Content item created successfully!")}catch(t){console.error("Error creating content:",t),alert("Error creating content item. Please try again.")}},O=u.filter((e=>e.content_type===p));return b?(0,gi.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,gi.jsx)("div",{className:"text-lg",children:"Loading content..."})}):(0,gi.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,gi.jsxs)("div",{className:"mb-8",children:[(0,gi.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Content Management"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"Manage all your site content across multiple languages with WYSIWYG editing."})]}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,gi.jsx)("div",{className:"lg:col-span-1",children:(0,gi.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Content Types"}),(0,gi.jsx)("div",{className:"space-y-2",children:D.map((e=>(0,gi.jsx)("button",{onClick:()=>h(e.value),className:"w-full text-left p-3 rounded-lg transition-colors ".concat(p===e.value?"bg-blue-100 text-blue-800 border border-blue-300":"hover:bg-gray-100"),children:e.label},e.value)))}),(0,gi.jsx)("button",{onClick:T,className:"w-full mt-4 bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors",children:"+ Add New Item"})]})}),(0,gi.jsx)("div",{className:"lg:col-span-1",children:(0,gi.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,gi.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:[null===(e=D.find((e=>e.value===p)))||void 0===e?void 0:e.label," Items (",O.length,")"]}),(0,gi.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[O.map((e=>(0,gi.jsxs)("div",{onClick:()=>(e=>{m(e),v(!1);const t=e.languages[y]||{title:"",content:""};j({title:t.title||"",content:t.content||""})})(e),className:"p-3 rounded-lg cursor-pointer transition-colors ".concat((null===f||void 0===f?void 0:f.id)===e.id?"bg-blue-100 border border-blue-300":"hover:bg-gray-100"),children:[(0,gi.jsx)("div",{className:"font-medium text-sm",children:e.section_key}),(0,gi.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Updated: ",new Date(e.updated_at).toLocaleDateString()]}),(0,gi.jsx)("div",{className:"flex gap-1 mt-2",children:E.map((t=>{var n,r;return(0,gi.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat(null!==(n=e.languages[t.code])&&void 0!==n&&n.title||null!==(r=e.languages[t.code])&&void 0!==r&&r.content?"bg-green-100 text-green-800":"bg-gray-100 text-gray-500"),children:[t.flag," ",t.code.toUpperCase()]},t.code)}))})]},e.id))),0===O.length&&(0,gi.jsxs)("div",{className:"text-gray-500 text-center py-8",children:["No content items found for this type.",(0,gi.jsx)("br",{}),(0,gi.jsx)("button",{onClick:T,className:"text-blue-600 hover:underline mt-2",children:"Create the first one"})]})]})]})}),(0,gi.jsx)("div",{className:"lg:col-span-2",children:f?(0,gi.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold",children:f.section_key}),(0,gi.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",null===(n=D.find((e=>e.value===f.content_type)))||void 0===n?void 0:n.label]})]}),g?(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsx)("button",{onClick:async()=>{if(f){S(!0);try{const e=c(c({},f.languages),{},{[y]:{title:C.title,content:C.content}});if(!(await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/content/").concat(f.content_type,"/").concat(f.section_key),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N())},body:JSON.stringify({languages:e})})).ok)throw new Error("Failed to save content");{const t=c(c({},f),{},{languages:e,updated_at:(new Date).toISOString()});m(t),d((e=>e.map((e=>e.id===f.id?t:e)))),v(!1),alert("Content saved successfully!")}}catch(e){console.error("Error saving content:",e),alert("Error saving content. Please try again.")}finally{S(!1)}}},disabled:k,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:k?"Saving...":"Save"}),(0,gi.jsx)("button",{onClick:()=>v(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]}):(0,gi.jsx)("button",{onClick:()=>{v(!0);const e=(null===f||void 0===f?void 0:f.languages[y])||{title:"",content:""};j({title:e.title||"",content:e.content||""})},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Content"})]}),(0,gi.jsxs)("div",{className:"mb-6",children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Editing Language:"}),(0,gi.jsx)("div",{className:"flex gap-2",children:E.map((e=>(0,gi.jsxs)("button",{onClick:()=>(e=>{if(x(e),f){const t=f.languages[e]||{title:"",content:""};j({title:t.title||"",content:t.content||""})}})(e.code),className:"px-4 py-2 rounded-lg transition-colors ".concat(y===e.code?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.flag," ",e.name]},e.code)))})]}),g?(0,gi.jsxs)("div",{className:"space-y-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (",null===(r=E.find((e=>e.code===y)))||void 0===r?void 0:r.name,"):"]}),(0,gi.jsx)("input",{type:"text",value:C.title,onChange:e=>j((t=>c(c({},t),{},{title:e.target.value}))),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter title..."})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content (",null===(i=E.find((e=>e.code===y)))||void 0===i?void 0:i.name,"):"]}),(0,gi.jsx)(gE,{content:C.content,onChange:e=>j((t=>c(c({},t),{},{content:e}))),placeholder:"Enter content..."})]})]}):(0,gi.jsxs)("div",{className:"space-y-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Title (",null===(o=E.find((e=>e.code===y)))||void 0===o?void 0:o.name,"):"]}),(0,gi.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(null===(s=f.languages[y])||void 0===s?void 0:s.title)||(0,gi.jsx)("span",{className:"text-gray-500 italic",children:"No title set"})})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Content (",null===(a=E.find((e=>e.code===y)))||void 0===a?void 0:a.name,"):"]}),(0,gi.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg min-h-[200px]",children:null!==(l=f.languages[y])&&void 0!==l&&l.content?(0,gi.jsx)("div",{dangerouslySetInnerHTML:{__html:f.languages[y].content}}):(0,gi.jsx)("span",{className:"text-gray-500 italic",children:"No content set"})})]})]})]}):(0,gi.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,gi.jsxs)("div",{className:"text-center py-12",children:[(0,gi.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"\ud83d\udcdd"}),(0,gi.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Content to Edit"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"Choose a content type and then select an item to start editing."})]})})})]})]})},yE=()=>{const{user:e,sessionToken:n}=yh(),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[p,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)({name:"",slug:"",visible:!0}),[g,v]=(0,t.useState)(!1),y=async()=>{try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/topics"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();i(t.topics)}else l("Failed to fetch topics")}catch(e){l("Network error loading topics")}finally{s(!1)}};(0,t.useEffect)((()=>{y()}),[]);const x=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),b=e=>{const{name:t,value:n,type:r,checked:i}=e.target,o="checkbox"===r?i:n;m((e=>c(c({},e),{},{[t]:o},"name"===t&&{slug:x(n)})))};return o?(0,gi.jsx)("div",{className:"p-6",children:(0,gi.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,gi.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),(0,gi.jsxs)("div",{className:"space-y-3",children:[(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"})]})]})}):(0,gi.jsxs)("div",{className:"p-6",children:[(0,gi.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("span",{className:"text-3xl",children:"\ud83c\udff7\ufe0f"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Manage Topics"})]}),(0,gi.jsx)(Sc.button,{onClick:()=>h(!0),className:"bg-gradient-to-r from-fiesta-green to-green-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2795 Add Topic"})]}),a&&(0,gi.jsx)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,gi.jsx)("p",{className:"text-red-600 font-poppins",children:a})}),(0,gi.jsx)(Nh,{children:p&&(0,gi.jsxs)(Sc.div,{className:"bg-white rounded-xl shadow-lg border-2 border-fiesta-yellow p-6 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,gi.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 font-baloo",children:u?"Edit Topic":"Create New Topic"}),(0,gi.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0),l("");try{const e=u?"".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/topics/").concat(u.id):"".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/topics"),t=u?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(f)});if(r.ok)await y(),m({name:"",slug:"",visible:!0}),d(null),h(!1);else{const e=await r.json();l(e.detail||"Failed to save topic")}}catch(t){l("Network error saving topic")}finally{v(!1)}},className:"space-y-4",children:[(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Topic Name *"}),(0,gi.jsx)("input",{type:"text",name:"name",value:f.name,onChange:b,placeholder:"Enter topic name",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-green focus:outline-none font-poppins"})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Slug *"}),(0,gi.jsx)("input",{type:"text",name:"slug",value:f.slug,onChange:b,placeholder:"topic-slug",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-green focus:outline-none font-poppins"})]})]}),(0,gi.jsxs)("div",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",name:"visible",id:"topicVisible",checked:f.visible,onChange:b,className:"w-4 h-4 text-fiesta-green focus:ring-fiesta-green border-gray-300 rounded"}),(0,gi.jsx)("label",{htmlFor:"topicVisible",className:"ml-2 text-sm font-medium text-gray-700 font-poppins",children:"Visible in frontend filters"})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,gi.jsx)(Sc.button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-fiesta-green to-green-500 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 font-poppins",whileHover:{scale:g?1:1.05},whileTap:{scale:g?1:.95},children:g?"Saving...":u?"Update Topic":"Create Topic"}),(0,gi.jsx)(Sc.button,{type:"button",onClick:()=>{m({name:"",slug:"",visible:!0}),d(null),h(!1),l("")},className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})]})}),(0,gi.jsx)("div",{className:"space-y-4",children:0===r.length?(0,gi.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcdd"}),(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No Topics Yet"}),(0,gi.jsx)("p",{className:"text-gray-600 font-poppins",children:"Create your first topic to get started."})]}):r.map(((e,t)=>(0,gi.jsx)(Sc.div,{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-fiesta-green hover:shadow-lg transition-shadow duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,gi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gi.jsxs)("div",{className:"flex-1",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 font-poppins",children:e.name}),(0,gi.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.visible?"\ud83d\udc41\ufe0f Visible":"\ud83d\udeab Hidden"})]}),(0,gi.jsxs)("p",{className:"text-sm text-gray-600 font-poppins",children:["Slug: ",e.slug]}),(0,gi.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gi.jsx)(Sc.button,{onClick:()=>(e=>{d(e),m({name:e.name,slug:e.slug,visible:e.visible}),h(!0)})(e),className:"text-fiesta-blue hover:text-blue-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit topic",children:"\u270f\ufe0f"}),(0,gi.jsx)(Sc.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this topic?")){v(!0);try{(await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/topics/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok?await y():l("Failed to delete topic")}catch(t){l("Network error deleting topic")}finally{v(!1)}}})(e.id),disabled:g,className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors disabled:opacity-50",whileHover:{scale:g?1:1.1},whileTap:{scale:g?1:.9},title:"Delete topic",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)))})]})},xE=()=>{const{user:e,sessionToken:n}=yh(),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[p,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)({name:"",slug:"",visible:!0}),[g,v]=(0,t.useState)(!1),y=async()=>{try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/countries"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();i(t.countries)}else l("Failed to fetch countries")}catch(e){l("Network error loading countries")}finally{s(!1)}};(0,t.useEffect)((()=>{y()}),[]);const x=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),b=e=>{const{name:t,value:n,type:r,checked:i}=e.target,o="checkbox"===r?i:n;m((e=>c(c({},e),{},{[t]:o},"name"===t&&{slug:x(n)})))};return o?(0,gi.jsx)("div",{className:"p-6",children:(0,gi.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,gi.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),(0,gi.jsxs)("div",{className:"space-y-3",children:[(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"})]})]})}):(0,gi.jsxs)("div",{className:"p-6",children:[(0,gi.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("span",{className:"text-3xl",children:"\ud83c\udf0d"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Manage Countries"})]}),(0,gi.jsx)(Sc.button,{onClick:()=>h(!0),className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2795 Add Country"})]}),a&&(0,gi.jsx)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,gi.jsx)("p",{className:"text-red-600 font-poppins",children:a})}),(0,gi.jsx)(Nh,{children:p&&(0,gi.jsxs)(Sc.div,{className:"bg-white rounded-xl shadow-lg border-2 border-fiesta-blue p-6 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,gi.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 font-baloo",children:u?"Edit Country":"Create New Country"}),(0,gi.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0),l("");try{const e=u?"".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/countries/").concat(u.id):"".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/countries"),t=u?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(f)});if(r.ok)await y(),m({name:"",slug:"",visible:!0}),d(null),h(!1);else{const e=await r.json();l(e.detail||"Failed to save country")}}catch(t){l("Network error saving country")}finally{v(!1)}},className:"space-y-4",children:[(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Country Name *"}),(0,gi.jsx)("input",{type:"text",name:"name",value:f.name,onChange:b,placeholder:"Enter country name",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none font-poppins"})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Slug *"}),(0,gi.jsx)("input",{type:"text",name:"slug",value:f.slug,onChange:b,placeholder:"country-slug",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-blue focus:outline-none font-poppins"})]})]}),(0,gi.jsxs)("div",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",name:"visible",id:"countryVisible",checked:f.visible,onChange:b,className:"w-4 h-4 text-fiesta-blue focus:ring-fiesta-blue border-gray-300 rounded"}),(0,gi.jsx)("label",{htmlFor:"countryVisible",className:"ml-2 text-sm font-medium text-gray-700 font-poppins",children:"Visible in frontend filters"})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,gi.jsx)(Sc.button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 font-poppins",whileHover:{scale:g?1:1.05},whileTap:{scale:g?1:.95},children:g?"Saving...":u?"Update Country":"Create Country"}),(0,gi.jsx)(Sc.button,{type:"button",onClick:()=>{m({name:"",slug:"",visible:!0}),d(null),h(!1),l("")},className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})]})}),(0,gi.jsx)("div",{className:"space-y-4",children:0===r.length?(0,gi.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\uddfa\ufe0f"}),(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No Countries Yet"}),(0,gi.jsx)("p",{className:"text-gray-600 font-poppins",children:"Create your first country to get started."})]}):r.map(((e,t)=>(0,gi.jsx)(Sc.div,{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-fiesta-blue hover:shadow-lg transition-shadow duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,gi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gi.jsxs)("div",{className:"flex-1",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 font-poppins",children:e.name}),(0,gi.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.visible?"\ud83d\udc41\ufe0f Visible":"\ud83d\udeab Hidden"})]}),(0,gi.jsxs)("p",{className:"text-sm text-gray-600 font-poppins",children:["Slug: ",e.slug]}),(0,gi.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gi.jsx)(Sc.button,{onClick:()=>(e=>{d(e),m({name:e.name,slug:e.slug,visible:e.visible}),h(!0)})(e),className:"text-fiesta-blue hover:text-blue-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit country",children:"\u270f\ufe0f"}),(0,gi.jsx)(Sc.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this country?")){v(!0);try{(await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/countries/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok?await y():l("Failed to delete country")}catch(t){l("Network error deleting country")}finally{v(!1)}}})(e.id),disabled:g,className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors disabled:opacity-50",whileHover:{scale:g?1:1.1},whileTap:{scale:g?1:.9},title:"Delete country",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)))})]})},bE=()=>{const{user:e,sessionToken:n}=yh(),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),[p,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)({name:"",visible:!0}),[g,v]=(0,t.useState)(!1),y=async()=>{try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/guides"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json();i(t.guides)}else l("Failed to fetch guides")}catch(e){l("Network error loading guides")}finally{s(!1)}};(0,t.useEffect)((()=>{y()}),[]);const x=e=>{const{name:t,value:n,type:r,checked:i}=e.target,o="checkbox"===r?i:n;m((e=>c(c({},e),{},{[t]:o})))};return o?(0,gi.jsx)("div",{className:"p-6",children:(0,gi.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,gi.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),(0,gi.jsxs)("div",{className:"space-y-3",children:[(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"})]})]})}):(0,gi.jsxs)("div",{className:"p-6",children:[(0,gi.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("span",{className:"text-3xl",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Manage Guides"})]}),(0,gi.jsx)(Sc.button,{onClick:()=>h(!0),className:"bg-gradient-to-r from-fiesta-purple to-purple-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2795 Add Guide"})]}),a&&(0,gi.jsx)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,gi.jsx)("p",{className:"text-red-600 font-poppins",children:a})}),(0,gi.jsx)(Nh,{children:p&&(0,gi.jsxs)(Sc.div,{className:"bg-white rounded-xl shadow-lg border-2 border-fiesta-purple p-6 mb-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,gi.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4 font-baloo",children:u?"Edit Guide":"Create New Guide"}),(0,gi.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0),l("");try{const e=u?"".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/guides/").concat(u.id):"".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/guides"),t=u?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(f)});if(r.ok)await y(),m({name:"",visible:!0}),d(null),h(!1);else{const e=await r.json();l(e.detail||"Failed to save guide")}}catch(t){l("Network error saving guide")}finally{v(!1)}},className:"space-y-4",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Guide Name *"}),(0,gi.jsx)("input",{type:"text",name:"name",value:f.name,onChange:x,placeholder:"Enter guide/instructor name",required:!0,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-fiesta-purple focus:outline-none font-poppins"})]}),(0,gi.jsxs)("div",{className:"flex items-center",children:[(0,gi.jsx)("input",{type:"checkbox",name:"visible",id:"guideVisible",checked:f.visible,onChange:x,className:"w-4 h-4 text-fiesta-purple focus:ring-fiesta-purple border-gray-300 rounded"}),(0,gi.jsx)("label",{htmlFor:"guideVisible",className:"ml-2 text-sm font-medium text-gray-700 font-poppins",children:"Visible in frontend filters"})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,gi.jsx)(Sc.button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-fiesta-purple to-purple-500 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 font-poppins",whileHover:{scale:g?1:1.05},whileTap:{scale:g?1:.95},children:g?"Saving...":u?"Update Guide":"Create Guide"}),(0,gi.jsx)(Sc.button,{type:"button",onClick:()=>{m({name:"",visible:!0}),d(null),h(!1),l("")},className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})]})}),(0,gi.jsx)("div",{className:"space-y-4",children:0===r.length?(0,gi.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0},animate:{opacity:1},children:[(0,gi.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf93"}),(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No Guides Yet"}),(0,gi.jsx)("p",{className:"text-gray-600 font-poppins",children:"Create your first guide to get started."})]}):r.map(((e,t)=>(0,gi.jsx)(Sc.div,{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-fiesta-purple hover:shadow-lg transition-shadow duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,gi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gi.jsxs)("div",{className:"flex-1",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 font-poppins",children:e.name}),(0,gi.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.visible?"\ud83d\udc41\ufe0f Visible":"\ud83d\udeab Hidden"})]}),(0,gi.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gi.jsx)(Sc.button,{onClick:()=>(e=>{d(e),m({name:e.name,visible:e.visible}),h(!0)})(e),className:"text-fiesta-purple hover:text-purple-700 p-2 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit guide",children:"\u270f\ufe0f"}),(0,gi.jsx)(Sc.button,{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this guide?")){v(!0);try{(await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/guides/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}})).ok?await y():l("Failed to delete guide")}catch(t){l("Network error deleting guide")}finally{v(!1)}}})(e.id),disabled:g,className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors disabled:opacity-50",whileHover:{scale:g?1:1.1},whileTap:{scale:g?1:.9},title:"Delete guide",children:"\ud83d\uddd1\ufe0f"})]})]})},e.id)))})]})},wE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),kE=()=>{const{user:e,sessionToken:n}=yh(),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)("content"),[c,u]=(0,t.useState)(0);(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=await mh.get("".concat(wE,"/admin/users"),{headers:{Authorization:"Bearer ".concat(n)}});i(e.data.users)}catch(e){console.error("Failed to fetch users:",e)}finally{s(!1)}};return o?(0,gi.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:(0,gi.jsx)("div",{className:"text-center py-8",children:"Loading admin dashboard..."})}):(0,gi.jsxs)("div",{className:"space-y-8",children:[(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,gi.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,gi.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udc51"}),"Admin Dashboard"]}),(0,gi.jsx)("div",{className:"border-b mb-6",children:(0,gi.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,gi.jsx)("button",{onClick:()=>l("content"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("content"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcdd Content Management"}),(0,gi.jsx)("button",{onClick:()=>l("management"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("management"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83c\udfac Video Management"}),(0,gi.jsx)("button",{onClick:()=>l("upload"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("upload"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udce4 Upload Videos"}),(0,gi.jsx)("button",{onClick:()=>l("youtube"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("youtube"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcfa Add YouTube"}),(0,gi.jsx)("button",{onClick:()=>l("users"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("users"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udc65 User Management"}),(0,gi.jsx)("button",{onClick:()=>l("topics"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("topics"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83c\udff7\ufe0f Manage Topics"}),(0,gi.jsx)("button",{onClick:()=>l("countries"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("countries"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83c\udf0d Manage Countries"}),(0,gi.jsx)("button",{onClick:()=>l("guides"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("guides"===a?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udc68\u200d\ud83c\udfeb Manage Guides"})]})}),"users"===a&&(0,gi.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,gi.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,gi.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),(0,gi.jsx)("div",{className:"text-sm text-blue-800",children:"Total Users"})]}),(0,gi.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,gi.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.filter((e=>"student"===e.role)).length}),(0,gi.jsx)("div",{className:"text-sm text-green-800",children:"Students"})]}),(0,gi.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,gi.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:r.filter((e=>"instructor"===e.role)).length}),(0,gi.jsx)("div",{className:"text-sm text-purple-800",children:"Instructors"})]}),(0,gi.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[(0,gi.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:r.filter((e=>"admin"===e.role)).length}),(0,gi.jsx)("div",{className:"text-sm text-yellow-800",children:"Admins"})]})]})]}),"content"===a&&(0,gi.jsx)(vE,{}),"management"===a&&(0,gi.jsx)(Wf,{refreshTrigger:c}),"upload"===a&&(0,gi.jsx)(Vf,{onUploadSuccess:()=>{u((e=>e+1)),l("management")}}),"youtube"===a&&(0,gi.jsx)(Uf,{onAddSuccess:()=>{u((e=>e+1)),l("management")}}),"users"===a&&(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"User Management"}),(0,gi.jsx)("div",{className:"overflow-x-auto",children:(0,gi.jsxs)("table",{className:"w-full text-sm",children:[(0,gi.jsx)("thead",{children:(0,gi.jsxs)("tr",{className:"border-b",children:[(0,gi.jsx)("th",{className:"text-left py-3 px-2",children:"Name"}),(0,gi.jsx)("th",{className:"text-left py-3 px-2",children:"Email"}),(0,gi.jsx)("th",{className:"text-left py-3 px-2",children:"Current Role"}),(0,gi.jsx)("th",{className:"text-left py-3 px-2",children:"Actions"})]})}),(0,gi.jsx)("tbody",{children:r.map((t=>(0,gi.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,gi.jsx)("td",{className:"py-3 px-2",children:t.name}),(0,gi.jsx)("td",{className:"py-3 px-2",children:t.email}),(0,gi.jsx)("td",{className:"py-3 px-2",children:(0,gi.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("admin"===t.role?"bg-yellow-100 text-yellow-800":"instructor"===t.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:["admin"===t.role&&"\ud83d\udc51 ","instructor"===t.role&&"\ud83c\udf93 ","student"===t.role&&"\ud83d\udcda ",t.role]})}),(0,gi.jsx)("td",{className:"py-3 px-2",children:(0,gi.jsxs)("select",{value:t.role,onChange:e=>(async(e,t)=>{try{await mh.post("".concat(wE,"/admin/users/role"),{user_id:e,new_role:t},{headers:{Authorization:"Bearer ".concat(n)}}),d(),alert("User role updated successfully!")}catch(r){console.error("Failed to update user role:",r),alert("Failed to update user role. Please try again.")}})(t.id,e.target.value),className:"text-xs border rounded px-2 py-1 bg-white",disabled:t.id===e.id,children:[(0,gi.jsx)("option",{value:"student",children:"Student"}),(0,gi.jsx)("option",{value:"instructor",children:"Instructor"}),(0,gi.jsx)("option",{value:"admin",children:"Admin"})]})})]},t.id)))})]})})]}),"topics"===a&&(0,gi.jsx)(yE,{}),"countries"===a&&(0,gi.jsx)(xE,{}),"guides"===a&&(0,gi.jsx)(bE,{})]})},SE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),CE=e=>{let{isOpen:n,onClose:r,onSuccess:i}=e;const[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)("");return n?(0,gi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,gi.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[(0,gi.jsxs)("div",{className:"text-center mb-6",children:[(0,gi.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udce7"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Stay Motivated!"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"Get learning tips, progress updates, and new video notifications!"})]}),(0,gi.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),p("");try{const e=await mh.post("".concat(SE,"/email/subscribe"),{email:o,name:a||null,source:"onboarding"});p(e.data.message),"success"!==e.data.status&&"partial_success"!==e.data.status||(i&&i(),setTimeout((()=>{r(),s(""),l(""),p("")}),2e3))}catch(c){var t,n;p((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to subscribe. Please try again.")}finally{u(!1)}},className:"space-y-4",children:[(0,gi.jsx)("div",{children:(0,gi.jsx)("input",{type:"text",placeholder:"Your Name (Optional)",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,gi.jsx)("div",{children:(0,gi.jsx)("input",{type:"email",placeholder:"Your Email Address",value:o,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,gi.jsxs)("div",{className:"flex gap-3",children:[(0,gi.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Maybe Later"}),(0,gi.jsx)("button",{type:"submit",disabled:c||!o,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Subscribing...":"Subscribe"})]})]}),d&&(0,gi.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm ".concat(d.includes("success")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:d}),(0,gi.jsx)("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"We'll never spam you. Unsubscribe anytime with one click."})]})}):null},jE=e=>{let{onSubscribe:n}=e;const{t:r}=Du(),[i,o]=(0,t.useState)((()=>"true"===localStorage.getItem("email_banner_dismissed")));return i?null:(0,gi.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 mb-8 rounded-xl shadow-lg",children:(0,gi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("span",{className:"text-2xl",children:"\ud83d\udcec"}),(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("h3",{className:"font-bold text-lg",children:["\ud83d\udcec ",r("stay_on_track")]}),(0,gi.jsx)("p",{className:"text-sm opacity-90",children:r("join_community")})]})]}),(0,gi.jsxs)("div",{className:"flex gap-2",children:[(0,gi.jsx)("button",{onClick:n,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:r("subscribe")}),(0,gi.jsx)("button",{onClick:()=>{o(!0),localStorage.setItem("email_banner_dismissed","true")},className:"text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-lg transition-colors",children:"\u2715"})]})]})})},NE=()=>{const[e,n]=(0,t.useState)(!1),{isAuthenticated:r,user:i}=yh();return(0,gi.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,gi.jsx)(Fh,{}),!r&&(0,gi.jsx)(Ph,{}),(0,gi.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r&&"admin"===i.role&&(0,gi.jsx)(kE,{}),!r&&(0,gi.jsx)(jE,{onSubscribe:()=>n(!0)}),(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 text-center",children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfa5"}),(0,gi.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Ready to Start Learning?"}),(0,gi.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Access our complete video library with hundreds of English learning videos organized by level, topic, and series. Perfect for learners at every stage of their journey."}),(0,gi.jsxs)("div",{className:"space-y-4",children:[(0,gi.jsx)("a",{href:"/watch",className:"inline-block bg-blue-600 text-white text-xl font-semibold px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"\ud83d\ude80 Browse Videos"}),(0,gi.jsx)("div",{className:"text-sm text-gray-500",children:"Over 100+ videos \u2022 All levels \u2022 Free and Premium content"})]})]}),r&&(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,gi.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Track Progress"}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm",children:"Monitor your learning hours and build daily streaks"})]}),(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,gi.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcbe"}),(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Save Videos"}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm",children:"Create your personal watchlist and access watch history"})]}),(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,gi.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcda"}),(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Organized Learning"}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm",children:"Explore video series and structured learning paths"})]})]})]}),!r&&(0,gi.jsx)(CE,{isOpen:e,onClose:()=>n(!1),onSuccess:()=>{localStorage.setItem("email_subscribed","true"),n(!1)}})]})},DE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),EE=e=>{let{video:n,isOpen:r,onClose:i,onSuccess:o}=e;const{sessionToken:s}=yh(),[a,l]=(0,t.useState)((()=>(new Date).toISOString().split("T")[0])),[c,u]=(0,t.useState)((null===n||void 0===n?void 0:n.duration_minutes)||0),[d,p]=(0,t.useState)(!1),[h]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());return r&&n?(0,gi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[(0,gi.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,gi.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Mark as Watched"}),(0,gi.jsxs)("p",{className:"text-gray-600 text-sm",children:['"',n.title,'"']})]}),(0,gi.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,gi.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n&&!d){p(!0);try{const e=s?{Authorization:"Bearer ".concat(s)}:{},t=await mh.post("".concat(DE,"/progress/manual"),{videoId:n.id,watchedAt:a,minutesWatched:parseInt(c)},{params:{session_id:h},headers:e});o&&o(t.data),i()}catch(l){var t,r;console.error("Error marking video as watched:",l),alert((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark video as watched. Please try again.")}finally{p(!1)}}},className:"p-6 space-y-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{htmlFor:"watchedAt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Watched"}),(0,gi.jsx)("input",{type:"date",id:"watchedAt",value:a,onChange:e=>l(e.target.value),max:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{htmlFor:"minutesWatched",className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration Watched (minutes)"}),(0,gi.jsx)("input",{type:"number",id:"minutesWatched",value:c,onChange:e=>u(e.target.value),min:"1",max:n.duration_minutes,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0}),(0,gi.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Video duration: ",n.duration_minutes," minutes"]})]}),(0,gi.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,gi.jsx)("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:d,children:"Cancel"}),(0,gi.jsx)("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":"Mark as Watched"})]})]})]})}):null},AE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),TE=e=>{let{video:n,onVideoSelect:r}=e;const{isAuthenticated:i,isStudent:o,sessionToken:s}=yh(),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());(0,t.useEffect)((()=>{i&&o&&x(),y()}),[i,o,n.id]);const y=async()=>{try{var e;const t=s?{Authorization:"Bearer ".concat(s)}:{},r=await mh.get("".concat(AE,"/progress/").concat(v),{headers:t}),i=null===(e=r.data.recent_activity)||void 0===e?void 0:e.find((e=>e.video_id===n.id&&e.completed));f(!!i)}catch(t){console.error("Error checking video watched status:",t)}},x=async()=>{try{const e=s?{Authorization:"Bearer ".concat(s)}:{},t=await mh.get("".concat(AE,"/user/list/status/").concat(n.id),{headers:e});u(t.data.in_list)}catch(e){console.error("Error checking video list status:",e)}},b=async()=>{if(!m){g(!0);try{const e=s?{Authorization:"Bearer ".concat(s)}:{};await mh.post("".concat(AE,"/user/unmark-watched"),{video_id:n.id},{params:{session_id:v},headers:e}),f(!1)}catch(r){var e,t;console.error("Error unmarking video as watched:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to unmark video. Please try again.")}finally{g(!1)}}};return(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer group",children:[(0,gi.jsxs)("div",{className:"relative",onClick:()=>{!n.is_premium||o?r(n):alert("Please create an account to access premium content!")},children:[(0,gi.jsx)("img",{src:n.thumbnail_url,alt:n.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="180" viewBox="0 0 320 180"><rect width="320" height="180" fill="%23f3f4f6"/><text x="160" y="90" text-anchor="middle" fill="%236b7280" font-family="Arial" font-size="16">Video</text></svg>'}}),(0,gi.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:(0,gi.jsx)("div",{className:"w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,gi.jsx)("svg",{className:"w-6 h-6 text-blue-600 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M8 5v14l11-7z"})})})}),(0,gi.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs font-medium",children:[n.duration_minutes,"min"]}),n.is_premium&&(0,gi.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udc8e"}),"youtube"===n.video_type&&(0,gi.jsx)("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udcfa"})]}),(0,gi.jsxs)("div",{className:"p-4",children:[(0,gi.jsx)("h3",{className:"font-semibold text-gray-800 line-clamp-2 mb-2 group-hover:text-blue-600 transition-colors",children:n.title}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:n.description}),(0,gi.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,gi.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({"New Beginner":"bg-green-100 text-green-800",Beginner:"bg-blue-100 text-blue-800",Intermediate:"bg-yellow-100 text-yellow-800",Advanced:"bg-red-100 text-red-800"}[n.level]),children:n.level}),(0,gi.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs",children:n.category})]}),(0,gi.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,gi.jsxs)("span",{children:["\ud83d\udc68\u200d\ud83c\udfeb ",n.instructor_name]}),(0,gi.jsxs)("span",{children:["\ud83c\udf0d ",n.country]})]}),n.accents&&n.accents.length>0&&(0,gi.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["\ud83d\udde3\ufe0f ",n.accents.join(", ")," Accent",n.accents.length>1?"s":""]}),n.is_premium&&!i&&(0,gi.jsx)("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,gi.jsx)("div",{className:"text-xs text-yellow-800 text-center",children:"\ud83d\udc8e Premium content - Sign up to access"})}),(0,gi.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,gi.jsx)("button",{onClick:()=>{h?b():l(!0)},disabled:m,className:"flex-1 px-3 py-2 text-xs rounded-lg transition-colors disabled:opacity-50 ".concat(h?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-200 text-gray-700 hover:bg-gray-300"),title:h?"Mark as unwatched":"Mark as watched",children:m?"...":h?"\u2713 Watched":"+ Watched"}),i&&o&&(0,gi.jsx)("button",{onClick:async()=>{if(i&&o&&!d){p(!0);try{const e={Authorization:"Bearer ".concat(s)};c?(await mh.delete("".concat(AE,"/user/list/").concat(n.id),{headers:e}),u(!1)):(await mh.post("".concat(AE,"/user/list"),{video_id:n.id},{headers:e}),u(!0))}catch(r){var e,t;console.error("Error managing video list:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to update your list. Please try again.")}finally{p(!1)}}},disabled:d,className:"flex-1 px-3 py-2 text-xs rounded-lg transition-colors disabled:opacity-50 ".concat(c?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"),title:c?"Remove from My List":"Add to My List",children:d?"...":c?"\u2715 Remove":"+ My List"})]})]}),(0,gi.jsx)(EE,{video:n,isOpen:a,onClose:()=>l(!1),onSuccess:()=>{f(!0)}})]})},OE=e=>{let{videoId:n,onCommentSubmitted:r}=e;const[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),{user:u,isAuthenticated:d}=yh();return d&&"guest"!==u.role?(0,gi.jsx)(Sc.form,{onSubmit:async e=>{if(e.preventDefault(),i.trim()){a(!0),c("");try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/comments/").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.sessionToken)},body:JSON.stringify({text:i.trim()})});if(e.ok){const t=await e.json();o(""),r(t.comment)}else 401===e.status?c("You need to be logged in to post comments"):403===e.status?c("You need to be a student or higher to post comments"):c("Failed to post comment. Please try again.")}catch(t){c("Network error. Please try again.")}finally{a(!1)}}},className:"bg-white rounded-xl shadow-lg p-6 border-2 border-fiesta-yellow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,gi.jsxs)("div",{className:"flex items-start gap-4",children:[(0,gi.jsx)(Sc.div,{className:"flex-shrink-0",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:u.picture?(0,gi.jsx)("img",{src:u.picture,alt:u.name,className:"w-10 h-10 rounded-full border-2 border-fiesta-pink"}):(0,gi.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-fiesta-purple to-fiesta-pink flex items-center justify-center text-white font-bold font-poppins",children:u.name.charAt(0).toUpperCase()})}),(0,gi.jsxs)("div",{className:"flex-1",children:[(0,gi.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"Share your thoughts about this video... \ud83d\udcad",className:"w-full p-4 border-2 border-gray-200 rounded-lg resize-none focus:border-fiesta-blue focus:outline-none font-poppins",rows:3,maxLength:500,disabled:s}),(0,gi.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,gi.jsxs)("span",{className:"text-xs text-gray-500 font-poppins",children:[i.length,"/500 characters"]}),l&&(0,gi.jsx)("span",{className:"text-red-500 text-sm font-poppins",children:l})]}),(0,gi.jsx)(Sc.button,{type:"submit",disabled:!i.trim()||s,className:"mt-3 px-6 py-2 rounded-full font-bold font-poppins transition-all duration-200 ".concat(!i.trim()||s?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-fiesta-pink to-fiesta-purple text-white hover:shadow-lg"),whileHover:!i.trim()||s?{}:{scale:1.05},whileTap:!i.trim()||s?{}:{scale:.95},children:s?"\ud83d\udce4 Posting...":"\ud83d\udcac Post Comment"})]})]})}):(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-r from-fiesta-blue to-fiesta-purple rounded-xl p-6 text-center text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,gi.jsx)("p",{className:"font-poppins text-lg mb-2",children:"\ud83d\udcac Join the conversation!"}),(0,gi.jsx)("p",{className:"font-poppins text-sm opacity-90 mb-4",children:"Sign up as a student to share your thoughts and connect with other learners."}),(0,gi.jsx)(Sc.button,{onClick:()=>window.location.href="/",className:"bg-fiesta-yellow text-gray-800 px-6 py-2 rounded-full font-bold font-poppins hover:bg-yellow-300 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Sign Up to Comment"})]})},ME=e=>{let{comment:n,onCommentDeleted:r,onCommentPinToggled:i}=e;const[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),{user:c,isAuthenticated:u}=yh(),d=u&&"admin"===c.role;return(0,gi.jsxs)(Sc.div,{className:"rounded-xl shadow-md p-4 border-l-4 hover:shadow-lg transition-shadow duration-200 ".concat(n.pinned?"bg-gradient-to-r from-fiesta-yellow from-5% to-white border-fiesta-yellow shadow-lg":"bg-white border-fiesta-blue"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.01},children:[n.pinned&&(0,gi.jsxs)(Sc.div,{className:"flex items-center gap-1 mb-3 text-fiesta-orange font-semibold text-sm",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:[(0,gi.jsx)("span",{className:"text-lg",children:"\ud83d\udccc"}),(0,gi.jsx)("span",{className:"font-poppins",children:"Pinned"})]}),(0,gi.jsxs)("div",{className:"flex items-start gap-3",children:[(0,gi.jsx)(Sc.div,{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-fiesta-green to-fiesta-blue flex items-center justify-center text-white font-bold text-sm font-poppins",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:n.user_name.charAt(0).toUpperCase()}),(0,gi.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,gi.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gi.jsx)("span",{className:"font-semibold text-gray-800 font-poppins",children:n.user_name}),(0,gi.jsx)("span",{className:"text-xs text-gray-500 font-poppins",children:(e=>{const t=new Date(e),n=new Date,r=n-t,i=Math.floor(r/6e4),o=Math.floor(i/60),s=Math.floor(o/24);return i<1?"Just now":i<60?"".concat(i," minute").concat(1===i?"":"s"," ago"):o<24?"".concat(o," hour").concat(1===o?"":"s"," ago"):s<7?"".concat(s," day").concat(1===s?"":"s"," ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==n.getFullYear()?"numeric":void 0})})(n.created_at)})]}),d&&(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gi.jsx)(Sc.button,{onClick:async()=>{l(!0);try{const e=n.pinned?"unpin":"pin",t=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/comments/").concat(n.id,"/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(c.sessionToken)}});if(t.ok){const e=await t.json();i(e.comment)}else console.error("Failed to toggle pin status")}catch(e){console.error("Error toggling pin status:",e)}finally{l(!1)}},disabled:a,className:"text-sm p-2 rounded transition-colors font-poppins ".concat(n.pinned?"text-fiesta-orange hover:text-orange-700 bg-fiesta-yellow bg-opacity-20":"text-gray-500 hover:text-fiesta-orange"),whileHover:{scale:1.1},whileTap:{scale:.9},title:n.pinned?"Unpin comment":"Pin comment",children:a?"\u23f3":n.pinned?"\ud83d\udccc":"\ud83d\udccd"}),(0,gi.jsx)(Sc.button,{onClick:async()=>{if(confirm("Are you sure you want to delete this comment?")){s(!0);try{(await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/admin/comments/").concat(n.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(c.sessionToken)}})).ok?r(n.id):console.error("Failed to delete comment")}catch(e){console.error("Error deleting comment:",e)}finally{s(!1)}}},disabled:o,className:"text-red-500 hover:text-red-700 text-sm p-2 rounded transition-colors font-poppins",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Delete comment (Admin only)",children:o?"\u23f3":"\ud83d\uddd1\ufe0f"})]})]}),(0,gi.jsx)(Sc.p,{className:"text-gray-700 leading-relaxed font-poppins",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},children:n.text}),(0,gi.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,gi.jsxs)(Sc.button,{className:"flex items-center gap-1 text-gray-500 hover:text-fiesta-pink text-sm font-poppins transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,gi.jsx)("span",{children:"\ud83d\udc4d"}),(0,gi.jsx)("span",{children:"Like"})]}),(0,gi.jsxs)(Sc.button,{className:"flex items-center gap-1 text-gray-500 hover:text-fiesta-blue text-sm font-poppins transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,gi.jsx)("span",{children:"\ud83d\udcac"}),(0,gi.jsx)("span",{children:"Reply"})]})]})]})]})]})},FE=e=>{let{videoId:n}=e;const[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(""),c=async()=>{try{const e=await fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/comments/").concat(n));if(e.ok){const t=await e.json();i(t.comments)}else l("Failed to load comments")}catch(e){l("Network error loading comments")}finally{s(!1)}};(0,t.useEffect)((()=>{c()}),[n]);const u=e=>{i((t=>t.filter((t=>t.id!==e))))},d=e=>{i((t=>t.map((t=>t.id===e.id?e:t)).sort(((e,t)=>e.pinned!==t.pinned?t.pinned-e.pinned:new Date(t.created_at)-new Date(e.created_at)))))},p={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return o?(0,gi.jsx)("div",{className:"bg-gray-50 rounded-xl p-6",children:(0,gi.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,gi.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,gi.jsxs)("div",{className:"space-y-3",children:[(0,gi.jsx)("div",{className:"h-20 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-16 bg-gray-300 rounded"}),(0,gi.jsx)("div",{className:"h-18 bg-gray-300 rounded"})]})]})}):a?(0,gi.jsxs)(Sc.div,{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[(0,gi.jsxs)("p",{className:"text-red-600 font-poppins",children:["\u274c ",a]}),(0,gi.jsx)(Sc.button,{onClick:c,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg font-poppins hover:bg-red-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Try Again"})]}):(0,gi.jsxs)("div",{className:"space-y-6",children:[(0,gi.jsxs)(Sc.div,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gi.jsx)("span",{className:"text-3xl",children:"\ud83d\udcac"}),(0,gi.jsx)("h3",{className:"text-2xl font-bold text-gray-800 font-baloo",children:"Comments"})]}),(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-r from-fiesta-yellow to-fiesta-orange text-gray-800 px-3 py-1 rounded-full text-sm font-bold font-poppins",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},children:[r.length," comment",1!==r.length?"s":""]})]}),(0,gi.jsx)(OE,{videoId:n,onCommentSubmitted:e=>{i((t=>[e,...t]))}}),(0,gi.jsx)(Nh,{children:r.length>0?(0,gi.jsx)(Sc.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-4",children:r.map(((e,t)=>(0,gi.jsx)(Sc.div,{variants:p,layout:!0,exit:{opacity:0,x:-100,transition:{duration:.3}},children:(0,gi.jsx)(ME,{comment:e,onCommentDeleted:u,onCommentPinToggled:d})},e.id)))}):(0,gi.jsxs)(Sc.div,{className:"bg-gray-50 rounded-xl p-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfac"}),(0,gi.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-2 font-baloo",children:"No comments yet!"}),(0,gi.jsx)("p",{className:"text-gray-600 font-poppins",children:"Be the first to share your thoughts about this video."})]})}),(0,gi.jsx)(Sc.div,{className:"flex justify-center space-x-4 opacity-60",initial:{opacity:0},animate:{opacity:.6},transition:{duration:1,delay:1},children:["\ud83d\udcad","\ud83d\udde8\ufe0f","\ud83d\udcac","\ud83c\udf89","\u2728"].map(((e,t)=>(0,gi.jsx)(Sc.span,{className:"text-2xl",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:2+.3*t,repeat:1/0,ease:"easeInOut",delay:.2*t},children:e},t)))})]})},PE="https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com",LE="".concat(PE,"/api"),RE=e=>{let{video:n,onClose:r,onVideoEnd:i}=e;const{isAuthenticated:o,sessionToken:s,isStudent:a}=yh(),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(0),[p,h]=(0,t.useState)(0),[f,m]=(0,t.useState)(0),[g,v]=(0,t.useState)(!1),[y]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})()),[x,b]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[D,E]=(0,t.useState)(!1),[A,T]=(0,t.useState)(!0),O=(0,t.useRef)(null),M=(0,t.useRef)(null),F=(0,t.useRef)(null),P=(0,t.useRef)(0);(0,t.useEffect)((()=>{o&&a&&R(),L()}),[o,a,n.id]);const L=async()=>{try{var e;const t=s?{Authorization:"Bearer ".concat(s)}:{},r=await mh.get("".concat(LE,"/progress/").concat(y),{headers:t}),i=null===(e=r.data.recent_activity)||void 0===e?void 0:e.find((e=>e.video_id===n.id&&e.completed));N(!!i)}catch(t){console.error("Error checking video watched status:",t)}},R=async()=>{try{const e=s?{Authorization:"Bearer ".concat(s)}:{},t=await mh.get("".concat(LE,"/user/list/status/").concat(n.id),{headers:e});k(t.data.in_list)}catch(e){console.error("Error checking video list status:",e)}};(0,t.useEffect)((()=>(l&&o?F.current=setInterval((()=>{_()}),5e3):F.current&&clearInterval(F.current),()=>{F.current&&clearInterval(F.current)})),[l,o]);const _=async()=>{if(!O.current||!o)return;const e=Math.floor(O.current.currentTime/60);if(e>P.current){P.current=e;try{const t=s?{Authorization:"Bearer ".concat(s)}:{};await mh.post("".concat(LE,"/videos/").concat(n.id,"/watch"),{watched_minutes:e+1},{params:{session_id:y},headers:t}),m(e+1)}catch(t){console.error("Error tracking watch time:",t)}}},B=e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))},I=async()=>{if(!D){E(!0);try{const e=s?{Authorization:"Bearer ".concat(s)}:{};await mh.post("".concat(LE,"/user/unmark-watched"),{video_id:n.id},{params:{session_id:y},headers:e}),N(!1)}catch(r){var e,t;console.error("Error unmarking video as watched:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to unmark video. Please try again.")}finally{E(!1)}}},z=p>0?u/p*100:0;return(0,gi.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-start justify-center overflow-y-auto",children:[(0,gi.jsxs)("div",{className:"w-full max-w-6xl bg-white min-h-full",children:[(0,gi.jsx)("button",{onClick:r,className:"absolute top-4 right-4 z-60 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-colors",children:(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),(0,gi.jsxs)("div",{className:"relative bg-black",ref:M,children:["youtube"===n.video_type&&n.youtube_video_id&&(0,gi.jsx)("div",{className:"aspect-video",children:(0,gi.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(n.youtube_video_id,"?autoplay=1&rel=0"),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:n.title})}),"youtube"!==n.video_type&&(0,gi.jsxs)("video",{ref:O,className:"w-full aspect-video bg-black",onTimeUpdate:()=>{O.current&&d(O.current.currentTime)},onLoadedMetadata:()=>{O.current&&h(O.current.duration)},onEnded:()=>{c(!1),i&&i()},preload:"metadata",controls:!0,playsInline:!0,onPlay:()=>{c(!0),T(!1)},onPause:()=>c(!1),children:[(0,gi.jsx)("source",{src:"".concat(PE).concat(n.video_url||"/api/files/videos/".concat(n.id,".mp4")),type:"video/mp4"}),"Your browser does not support the video tag."]}),"youtube"!==n.video_type&&(0,gi.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:[(0,gi.jsx)("div",{className:"w-full h-2 bg-gray-600 rounded-full cursor-pointer mb-4",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*p;O.current&&(O.current.currentTime=n,d(n))},children:(0,gi.jsx)("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-200",style:{width:"".concat(z,"%")}})}),(0,gi.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-4",children:[(0,gi.jsx)("button",{onClick:l?()=>{O.current&&(O.current.pause(),c(!1))}:()=>{O.current&&(O.current.play(),c(!0),T(!1))},className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:l?(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,gi.jsxs)("span",{className:"text-sm",children:[B(u)," / ",B(p)]})]}),(0,gi.jsxs)("div",{className:"flex items-center gap-2",children:[o?(0,gi.jsxs)("span",{className:"text-sm bg-green-600 px-2 py-1 rounded",children:["\u23f1\ufe0f Tracking: ",f,"min"]}):(0,gi.jsx)("span",{className:"text-sm bg-gray-600 px-2 py-1 rounded",children:"\u23f1\ufe0f Not tracking"}),(0,gi.jsx)("button",{onClick:()=>{g?(document.exitFullscreen&&document.exitFullscreen(),v(!1)):(M.current.requestFullscreen&&M.current.requestFullscreen(),v(!0))},className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:(0,gi.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]})]}),A&&(0,gi.jsxs)("div",{className:"absolute top-4 left-4 bg-black bg-opacity-75 text-white p-4 rounded-lg max-w-md",children:[(0,gi.jsx)("button",{onClick:()=>T(!1),className:"absolute top-2 right-2 text-white hover:text-gray-300 transition-colors",children:(0,gi.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),(0,gi.jsx)("h2",{className:"text-xl font-bold mb-2",children:n.title}),(0,gi.jsxs)("div",{className:"text-sm space-y-1",children:[(0,gi.jsxs)("div",{children:["\ud83d\udc68\u200d\ud83c\udfeb ",n.instructor_name]}),(0,gi.jsxs)("div",{children:["\ud83d\udcca ",n.level]}),(0,gi.jsxs)("div",{children:["\ud83c\udf0d ",n.country]}),n.accents&&n.accents.length>0&&(0,gi.jsxs)("div",{children:["\ud83d\udde3\ufe0f ",n.accents.join(", ")]}),(0,gi.jsxs)("div",{children:["\u23f1\ufe0f ",n.duration_minutes," minutes"]}),n.is_premium&&(0,gi.jsx)("div",{children:"\ud83d\udc8e Premium Content"})]}),(0,gi.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,gi.jsx)("button",{onClick:()=>{j?I():b(!0)},disabled:D,className:"px-3 py-2 text-sm rounded-lg transition-colors disabled:opacity-50 ".concat(j?"bg-green-500 bg-opacity-80 hover:bg-opacity-100 text-white":"bg-white bg-opacity-20 hover:bg-opacity-30 text-white"),title:j?"Mark as unwatched":"Mark as watched",children:D?"...":j?"\u2713 Watched":"+ Watched"}),o&&a&&(0,gi.jsx)("button",{onClick:async()=>{if(o&&a&&!S){C(!0);try{const e={Authorization:"Bearer ".concat(s)};w?(await mh.delete("".concat(LE,"/user/list/").concat(n.id),{headers:e}),k(!1)):(await mh.post("".concat(LE,"/user/list"),{video_id:n.id},{headers:e}),k(!0))}catch(r){var e,t;console.error("Error managing video list:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to update your list. Please try again.")}finally{C(!1)}}},disabled:S,className:"px-3 py-2 text-sm rounded-lg transition-colors disabled:opacity-50 ".concat(w?"bg-red-500 bg-opacity-80 hover:bg-opacity-100 text-white":"bg-blue-500 bg-opacity-80 hover:bg-opacity-100 text-white"),title:w?"Remove from My List":"Add to My List",children:S?"...":w?"\u2715 Remove":"+ My List"})]})]}),!o&&(0,gi.jsxs)("div",{className:"absolute bottom-20 left-4 right-4 bg-blue-600 text-white p-3 rounded-lg text-center",children:[(0,gi.jsx)("div",{className:"font-semibold mb-1",children:"\ud83d\udd10 Want to track your progress?"}),(0,gi.jsx)("div",{className:"text-sm",children:"Sign up to save your watch time and unlock the Progress tab!"})]})]}),(0,gi.jsxs)("div",{className:"bg-white p-6",children:[(0,gi.jsxs)("div",{className:"mb-8",children:[(0,gi.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4 font-baloo",children:n.title}),(0,gi.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4",children:[(0,gi.jsxs)("span",{className:"bg-fiesta-blue text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83d\udcca ",n.level]}),(0,gi.jsxs)("span",{className:"bg-fiesta-green text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83d\udcc2 ",n.category]}),(0,gi.jsxs)("span",{className:"bg-fiesta-purple text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83d\udc68\u200d\ud83c\udfeb ",n.instructor_name]}),(0,gi.jsxs)("span",{className:"bg-fiesta-orange text-white px-3 py-1 rounded-full text-sm font-poppins",children:["\ud83c\udf0d ",n.country]}),n.is_premium&&(0,gi.jsx)("span",{className:"bg-fiesta-yellow text-gray-800 px-3 py-1 rounded-full text-sm font-poppins font-bold",children:"\ud83d\udc8e Premium"})]}),(0,gi.jsx)("p",{className:"text-gray-600 leading-relaxed font-poppins",children:n.description})]}),(0,gi.jsx)(FE,{videoId:n.id})]})]}),(0,gi.jsx)(EE,{video:n,isOpen:x,onClose:()=>b(!1),onSuccess:()=>{N(!0)}})]})},_E=e=>{let{filters:n,onFilterChange:r,onSearch:i}=e;const[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)({topics:[],countries:[],guides:[]}),[c,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const[e,t,n]=await Promise.all([fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/filters/topics")),fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/filters/countries")),fetch("".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api/filters/guides"))]),[r,i,o]=await Promise.all([e.json(),t.json(),n.json()]);l({topics:r.topics||[],countries:i.countries||[],guides:o.guides||[]})}catch(e){console.error("Error fetching filter options:",e),l({topics:[],countries:[],guides:[]})}finally{u(!1)}})()}),[]);return(0,gi.jsxs)(Sc.div,{className:"bg-white rounded-2xl shadow-2xl p-6 mb-8 border-4 border-fiesta-yellow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,gi.jsx)("span",{className:"text-3xl",children:"\ud83d\udd0d"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-fiesta-blue to-fiesta-purple bg-clip-text text-transparent font-baloo",children:"Filter Videos"})]}),(0,gi.jsx)("form",{onSubmit:e=>{e.preventDefault(),i(o)},className:"mb-6",children:(0,gi.jsxs)("div",{className:"flex gap-3",children:[(0,gi.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search videos, instructors, or topics...",value:o,onChange:e=>s(e.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-fiesta-blue focus:ring-2 focus:ring-fiesta-blue/20 transition-all font-poppins"}),(0,gi.jsx)(Sc.button,{type:"submit",className:"bg-gradient-to-r from-fiesta-blue to-blue-500 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Search"})]})}),(0,gi.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udcca Sort By"}),(0,gi.jsxs)("select",{value:n.sort_by||"newest",onChange:e=>r("sort_by",e.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-purple focus:ring-2 focus:ring-fiesta-purple/20 transition-all font-poppins",children:[(0,gi.jsx)("option",{value:"newest",children:"\ud83d\udcc5 Newest"}),(0,gi.jsx)("option",{value:"popular",children:"\u2b50 Popular"}),(0,gi.jsx)("option",{value:"shortest",children:"\u26a1 Shortest"}),(0,gi.jsx)("option",{value:"longest",children:"\ud83d\udd50 Longest"})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udcca Levels"}),(0,gi.jsxs)("select",{value:n.level||"",onChange:e=>r("level",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-green focus:ring-2 focus:ring-fiesta-green/20 transition-all font-poppins",children:[(0,gi.jsx)("option",{value:"",children:"All Levels"}),(0,gi.jsx)("option",{value:"New Beginner",children:"\ud83c\udf31 New Beginner"}),(0,gi.jsx)("option",{value:"Beginner",children:"\ud83d\udcda Beginner"}),(0,gi.jsx)("option",{value:"Intermediate",children:"\ud83d\udcd6 Intermediate"}),(0,gi.jsx)("option",{value:"Advanced",children:"\ud83c\udf93 Advanced"})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83c\udf0d Countries"}),(0,gi.jsxs)("select",{value:n.country||"",onChange:e=>r("country",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-blue focus:ring-2 focus:ring-fiesta-blue/20 transition-all font-poppins",disabled:c,children:[(0,gi.jsx)("option",{value:"",children:"All Countries"}),a.countries.map((e=>(0,gi.jsxs)("option",{value:e.slug,children:["\ud83c\udf0d ",e.name]},e.id)))]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udc68\u200d\ud83c\udfeb Guides"}),(0,gi.jsxs)("select",{value:n.guide||"",onChange:e=>r("guide",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-purple focus:ring-2 focus:ring-fiesta-purple/20 transition-all font-poppins",disabled:c,children:[(0,gi.jsx)("option",{value:"",children:"All Guides"}),a.guides.map((e=>(0,gi.jsxs)("option",{value:e.name,children:["\ud83d\udc68\u200d\ud83c\udfeb ",e.name]},e.id)))]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83c\udff7\ufe0f Topics"}),(0,gi.jsxs)("select",{value:n.topic||"",onChange:e=>r("topic",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-green focus:ring-2 focus:ring-fiesta-green/20 transition-all font-poppins",disabled:c,children:[(0,gi.jsx)("option",{value:"",children:"All Topics"}),a.topics.map((e=>(0,gi.jsxs)("option",{value:e.slug,children:["\ud83c\udff7\ufe0f ",e.name]},e.id)))]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2 font-poppins",children:"\ud83d\udcc2 Category"}),(0,gi.jsxs)("select",{value:n.category||"",onChange:e=>r("category",e.target.value||null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-fiesta-orange focus:ring-2 focus:ring-fiesta-orange/20 transition-all font-poppins",children:[(0,gi.jsx)("option",{value:"",children:"All Categories"}),(0,gi.jsx)("option",{value:"Conversation",children:"\ud83d\udcac Conversation"}),(0,gi.jsx)("option",{value:"Grammar",children:"\ud83d\udcdd Grammar"}),(0,gi.jsx)("option",{value:"Vocabulary",children:"\ud83d\udcda Vocabulary"}),(0,gi.jsx)("option",{value:"Pronunciation",children:"\ud83d\udde3\ufe0f Pronunciation"}),(0,gi.jsx)("option",{value:"Culture",children:"\ud83c\udf0d Culture"}),(0,gi.jsx)("option",{value:"Business",children:"\ud83d\udcbc Business"})]})]})]}),c&&(0,gi.jsxs)(Sc.div,{className:"flex items-center justify-center mt-4 text-gray-500",initial:{opacity:0},animate:{opacity:1},children:[(0,gi.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-fiesta-blue border-t-transparent mr-3"}),(0,gi.jsx)("span",{className:"font-poppins text-sm",children:"Loading filter options..."})]}),(0,gi.jsx)(Sc.div,{className:"mt-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:(0,gi.jsx)(Sc.button,{onClick:()=>{r("level",null),r("category",null),r("country",null),r("guide",null),r("topic",null),r("sort_by","newest"),s(""),i("")},className:"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 px-6 py-2 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83d\udd04 Clear All Filters"})})]})},BE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),IE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)({level:"",category:"",country:"",guide:"",topic:"",search:"",sort_by:"newest"});(0,t.useEffect)((()=>{u()}),[a]);const u=async()=>{i(!0);try{const e=new URLSearchParams;Object.entries(a).forEach((t=>{let[n,r]=t;null!==r&&""!==r&&e.append(n,r)}));const t=await mh.get("".concat(BE,"/videos?").concat(e.toString()));n(t.data.videos)}catch(e){console.error("Error fetching videos:",e)}finally{i(!1)}},d=e=>{s(e)},p=()=>{s(null)};return o?(0,gi.jsx)(RE,{video:o,onClose:p,onVideoEnd:()=>{s(null)}}):(0,gi.jsxs)("div",{children:[(0,gi.jsx)(_E,{filters:a,onFilterChange:(e,t)=>{l((n=>c(c({},n),{},{[e]:t})))},onSearch:e=>{l((t=>c(c({},t),{},{search:e})))}}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,gi.jsxs)("h3",{className:"text-lg font-semibold text-gray-700",children:[e.length," video",1!==e.length?"s":""," available"]})}),r?(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map((e=>(0,gi.jsxs)("div",{className:"animate-pulse",children:[(0,gi.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===e.length?(0,gi.jsxs)("div",{className:"text-center py-12",children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfa5"}),(0,gi.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No videos found"}),(0,gi.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search criteria."})]}):(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e=>(0,gi.jsx)(TE,{video:e,onVideoSelect:d},e.id)))})]})]})},zE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),VE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{i(!0);try{const e=(await mh.get("".concat(zE,"/videos"))).data.videos,t=new Map;e.forEach((e=>{if(e.series_id){t.has(e.series_id)||t.set(e.series_id,{id:e.series_id,title:"".concat(e.instructor_name," Series"),description:"A series of videos by ".concat(e.instructor_name),level:e.level,instructor_name:e.instructor_name,category:e.category,country:e.country,videos:[],total_duration:0,thumbnail_url:e.thumbnail_url});const n=t.get(e.series_id);n.videos.push(e),n.total_duration+=e.duration_minutes}else t.set(e.id,{id:e.id,title:e.title,description:e.description,level:e.level,instructor_name:e.instructor_name,category:e.category,country:e.country,videos:[e],total_duration:e.duration_minutes,thumbnail_url:e.thumbnail_url,is_single_video:!0})}));const r=Array.from(t.values()).sort(((e,t)=>e.videos.length!==t.videos.length?t.videos.length-e.videos.length:e.title.localeCompare(t.title)));n(r)}catch(e){console.error("Error fetching series:",e)}finally{i(!1)}},u=()=>{s(null),l(null)},d=e=>{l(e)},p=()=>{l(null)};return a?(0,gi.jsx)(RE,{video:a,onClose:p,onVideoEnd:()=>{if(o){const e=o.videos.findIndex((e=>e.id===a.id));e<o.videos.length-1?l(o.videos[e+1]):l(null)}else l(null)}}):o?(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,gi.jsxs)("button",{onClick:u,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4 transition-colors",children:[(0,gi.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to All Series"]}),(0,gi.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,gi.jsx)("img",{src:o.thumbnail_url,alt:o.title,className:"w-full md:w-64 h-36 object-cover rounded-lg",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="144" viewBox="0 0 256 144"><rect width="256" height="144" fill="%23f3f4f6"/><text x="128" y="72" text-anchor="middle" fill="%236b7280" font-family="Arial" font-size="14">Series</text></svg>'}}),(0,gi.jsxs)("div",{className:"flex-1",children:[(0,gi.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:o.title}),(0,gi.jsx)("p",{className:"text-gray-600 mb-4",children:o.description}),(0,gi.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("span",{className:"text-gray-500",children:"Videos:"}),(0,gi.jsx)("div",{className:"font-semibold text-blue-600",children:o.videos.length})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("span",{className:"text-gray-500",children:"Total Duration:"}),(0,gi.jsxs)("div",{className:"font-semibold text-green-600",children:[o.total_duration,"min"]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("span",{className:"text-gray-500",children:"Level:"}),(0,gi.jsx)("div",{className:"font-semibold text-purple-600",children:o.level})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("span",{className:"text-gray-500",children:"Instructor:"}),(0,gi.jsx)("div",{className:"font-semibold text-orange-600",children:o.instructor_name})]})]})]})]})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:["Videos in this ",o.is_single_video?"collection":"series"," (",o.videos.length,")"]}),(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.videos.sort(((e,t)=>(e.series_order||0)-(t.series_order||0))).map(((e,t)=>(0,gi.jsxs)("div",{className:"relative",children:[!o.is_single_video&&(0,gi.jsxs)("div",{className:"absolute top-2 left-2 z-10 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:["#",e.series_order||t+1]}),(0,gi.jsx)(TE,{video:e,onVideoSelect:d})]},e.id)))})]})]}):(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,gi.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Video Series & Collections"}),(0,gi.jsx)("p",{className:"text-gray-600",children:"Discover organized learning paths and themed collections. Perfect for structured learning or exploring topics in depth."})]}),(0,gi.jsx)("div",{children:r?(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>(0,gi.jsxs)("div",{className:"animate-pulse",children:[(0,gi.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===e.length?(0,gi.jsxs)("div",{className:"text-center py-12",children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcda"}),(0,gi.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No series available yet"}),(0,gi.jsx)("p",{className:"text-gray-500",children:"Check back later for organized learning collections."})]}):(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>(0,gi.jsxs)("div",{onClick:()=>(e=>{s(e)})(e),className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer group",children:[(0,gi.jsxs)("div",{className:"relative",children:[(0,gi.jsx)("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="180" viewBox="0 0 320 180"><rect width="320" height="180" fill="%23f3f4f6"/><text x="160" y="90" text-anchor="middle" fill="%236b7280" font-family="Arial" font-size="16">Series</text></svg>'}}),(0,gi.jsxs)("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:[e.videos.length," video",e.videos.length>1?"s":""]}),!e.is_single_video&&(0,gi.jsx)("div",{className:"absolute top-2 left-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udcda SERIES"}),(0,gi.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[e.total_duration,"min total"]})]}),(0,gi.jsxs)("div",{className:"p-4",children:[(0,gi.jsx)("h3",{className:"font-semibold text-gray-800 line-clamp-2 mb-2 group-hover:text-blue-600 transition-colors",children:e.title}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:e.description}),(0,gi.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,gi.jsxs)("span",{children:["\ud83d\udc68\u200d\ud83c\udfeb ",e.instructor_name]}),(0,gi.jsxs)("span",{children:["\ud83d\udcca ",e.level]})]}),(0,gi.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-1",children:[(0,gi.jsxs)("span",{children:["\ud83c\udf0d ",e.country]}),(0,gi.jsxs)("span",{children:["\ud83d\udcc1 ",e.category]})]})]})]},e.id)))})})]})},HE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),UE=()=>{const{isAuthenticated:e,sessionToken:n}=yh(),[r,i]=(0,t.useState)("saved"),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,p]=(0,t.useState)(null),[h]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})());(0,t.useEffect)((()=>{e?f():u(!1)}),[e,r]);const f=async()=>{u(!0);try{if("saved"===r){const e=n?{Authorization:"Bearer ".concat(n)}:{},t=await mh.get("".concat(HE,"/user/list"),{headers:e});s(t.data.videos||[])}else if("history"===r){const e=(await mh.get("".concat(HE,"/progress/").concat(h))).data;if(e.recent_activity){const t=[...new Set(e.recent_activity.map((e=>e.video_id)))].map((async t=>{try{const r=(await mh.get("".concat(HE,"/videos"))).data.videos.find((e=>e.id===t));if(r){var n;const i=e.recent_activity.filter((e=>e.video_id===t));r.watch_history={total_minutes_watched:i.reduce(((e,t)=>e+(t.minutes_watched||0)),0),last_watched:null===(n=i[i.length-1])||void 0===n?void 0:n.date,watch_count:i.length}}return r}catch(r){return null}})),n=(await Promise.all(t)).filter(Boolean);l(n)}}}catch(e){console.error("Error fetching my list data:",e)}finally{u(!1)}},m=e=>{p(e)},g=()=>{p(null)};return e?d?(0,gi.jsx)(RE,{video:d,onClose:g,onVideoEnd:()=>p(null)}):(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,gi.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"My List"}),(0,gi.jsx)("div",{className:"border-b border-gray-200",children:(0,gi.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,gi.jsx)("button",{onClick:()=>i("saved"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("saved"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcbe Saved Videos"}),(0,gi.jsx)("button",{onClick:()=>i("history"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("history"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udcfa Watch History"})]})})]}),(0,gi.jsx)("div",{children:"saved"===r?(0,gi.jsxs)("div",{children:[(0,gi.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,gi.jsxs)("h3",{className:"text-lg font-semibold text-gray-700",children:["Saved for Later (",o.length,")"]})}),c?(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,gi.jsxs)("div",{className:"animate-pulse",children:[(0,gi.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===o.length?(0,gi.jsxs)("div",{className:"text-center py-12",children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcbe"}),(0,gi.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No saved videos yet"}),(0,gi.jsx)("p",{className:"text-gray-500 mb-6",children:"Videos you save will appear here for easy access later."}),(0,gi.jsx)("a",{href:"/watch",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Browse Videos to Save"})]}):(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((t=>(0,gi.jsxs)("div",{className:"relative",children:[(0,gi.jsx)(TE,{video:t,onVideoSelect:m}),(0,gi.jsx)("button",{onClick:()=>(async t=>{if(e)try{const e={Authorization:"Bearer ".concat(n)};await mh.delete("".concat(HE,"/user/list/").concat(t),{headers:e}),"saved"===r&&f()}catch(s){var i,o;console.error("Error removing video from list:",s),alert((null===(i=s.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.detail)||"Failed to remove video from list. Please try again.")}})(t.id),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",title:"Remove from saved",children:(0,gi.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M6 18L18 6M6 6l12 12",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]},t.id)))})]}):(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gi.jsxs)("h3",{className:"text-lg font-semibold text-gray-700",children:["Recently Watched (",a.length,")"]}),a.length>0&&(0,gi.jsx)("button",{onClick:()=>{window.confirm("Clear all watch history? This cannot be undone.")&&l([])},className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Clear All History"})]}),c?(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,gi.jsxs)("div",{className:"animate-pulse",children:[(0,gi.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl mb-4"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,gi.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e)))}):0===a.length?(0,gi.jsxs)("div",{className:"text-center py-12",children:[(0,gi.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcfa"}),(0,gi.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"No watch history yet"}),(0,gi.jsx)("p",{className:"text-gray-500 mb-6",children:"Videos you watch will appear here with your progress."}),(0,gi.jsx)("a",{href:"/watch",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Watching Videos"})]}):(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.sort(((e,t)=>{var n,r;return new Date((null===(n=t.watch_history)||void 0===n?void 0:n.last_watched)||0)-new Date((null===(r=e.watch_history)||void 0===r?void 0:r.last_watched)||0)})).map((t=>{var i,o;return(0,gi.jsxs)("div",{className:"relative",children:[(0,gi.jsx)(TE,{video:t,onVideoSelect:m}),(0,gi.jsxs)("div",{className:"absolute bottom-16 left-2 right-2 bg-black bg-opacity-75 text-white p-2 rounded text-xs",children:[(0,gi.jsxs)("div",{children:["\u23f1\ufe0f Watched: ",(null===(i=t.watch_history)||void 0===i?void 0:i.total_minutes_watched)||0,"min"]}),(0,gi.jsxs)("div",{children:["\ud83d\udcc5 Last: ",null!==(o=t.watch_history)&&void 0!==o&&o.last_watched?new Date(t.watch_history.last_watched).toLocaleDateString():"Unknown"]})]}),(0,gi.jsx)("button",{onClick:()=>{window.confirm("Remove this video from your watch history?")&&(async t=>{if(e)try{await mh.delete("".concat(HE,"/user/watch-history/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}),"history"===r&&f()}catch(i){console.error("Error removing from history:",i)}})(t.id)},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",title:"Remove from history",children:(0,gi.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M6 18L18 6M6 6l12 12",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]},t.id)}))})]})})]}):(0,gi.jsxs)("div",{className:"text-center py-16",children:[(0,gi.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udd10"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sign in to access My List"}),(0,gi.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Create an account to save videos for later and track your watch history across all your devices."}),(0,gi.jsxs)("div",{className:"space-y-4",children:[(0,gi.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md mx-auto",children:[(0,gi.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"With an account you can:"}),(0,gi.jsxs)("ul",{className:"text-blue-700 space-y-1 text-sm",children:[(0,gi.jsx)("li",{children:"\u2022 Save videos and series to watch later"}),(0,gi.jsx)("li",{children:"\u2022 View your complete watch history"}),(0,gi.jsx)("li",{children:"\u2022 Track learning progress across devices"}),(0,gi.jsx)("li",{children:"\u2022 Get personalized recommendations"})]})]}),(0,gi.jsx)("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Sign Up / Login"})]})]})},$E=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(null);return(0,gi.jsxs)("div",{className:"mb-8",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Language Level"}),(0,gi.jsxs)("div",{className:"group relative",children:[(0,gi.jsx)("svg",{className:"w-5 h-5 text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,gi.jsxs)("div",{className:"absolute bottom-6 left-0 hidden group-hover:block bg-gray-800 text-white text-sm rounded-lg p-3 whitespace-nowrap z-10 shadow-lg",children:[(0,gi.jsxs)("div",{className:"max-w-xs",children:["Coming from a related language (e.g. French, Spanish)? The standard roadmap applies.",(0,gi.jsx)("br",{}),"Coming from an unrelated language (e.g. Arabic or Korean)? Expect to take twice as long."]}),(0,gi.jsx)("div",{className:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{level:1,title:"Starting from zero",hours:0,words:0,videoType:"New Beginner",color:"from-red-100 to-red-200",borderColor:"border-red-300",titleColor:"text-red-600",whatYouCanDo:"The sounds of the language sound weird to your ears. You can't tell many of those sounds apart from each other. When hearing the language, it's hard for you to know when one word ends and when the next one begins.",whatYouNeedToDo:"Listen A LOT. The listening needs to be very comprehensible. The best materials are classes or videos where the teachers speak in the language, but make it easy to understand by using a lot of drawings, pictures, and gestures.",whatYouAreLearning:"You mostly learn individual nouns for concrete things: car, nose, elephant. Action verbs: walk, eat, sing. Adjectives for simple emotions and sensations: happy, scared, cold.",fullDescription:{whatYouCanDo:"The sounds of the language sound weird to your ears. You can't tell many of those sounds apart from each other. When hearing the language, it's hard for you to know when one word ends and when the next one begins. Even when you guess what a sentence means, many times you can't guess at the meaning of the different parts. You can't say any words and be confident that a native speaker would understand you.",whatYouNeedToDo:"Listen A LOT. The listening needs to be very comprehensible. The best materials are classes or videos where the teachers speak in the language, but make it easy to understand by using a lot of drawings, pictures, and gestures. Crosstalk is the most efficient activity that you can do, if you can find speakers of the language. Reading is not recommended until later on, especially if you care about having clear pronunciation. Practicing writing or speaking is not recommended yet.",whatYouAreLearning:"You mostly learn individual nouns for concrete things: car, nose, elephant. Action verbs: walk, eat, sing. Adjectives for simple emotions and sensations: happy, scared, cold. Adjectives for physical properties: blue, tall, fat, beautiful. Interjections are the clearest words early on: Hey! Wow! Hi! You may learn the numbers early on, but this depends quite a lot on the kind of content you listen to."}},{level:2,title:"You know some common words",hours:50,words:300,videoType:"Beginner",color:"from-orange-100 to-orange-200",borderColor:"border-orange-300",titleColor:"text-orange-600",whatYouCanDo:'You understand some common words, even if you are not 100% sure how to pronounce them. You can now guess the meaning of some 2-word sentences, like "go home", or "eat cake".',whatYouNeedToDo:"Listen A LOT. You are still best served with Crosstalk or classes or videos where the teacher(s) speak in a very comprehensible way. However, with a few words under your belt you are better prepared to make the most of that input.",whatYouAreLearning:"More verbs, since nouns help you understand them. Still mostly nouns and verbs for concrete things. Many expressions are learned as a chunk. You don't know what their parts mean yet.",fullDescription:{whatYouCanDo:'You understand some common words, even if you are not 100% sure how to pronounce them. You can now guess the meaning of some 2-word sentences, like "go home", or "eat cake". There are only a few words that you could produce yourself. For many words, you\'re still not sure what sounds they\'re made of.',whatYouNeedToDo:"Listen A LOT. You are still best served with Crosstalk or classes or videos where the teacher(s) speak in a very comprehensible way. However, with a few words under your belt you are better prepared to make the most of that input. Those words will help you understand the rest of the input you are listening to. Reading not recommended yet.",whatYouAreLearning:"More verbs, since nouns help you understand them. Still mostly nouns and verbs for concrete things. Many expressions are learned as a chunk. You don't know what their parts mean yet. Grammar for basic sentence order. Many common function words will remain unclear for a long time."}},{level:3,title:"You can follow topics that are adapted for learners",hours:150,words:1500,videoType:"Intermediate",color:"from-yellow-100 to-yellow-200",borderColor:"border-yellow-300",titleColor:"text-yellow-700",whatYouCanDo:"You can now understand people if they stay within certain topics. They still need to talk to you in a way that's appropriate for you, but you know many words, and you don't rely exclusively on visual information.",whatYouNeedToDo:"Listen A LOT. Now you can listen to videos or classes in which the teacher doesn't use as much visual input, and may even be able to take advantage of really easy audios and podcasts that are catered to learners at your level.",whatYouAreLearning:"Because you are starting to get used to what the language sounds like, and what kinds of sound combinations to expect, you start learning words faster, without needing to hear them so many times.",fullDescription:{whatYouCanDo:"You can now understand people if they stay within certain topics. They still need to talk to you in a way that's appropriate for you, but you know many words, and you don't rely exclusively on visual information. You still aren't completely used to the sounds of the language. You have a good intuition for basic grammar, like sentence order. You can sometimes feel it when other learners make mistakes. It sounds wrong somehow. You can now say quite a few words and that will already be useful when traveling to the country.",whatYouNeedToDo:"Listen A LOT. Now you can listen to videos or classes in which the teacher doesn't use as much visual input, and may even be able to take advantage of really easy audios and podcasts that are catered to learners at your level. Crosstalk is still the best way to spend your time. At this level it becomes easier than before to do crosstalk over the internet using video call software, so you won't need to find native speakers where you live anymore. Reading is still not recommended if you care about your final achievement in pronunciation, but it starts becoming possible to understand lower level graded readers.",whatYouAreLearning:"Because you are starting to get used to what the language sounds like, and what kinds of sound combinations to expect, you start learning words faster, without needing to hear them so many times. You learn nouns faster and faster. Knowing a decent amount of nouns helps you also learn more adjectives. You start learning more abstract terms for feelings, appearance, and more abstract verbs: to need, to have to, to be good at, etc. You are now getting used to more complicated grammar faster."}},{level:4,title:"You can understand a person speaking to you patiently",hours:300,words:3e3,videoType:"Intermediate",color:"from-green-100 to-green-200",borderColor:"border-green-300",titleColor:"text-green-600",whatYouCanDo:"You're at the intermediate level! You can understand a patient native speaker. You still miss some words, but the speaker can explain their meaning to you without resorting to translation.",whatYouNeedToDo:"Listen A LOT. You can understand videos or classes in which the teacher doesn't use any visual cues, and can now benefit from listening extensively to audios and podcasts for learners everywhere you go, anytime you can.",whatYouAreLearning:"Surprisingly, in this phase you learn many common function words that are taught right at the beginning of most language courses. These words are used very frequently, but carry very little meaning.",fullDescription:{whatYouCanDo:"You're at the intermediate level! You can understand a patient native speaker. You still miss some words, but the speaker can explain their meaning to you without resorting to translation. You can understand a range of daily topics without visual support like drawings or pictures. The sounds of the language are becoming clearer now, and you are getting used to how the sounds are likely to be combined. That helps with retaining new words. If you tried speaking at a store, you could get your point across most of the time, but you still struggle producing even some basic words. Making friends in the language is now possible, but you need to find people who are quite patient, because not everybody will want to make that effort. Depending on your tolerance for getting negative reactions, you may want to wait a bit longer before speaking.",whatYouNeedToDo:"Listen A LOT. You can understand videos or classes in which the teacher doesn't use any visual cues, and can now benefit from listening extensively to audios and podcasts for learners everywhere you go, anytime you can. Crosstalk is still the best, most efficient way to improve. You can now make friends with whom you communicate only in the target language. While you will learn a lot when listening to people speak to you, speaking this early will invariably result in hard-to-fix non-native pronunciation, noticeably bad grammar, and poor word usage. If you really want to start having conversations with people it's recommended that you don't try to actively practice grammar or vocabulary, but rather speak in single words or simple sentences that come to mind easily. Reading is still not recommended if you care about your final achievement in pronunciation. By now you could understand slightly more difficult books, but still mostly just graded readers.",whatYouAreLearning:"Surprisingly, in this phase you learn many common function words that are taught right at the beginning of most language courses. These words are used very frequently, but carry very little meaning. For example: the verb \"to be\" (or equivalent), prepositions (in, at, on), conjunctions (therefore, so, and), and even some pronouns. Once you become aware of a new word, you'll encounter it everywhere. At this point you may start feeling that there are many more words that you don't know than words you do know. The exposure to less controlled speech allows you to notice many new words. Don't worry, you'll eventually also acquire those words the same way you acquired all the words you have learned until now. By this point you are full on acquiring all kinds of vocabulary, both concrete and abstract."}},{level:5,title:"You can understand native speakers speaking to you normally",hours:600,words:5e3,videoType:"Intermediate/Advanced",color:"from-blue-100 to-blue-200",borderColor:"border-blue-300",titleColor:"text-blue-600",whatYouCanDo:"You can understand people well when they speak directly to you. They won't need to adapt their speech for you. Understanding a conversation between native speakers is still hard.",whatYouNeedToDo:"Listen A LOT. You'll be able to understand more advanced materials for learners. Listen to audios and podcasts daily if you want to learn fast. Crosstalk is still as good as always.",whatYouAreLearning:"This level can feel frustratingly similar to the previous one. You will still feel that there are many more words that you don't know than words you do know. You'll now feel many more instances of finally understanding that word that you have been hearing since forever.",fullDescription:{whatYouCanDo:"You can understand people well when they speak directly to you. They won't need to adapt their speech for you. Understanding a conversation between native speakers is still hard. You'll almost understand TV programs in the language, because you understand so many of the words, but they are still hard enough to leave you frustrated or bored. Conversation can be tiresome, and if you try to speak you can feel a bit like a child, since it will be hard to express abstract concepts and complex thoughts. You understand most of the words used during daily conversation, but you still can't use many yourself. If you try to speak the language, it will feel like you are missing many important words. However, you can, often, already speak with the correct intonation patterns of the language, without knowing why, and even make a distinction between similar sounds in the language when you say them out loud.",whatYouNeedToDo:"Listen A LOT. You'll be able to understand more advanced materials for learners. Listen to audios and podcasts daily if you want to learn fast. Crosstalk is still as good as always. You may start feeling you are not getting much out of getting input about daily life topics. Try getting input about new topics. Easier TV programs and cartoons should be accessible too. The purists who want to get really close to a native speaker and get a really good accent may still want to hold off on speaking and reading for a little more, but if you do start speaking and reading it's not a big deal by this point. You'll still end up with better pronunciation and fluency than the vast majority of learners. If you want to start reading, by this point you'll be able to understand books targeted at children of lower grade levels, and you can skip over graded readers. If you start reading, try setting every gadget you own (PC, phone, Google and Facebook settings, etc.) to the target language, and following speakers of the language on social media.",whatYouAreLearning:"This level can feel frustratingly similar to the previous one. You will still feel that there are many more words that you don't know than words you do know. You'll now feel many more instances of finally understanding that word that you have been hearing since forever. It may feel like these words are infinite, but no! Continue doing what you are doing and you'll little by little fill in all the missing gaps. For some words, you'll even wonder why you hadn't learned such a basic word yet. Learning abstract words (democracy, absence, patience) will be your bread and butter, as will be learning more and more grammatical connectors. At this level you'll mostly finish up the grammar and the different sentence types. While still not being able to make the most complex sentences yourself, you'll become able to understand almost every type of sentence."}},{level:6,title:"You are comfortable with daily conversation",hours:1e3,words:7e3,videoType:"Advanced",color:"from-indigo-100 to-indigo-200",borderColor:"border-indigo-300",titleColor:"text-indigo-600",whatYouCanDo:"You can really have fun with the language at this point. You are conversationally fluent for daily purposes of living in the country and you can get by at the bank, at the hospital, at the post office, or looking for an apartment to rent.",whatYouNeedToDo:"Listen and read A LOT. It's also a good idea to get massive input in authentic media, be it TV, podcasts, radio, movies, etc. If you can't find a lot of easy media in the target language, you may find that videos and audios for learners are still more efficient for acquiring new vocabulary until you get a bit better.",whatYouAreLearning:"You may find the odd common word that you haven't learned yet, but by now your known vocabulary pretty much covers everything that you will usually want to say during everyday conversation. If you make friends and have real conversations, or watch certain TV shows, you will now be learning a lot of slang.",fullDescription:{whatYouCanDo:"You can really have fun with the language at this point. You are conversationally fluent for daily purposes of living in the country and you can get by at the bank, at the hospital, at the post office, or looking for an apartment to rent. In spite of that odd word that is not quite there when you need it, you can always manage to get your point across in one way or another, and by now you are already making complex longer phrases. At this level, for the first time, you start feeling like you are actually thinking about what you want to say, and not about how you want to say it, even though you may fall back on thinking about how you say things, especially in stressful situations or when feeling self-conscious. Using humor in the language is much easier now. You can understand TV shows about daily life quite well (80 to 90%). Shows about families, friends, etc. Unscripted shows will usually also be easier to understand than scripted shows, as long as they are not too chaotic or rely too much on cultural knowledge. Thrillers and other genres will still be hard.",whatYouNeedToDo:"Listen and read A LOT. It's also a good idea to get massive input in authentic media, be it TV, podcasts, radio, movies, etc. If you can't find a lot of easy media in the target language, you may find that videos and audios for learners are still more efficient for acquiring new vocabulary until you get a bit better. If your target language has many common words with a language you already know you may be able to understand quite well things like TED talks and university lectures. Lots of reading is also recommended if you want to be literate and if you care about reading. You'll still want to read books that are targeted at elementary school children, although maybe you don't need to stick to the lower grades. Nonfiction will often be much easier to understand than fiction. By this point, speaking and reading are completely unrestricted, and it's really encouraged to make friends in the language. If you live in the country, join as many social activities as you can. Live in a shared apartment, go to bars, join dance classes, a sports team, anything! Set your PC, phone, and all your online profiles to your target language. Make a list of daily things you do in your own language, and find alternatives to do them in your target language.",whatYouAreLearning:"You may find the odd common word that you haven't learned yet, but by now your known vocabulary pretty much covers everything that you will usually want to say during everyday conversation. If you make friends and have real conversations, or watch certain TV shows, you will now be learning a lot of slang. By now, your knowledge will cover most sentence structures and grammatical words, so you will rarely learn these anymore, unless they are specific to certain registers of the language. You will mostly learn specific vocabulary used in formal speech or in writing. Most words that you learn now will be words that are used in more formal registers of speech like in the news, words used in formal writing, literary writing, or technical terms used in the specific fields that you are interested in: politics, technology, science, or 13th century woodblock prints. If your language doesn't share a lot of its specialized vocabulary with your new language, you may still have to work on this for a long while."}},{level:7,title:"You can use the language effectively for all practical purposes",hours:1500,words:"12,000+",videoType:"Advanced",color:"from-purple-100 to-purple-200",borderColor:"border-purple-300",titleColor:"text-purple-600",whatYouCanDo:"You can understand any general content effortlessly, including newspapers, novels, and all types of TV shows and movies. You might still struggle with technical texts in unfamiliar fields, heavy regional slang, and shows with intricate plots.",whatYouNeedToDo:"Listen and read A LOT. Add variety to what you read and listen to. By this point it's easy to find media in the target language that you understand very well, but it's also easy to get comfortable and not seek new challenges.",whatYouAreLearning:"You will continue learning slang, and learning about the culture, and that will allow you to understand more and more cultural references. You can explore other regional dialects of the language, ancient literary versions of the language, or vocabulary in other technical or scientific fields that you may want to learn about.",fullDescription:{whatYouCanDo:"You can understand any general content effortlessly, including newspapers, novels, and all types of TV shows and movies. You might still struggle with technical texts in unfamiliar fields, heavy regional slang, and shows with intricate plots. You speak fluently and effortlessly, without thinking about the language. While native speakers might still detect a slight accent, your clarity and fluidity make your speech easy to understand, and no one considers you a learner anymore. You may still make some mistakes, or miss a specific word here and there, but it doesn't hinder you from being an effective member of society.",whatYouNeedToDo:"Listen and read A LOT. Add variety to what you read and listen to. By this point it's easy to find media in the target language that you understand very well, but it's also easy to get comfortable and not seek new challenges. If you want to continue improving, simply do things that you have never done before. Try reading a book by a new author, try watching a show about a topic that you're unfamiliar with (about space, about the Middle Ages, about lawyers, etc). If you live in the country, try joining activities that are new to you: a sports team, an improv group, comedy nights, etc.",whatYouAreLearning:"You will continue learning slang, and learning about the culture, and that will allow you to understand more and more cultural references. You can explore other regional dialects of the language, ancient literary versions of the language, or vocabulary in other technical or scientific fields that you may want to learn about. You will still encounter new idioms and proverbs, but they will almost always be clear from the context. And of course, you can start learning your next language! \ud83d\ude80"}}].map((e=>(0,gi.jsxs)("div",{onClick:()=>(e=>{s(e),i(!0)})(e),className:"bg-gradient-to-br ".concat(e.color," rounded-xl shadow-sm hover:shadow-md transition-all duration-200 p-6 cursor-pointer border ").concat(e.borderColor," hover:scale-105"),children:[(0,gi.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,gi.jsxs)("h3",{className:"text-lg font-bold ".concat(e.titleColor),children:["Level ",e.level]}),(0,gi.jsxs)("div",{className:"text-sm text-gray-500",children:[e.hours,"h \u2022 ","string"===typeof e.words?e.words:e.words.toLocaleString()," words"]})]}),(0,gi.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:e.title}),(0,gi.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:[(0,gi.jsx)("span",{className:"font-medium text-purple-600",children:"Recommended:"})," ",e.videoType]}),(0,gi.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h5",{className:"font-semibold text-gray-700 mb-1",children:"What you can do"}),(0,gi.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.whatYouCanDo})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h5",{className:"font-semibold text-gray-700 mb-1",children:"What you need to do"}),(0,gi.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.whatYouNeedToDo})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h5",{className:"font-semibold text-gray-700 mb-1",children:"What you're learning"}),(0,gi.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.whatYouAreLearning})]})]}),(0,gi.jsx)("div",{className:"mt-4 text-blue-600 text-sm font-medium",children:"Click to read more \u2192"})]},e.level)))}),(0,gi.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg text-sm text-gray-600",children:[(0,gi.jsx)("p",{className:"mb-2",children:(0,gi.jsxs)("em",{children:["Level system utilized with appreciation from ",(0,gi.jsx)("a",{href:"https://www.dreamingspanish.com/method",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Dreaming Spanish"})]})}),(0,gi.jsx)("p",{children:(0,gi.jsx)("a",{href:"https://customer-assets.emergentagent.com/job_dynacontent-hub/artifacts/sdn3qri0_Language_Learning_Roadmap_by_Dreaming_Spanish%20%281%29.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"\ud83d\udcc4 Download full roadmap"})})]}),r&&o&&(0,gi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[(0,gi.jsx)("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:(0,gi.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("h2",{className:"text-2xl font-bold text-blue-600 mb-2",children:["Level ",o.level]}),(0,gi.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:o.title}),(0,gi.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,gi.jsxs)("span",{children:[(0,gi.jsx)("strong",{children:"Hours:"})," ",o.hours]}),(0,gi.jsxs)("span",{children:[(0,gi.jsx)("strong",{children:"Words:"})," ","string"===typeof o.words?o.words:o.words.toLocaleString()]}),(0,gi.jsxs)("span",{children:[(0,gi.jsx)("strong",{children:"Videos:"})," ",o.videoType]})]})]}),(0,gi.jsx)("button",{onClick:()=>{i(!1),s(null)},className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,gi.jsxs)("div",{className:"p-6 space-y-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"What you can do"}),(0,gi.jsx)("p",{className:"text-gray-700 leading-relaxed",children:o.fullDescription.whatYouCanDo})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"What you need to do"}),(0,gi.jsx)("p",{className:"text-gray-700 leading-relaxed",children:o.fullDescription.whatYouNeedToDo})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"What you're learning"}),(0,gi.jsx)("p",{className:"text-gray-700 leading-relaxed",children:o.fullDescription.whatYouAreLearning})]})]})]})})]})},WE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),qE=()=>{const{isAuthenticated:e}=yh(),[n,r]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0),[s]=(0,t.useState)((()=>{let e=localStorage.getItem("english_fiesta_session");return e||(e="guest_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),localStorage.setItem("english_fiesta_session",e)),e})()),[a,l]=(0,t.useState)("week");(0,t.useEffect)((()=>{e&&c()}),[e]);const c=async()=>{o(!0);try{const e=await mh.get("".concat(WE,"/progress/").concat(s));r(e.data)}catch(e){console.error("Error fetching progress data:",e),r({stats:{total_minutes_watched:0,platform_minutes:0,manual_minutes:0,current_streak:0,longest_streak:0,personal_best_day:0,level_progress:{},milestones_achieved:[],manual_activity_breakdown:{}},recent_activity:[],total_videos_watched:0,total_manual_activities:0,breakdown:{platform_hours:0,manual_hours:0,total_hours:0}})}finally{o(!1)}},u=(()=>{const e=[],t=new Date;for(let r={week:7,month:30,all:90}[a]-1;r>=0;r--){const i=new Date(t);i.setDate(i.getDate()-r);const o=i.toISOString().split("T")[0];let s=0;if(n&&n.recent_activity){const e=n.recent_activity.find((e=>e.date===o));e&&(s=e.minutes||0)}e.push({date:o,dateLabel:i.toLocaleDateString("en-US",{month:"short",day:"numeric"}),minutes:s})}return e})(),d=Math.max(...u.map((e=>e.minutes)),30);if(!e)return(0,gi.jsxs)("div",{className:"text-center py-16",children:[(0,gi.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udcca"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sign in to view your Progress"}),(0,gi.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Track your learning journey with detailed progress analytics, time tracking, and achievement milestones."}),(0,gi.jsx)("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Sign Up / Login"})]});if(i)return(0,gi.jsx)("div",{className:"space-y-8",children:[1,2,3].map((e=>(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[(0,gi.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,gi.jsx)("div",{className:"h-40 bg-gray-200 rounded"})]},e)))});const{stats:p,breakdown:h}=n;return(0,gi.jsxs)("div",{className:"space-y-8",children:[(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-xl shadow-sm p-6 border border-blue-100",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,gi.jsx)("img",{src:"/english-fiesta-logo.png",alt:"English Fiesta",className:"w-8 h-8"}),(0,gi.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Learning Overview"})]}),(0,gi.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[(0,gi.jsx)("div",{className:"text-2xl mb-2",children:"\u23f1\ufe0f"}),(0,gi.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[h.total_hours,"h"]}),(0,gi.jsx)("div",{className:"text-sm text-blue-800",children:"Total Hours"})]}),(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[(0,gi.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd25"}),(0,gi.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.current_streak}),(0,gi.jsx)("div",{className:"text-sm text-green-800",children:"Day Streak"})]}),(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[(0,gi.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfc6"}),(0,gi.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.floor(p.personal_best_day/60),"h ",p.personal_best_day%60,"m"]}),(0,gi.jsx)("div",{className:"text-sm text-purple-800",children:"Personal Best"})]}),(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4",children:[(0,gi.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfa5"}),(0,gi.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:n.total_videos_watched}),(0,gi.jsx)("div",{className:"text-sm text-orange-800",children:"Videos Watched"})]})]})]}),(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-sm p-6 border border-blue-100",children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("img",{src:"/english-fiesta-logo.png",alt:"English Fiesta",className:"w-8 h-8"}),(0,gi.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Learning Activity"})]}),(0,gi.jsx)("div",{className:"flex bg-white/70 backdrop-blur rounded-lg p-1 shadow-sm",children:[{key:"week",label:"7 Days"},{key:"month",label:"30 Days"},{key:"all",label:"90 Days"}].map((e=>{let{key:t,label:n}=e;return(0,gi.jsx)("button",{onClick:()=>l(t),className:"px-3 py-1 rounded-md text-sm font-medium transition-all ".concat(a===t?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:n},t)}))})]}),(0,gi.jsx)("div",{className:"h-80 flex items-end justify-between gap-2 bg-white/60 backdrop-blur rounded-lg p-6 shadow-inner",children:0===u.length?(0,gi.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[(0,gi.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,gi.jsxs)("p",{className:"text-sm text-center",children:["No activity data yet.",(0,gi.jsx)("br",{}),"Start watching videos to see your progress!"]})]}):u.map(((e,t)=>{const n=e.minutes>0?Math.max(e.minutes/d*100,8):3;return(0,gi.jsxs)("div",{className:"flex flex-col items-center flex-1 min-w-[16px] max-w-[32px]",children:[(0,gi.jsxs)("div",{className:"rounded-t w-full mb-2 hover:shadow-lg transition-all cursor-pointer relative group ".concat(e.minutes>0?"bg-gradient-to-t from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600":"bg-gray-200 hover:bg-gray-300"),style:{height:"".concat(n,"%"),minHeight:"4px"},title:"".concat(e.dateLabel,": ").concat(e.minutes,"min"),children:[(0,gi.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10",children:[e.dateLabel,": ",e.minutes,"min"]}),e.minutes>0&&(0,gi.jsxs)("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs font-bold text-gray-700 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.minutes,"m"]})]}),(0,gi.jsx)("div",{className:"text-xs text-gray-600 text-center leading-tight",children:"week"===a?e.dateLabel.split(" ")[1]:e.dateLabel.split(" ")[0].slice(0,3)})]},e.date)}))}),(0,gi.jsx)("div",{className:"mt-4 text-center text-sm text-gray-600",children:(0,gi.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,gi.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded"}),(0,gi.jsx)("span",{children:"Daily minutes watched \u2022 Hover for details"})]})})]}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-xl shadow-sm p-6 border border-green-100",children:[(0,gi.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Learning Sources"}),(0,gi.jsxs)("div",{className:"space-y-4",children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,gi.jsx)("span",{className:"text-gray-700",children:"English Fiesta videos"})]}),(0,gi.jsxs)("span",{className:"font-semibold text-blue-600",children:[h.platform_hours,"h"]})]}),(0,gi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,gi.jsx)("span",{className:"text-gray-700",children:"Outside Videos"})]}),(0,gi.jsxs)("span",{className:"font-semibold text-green-600",children:[h.manual_hours,"h"]})]}),(0,gi.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-4",children:(0,gi.jsxs)("div",{className:"flex h-full rounded-full overflow-hidden",children:[(0,gi.jsx)("div",{className:"bg-blue-500",style:{width:"".concat(h.platform_hours/h.total_hours*100,"%")}}),(0,gi.jsx)("div",{className:"bg-green-500",style:{width:"".concat(h.manual_hours/h.total_hours*100,"%")}})]})})]})]}),(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,gi.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Progress by Level"}),Object.keys(p.level_progress).length>0?(0,gi.jsx)("div",{className:"space-y-3",children:Object.entries(p.level_progress).map((e=>{let[t,n]=e;const r=Math.floor(n/60),i=n%60,o=n/p.total_minutes_watched*100;return(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,gi.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t}),(0,gi.jsxs)("span",{className:"text-sm text-gray-600",children:[r,"h ",i,"m"]})]}),(0,gi.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,gi.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(o,"%")}})})]},t)}))}):(0,gi.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,gi.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcca"}),(0,gi.jsx)("p",{children:"Start watching videos to see level progress"})]})]})]}),p.milestones_achieved.length>0&&(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-sm p-6 border border-yellow-100",children:[(0,gi.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent mb-4",children:"\ud83c\udfc6 Achievements"}),(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.milestones_achieved.map(((e,t)=>(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4 text-center",children:[(0,gi.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf89"}),(0,gi.jsx)("div",{className:"font-semibold text-yellow-800",children:e})]},t)))})]}),(0,gi.jsx)($E,{}),Object.keys(p.manual_activity_breakdown||{}).some((e=>p.manual_activity_breakdown[e]>0))&&(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-sm p-6 border border-purple-100",children:[(0,gi.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Outside Learning Videos"}),(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(p.manual_activity_breakdown||{}).map((e=>{let[t,n]=e;return n>0&&(0,gi.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,gi.jsxs)("div",{className:"text-2xl mb-2",children:["Movies/TV Shows"===t&&"\ud83c\udfac","Audiobooks/Podcasts"===t&&"\ud83c\udfa7","Talking with friends"===t&&"\ud83d\udcac"]}),(0,gi.jsx)("div",{className:"font-semibold text-green-800",children:t}),(0,gi.jsxs)("div",{className:"text-green-600",children:[Math.floor(n/60),"h ",n%60,"m"]})]},t)}))})]})]})},KE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),YE=e=>{let{isOpen:n,onClose:r,currentGoal:i,onGoalUpdated:o}=e;const{sessionToken:s}=yh(),[a,l]=(0,t.useState)(i||30),[c,u]=(0,t.useState)(""),[d,p]=(0,t.useState)("preset"),[h,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n&&i&&([15,30,60].includes(i)?(p("preset"),l(i)):(p("custom"),u(i.toString()),l(i)))}),[n,i]);return n?(0,gi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,gi.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[(0,gi.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,gi.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Set Daily Goal"}),(0,gi.jsx)("p",{className:"text-gray-600 text-sm",children:"How many minutes do you want to watch each day?"})]}),(0,gi.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,gi.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,gi.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=a;if("custom"===d){const e=parseInt(c);if(isNaN(e)||e<1||e>480)return void alert("Please enter a valid goal between 1 and 480 minutes.");t=e}if(t!==i){f(!0);try{const e={Authorization:"Bearer ".concat(s)};await mh.post("".concat(KE,"/user/daily-goal"),{daily_minutes_goal:t},{headers:e}),o&&o(),r()}catch(u){var n,l;console.error("Error updating daily goal:",u),alert((null===(n=u.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.detail)||"Failed to update daily goal. Please try again.")}finally{f(!1)}}else r()},className:"p-6 space-y-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose a preset goal:"}),(0,gi.jsx)("div",{className:"space-y-2",children:[{value:15,label:"Casual",description:"15 min/day"},{value:30,label:"Learner",description:"30 min/day"},{value:60,label:"Serious",description:"60 min/day"}].map((e=>(0,gi.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,gi.jsx)("input",{type:"radio",name:"goalType",checked:"preset"===d&&a===e.value,onChange:()=>{return t=e.value,p("preset"),l(t),void u("");var t},className:"text-purple-600 focus:ring-purple-500"}),(0,gi.jsx)("div",{className:"ml-3 flex-1",children:(0,gi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gi.jsx)("span",{className:"font-medium text-gray-800",children:e.label}),(0,gi.jsx)("span",{className:"text-purple-600 font-semibold",children:e.description})]})})]},e.value)))})]}),(0,gi.jsxs)("div",{children:[(0,gi.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,gi.jsx)("input",{type:"radio",name:"goalType",checked:"custom"===d,onChange:()=>{p("custom"),u(a.toString())},className:"text-purple-600 focus:ring-purple-500"}),(0,gi.jsx)("div",{className:"ml-3 flex-1",children:(0,gi.jsx)("span",{className:"font-medium text-gray-800",children:"Custom Goal"})})]}),"custom"===d&&(0,gi.jsxs)("div",{className:"mt-3 ml-6",children:[(0,gi.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,gi.jsx)("input",{type:"number",value:c,onChange:e=>{const t=e.target.value;u(t);const n=parseInt(t);!isNaN(n)&&n>0&&l(n)},min:"1",max:"480",placeholder:"Enter minutes",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:"custom"===d}),(0,gi.jsx)("span",{className:"text-gray-600 text-sm",children:"minutes/day"})]}),(0,gi.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Between 1 and 480 minutes (8 hours)"})]})]}),(0,gi.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,gi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gi.jsx)("span",{className:"text-purple-800 font-medium",children:"Your new daily goal:"}),(0,gi.jsxs)("span",{className:"text-purple-600 font-bold text-lg",children:["custom"===d&&c?parseInt(c)||0:a," minutes"]})]})}),(0,gi.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,gi.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:h,children:"Cancel"}),(0,gi.jsx)("button",{type:"submit",disabled:h||"custom"===d&&(!c||parseInt(c)<1||parseInt(c)>480),className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Saving...":"Save Goal"})]})]})]})}):null},JE="".concat("https://d0e11393-9c18-4c5e-b345-9dfcfbf52903.preview.emergentagent.com","/api"),GE=()=>{const{isAuthenticated:e,isStudent:n,sessionToken:r}=yh(),[i,o]=(0,t.useState)(null),[s,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e&&n?u():a(!1)}),[e,n]);const u=async()=>{try{const e={Authorization:"Bearer ".concat(r)},t=await mh.get("".concat(JE,"/user/daily-goal"),{headers:e});o(t.data)}catch(e){console.error("Error fetching daily goal data:",e)}finally{a(!1)}};if(!e||!n)return null;if(s)return(0,gi.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 px-4",children:(0,gi.jsx)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:(0,gi.jsx)("div",{className:"flex items-center space-x-4",children:(0,gi.jsx)("div",{className:"animate-pulse bg-white bg-opacity-30 h-4 w-32 rounded"})})})});if(!i)return null;const d=Math.min(i.progress_percentage,100),p=i.goal_completed;return(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white py-3 px-4 shadow-sm",children:[(0,gi.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,gi.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,gi.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,gi.jsx)("span",{className:"text-sm font-medium",children:"Daily Goal:"}),(0,gi.jsxs)("span",{className:"text-lg font-bold",children:[i.minutes_watched_today," / ",i.daily_goal," min"]}),p&&(0,gi.jsx)("span",{className:"text-yellow-300 ml-2",children:"\ud83c\udf89"})]}),(0,gi.jsx)("div",{className:"flex-1 max-w-md",children:(0,gi.jsx)("div",{className:"bg-white bg-opacity-30 rounded-full h-3 overflow-hidden",children:(0,gi.jsx)("div",{className:"h-full transition-all duration-500 ".concat(p?"bg-yellow-400":"bg-white"),style:{width:"".concat(d,"%")}})})}),i.streak_days>0&&(0,gi.jsxs)("div",{className:"hidden sm:flex items-center space-x-1 bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[(0,gi.jsx)("span",{className:"text-yellow-300",children:"\ud83d\udd25"}),(0,gi.jsxs)("span",{className:"text-sm font-medium",children:[i.streak_days," day",1!==i.streak_days?"s":""]})]})]}),(0,gi.jsx)("button",{onClick:()=>c(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-2 transition-colors ml-4",title:"Edit daily goal",children:(0,gi.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,gi.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})})]}),i.streak_days>0&&(0,gi.jsx)("div",{className:"sm:hidden flex justify-center mt-2",children:(0,gi.jsxs)("div",{className:"flex items-center space-x-1 bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[(0,gi.jsx)("span",{className:"text-yellow-300",children:"\ud83d\udd25"}),(0,gi.jsxs)("span",{className:"text-sm font-medium",children:[i.streak_days," day",1!==i.streak_days?"s":""," streak"]})]})})]}),(0,gi.jsx)(YE,{isOpen:l,onClose:()=>c(!1),currentGoal:i.daily_goal,onGoalUpdated:()=>{u()}})]})},QE=()=>{var e;const{isAuthenticated:n,user:r}=yh(),[i,o]=(0,t.useState)("watch"),s=[{id:"watch",label:"\ud83c\udfa5 Watch",icon:"\ud83c\udfa5",component:IE},{id:"series",label:"\ud83d\udcda Series",icon:"\ud83d\udcda",component:VE},{id:"mylist",label:"\ud83d\udcbe My List",icon:"\ud83d\udcbe",component:UE,authRequired:!0},...n?[{id:"progress",label:"\ud83d\udcca Progress",icon:"\ud83d\udcca",component:qE,authRequired:!0}]:[]],a=(null===(e=s.find((e=>e.id===i)))||void 0===e?void 0:e.component)||IE;return(0,gi.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,gi.jsx)(GE,{}),(0,gi.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,gi.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"English Fiesta Videos"}),(0,gi.jsx)("p",{className:"text-gray-600 mt-2",children:"Learn English naturally through comprehensible input"})]}),(0,gi.jsx)("div",{className:"text-right",children:n?(0,gi.jsxs)("div",{className:"text-sm",children:[(0,gi.jsxs)("div",{className:"font-semibold text-gray-800",children:["Welcome back, ",r.name,"!"]}),(0,gi.jsxs)("div",{className:"text-gray-500",children:["admin"===r.role&&"\ud83d\udc51 ","instructor"===r.role&&"\ud83c\udf93 ","student"===r.role&&"\ud83d\udcda ",r.role," \u2022 Tracking enabled"]})]}):(0,gi.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[(0,gi.jsx)("div",{className:"font-semibold text-blue-800 mb-1",children:"\ud83d\udd10 Not logged in"}),(0,gi.jsx)("div",{className:"text-blue-600",children:"Log in to track your progress!"})]})})]}),(0,gi.jsx)("div",{className:"border-b border-gray-200",children:(0,gi.jsx)("nav",{className:"-mb-px flex space-x-1 md:space-x-8 overflow-x-auto",children:s.map((e=>(0,gi.jsxs)("button",{onClick:()=>o(e.id),className:"whitespace-nowrap py-3 px-1 md:px-3 border-b-2 font-medium text-sm transition-colors ".concat(i===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,gi.jsxs)("span",{className:"hidden md:inline",children:[e.icon," "]}),e.label]},e.id)))})})]})}),!n&&(0,gi.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:(0,gi.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,gi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gi.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gi.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,gi.jsxs)("div",{children:[(0,gi.jsx)("h3",{className:"font-bold text-lg",children:"Track Your Learning Progress!"}),(0,gi.jsx)("p",{className:"text-sm opacity-90",children:"Create an account to track hours, save videos to My List, and unlock the Progress tab"})]})]}),(0,gi.jsx)("a",{href:"/",className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-sm",children:"Sign Up / Login"})]})})}),(0,gi.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,gi.jsx)(a,{})})]})},XE=()=>{const{i18n:e}=Du(),{content:t,loading:n,getContentForLanguage:r}=Eh("about_page"),i={journey:{title:"Greg's Personal Language Learning Journey",paragraphs:["Greg's journey with language learning started like many others \u2014 full of effort, repetition, and frustration. He spent years memorizing vocabulary, drilling grammar rules, and trying to piece together conversations from textbooks and apps. Despite all that effort, real communication always felt just out of reach.","That changed when he discovered the method of Comprehensible Input.","For the first time, language began to feel alive. Through real messages, authentic conversations, and content he could actually understand, English and other languages opened up in a way they never had before. He wasn't just learning words \u2014 he was learning culture, building connection, and truly experiencing the language.","This transformation sparked a mission: to build a space where learners all over the world could experience that same breakthrough. That space became English Fiesta \u2014 a platform designed to help people learn naturally, joyfully, and meaningfully."]},mission:{title:"Our Mission",content:"English Fiesta is here to help you learn English the way your brain was designed to learn \u2014 through real, meaningful input. No memorization. No pressure. Just natural understanding."}},o=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";if(n||null===t||void 0===t||!t.items)return null;const o=t.items.find((t=>t.section_key===e));return o?r(o,i):null},s=o("journey_title","title")||i.journey.title,a=o("journey_content"),l=o("mission_title","title")||i.mission.title,c=o("mission_content")||i.mission.content;return(0,gi.jsx)("div",{className:"bg-white py-16",children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,gi.jsxs)("div",{className:"mb-16",children:[(0,gi.jsx)("h2",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:s}),(0,gi.jsx)("div",{className:"prose prose-lg max-w-none",children:a?(0,gi.jsx)("div",{dangerouslySetInnerHTML:{__html:a}}):i.journey.paragraphs.map(((e,t)=>(0,gi.jsx)("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:e.includes("Comprehensible Input")?(0,gi.jsxs)(gi.Fragment,{children:[e.split("Comprehensible Input")[0],(0,gi.jsx)("strong",{children:"Comprehensible Input"}),e.split("Comprehensible Input")[1]]}):e.includes("culture")&&e.includes("connection")?(0,gi.jsxs)(gi.Fragment,{children:[e.split("culture")[0],(0,gi.jsx)("strong",{children:"culture"}),e.split("culture")[1].split("connection")[0],(0,gi.jsx)("strong",{children:"connection"}),e.split("connection")[1]]}):e.includes("English Fiesta")?(0,gi.jsxs)(gi.Fragment,{children:[e.split("English Fiesta")[0],(0,gi.jsx)("strong",{children:"English Fiesta"}),e.split("English Fiesta")[1]]}):e},t)))})]}),(0,gi.jsxs)("div",{className:"mb-16 bg-blue-50 rounded-2xl p-8",children:[(0,gi.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:l}),(0,gi.jsx)("div",{className:"text-xl text-gray-700 text-center leading-relaxed",children:c?(0,gi.jsx)("div",{dangerouslySetInnerHTML:{__html:c}}):(0,gi.jsx)("p",{children:i.mission.content.includes("natural understanding")?(0,gi.jsxs)(gi.Fragment,{children:[i.mission.content.split("natural understanding")[0],(0,gi.jsx)("strong",{children:"natural understanding"}),i.mission.content.split("natural understanding")[1]]}):i.mission.content})})]}),(0,gi.jsxs)("div",{className:"mb-16",children:[(0,gi.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"How It Works"}),(0,gi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{icon:"\ud83c\udfa5",text:"Watch real, comprehensible videos"},{icon:"\u23f1",text:"Track your time"},{icon:"\ud83e\udde0",text:"Learn naturally"},{icon:"\ud83d\udde3",text:"Hear real accents"},{icon:"\ud83d\udcac",text:"Join the experience"}].map(((e,t)=>(0,gi.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-6",children:[(0,gi.jsx)("div",{className:"text-3xl mb-3",children:e.icon}),(0,gi.jsx)("h4",{className:"font-semibold mb-2",children:e.text})]},t)))})]}),(0,gi.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white text-center",children:[(0,gi.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Our Vision"}),(0,gi.jsxs)("p",{className:"text-lg leading-relaxed mb-6",children:["We believe language learning should be ",(0,gi.jsx)("strong",{children:"joyful"}),", ",(0,gi.jsx)("strong",{children:"personal"}),", and ",(0,gi.jsx)("strong",{children:"real"}),"."]}),(0,gi.jsx)("p",{className:"text-lg leading-relaxed mb-6",children:"English Fiesta isn't just a tool \u2014 it's a movement to make English learning accessible and empowering for people everywhere, no matter their background or starting level."}),(0,gi.jsx)("p",{className:"text-lg leading-relaxed",children:"Join us \u2014 and start learning in a way that finally works."})]}),n&&(0,gi.jsx)("div",{className:"text-center mt-8 text-gray-500",children:"Loading content..."})]})})},ZE=e=>{let{question:t,answer:n,isOpen:r,onToggle:i}=e;return(0,gi.jsxs)("div",{className:"border border-gray-200 rounded-lg mb-4",children:[(0,gi.jsx)("button",{onClick:i,className:"w-full text-left p-6 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-gray-50 transition-colors",children:(0,gi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gi.jsx)("h3",{className:"text-lg font-semibold text-gray-800 pr-4",children:t}),(0,gi.jsx)("span",{className:"text-2xl transform transition-transform ".concat(r?"rotate-180":""),children:"\u25bc"})]})}),r&&(0,gi.jsx)("div",{className:"px-6 pb-6",children:(0,gi.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:n})})]})},eA=()=>{const{i18n:e,t:n}=Du(),[r,i]=(0,t.useState)(null),{content:o,loading:s,getContentForLanguage:a}=Eh("faq_page"),l=[{section:"English Fiesta Basics",items:[{question:"What is English Fiesta?",answer:"English Fiesta is a language-learning platform that helps you acquire English naturally through engaging videos and conversations, rather than traditional grammar drills or memorization."},{question:"How does English Fiesta work?",answer:"We use a method called Comprehensible Input, where learners watch videos they can mostly understand, even as beginners. Over time, you absorb grammar, vocabulary, and pronunciation by exposure \u2014 not by force."},{question:"Can I actually learn English with Comprehensible Input?",answer:"Yes \u2014 and research supports it. When you understand what you hear or read in a language, your brain naturally picks it up the way children do. It's a slower beginning, but results in deeper fluency and confidence over time \u2014 without needing to study flashcards or grammar rules directly."}]},{section:"Comprehensible Input",items:[{question:"What is input?",answer:"Input is any language you hear or read. When you listen to someone speak or read a book, you're receiving input. Input is the fuel your brain uses to acquire language."},{question:"What is Comprehensible Input?",answer:"Comprehensible Input is language you can mostly understand \u2014 even if you don't know every word. It's simple, clear communication that's just slightly above your level. This kind of input helps your brain naturally absorb vocabulary, grammar, and pronunciation over time."}]}],c=(()=>{if(s||null===o||void 0===o||!o.items)return l;const e=o.items.filter((e=>e.section_key.startsWith("faq_section_")));return 0===e.length?l:e.map((e=>{const t=a(e),n=a(e,"title");try{const e=JSON.parse(t||"[]");return{section:n||"FAQ Section",items:Array.isArray(e)?e:[]}}catch(iA){return console.warn("Failed to parse FAQ section content:",iA),{section:n||"FAQ Section",items:[]}}})).filter((e=>e.items.length>0))})();let u=0;return(0,gi.jsx)("div",{className:"bg-gray-50 py-16",children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,gi.jsxs)("div",{className:"text-center mb-12",children:[(0,gi.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:n("faq")}),(0,gi.jsx)("p",{className:"text-lg text-gray-600",children:"Everything you need to know about English Fiesta and Comprehensible Input"})]}),c.map(((e,t)=>(0,gi.jsxs)("div",{className:"mb-12",children:[(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center bg-blue-100 py-3 rounded-lg",children:e.section}),(0,gi.jsx)("div",{className:"space-y-4",children:e.items.map((e=>{const t=u++;return(0,gi.jsx)(ZE,{question:e.question,answer:e.answer,isOpen:r===t,onToggle:()=>{var e;i(r===(e=t)?null:e)}},t)}))})]},t))),(0,gi.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white text-center mt-16",children:[(0,gi.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Still have questions?"}),(0,gi.jsx)("p",{className:"text-lg mb-6",children:"We're here to help you on your English learning journey"}),(0,gi.jsx)("a",{href:"mailto:support@englishfiesta.com",className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block",children:n("contact_us")})]}),s&&(0,gi.jsx)("div",{className:"text-center mt-8 text-gray-500",children:"Loading FAQ content..."})]})})},tA=()=>(0,gi.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-fiesta-yellow via-white to-fiesta-orange py-16",children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,gi.jsxs)(Sc.div,{className:"text-center mb-12",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[(0,gi.jsx)(Sc.h1,{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-fiesta-pink via-fiesta-purple to-fiesta-blue bg-clip-text text-transparent font-baloo",whileHover:{scale:1.05},transition:{type:"spring",stiffness:200},children:"\ud83e\udd1d Join the English Fiesta Team"}),(0,gi.jsxs)("div",{className:"relative",children:[(0,gi.jsx)(Sc.div,{className:"absolute -top-10 -left-10 text-4xl opacity-60",animate:{y:[0,-10,0],rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf89"}),(0,gi.jsx)(Sc.div,{className:"absolute -top-8 -right-8 text-3xl opacity-60",animate:{y:[0,15,0],rotate:[0,-15,15,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:"\u2728"})]})]}),(0,gi.jsxs)(Sc.div,{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 border-4 border-fiesta-yellow relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.2},children:[(0,gi.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-fiesta-pink to-fiesta-purple opacity-10 rounded-full transform translate-x-8 -translate-y-8"}),(0,gi.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-fiesta-blue to-fiesta-green opacity-10 rounded-full transform -translate-x-6 translate-y-6"}),(0,gi.jsxs)(Sc.div,{className:"relative z-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:[(0,gi.jsxs)(Sc.p,{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8 font-poppins",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.5},children:["We're looking for creative, passionate collaborators who believe in ",(0,gi.jsx)("span",{className:"font-bold text-fiesta-purple",children:"Comprehensible Input"})," and our mission to make language learning joyful and accessible."]}),(0,gi.jsxs)(Sc.p,{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-12 font-poppins",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.6},children:["Whether you're an ",(0,gi.jsx)("span",{className:"font-bold text-fiesta-green",children:"instructor"}),", ",(0,gi.jsx)("span",{className:"font-bold text-fiesta-blue",children:"designer"}),", ",(0,gi.jsx)("span",{className:"font-bold text-fiesta-purple",children:"developer"}),", ",(0,gi.jsx)("span",{className:"font-bold text-fiesta-pink",children:"translator"}),", or ",(0,gi.jsx)("span",{className:"font-bold text-fiesta-orange",children:"supporter"}),"\u2014we'd love to hear from you!"]}),(0,gi.jsx)(Sc.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-6 mb-12",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.7},children:[{emoji:"\ud83c\udf93",role:"Instructor",color:"from-fiesta-green to-green-400"},{emoji:"\ud83c\udfa8",role:"Designer",color:"from-fiesta-blue to-blue-400"},{emoji:"\ud83d\udcbb",role:"Developer",color:"from-fiesta-purple to-purple-400"},{emoji:"\ud83c\udf0d",role:"Translator",color:"from-fiesta-pink to-pink-400"},{emoji:"\ud83e\udd1d",role:"Supporter",color:"from-fiesta-orange to-orange-400"}].map(((e,t)=>(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-br ".concat(e.color," rounded-xl p-4 text-center text-white shadow-lg"),whileHover:{scale:1.1,rotate:[0,-5,5,0],boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:200},children:[(0,gi.jsx)("div",{className:"text-3xl mb-2",children:e.emoji}),(0,gi.jsx)("div",{className:"font-semibold text-sm font-poppins",children:e.role})]},t)))}),(0,gi.jsxs)(Sc.div,{className:"text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},children:[(0,gi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 font-baloo",children:"Ready to Join the Fiesta?"}),(0,gi.jsxs)(Sc.a,{href:"mailto:englishfiestateam@gmail.com",className:"inline-flex items-center bg-gradient-to-r from-fiesta-pink to-fiesta-purple text-white px-8 py-4 rounded-full font-bold text-lg shadow-2xl transition-all duration-300",whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(236, 72, 153, 0.4)"},whileTap:{scale:.95},children:[(0,gi.jsx)("span",{className:"mr-3 text-2xl",children:"\ud83d\udce7"}),(0,gi.jsx)("span",{className:"font-poppins",children:"englishfiestateam@gmail.com"})]}),(0,gi.jsx)(Sc.p,{className:"text-gray-600 mt-6 font-poppins",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},children:"Tell us about yourself and how you'd like to contribute to the English Fiesta community!"})]})]})]}),(0,gi.jsx)(Sc.div,{className:"flex justify-center mt-12 space-x-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:1.2},children:["\ud83c\udf89","\ud83c\udf1f","\ud83d\udcab","\ud83c\udf8a","\u2728"].map(((e,t)=>(0,gi.jsx)(Sc.div,{className:"text-4xl",animate:{y:[0,-20,0],rotate:[0,360]},transition:{duration:3+.5*t,repeat:1/0,ease:"easeInOut",delay:.2*t},children:e},t)))})]})}),nA=()=>(0,gi.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-fiesta-blue via-white to-fiesta-purple py-16",children:(0,gi.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,gi.jsxs)(Sc.div,{className:"text-center mb-16",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[(0,gi.jsxs)(Sc.div,{className:"flex items-center justify-center gap-4 mb-6",whileHover:{scale:1.05},transition:{type:"spring",stiffness:200},children:[(0,gi.jsx)(Sc.img,{src:"/english-fiesta-logo-hq.png",alt:"English Fiesta Logo",className:"w-16 h-16 md:w-20 md:h-20",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),(0,gi.jsx)("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-fiesta-pink via-fiesta-purple to-fiesta-blue bg-clip-text text-transparent font-baloo",children:"Join a Class"})]}),(0,gi.jsx)(Sc.p,{className:"text-xl md:text-2xl text-gray-700 font-poppins max-w-3xl mx-auto",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:"with an English Fiesta Instructor"}),(0,gi.jsxs)("div",{className:"relative",children:[(0,gi.jsx)(Sc.div,{className:"absolute -top-10 -left-20 text-4xl opacity-60",animate:{y:[0,-15,0],rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:"\ud83c\udf93"}),(0,gi.jsx)(Sc.div,{className:"absolute -top-8 -right-16 text-3xl opacity-60",animate:{y:[0,20,0],rotate:[0,-15,15,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:"\ud83d\udcac"})]})]}),(0,gi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-yellow via-yellow-200 to-yellow-300 rounded-2xl shadow-2xl p-8 border-4 border-yellow-400 relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.3},whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(250, 204, 21, 0.4)"},children:[(0,gi.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white opacity-20 rounded-full transform translate-x-8 -translate-y-8"}),(0,gi.jsx)(Sc.div,{className:"text-6xl mb-6 text-center",whileHover:{scale:1.2,rotate:[0,-10,10,0]},transition:{duration:.3},children:"\ud83e\udde0"}),(0,gi.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center font-baloo",children:"Crosstalk"}),(0,gi.jsx)("p",{className:"text-sm text-gray-700 mb-2 text-center font-poppins font-semibold",children:"(Spanish Speakers Only)"}),(0,gi.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6 font-poppins text-center",children:"You speak Spanish, instructor speaks English. Focused on listening and understanding \u2014 no pressure to speak."}),(0,gi.jsx)(Sc.a,{href:"#crosstalk",className:"block w-full bg-gradient-to-r from-fiesta-orange to-orange-500 text-white py-4 px-6 rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300 font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83c\udfaf Join a Class"})]}),(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-blue via-blue-200 to-blue-300 rounded-2xl shadow-2xl p-8 border-4 border-blue-400 relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.5},whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(56, 189, 248, 0.4)"},children:[(0,gi.jsx)("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white opacity-20 rounded-full transform -translate-x-6 translate-y-6"}),(0,gi.jsx)(Sc.div,{className:"text-6xl mb-6 text-center",whileHover:{scale:1.2,rotate:[0,15,-15,0]},transition:{duration:.3},children:"\ud83d\udde3\ufe0f"}),(0,gi.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center font-baloo",children:"English Conversation"}),(0,gi.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6 font-poppins text-center",children:"Fully in English. Practice fluency, vocabulary, and pronunciation."}),(0,gi.jsx)(Sc.a,{href:"#conversation",className:"block w-full bg-gradient-to-r from-fiesta-green to-green-500 text-white py-4 px-6 rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300 font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83c\udfaf Join a Class"})]}),(0,gi.jsxs)(Sc.div,{className:"bg-gradient-to-br from-fiesta-purple via-purple-200 to-purple-300 rounded-2xl shadow-2xl p-8 border-4 border-purple-400 relative overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.7},whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(168, 85, 247, 0.4)"},children:[(0,gi.jsx)("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full transform -translate-x-10 -translate-y-10"}),(0,gi.jsx)(Sc.div,{className:"text-6xl mb-6 text-center",whileHover:{scale:1.2,rotate:[0,-15,15,0]},transition:{duration:.3},children:"\ud83c\udfac"}),(0,gi.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center font-baloo",children:"1-on-1 Comprehensible Input"}),(0,gi.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6 font-poppins text-center",children:"Like English Fiesta videos \u2014 slow, level-matched English with visuals."}),(0,gi.jsx)(Sc.a,{href:"#ci",className:"block w-full bg-gradient-to-r from-fiesta-pink to-pink-500 text-white py-4 px-6 rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300 font-poppins",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83c\udfaf Join a Class"})]})]}),(0,gi.jsx)(Sc.div,{className:"max-w-md mx-auto",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.9},children:(0,gi.jsxs)("div",{className:"bg-gradient-to-br from-gray-300 to-gray-400 rounded-2xl shadow-xl p-8 border-4 border-gray-500 relative overflow-hidden opacity-75",children:[(0,gi.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-10"}),(0,gi.jsx)(Sc.div,{className:"text-6xl mb-6 text-center opacity-60",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"\ud83d\udd12"}),(0,gi.jsx)("h3",{className:"text-2xl font-bold text-gray-700 mb-2 text-center font-baloo",children:"Group Classes"}),(0,gi.jsx)(Sc.div,{className:"bg-fiesta-orange text-white px-4 py-2 rounded-full text-sm font-bold text-center mb-4 font-poppins",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Coming Soon!"}),(0,gi.jsx)("p",{className:"text-gray-600 leading-relaxed text-center font-poppins",children:"Interactive group learning experiences with fellow English learners."})]})}),(0,gi.jsx)(Sc.div,{className:"flex justify-center mt-16 space-x-8",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:1.2},children:["\ud83c\udf93","\ud83d\udcac","\ud83c\udf1f","\ud83c\udfaf","\u2728"].map(((e,t)=>(0,gi.jsx)(Sc.div,{className:"text-5xl opacity-60",animate:{y:[0,-30,0],rotate:[0,360]},transition:{duration:4+.5*t,repeat:1/0,ease:"easeInOut",delay:.3*t},children:e},t)))})]})}),rA=()=>(0,gi.jsx)(xh,{children:(0,gi.jsx)(ut,{children:(0,gi.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col font-poppins",children:[(0,gi.jsx)(Dh,{}),(0,gi.jsx)(Sc.main,{className:"flex-1",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,gi.jsxs)(Ae,{children:[(0,gi.jsx)(De,{path:"/",element:(0,gi.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,gi.jsx)(NE,{})})}),(0,gi.jsx)(De,{path:"/watch",element:(0,gi.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,gi.jsx)(QE,{})})}),(0,gi.jsx)(De,{path:"/about",element:(0,gi.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,gi.jsx)(XE,{})})}),(0,gi.jsx)(De,{path:"/faq",element:(0,gi.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,gi.jsx)(eA,{})})}),(0,gi.jsx)(De,{path:"/join",element:(0,gi.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,gi.jsx)(tA,{})})}),(0,gi.jsx)(De,{path:"/book",element:(0,gi.jsx)(Sc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:(0,gi.jsx)(nA,{})})})]})}),(0,gi.jsx)(Oh,{}),(0,gi.jsx)(Mh,{})]})})});r.createRoot(document.getElementById("root")).render((0,gi.jsx)(t.StrictMode,{children:(0,gi.jsx)(rA,{})}))})()})();
//# sourceMappingURL=main.87bf3162.js.map